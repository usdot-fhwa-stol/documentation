<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Messenger will be a scaled down version of CARMA Platform for a non-automated vehicle to participate in Cooperative Driving Automation (CDA).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">README </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">CicleCI Build Status   </th><th class="markdownTableHeadNone">Sonar Code Quality    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://circleci.com/gh/usdot-fhwa-stol/carma-messenger"><img src="https://circleci.com/gh/usdot-fhwa-stol/carma-messenger.svg?style=svg" alt="CircleCI" style="pointer-events: none;" class="inline"/></a>   </td><td class="markdownTableBodyNone"><a href="https://sonarcloud.io/dashboard?id=usdot-fhwa-stol_carma-messenger"><img src="https://sonarcloud.io/api/project_badges/measure?project=usdot-fhwa-stol_carma-messenger&amp;metric=alert_status" alt="Quality Gate Status" class="inline"/></a>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md32"></a>
DockerHub Release Builds</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Carma Messenger UI   </th><th class="markdownTableHeadNone">Carma Messenger Config   </th><th class="markdownTableHeadNone">Carma Messenger Core    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastol/carma-messenger-ui"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastol/carma-messenger-ui?label=Carma%20messenger%20UI" alt="Docker Cloud Build Status" class="inline"/></a>   </td><td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastol/carma-messenger-config"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastol/carma-messenger-config?label=Carma%20messenger%20Config" alt="Docker Cloud Build Status" class="inline"/></a>   </td><td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastol/carma-messenger-core"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastol/carma-messenger-core?label=Carma%20messenger%20Core" alt="Docker Cloud Build Status" class="inline"/></a>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md33"></a>
DockerHub Release Candidate Builds</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Carma Messenger UI   </th><th class="markdownTableHeadNone">Carma Messenger Config   </th><th class="markdownTableHeadNone">Carma Messenger Core    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastolcandidate/carma-messenger-ui"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastolcandidate/carma-messenger-ui?label=Carma%20messenger%20UI" alt="Docker Cloud Build Status" class="inline"/></a>   </td><td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastolcandidate/carma-messenger-config"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastolcandidate/carma-messenger-config?label=Carma%20messenger%20Config" alt="Docker Cloud Build Status" class="inline"/></a>   </td><td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastolcandidate/carma-messenger-core"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastolcandidate/carma-messenger-core?label=Carma%20messenger%20Core" alt="Docker Cloud Build Status" class="inline"/></a>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md34"></a>
DockerHub Develop Builds</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Carma Messenger UI   </th><th class="markdownTableHeadNone">Carma Messenger Config   </th><th class="markdownTableHeadNone">Carma Messenger Core    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastoldev/carma-messenger-ui"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastoldev/carma-messenger-ui?label=Carma%20messenger%20UI" alt="Docker Cloud Build Status" class="inline"/></a>   </td><td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastoldev/carma-messenger-config"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastoldev/carma-messenger-config?label=Carma%20messenger%20Config" alt="Docker Cloud Build Status" class="inline"/></a>   </td><td class="markdownTableBodyNone"><a href="https://hub.docker.com/repository/docker/usdotfhwastoldev/carma-messenger-core"><img src="https://img.shields.io/docker/cloud/build/usdotfhwastoldev/carma-messenger-core?label=Carma%20messenger%20Core" alt="Docker Cloud Build Status" class="inline"/></a>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md35"></a>
carma-messenger</h1>
<p >CARMA Messenger is a standalone research platform which is aimed to deploy on non-automated entities who participate in the transportation system, including first responders, transit vehicles, law enforcement vehicles, and pedestrians. It helps other vehicles or travelers communicate with CARMA Platform vehicles, sharing information and performing cooperative operations to improve transportation efficiency and safety.</p>
<h2><a class="anchor" id="autotoc_md36"></a>
Architecture</h2>
<p >The core components in CARMA Messenger contains two ROS nodes origionally developed for the CARMA Platform communication stack: <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> node and J2735 Convertor Node. The <a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> node takes in a ROS message and uses asn1c lib generated code to convert it to a binary blob and forwards it to the DSRC driver, such that any OBU/RSU can broadcast the message directly. The J2735 Converter converts the data from a ROS message based on the J2735 standard units to another message using more usable SI units and vice-versa. <br  />
 To implement each CARMA messenger feature, different ROS nodes can be built to serve as plugins to CARMA Messenger platform. Their responsibilities are generating messages and responses to messages from CARMA Platform vehicles. Similar functionalities will be grouped under the same plugin. An example of this archetecture can be seen below. <img src="docs/media/carma-messenger-diagram.png" alt="" class="inline"/> <br  />
 As shown in the diagram, any given piece of functionality may require client nodes running on the CARMA Platform which are configued to address the specific scenario under test. <br  />
 Additional documentation can be found on the <a href="https://usdot-fhwa-stol.github.io/documentation/carma-messenger">Doxygen Source Code Documentation page</a>.</p>
<h2><a class="anchor" id="autotoc_md37"></a>
System Configuration and Installation</h2>
<p >The carma-messenger system is meant to be run using docker. The configuration of carma-messanger is similar, though not identical, to configuring the CARMA Platform following the process described in the document <a href="https://usdot-carma.atlassian.net/wiki/spaces/CRMPLT/pages/196182019/CARMA3+Detailed+Design+Documentation">CARMA Platform Detailed Design - Parameter and Launch Standards for Different Vehicle Configurations.docx</a>. At the moment, the user does not need to configure any folders on the host vehicle except ensuring that the logging directories <code>/opt/carma/logs</code> and <code>/opt/carma/.ros</code> exist and are writeable. In addition, the user should utilize the <a href="https://github.com/usdot-fhwa-stol/CARMAPlatform/blob/master/engineering_tools/carma">carma script</a> and <a href="https://github.com/usdot-fhwa-stol/CARMAPlatform/blob/master/engineering_tools/__carma_autocomplete">__carma_autocomplete file</a> to launch and manage the system. The carma script can be placed under <code>/usr/bin</code> and the autocomplete file under <code>/etc/bash_completion.d/</code> (Ubuntu 16.04).</p>
<div class="fragment"><div class="line">sudo curl -o /usr/bin/carma -L https://raw.githubusercontent.com/usdot-fhwa-stol/carma-platform/develop/engineering_tools/carma</div>
<div class="line">sudo chmod ugo+x /usr/bin/carma</div>
<div class="line">sudo curl -o /etc/bash_completion.d/__carma_autocomplete -L https://raw.githubusercontent.com/usdot-fhwa-stol/carma-platform/develop/engineering_tools/__carma_autocomplete</div>
<div class="line">sudo chmod ugo+x /etc/bash_completion.d/__carma_autocomplete</div>
</div><!-- fragment --><p> <br  />
</p>
<p >Hardware configurations are managed in the config directory of this repo. For local development the <a href="carma-messenger-config/development">development config</a> folder may be used. The user can build this configuration image by calling <code>./build-image.sh</code> from inside that directory. This will create a carma-messenger-config image. The user can then set this as the target image using <code>carma config set</code>. To start and stop the system, the user can call <code>carma start all</code> and <code>carma stop all</code>. The UI should then be accessable from localhost in a browser.</p>
<h3><a class="anchor" id="autotoc_md38"></a>
Example Setup</h3>
<div class="fragment"><div class="line"># Clone repo</div>
<div class="line">mkdir carma-messenger-ws</div>
<div class="line">cd carma-messenger-ws</div>
<div class="line">mkdir src</div>
<div class="line">cd src</div>
<div class="line">git clone https://github.com/usdot-fhwa-stol/carma-messenger.git</div>
<div class="line"> </div>
<div class="line"># Build development config</div>
<div class="line">cd carma-messenger/carma-messenger-config/development</div>
<div class="line">./build-image.sh</div>
<div class="line">docker image ls # Look for the newest carma-messenger-config image</div>
<div class="line">carma config set usdotfhwastol/carma-messenger-config:&lt;commit-hash&gt;-development</div>
<div class="line"> </div>
<div class="line"># Build carma-messenger-core</div>
<div class="line">cd ../../carma-messenger-core/docker</div>
<div class="line">./build-image.sh -d # Build from develop branch of dependencies</div>
<div class="line"> </div>
<div class="line"># Build carma-messenger-ui</div>
<div class="line">cd ../../carma-messenger-ui/docker</div>
<div class="line">./build-image.sh -v test # Tag development image with test</div>
<div class="line"> </div>
<div class="line"># Launch CARMA Messenger</div>
<div class="line">carma start all</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md39"></a>
CARMAPlatform</h1>
<p >The primary CARMAPlatform repository can be found <a href="https://github.com/usdot-fhwa-stol/CARMAPlatform">here</a> and is part of the <a href="https://github.com/usdot-fhwa-stol/">USDOT FHWA STOL</a> github organization. Documentation on how the CARMAPlatform functions, how it will evolve over time, and how you can contribute can be found at the above links as well</p>
<h2><a class="anchor" id="autotoc_md40"></a>
Contribution</h2>
<p >Welcome to the CARMA contributing guide. Please read this guide to learn about our development process, how to propose pull requests and improvements, and how to build and test your changes to this project. <a href="https://github.com/usdot-fhwa-stol/CARMAPlatform/blob/develop/Contributing.md">CARMA Contributing Guide</a></p>
<h2><a class="anchor" id="autotoc_md41"></a>
Code of Conduct</h2>
<p >Please read our <a href="https://github.com/usdot-fhwa-stol/CARMAPlatform/blob/develop/Code_of_Conduct.md">CARMA Code of Conduct</a> which outlines our expectations for participants within the CARMA community, as well as steps to reporting unacceptable behavior. We are committed to providing a welcoming and inspiring community for all and expect our code of conduct to be honored. Anyone who violates this code of conduct may be banned from the community.</p>
<h2><a class="anchor" id="autotoc_md42"></a>
Attribution</h2>
<p >The development team would like to acknowledge the people who have made direct contributions to the design and code in this repository. <a href="https://github.com/usdot-fhwa-stol/carma-platform/blob/develop/ATTRIBUTION.md">CARMA Attribution</a></p>
<h2><a class="anchor" id="autotoc_md43"></a>
License</h2>
<p >By contributing to the Federal Highway Administration (FHWA) Connected Automated Research Mobility Applications (CARMA), you agree that your contributions will be licensed under its Apache License 2.0 license. <a href="https://github.com/usdot-fhwa-stol/CARMAPlatform/blob/develop/docs/License.md">CARMA License</a></p>
<h2><a class="anchor" id="autotoc_md44"></a>
Contact</h2>
<p >Please click on the CARMA logo below to visit the Federal Highway Adminstration(FHWA) CARMA website.</p>
<p ><a href="https://highways.dot.gov/research/research-programs/operations/CARMA"><img src="https://raw.githubusercontent.com/usdot-fhwa-stol/CARMAPlatform/develop/docs/image/CARMA_icon.png" alt="CARMA Image" class="inline"/></a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Sep 27 2023 21:16:42 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
