<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: object::ObjectDetectionTrackingWorker Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classobject_1_1ObjectDetectionTrackingWorker.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classobject_1_1ObjectDetectionTrackingWorker-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">object::ObjectDetectionTrackingWorker Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for object::ObjectDetectionTrackingWorker:</div>
<div class="dyncontent">
<div class="center"><img src="classobject_1_1ObjectDetectionTrackingWorker__coll__graph.png" border="0" usemap="#aobject_1_1ObjectDetectionTrackingWorker_coll__map" alt="Collaboration graph"/></div>
<map name="aobject_1_1ObjectDetectionTrackingWorker_coll__map" id="aobject_1_1ObjectDetectionTrackingWorker_coll__map">
<area shape="rect" title=" " alt="" coords="293,204,518,340"/>
<area shape="rect" title=" " alt="" coords="5,20,195,127"/>
<area shape="rect" title=" " alt="" coords="219,5,440,141"/>
<area shape="rect" title=" " alt="" coords="465,35,519,112"/>
<area shape="rect" title=" " alt="" coords="553,35,633,112"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:acae5834696ba4c2f9d37677bc443895c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#acae5834696ba4c2f9d37677bc443895c">PublishObjectCallback</a> = std::function&lt; void(const carma_perception_msgs::msg::ExternalObjectList &amp;)&gt;</td></tr>
<tr class="separator:acae5834696ba4c2f9d37677bc443895c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad41f9c01caaac89410a23f55411a7821"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#ad41f9c01caaac89410a23f55411a7821">TransformLookupCallback</a> = std::function&lt; boost::optional&lt; geometry_msgs::msg::TransformStamped &gt;(const std::string &amp;, const std::string &amp;, const rclcpp::Time &amp;stamp)&gt;</td></tr>
<tr class="separator:ad41f9c01caaac89410a23f55411a7821"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a384e2e080e8c30ecfec952eeb496ea3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#a384e2e080e8c30ecfec952eeb496ea3e">ObjectDetectionTrackingWorker</a> (<a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#acae5834696ba4c2f9d37677bc443895c">PublishObjectCallback</a> obj_pub, <a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#ad41f9c01caaac89410a23f55411a7821">TransformLookupCallback</a> tf_lookup, rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr logger)</td></tr>
<tr class="memdesc:a384e2e080e8c30ecfec952eeb496ea3e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classobject_1_1ObjectDetectionTrackingWorker.html#a384e2e080e8c30ecfec952eeb496ea3e">More...</a><br /></td></tr>
<tr class="separator:a384e2e080e8c30ecfec952eeb496ea3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c50f3a7d96105185537b87dda4b1c11"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#a9c50f3a7d96105185537b87dda4b1c11">detectedObjectCallback</a> (autoware_auto_msgs::msg::TrackedObjects::UniquePtr msg)</td></tr>
<tr class="memdesc:a9c50f3a7d96105185537b87dda4b1c11"><td class="mdescLeft">&#160;</td><td class="mdescRight">detectedObjectCallback populates detected object along with its velocity,yaw, yaw_rate and static/dynamic class to DetectedObject message.  <a href="classobject_1_1ObjectDetectionTrackingWorker.html#a9c50f3a7d96105185537b87dda4b1c11">More...</a><br /></td></tr>
<tr class="separator:a9c50f3a7d96105185537b87dda4b1c11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5dad36722d59ca9fe1026cbe3b8ce44"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#aa5dad36722d59ca9fe1026cbe3b8ce44">setMapFrame</a> (std::string map_frame)</td></tr>
<tr class="separator:aa5dad36722d59ca9fe1026cbe3b8ce44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7246e975b019782d244594b4ba849945"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">isClass</a> (const autoware_auto_msgs::msg::TrackedObject &amp;obj, <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> class_id)</td></tr>
<tr class="memdesc:a7246e975b019782d244594b4ba849945"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to check if the provided tracked object has the provided class type.  <a href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">More...</a><br /></td></tr>
<tr class="separator:a7246e975b019782d244594b4ba849945"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a17fc325608629d81eaf156192d276191"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#acae5834696ba4c2f9d37677bc443895c">PublishObjectCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#a17fc325608629d81eaf156192d276191">obj_pub_</a></td></tr>
<tr class="separator:a17fc325608629d81eaf156192d276191"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af88d091ec9ec96cddce218473f5bbcc0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#ad41f9c01caaac89410a23f55411a7821">TransformLookupCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#af88d091ec9ec96cddce218473f5bbcc0">tf_lookup_</a></td></tr>
<tr class="separator:af88d091ec9ec96cddce218473f5bbcc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9163d25442c64e3777fcbcbbd43c7e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#aab9163d25442c64e3777fcbcbbd43c7e">map_frame_</a> = &quot;map&quot;</td></tr>
<tr class="separator:aab9163d25442c64e3777fcbcbbd43c7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe74088a0342024a82a8745a9a2970c"><td class="memItemLeft" align="right" valign="top">rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#a9fe74088a0342024a82a8745a9a2970c">logger_</a></td></tr>
<tr class="separator:a9fe74088a0342024a82a8745a9a2970c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8h_source.html#l00038">38</a> of file <a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="acae5834696ba4c2f9d37677bc443895c" name="acae5834696ba4c2f9d37677bc443895c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acae5834696ba4c2f9d37677bc443895c">&#9670;&nbsp;</a></span>PublishObjectCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#acae5834696ba4c2f9d37677bc443895c">object::ObjectDetectionTrackingWorker::PublishObjectCallback</a> =  std::function&lt;void(const carma_perception_msgs::msg::ExternalObjectList&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8h_source.html#l00043">43</a> of file <a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a>.</p>

</div>
</div>
<a id="ad41f9c01caaac89410a23f55411a7821" name="ad41f9c01caaac89410a23f55411a7821"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad41f9c01caaac89410a23f55411a7821">&#9670;&nbsp;</a></span>TransformLookupCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#ad41f9c01caaac89410a23f55411a7821">object::ObjectDetectionTrackingWorker::TransformLookupCallback</a> =  std::function&lt;boost::optional&lt;geometry_msgs::msg::TransformStamped&gt;(const std::string&amp;, const std::string&amp;, const rclcpp::Time&amp; stamp)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Function which will return the most recent transform between the provided frames First frame is target second is source If the transform does not exist or cannot be computed the optional returns false </p>

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8h_source.html#l00050">50</a> of file <a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a384e2e080e8c30ecfec952eeb496ea3e" name="a384e2e080e8c30ecfec952eeb496ea3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a384e2e080e8c30ecfec952eeb496ea3e">&#9670;&nbsp;</a></span>ObjectDetectionTrackingWorker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">object::ObjectDetectionTrackingWorker::ObjectDetectionTrackingWorker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#acae5834696ba4c2f9d37677bc443895c">PublishObjectCallback</a>&#160;</td>
          <td class="paramname"><em>obj_pub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#ad41f9c01caaac89410a23f55411a7821">TransformLookupCallback</a>&#160;</td>
          <td class="paramname"><em>tf_lookup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr&#160;</td>
          <td class="paramname"><em>logger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00028">28</a> of file <a class="el" href="object__detection__tracking__worker_8cpp_source.html">object_detection_tracking_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span>  : <a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#a17fc325608629d81eaf156192d276191">obj_pub_</a>(obj_pub), <a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#af88d091ec9ec96cddce218473f5bbcc0">tf_lookup_</a>(tf_lookup), <a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#a9fe74088a0342024a82a8745a9a2970c">logger_</a>(logger) {}</div>
<div class="ttc" id="aclassobject_1_1ObjectDetectionTrackingWorker_html_a17fc325608629d81eaf156192d276191"><div class="ttname"><a href="classobject_1_1ObjectDetectionTrackingWorker.html#a17fc325608629d81eaf156192d276191">object::ObjectDetectionTrackingWorker::obj_pub_</a></div><div class="ttdeci">PublishObjectCallback obj_pub_</div><div class="ttdef"><b>Definition:</b> <a href="object__detection__tracking__worker_8h_source.html#l00074">object_detection_tracking_worker.h:74</a></div></div>
<div class="ttc" id="aclassobject_1_1ObjectDetectionTrackingWorker_html_a9fe74088a0342024a82a8745a9a2970c"><div class="ttname"><a href="classobject_1_1ObjectDetectionTrackingWorker.html#a9fe74088a0342024a82a8745a9a2970c">object::ObjectDetectionTrackingWorker::logger_</a></div><div class="ttdeci">rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr logger_</div><div class="ttdef"><b>Definition:</b> <a href="object__detection__tracking__worker_8h_source.html#l00084">object_detection_tracking_worker.h:84</a></div></div>
<div class="ttc" id="aclassobject_1_1ObjectDetectionTrackingWorker_html_af88d091ec9ec96cddce218473f5bbcc0"><div class="ttname"><a href="classobject_1_1ObjectDetectionTrackingWorker.html#af88d091ec9ec96cddce218473f5bbcc0">object::ObjectDetectionTrackingWorker::tf_lookup_</a></div><div class="ttdeci">TransformLookupCallback tf_lookup_</div><div class="ttdef"><b>Definition:</b> <a href="object__detection__tracking__worker_8h_source.html#l00078">object_detection_tracking_worker.h:78</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9c50f3a7d96105185537b87dda4b1c11" name="a9c50f3a7d96105185537b87dda4b1c11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c50f3a7d96105185537b87dda4b1c11">&#9670;&nbsp;</a></span>detectedObjectCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void object::ObjectDetectionTrackingWorker::detectedObjectCallback </td>
          <td>(</td>
          <td class="paramtype">autoware_auto_msgs::msg::TrackedObjects::UniquePtr&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>detectedObjectCallback populates detected object along with its velocity,yaw, yaw_rate and static/dynamic class to DetectedObject message. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>array of detected objects. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00039">39</a> of file <a class="el" href="object__detection__tracking__worker_8cpp_source.html">object_detection_tracking_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>{</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>  carma_perception_msgs::msg::ExternalObjectList msg;</div>
<div class="line"><span class="lineno">   43</span>  msg.header = obj_array-&gt;header;</div>
<div class="line"><span class="lineno">   44</span>  msg.header.frame_id = <a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#aab9163d25442c64e3777fcbcbbd43c7e">map_frame_</a>;</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>  <span class="keyword">auto</span> transform = <a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#af88d091ec9ec96cddce218473f5bbcc0">tf_lookup_</a>(<a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#aab9163d25442c64e3777fcbcbbd43c7e">map_frame_</a>, obj_array-&gt;header.frame_id, obj_array-&gt;header.stamp);</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordflow">if</span> (!transform) {</div>
<div class="line"><span class="lineno">   50</span>    RCLCPP_WARN_STREAM(<a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#a9fe74088a0342024a82a8745a9a2970c">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Ignoring fix message: Could not locate static transforms exception.&quot;</span>);</div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   52</span>  }</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>  geometry_msgs::msg::TransformStamped object_frame_tf = transform.get(); </div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt; obj_array-&gt;objects.size(); <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++)</div>
<div class="line"><span class="lineno">   57</span>  {</div>
<div class="line"><span class="lineno">   58</span>    carma_perception_msgs::msg::ExternalObject obj;</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    <span class="comment">// Header contains the frame rest of the fields will use</span></div>
<div class="line"><span class="lineno">   61</span>    obj.header = msg.header;</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    <span class="comment">// Presence vector message is used to describe objects coming from potentially</span></div>
<div class="line"><span class="lineno">   64</span>    <span class="comment">// different sources. The presence vector is used to determine what items are set</span></div>
<div class="line"><span class="lineno">   65</span>    <span class="comment">// by the producer</span></div>
<div class="line"><span class="lineno">   66</span>    obj.presence_vector = obj.presence_vector | obj.ID_PRESENCE_VECTOR;</div>
<div class="line"><span class="lineno">   67</span>    obj.presence_vector = obj.presence_vector | obj.POSE_PRESENCE_VECTOR;</div>
<div class="line"><span class="lineno">   68</span>    obj.presence_vector = obj.presence_vector | obj.VELOCITY_PRESENCE_VECTOR;</div>
<div class="line"><span class="lineno">   69</span>    obj.presence_vector = obj.presence_vector | obj.SIZE_PRESENCE_VECTOR;</div>
<div class="line"><span class="lineno">   70</span>    obj.presence_vector = obj.presence_vector | obj.OBJECT_TYPE_PRESENCE_VECTOR;</div>
<div class="line"><span class="lineno">   71</span>    obj.presence_vector = obj.presence_vector | obj.DYNAMIC_OBJ_PRESENCE;</div>
<div class="line"><span class="lineno">   72</span>    obj.presence_vector = obj.presence_vector | obj.CONFIDENCE_PRESENCE_VECTOR;</div>
<div class="line"><span class="lineno">   73</span>     </div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">// Object id. Matching ids on a topic should refer to the same object within some time period, expanded</span></div>
<div class="line"><span class="lineno">   75</span>    obj.id = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].object_id;</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">// Pose of the object within the frame specified in header</span></div>
<div class="line"><span class="lineno">   78</span>    geometry_msgs::msg::PoseStamped input_object_pose;</div>
<div class="line"><span class="lineno">   79</span>    input_object_pose.header = obj_array-&gt;header;</div>
<div class="line"><span class="lineno">   80</span>    input_object_pose.pose.position = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.centroid_position;</div>
<div class="line"><span class="lineno">   81</span>    input_object_pose.pose.orientation = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.orientation;</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    geometry_msgs::msg::PoseStamped output_pose;</div>
<div class="line"><span class="lineno">   84</span>    <span class="comment">// Transform the object input our map frame</span></div>
<div class="line"><span class="lineno">   85</span>    tf2::doTransform(input_object_pose, output_pose, object_frame_tf);</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    obj.pose.pose = output_pose.pose;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">// In ROS2 foxy the doTransform call does not set the covariance, so we need to do it manually</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="comment">// Copy over the position covariance</span></div>
<div class="line"><span class="lineno">   91</span>    <span class="comment">// Variable names used here are row, column so row major order</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keyword">auto</span> xx = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[0];</div>
<div class="line"><span class="lineno">   93</span>    <span class="keyword">auto</span> <a class="code hl_variable" href="namespaceprocess__traj__logs.html#a5320d01448ddd395e971d73eebdef288">xy</a> = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[1];</div>
<div class="line"><span class="lineno">   94</span>    <span class="keyword">auto</span> xz = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[2];</div>
<div class="line"><span class="lineno">   95</span>    <span class="keyword">auto</span> yx = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[3];</div>
<div class="line"><span class="lineno">   96</span>    <span class="keyword">auto</span> yy = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[4];</div>
<div class="line"><span class="lineno">   97</span>    <span class="keyword">auto</span> yz = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[5];</div>
<div class="line"><span class="lineno">   98</span>    <span class="keyword">auto</span> zx = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[6];</div>
<div class="line"><span class="lineno">   99</span>    <span class="keyword">auto</span> zy = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[7];</div>
<div class="line"><span class="lineno">  100</span>    <span class="keyword">auto</span> zz = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.position_covariance[8];</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="comment">// This matrix represents the covariance of the object before transformation</span></div>
<div class="line"><span class="lineno">  103</span>    std::array&lt;double, 36&gt; input_covariance = { </div>
<div class="line"><span class="lineno">  104</span>      xx, <a class="code hl_variable" href="namespaceprocess__traj__logs.html#a5320d01448ddd395e971d73eebdef288">xy</a>, xz,  0, 0, 0,</div>
<div class="line"><span class="lineno">  105</span>      yx, yy, yz,  0, 0, 0,</div>
<div class="line"><span class="lineno">  106</span>      zx, zy, zz,  0, 0, 0,</div>
<div class="line"><span class="lineno">  107</span>      0,  0,  0,  1,  0, 0, <span class="comment">// Since no covariance for the orientation is provided we will assume an identity relationship (1s on the diagonal)</span></div>
<div class="line"><span class="lineno">  108</span>      0,  0,  0,  0,  1, 0, <span class="comment">// TODO when autoware suplies this information we should update this to reflect the new covariance</span></div>
<div class="line"><span class="lineno">  109</span>      0,  0,  0,  0,  0, 1</div>
<div class="line"><span class="lineno">  110</span>    };</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="comment">// Transform the covariance matrix</span></div>
<div class="line"><span class="lineno">  113</span>    tf2::Transform covariance_transform;</div>
<div class="line"><span class="lineno">  114</span>    tf2::fromMsg(object_frame_tf.transform, covariance_transform);</div>
<div class="line"><span class="lineno">  115</span>    obj.pose.covariance = <a class="code hl_function" href="namespacecovariance__helper.html#af38530465ec3a2a40b4e9be14032f65e">covariance_helper::transformCovariance</a>(input_covariance, covariance_transform);</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    <span class="comment">// Store the object ovarall confidence</span></div>
<div class="line"><span class="lineno">  118</span>    obj.confidence = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].existence_probability;</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    <span class="comment">// Average velocity of the object within the frame specified in header</span></div>
<div class="line"><span class="lineno">  121</span>    obj.velocity = obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].kinematics.twist;</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>    <span class="comment">// The size of the object aligned along the axis of the object described by the orientation in pose</span></div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">// Dimensions are specified in meters</span></div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">// Autoware provides a set of 2d bounding boxes and supports articulated shapes.</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="comment">// The loop below finds the overall bounding box to ensure information is not lost</span></div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordtype">double</span> minX = std::numeric_limits&lt;double&gt;::max();</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordtype">double</span> maxX = std::numeric_limits&lt;double&gt;::lowest();</div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordtype">double</span> minY = std::numeric_limits&lt;double&gt;::max();</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordtype">double</span> maxY = std::numeric_limits&lt;double&gt;::lowest();</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordtype">double</span> maxHeight = std::numeric_limits&lt;double&gt;::lowest();</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">for</span>(<span class="keyword">auto</span> shape : obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].shape) {</div>
<div class="line"><span class="lineno">  135</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> <a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a> :  shape.polygon.points) {</div>
<div class="line"><span class="lineno">  136</span>        </div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a>.x &gt; maxX)</div>
<div class="line"><span class="lineno">  138</span>          maxX = <a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a>.x;</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a>.x &lt; minX)</div>
<div class="line"><span class="lineno">  141</span>          minX = <a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a>.x;</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a>.y &gt; maxY)</div>
<div class="line"><span class="lineno">  144</span>          maxY = <a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a>.y;</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a>.y &lt; minY)</div>
<div class="line"><span class="lineno">  147</span>          minY = <a class="code hl_variable" href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">point</a>.y;</div>
<div class="line"><span class="lineno">  148</span>      }</div>
<div class="line"><span class="lineno">  149</span>      <span class="keywordflow">if</span> (shape.height &gt; maxHeight)</div>
<div class="line"><span class="lineno">  150</span>        maxHeight = shape.height;</div>
<div class="line"><span class="lineno">  151</span>    }</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordtype">double</span> dX = maxX - minX;</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordtype">double</span> dY = maxY - minY;</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    obj.size.x = dX / 2.0; <span class="comment">// Shape in carma is defined by the half delta from the centroid</span></div>
<div class="line"><span class="lineno">  157</span>    obj.size.y = dY / 2.0;</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="comment">// Height provided by autoware is overall height divide by 2 for delta from centroid</span></div>
<div class="line"><span class="lineno">  160</span>    obj.size.z = maxHeight / 2.0; </div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>    <span class="comment">// Update the object type and generate predictions using CV or CTRV vehicle models.</span></div>
<div class="line"><span class="lineno">  163</span>        <span class="comment">// If the object is a bicycle or motor vehicle use CTRV otherwise use CV.</span></div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">isClass</a>(obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>], autoware_auto_msgs::msg::ObjectClassification::MOTORCYCLE))</div>
<div class="line"><span class="lineno">  166</span>    {</div>
<div class="line"><span class="lineno">  167</span>      obj.object_type = obj.MOTORCYCLE;</div>
<div class="line"><span class="lineno">  168</span>    }</div>
<div class="line"><span class="lineno">  169</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">isClass</a>(obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>], autoware_auto_msgs::msg::ObjectClassification::BICYCLE))</div>
<div class="line"><span class="lineno">  170</span>    {</div>
<div class="line"><span class="lineno">  171</span>      obj.object_type = obj.MOTORCYCLE; <span class="comment">// Currently external object cannot represent bicycles</span></div>
<div class="line"><span class="lineno">  172</span>    }</div>
<div class="line"><span class="lineno">  173</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">isClass</a>(obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>], autoware_auto_msgs::msg::ObjectClassification::CAR))</div>
<div class="line"><span class="lineno">  174</span>    {</div>
<div class="line"><span class="lineno">  175</span>      obj.object_type = obj.SMALL_VEHICLE;</div>
<div class="line"><span class="lineno">  176</span>    }</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">isClass</a>(obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>], autoware_auto_msgs::msg::ObjectClassification::TRUCK))</div>
<div class="line"><span class="lineno">  178</span>    {</div>
<div class="line"><span class="lineno">  179</span>      obj.object_type = obj.LARGE_VEHICLE;</div>
<div class="line"><span class="lineno">  180</span>    }</div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">isClass</a>(obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>], autoware_auto_msgs::msg::ObjectClassification::TRAILER))</div>
<div class="line"><span class="lineno">  182</span>    {</div>
<div class="line"><span class="lineno">  183</span>      obj.object_type = obj.LARGE_VEHICLE; <span class="comment">// Currently external object cannot represent trailers</span></div>
<div class="line"><span class="lineno">  184</span>    }</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">isClass</a>(obj_array-&gt;objects[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>], autoware_auto_msgs::msg::ObjectClassification::PEDESTRIAN))</div>
<div class="line"><span class="lineno">  186</span>    {</div>
<div class="line"><span class="lineno">  187</span>      obj.object_type = obj.PEDESTRIAN;</div>
<div class="line"><span class="lineno">  188</span>    }</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  190</span>    {</div>
<div class="line"><span class="lineno">  191</span>      obj.object_type = obj.UNKNOWN;</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="comment">// Binary value to show if the object is static or dynamic (1: dynamic, 0: static)</span></div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">if</span> ((fabs(obj.velocity.twist.linear.x || obj.velocity.twist.linear.y || obj.velocity.twist.linear.z)) &gt; 0.75)</div>
<div class="line"><span class="lineno">  197</span>    {</div>
<div class="line"><span class="lineno">  198</span>      obj.dynamic_obj = 1;</div>
<div class="line"><span class="lineno">  199</span>    }</div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  201</span>    {</div>
<div class="line"><span class="lineno">  202</span>      obj.dynamic_obj = 0;</div>
<div class="line"><span class="lineno">  203</span>    }</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    msg.objects.emplace_back(obj);</div>
<div class="line"><span class="lineno">  206</span>  }</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>  <a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#a17fc325608629d81eaf156192d276191">obj_pub_</a>(msg);</div>
<div class="line"><span class="lineno">  211</span>}</div>
<div class="ttc" id="aclassobject_1_1ObjectDetectionTrackingWorker_html_a7246e975b019782d244594b4ba849945"><div class="ttname"><a href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945">object::ObjectDetectionTrackingWorker::isClass</a></div><div class="ttdeci">bool isClass(const autoware_auto_msgs::msg::TrackedObject &amp;obj, uint8_t class_id)</div><div class="ttdoc">Helper method to check if the provided tracked object has the provided class type.</div><div class="ttdef"><b>Definition:</b> <a href="object__detection__tracking__worker_8cpp_source.html#l00031">object_detection_tracking_worker.cpp:31</a></div></div>
<div class="ttc" id="aclassobject_1_1ObjectDetectionTrackingWorker_html_aab9163d25442c64e3777fcbcbbd43c7e"><div class="ttname"><a href="classobject_1_1ObjectDetectionTrackingWorker.html#aab9163d25442c64e3777fcbcbbd43c7e">object::ObjectDetectionTrackingWorker::map_frame_</a></div><div class="ttdeci">std::string map_frame_</div><div class="ttdef"><b>Definition:</b> <a href="object__detection__tracking__worker_8h_source.html#l00081">object_detection_tracking_worker.h:81</a></div></div>
<div class="ttc" id="anamespacecovariance__helper_html_af38530465ec3a2a40b4e9be14032f65e"><div class="ttname"><a href="namespacecovariance__helper.html#af38530465ec3a2a40b4e9be14032f65e">covariance_helper::transformCovariance</a></div><div class="ttdeci">geometry_msgs::msg::PoseWithCovariance::_covariance_type transformCovariance(const geometry_msgs::msg::PoseWithCovariance::_covariance_type &amp;cov_in, const tf2::Transform &amp;transform)</div><div class="ttdoc">Transform the covariance matrix of a PoseWithCovariance message to a new frame.</div><div class="ttdef"><b>Definition:</b> <a href="covariance__helper_8h_source.html#l00057">covariance_helper.h:57</a></div></div>
<div class="ttc" id="anamespaceprocess__bag_html_af102a02c97622dd30b0dbf7bafb0d199"><div class="ttname"><a href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">process_bag.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="process__bag_8py_source.html#l00059">process_bag.py:59</a></div></div>
<div class="ttc" id="anamespaceprocess__traj__logs_html_a5320d01448ddd395e971d73eebdef288"><div class="ttname"><a href="namespaceprocess__traj__logs.html#a5320d01448ddd395e971d73eebdef288">process_traj_logs.xy</a></div><div class="ttdeci">xy</div><div class="ttdef"><b>Definition:</b> <a href="process__traj__logs_8py_source.html#l00127">process_traj_logs.py:127</a></div></div>
<div class="ttc" id="anamespaceprocess__traj__logs_html_ab81a05c3d1d100117b6781d7dedf8a29"><div class="ttname"><a href="namespaceprocess__traj__logs.html#ab81a05c3d1d100117b6781d7dedf8a29">process_traj_logs.point</a></div><div class="ttdeci">point</div><div class="ttdef"><b>Definition:</b> <a href="process__traj__logs_8py_source.html#l00126">process_traj_logs.py:126</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="process__bag_8py_source.html#l00059">process_bag::i</a>, <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00031">isClass()</a>, <a class="el" href="object__detection__tracking__worker_8h_source.html#l00084">logger_</a>, <a class="el" href="object__detection__tracking__worker_8h_source.html#l00081">map_frame_</a>, <a class="el" href="object__detection__tracking__worker_8h_source.html#l00074">obj_pub_</a>, <a class="el" href="process__traj__logs_8py_source.html#l00126">process_traj_logs::point</a>, <a class="el" href="object__detection__tracking__worker_8h_source.html#l00078">tf_lookup_</a>, <a class="el" href="covariance__helper_8h_source.html#l00057">covariance_helper::transformCovariance()</a>, and <a class="el" href="process__traj__logs_8py_source.html#l00127">process_traj_logs::xy</a>.</p>

<p class="reference">Referenced by <a class="el" href="object__detection__tracking__node_8cpp_source.html#l00037">object::ObjectDetectionTrackingNode::handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classobject_1_1ObjectDetectionTrackingWorker_a9c50f3a7d96105185537b87dda4b1c11_cgraph.png" border="0" usemap="#aclassobject_1_1ObjectDetectionTrackingWorker_a9c50f3a7d96105185537b87dda4b1c11_cgraph" alt=""/></div>
<map name="aclassobject_1_1ObjectDetectionTrackingWorker_a9c50f3a7d96105185537b87dda4b1c11_cgraph" id="aclassobject_1_1ObjectDetectionTrackingWorker_a9c50f3a7d96105185537b87dda4b1c11_cgraph">
<area shape="rect" title="detectedObjectCallback populates detected object along with its velocity,yaw, yaw_rate and static/dyn..." alt="" coords="5,39,212,80"/>
<area shape="rect" href="classobject_1_1ObjectDetectionTrackingWorker.html#a7246e975b019782d244594b4ba849945" title="Helper method to check if the provided tracked object has the provided class type." alt="" coords="260,5,467,47"/>
<area shape="rect" href="namespacecovariance__helper.html#af38530465ec3a2a40b4e9be14032f65e" title="Transform the covariance matrix of a PoseWithCovariance message to a new frame." alt="" coords="292,71,435,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classobject_1_1ObjectDetectionTrackingWorker_a9c50f3a7d96105185537b87dda4b1c11_icgraph.png" border="0" usemap="#aclassobject_1_1ObjectDetectionTrackingWorker_a9c50f3a7d96105185537b87dda4b1c11_icgraph" alt=""/></div>
<map name="aclassobject_1_1ObjectDetectionTrackingWorker_a9c50f3a7d96105185537b87dda4b1c11_icgraph" id="aclassobject_1_1ObjectDetectionTrackingWorker_a9c50f3a7d96105185537b87dda4b1c11_icgraph">
<area shape="rect" title="detectedObjectCallback populates detected object along with its velocity,yaw, yaw_rate and static/dyn..." alt="" coords="260,5,467,47"/>
<area shape="rect" href="classobject_1_1ObjectDetectionTrackingNode.html#a6bd08fb5c79b0ffc2fc9cf1b8212d008" title=" " alt="" coords="5,5,212,47"/>
</map>
</div>

</div>
</div>
<a id="a7246e975b019782d244594b4ba849945" name="a7246e975b019782d244594b4ba849945"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7246e975b019782d244594b4ba849945">&#9670;&nbsp;</a></span>isClass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> object::ObjectDetectionTrackingWorker::isClass </td>
          <td>(</td>
          <td class="paramtype">const autoware_auto_msgs::msg::TrackedObject &amp;&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td>
          <td class="paramname"><em>class_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to check if the provided tracked object has the provided class type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to check </td></tr>
    <tr><td class="paramname">class_id</td><td>The class type to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the object has the class type </dd></dl>

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00031">31</a> of file <a class="el" href="object__detection__tracking__worker_8cpp_source.html">object_detection_tracking_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   31</span>                                                                                                           {</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>  <span class="keywordflow">return</span> obj.classification.end() != std::find_if(obj.classification.begin(), obj.classification.end(), </div>
<div class="line"><span class="lineno">   34</span>    [&amp;class_id](<span class="keyword">auto</span> o){ return o.classification == class_id; }</div>
<div class="line"><span class="lineno">   35</span>  );</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00039">detectedObjectCallback()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classobject_1_1ObjectDetectionTrackingWorker_a7246e975b019782d244594b4ba849945_icgraph.png" border="0" usemap="#aclassobject_1_1ObjectDetectionTrackingWorker_a7246e975b019782d244594b4ba849945_icgraph" alt=""/></div>
<map name="aclassobject_1_1ObjectDetectionTrackingWorker_a7246e975b019782d244594b4ba849945_icgraph" id="aclassobject_1_1ObjectDetectionTrackingWorker_a7246e975b019782d244594b4ba849945_icgraph">
<area shape="rect" title="Helper method to check if the provided tracked object has the provided class type." alt="" coords="515,5,721,47"/>
<area shape="rect" href="classobject_1_1ObjectDetectionTrackingWorker.html#a9c50f3a7d96105185537b87dda4b1c11" title="detectedObjectCallback populates detected object along with its velocity,yaw, yaw_rate and static/dyn..." alt="" coords="260,5,467,47"/>
<area shape="rect" href="classobject_1_1ObjectDetectionTrackingNode.html#a6bd08fb5c79b0ffc2fc9cf1b8212d008" title=" " alt="" coords="5,5,212,47"/>
</map>
</div>

</div>
</div>
<a id="aa5dad36722d59ca9fe1026cbe3b8ce44" name="aa5dad36722d59ca9fe1026cbe3b8ce44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5dad36722d59ca9fe1026cbe3b8ce44">&#9670;&nbsp;</a></span>setMapFrame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void object::ObjectDetectionTrackingWorker::setMapFrame </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>map_frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00213">213</a> of file <a class="el" href="object__detection__tracking__worker_8cpp_source.html">object_detection_tracking_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>{</div>
<div class="line"><span class="lineno">  215</span>  <a class="code hl_variable" href="classobject_1_1ObjectDetectionTrackingWorker.html#aab9163d25442c64e3777fcbcbbd43c7e">map_frame_</a> = map_frame;</div>
<div class="line"><span class="lineno">  216</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="object__detection__tracking__worker_8h_source.html#l00081">map_frame_</a>.</p>

<p class="reference">Referenced by <a class="el" href="object__detection__tracking__node_8cpp_source.html#l00037">object::ObjectDetectionTrackingNode::handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classobject_1_1ObjectDetectionTrackingWorker_aa5dad36722d59ca9fe1026cbe3b8ce44_icgraph.png" border="0" usemap="#aclassobject_1_1ObjectDetectionTrackingWorker_aa5dad36722d59ca9fe1026cbe3b8ce44_icgraph" alt=""/></div>
<map name="aclassobject_1_1ObjectDetectionTrackingWorker_aa5dad36722d59ca9fe1026cbe3b8ce44_icgraph" id="aclassobject_1_1ObjectDetectionTrackingWorker_aa5dad36722d59ca9fe1026cbe3b8ce44_icgraph">
<area shape="rect" title=" " alt="" coords="260,5,467,47"/>
<area shape="rect" href="classobject_1_1ObjectDetectionTrackingNode.html#a6bd08fb5c79b0ffc2fc9cf1b8212d008" title=" " alt="" coords="5,5,212,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a9fe74088a0342024a82a8745a9a2970c" name="a9fe74088a0342024a82a8745a9a2970c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe74088a0342024a82a8745a9a2970c">&#9670;&nbsp;</a></span>logger_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr object::ObjectDetectionTrackingWorker::logger_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8h_source.html#l00084">84</a> of file <a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00039">detectedObjectCallback()</a>.</p>

</div>
</div>
<a id="aab9163d25442c64e3777fcbcbbd43c7e" name="aab9163d25442c64e3777fcbcbbd43c7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab9163d25442c64e3777fcbcbbd43c7e">&#9670;&nbsp;</a></span>map_frame_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string object::ObjectDetectionTrackingWorker::map_frame_ = &quot;map&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8h_source.html#l00081">81</a> of file <a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00039">detectedObjectCallback()</a>, and <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00213">setMapFrame()</a>.</p>

</div>
</div>
<a id="a17fc325608629d81eaf156192d276191" name="a17fc325608629d81eaf156192d276191"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17fc325608629d81eaf156192d276191">&#9670;&nbsp;</a></span>obj_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#acae5834696ba4c2f9d37677bc443895c">PublishObjectCallback</a> object::ObjectDetectionTrackingWorker::obj_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8h_source.html#l00074">74</a> of file <a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00039">detectedObjectCallback()</a>.</p>

</div>
</div>
<a id="af88d091ec9ec96cddce218473f5bbcc0" name="af88d091ec9ec96cddce218473f5bbcc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af88d091ec9ec96cddce218473f5bbcc0">&#9670;&nbsp;</a></span>tf_lookup_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html#ad41f9c01caaac89410a23f55411a7821">TransformLookupCallback</a> object::ObjectDetectionTrackingWorker::tf_lookup_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="object__detection__tracking__worker_8h_source.html#l00078">78</a> of file <a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="object__detection__tracking__worker_8cpp_source.html#l00039">detectedObjectCallback()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>object_detection_tracking/include/<a class="el" href="object__detection__tracking__worker_8h_source.html">object_detection_tracking_worker.h</a></li>
<li>object_detection_tracking/src/<a class="el" href="object__detection__tracking__worker_8cpp_source.html">object_detection_tracking_worker.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceobject.html">object</a></li><li class="navelem"><a class="el" href="classobject_1_1ObjectDetectionTrackingWorker.html">ObjectDetectionTrackingWorker</a></li>
    <li class="footer">Generated on Wed Mar 6 2024 13:57:00 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
