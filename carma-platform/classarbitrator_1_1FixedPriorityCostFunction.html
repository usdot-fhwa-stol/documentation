<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: arbitrator::FixedPriorityCostFunction Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classarbitrator_1_1FixedPriorityCostFunction.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classarbitrator_1_1FixedPriorityCostFunction-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">arbitrator::FixedPriorityCostFunction Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of the <a class="el" href="classarbitrator_1_1CostFunction.html" title="Generic interface representing a means of computing cost for plans in the search graph.">CostFunction</a> interface.  
 <a href="classarbitrator_1_1FixedPriorityCostFunction.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fixed__priority__cost__function_8hpp_source.html">fixed_priority_cost_function.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for arbitrator::FixedPriorityCostFunction:</div>
<div class="dyncontent">
<div class="center"><img src="classarbitrator_1_1FixedPriorityCostFunction__inherit__graph.png" border="0" usemap="#aarbitrator_1_1FixedPriorityCostFunction_inherit__map" alt="Inheritance graph"/></div>
<map name="aarbitrator_1_1FixedPriorityCostFunction_inherit__map" id="aarbitrator_1_1FixedPriorityCostFunction_inherit__map">
<area shape="rect" title="Implementation of the CostFunction interface." alt="" coords="5,175,195,311"/>
<area shape="rect" href="classarbitrator_1_1CostFunction.html" title="Generic interface representing a means of computing cost for plans in the search graph." alt="" coords="16,5,184,127"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for arbitrator::FixedPriorityCostFunction:</div>
<div class="dyncontent">
<div class="center"><img src="classarbitrator_1_1FixedPriorityCostFunction__coll__graph.png" border="0" usemap="#aarbitrator_1_1FixedPriorityCostFunction_coll__map" alt="Collaboration graph"/></div>
<map name="aarbitrator_1_1FixedPriorityCostFunction_coll__map" id="aarbitrator_1_1FixedPriorityCostFunction_coll__map">
<area shape="rect" title="Implementation of the CostFunction interface." alt="" coords="91,189,280,325"/>
<area shape="rect" href="classarbitrator_1_1CostFunction.html" title="Generic interface representing a means of computing cost for plans in the search graph." alt="" coords="5,5,173,127"/>
<area shape="rect" title=" " alt="" coords="197,27,368,105"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac44b0be7c5e16d6906a67ef584170ac0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarbitrator_1_1FixedPriorityCostFunction.html#ac44b0be7c5e16d6906a67ef584170ac0">FixedPriorityCostFunction</a> (const std::map&lt; std::string, double &gt; &amp;plugin_priorities)</td></tr>
<tr class="memdesc:ac44b0be7c5e16d6906a67ef584170ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for <a class="el" href="classarbitrator_1_1FixedPriorityCostFunction.html" title="Implementation of the CostFunction interface.">FixedPriorityCostFunction</a>.  <a href="classarbitrator_1_1FixedPriorityCostFunction.html#ac44b0be7c5e16d6906a67ef584170ac0">More...</a><br /></td></tr>
<tr class="separator:ac44b0be7c5e16d6906a67ef584170ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a898692f35cda57fa08cd8aee9e15ff16"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarbitrator_1_1FixedPriorityCostFunction.html#a898692f35cda57fa08cd8aee9e15ff16">compute_total_cost</a> (const carma_planning_msgs::msg::ManeuverPlan &amp;plan)</td></tr>
<tr class="memdesc:a898692f35cda57fa08cd8aee9e15ff16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the unit cost over distance of a given maneuver plan.  <a href="classarbitrator_1_1FixedPriorityCostFunction.html#a898692f35cda57fa08cd8aee9e15ff16">More...</a><br /></td></tr>
<tr class="separator:a898692f35cda57fa08cd8aee9e15ff16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8a6a6403fc569d88928ee360fba247c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarbitrator_1_1FixedPriorityCostFunction.html#af8a6a6403fc569d88928ee360fba247c">compute_cost_per_unit_distance</a> (const carma_planning_msgs::msg::ManeuverPlan &amp;plan)</td></tr>
<tr class="memdesc:af8a6a6403fc569d88928ee360fba247c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the unit cost over distance of a given maneuver plan.  <a href="classarbitrator_1_1FixedPriorityCostFunction.html#af8a6a6403fc569d88928ee360fba247c">More...</a><br /></td></tr>
<tr class="separator:af8a6a6403fc569d88928ee360fba247c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classarbitrator_1_1CostFunction"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classarbitrator_1_1CostFunction')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classarbitrator_1_1CostFunction.html">arbitrator::CostFunction</a></td></tr>
<tr class="memitem:aeb003fdeed7adec852f84c3799bf7f18 inherit pub_methods_classarbitrator_1_1CostFunction"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarbitrator_1_1CostFunction.html#aeb003fdeed7adec852f84c3799bf7f18">compute_total_cost</a> (const carma_planning_msgs::msg::ManeuverPlan &amp;plan)=0</td></tr>
<tr class="memdesc:aeb003fdeed7adec852f84c3799bf7f18 inherit pub_methods_classarbitrator_1_1CostFunction"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the cost of a given maneuver plan.  <a href="classarbitrator_1_1CostFunction.html#aeb003fdeed7adec852f84c3799bf7f18">More...</a><br /></td></tr>
<tr class="separator:aeb003fdeed7adec852f84c3799bf7f18 inherit pub_methods_classarbitrator_1_1CostFunction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e43ee76c0948048b639ee1eed3834cb inherit pub_methods_classarbitrator_1_1CostFunction"><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarbitrator_1_1CostFunction.html#a7e43ee76c0948048b639ee1eed3834cb">compute_cost_per_unit_distance</a> (const carma_planning_msgs::msg::ManeuverPlan &amp;plan)=0</td></tr>
<tr class="memdesc:a7e43ee76c0948048b639ee1eed3834cb inherit pub_methods_classarbitrator_1_1CostFunction"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute the unit cost over distance of a given maneuver plan.  <a href="classarbitrator_1_1CostFunction.html#a7e43ee76c0948048b639ee1eed3834cb">More...</a><br /></td></tr>
<tr class="separator:a7e43ee76c0948048b639ee1eed3834cb inherit pub_methods_classarbitrator_1_1CostFunction"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66d6a92f0bb66cdb2a9f435ef6a2c93c inherit pub_methods_classarbitrator_1_1CostFunction"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarbitrator_1_1CostFunction.html#a66d6a92f0bb66cdb2a9f435ef6a2c93c">~CostFunction</a> ()</td></tr>
<tr class="memdesc:a66d6a92f0bb66cdb2a9f435ef6a2c93c inherit pub_methods_classarbitrator_1_1CostFunction"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor provided for memory safety.  <a href="classarbitrator_1_1CostFunction.html#a66d6a92f0bb66cdb2a9f435ef6a2c93c">More...</a><br /></td></tr>
<tr class="separator:a66d6a92f0bb66cdb2a9f435ef6a2c93c inherit pub_methods_classarbitrator_1_1CostFunction"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad732509a0c51bb42552cf553b0f21716"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classarbitrator_1_1FixedPriorityCostFunction.html#ad732509a0c51bb42552cf553b0f21716">plugin_costs_</a></td></tr>
<tr class="separator:ad732509a0c51bb42552cf553b0f21716"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Implementation of the <a class="el" href="classarbitrator_1_1CostFunction.html" title="Generic interface representing a means of computing cost for plans in the search graph.">CostFunction</a> interface. </p>
<p >Implements costs by associating a fixed priority number with each plugin (as specified by configuration). This priority is then normalized across all plugins, and then an inverse is computed to arrive at the cost per unit distance for that plugins.</p>
<p >e.g. Three plugins with priority 20, 10, and 5 will respectively have costs 0, 0.5, 0.75 per unit distance. </p>

<p class="definition">Definition at line <a class="el" href="fixed__priority__cost__function_8hpp_source.html#l00037">37</a> of file <a class="el" href="fixed__priority__cost__function_8hpp_source.html">fixed_priority_cost_function.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac44b0be7c5e16d6906a67ef584170ac0" name="ac44b0be7c5e16d6906a67ef584170ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac44b0be7c5e16d6906a67ef584170ac0">&#9670;&nbsp;</a></span>FixedPriorityCostFunction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arbitrator::FixedPriorityCostFunction::FixedPriorityCostFunction </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; std::string, double &gt; &amp;&#160;</td>
          <td class="paramname"><em>plugin_priorities</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for <a class="el" href="classarbitrator_1_1FixedPriorityCostFunction.html" title="Implementation of the CostFunction interface.">FixedPriorityCostFunction</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plugin_priorities</td><td>with plugin_name, priority_value mappings </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="fixed__priority__cost__function_8cpp_source.html#l00025">25</a> of file <a class="el" href="fixed__priority__cost__function_8cpp_source.html">fixed_priority_cost_function.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   26</span>    {</div>
<div class="line"><span class="lineno">   27</span>        <span class="comment">// Identify the highest priority values present in the list</span></div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordtype">double</span> max_priority = std::numeric_limits&lt;double&gt;::lowest();</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = plugin_priorities.begin(); it != plugin_priorities.end(); it++)</div>
<div class="line"><span class="lineno">   30</span>        {</div>
<div class="line"><span class="lineno">   31</span>            <span class="keywordflow">if</span> (it-&gt;second &gt; max_priority)</div>
<div class="line"><span class="lineno">   32</span>            {</div>
<div class="line"><span class="lineno">   33</span>                max_priority = it-&gt;second;</div>
<div class="line"><span class="lineno">   34</span>            }</div>
<div class="line"><span class="lineno">   35</span>        }</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>        <span class="comment">// Normalize the list and invert into costs</span></div>
<div class="line"><span class="lineno">   38</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = plugin_priorities.begin(); it != plugin_priorities.end(); it++)</div>
<div class="line"><span class="lineno">   39</span>        {</div>
<div class="line"><span class="lineno">   40</span>            <a class="code hl_variable" href="classarbitrator_1_1FixedPriorityCostFunction.html#ad732509a0c51bb42552cf553b0f21716">plugin_costs_</a>[it-&gt;first] = 1.0 - (it-&gt;second / max_priority);</div>
<div class="line"><span class="lineno">   41</span>            RCLCPP_INFO_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;arbitrator&quot;</span>), <span class="stringliteral">&quot;FixedPriorityCostFunction: &quot;</span> &lt;&lt; <span class="stringliteral">&quot;Plugin: &quot;</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="stringliteral">&quot; Normalized Cost: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classarbitrator_1_1FixedPriorityCostFunction.html#ad732509a0c51bb42552cf553b0f21716">plugin_costs_</a>[it-&gt;first]);</div>
<div class="line"><span class="lineno">   42</span>        }</div>
<div class="line"><span class="lineno">   43</span>    }</div>
<div class="ttc" id="aclassarbitrator_1_1FixedPriorityCostFunction_html_ad732509a0c51bb42552cf553b0f21716"><div class="ttname"><a href="classarbitrator_1_1FixedPriorityCostFunction.html#ad732509a0c51bb42552cf553b0f21716">arbitrator::FixedPriorityCostFunction::plugin_costs_</a></div><div class="ttdeci">std::map&lt; std::string, double &gt; plugin_costs_</div><div class="ttdef"><b>Definition:</b> <a href="fixed__priority__cost__function_8hpp_source.html#l00060">fixed_priority_cost_function.hpp:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fixed__priority__cost__function_8hpp_source.html#l00060">plugin_costs_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af8a6a6403fc569d88928ee360fba247c" name="af8a6a6403fc569d88928ee360fba247c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8a6a6403fc569d88928ee360fba247c">&#9670;&nbsp;</a></span>compute_cost_per_unit_distance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double arbitrator::FixedPriorityCostFunction::compute_cost_per_unit_distance </td>
          <td>(</td>
          <td class="paramtype">const carma_planning_msgs::msg::ManeuverPlan &amp;&#160;</td>
          <td class="paramname"><em>plan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the unit cost over distance of a given maneuver plan. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plan</td><td>The plan to evaluate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double The total cost divided by the total distance of the plan </dd></dl>

<p>Implements <a class="el" href="classarbitrator_1_1CostFunction.html#a7e43ee76c0948048b639ee1eed3834cb">arbitrator::CostFunction</a>.</p>

<p class="definition">Definition at line <a class="el" href="fixed__priority__cost__function_8cpp_source.html#l00058">58</a> of file <a class="el" href="fixed__priority__cost__function_8cpp_source.html">fixed_priority_cost_function.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>    {</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordtype">double</span> plan_dist = <a class="code hl_function" href="namespacearbitrator__utils.html#a65bbb318c9128fbbefeedc250a79a28a">arbitrator_utils::get_plan_end_distance</a>(plan) - <a class="code hl_function" href="namespacearbitrator__utils.html#a75f1142880156c33285acc3c46a65eb4">arbitrator_utils::get_plan_start_distance</a>(plan);</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classarbitrator_1_1FixedPriorityCostFunction.html#a898692f35cda57fa08cd8aee9e15ff16">compute_total_cost</a>(plan) / plan_dist;</div>
<div class="line"><span class="lineno">   62</span>    }</div>
<div class="ttc" id="aclassarbitrator_1_1FixedPriorityCostFunction_html_a898692f35cda57fa08cd8aee9e15ff16"><div class="ttname"><a href="classarbitrator_1_1FixedPriorityCostFunction.html#a898692f35cda57fa08cd8aee9e15ff16">arbitrator::FixedPriorityCostFunction::compute_total_cost</a></div><div class="ttdeci">double compute_total_cost(const carma_planning_msgs::msg::ManeuverPlan &amp;plan)</div><div class="ttdoc">Compute the unit cost over distance of a given maneuver plan.</div><div class="ttdef"><b>Definition:</b> <a href="fixed__priority__cost__function_8cpp_source.html#l00045">fixed_priority_cost_function.cpp:45</a></div></div>
<div class="ttc" id="anamespacearbitrator__utils_html_a65bbb318c9128fbbefeedc250a79a28a"><div class="ttname"><a href="namespacearbitrator__utils.html#a65bbb318c9128fbbefeedc250a79a28a">arbitrator_utils::get_plan_end_distance</a></div><div class="ttdeci">double get_plan_end_distance(const carma_planning_msgs::msg::ManeuverPlan &amp;)</div><div class="ttdoc">Get the end distance of the first maneuver in the plan.</div><div class="ttdef"><b>Definition:</b> <a href="arbitrator__utils_8cpp_source.html#l00036">arbitrator_utils.cpp:36</a></div></div>
<div class="ttc" id="anamespacearbitrator__utils_html_a75f1142880156c33285acc3c46a65eb4"><div class="ttname"><a href="namespacearbitrator__utils.html#a75f1142880156c33285acc3c46a65eb4">arbitrator_utils::get_plan_start_distance</a></div><div class="ttdeci">double get_plan_start_distance(const carma_planning_msgs::msg::ManeuverPlan &amp;)</div><div class="ttdoc">Get the start distance of the first maneuver in the plan.</div><div class="ttdef"><b>Definition:</b> <a href="arbitrator__utils_8cpp_source.html#l00058">arbitrator_utils.cpp:58</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="fixed__priority__cost__function_8cpp_source.html#l00045">compute_total_cost()</a>, <a class="el" href="arbitrator__utils_8cpp_source.html#l00036">arbitrator_utils::get_plan_end_distance()</a>, and <a class="el" href="arbitrator__utils_8cpp_source.html#l00058">arbitrator_utils::get_plan_start_distance()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classarbitrator_1_1FixedPriorityCostFunction_af8a6a6403fc569d88928ee360fba247c_cgraph.png" border="0" usemap="#aclassarbitrator_1_1FixedPriorityCostFunction_af8a6a6403fc569d88928ee360fba247c_cgraph" alt=""/></div>
<map name="aclassarbitrator_1_1FixedPriorityCostFunction_af8a6a6403fc569d88928ee360fba247c_cgraph" id="aclassarbitrator_1_1FixedPriorityCostFunction_af8a6a6403fc569d88928ee360fba247c_cgraph">
<area shape="rect" title="Compute the unit cost over distance of a given maneuver plan." alt="" coords="5,63,192,119"/>
<area shape="rect" href="classarbitrator_1_1FixedPriorityCostFunction.html#a898692f35cda57fa08cd8aee9e15ff16" title="Compute the unit cost over distance of a given maneuver plan." alt="" coords="240,71,459,112"/>
<area shape="rect" href="namespacearbitrator__utils.html#a65bbb318c9128fbbefeedc250a79a28a" title="Get the end distance of the first maneuver in the plan." alt="" coords="281,5,418,47"/>
<area shape="rect" href="namespacearbitrator__utils.html#a75f1142880156c33285acc3c46a65eb4" title="Get the start distance of the first maneuver in the plan." alt="" coords="278,136,421,177"/>
<area shape="rect" href="namespacearbitrator__utils.html#a55896d5750ee654556f9496e4d71e6d4" title="Get the end distance of the specified maneuver." alt="" coords="509,39,679,80"/>
<area shape="rect" href="namespacearbitrator__utils.html#a3cbf7c6ae8d6fa35e0106a165706bf0b" title="Get the start distance the specified maneuver." alt="" coords="507,120,681,161"/>
</map>
</div>

</div>
</div>
<a id="a898692f35cda57fa08cd8aee9e15ff16" name="a898692f35cda57fa08cd8aee9e15ff16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a898692f35cda57fa08cd8aee9e15ff16">&#9670;&nbsp;</a></span>compute_total_cost()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double arbitrator::FixedPriorityCostFunction::compute_total_cost </td>
          <td>(</td>
          <td class="paramtype">const carma_planning_msgs::msg::ManeuverPlan &amp;&#160;</td>
          <td class="paramname"><em>plan</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute the unit cost over distance of a given maneuver plan. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">plan</td><td>The plan to evaluate </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>double The total cost divided by the total distance of the plan </dd></dl>

<p>Implements <a class="el" href="classarbitrator_1_1CostFunction.html#aeb003fdeed7adec852f84c3799bf7f18">arbitrator::CostFunction</a>.</p>

<p class="definition">Definition at line <a class="el" href="fixed__priority__cost__function_8cpp_source.html#l00045">45</a> of file <a class="el" href="fixed__priority__cost__function_8cpp_source.html">fixed_priority_cost_function.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>    {</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordtype">double</span> total_cost = 0.0;</div>
<div class="line"><span class="lineno">   48</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = plan.maneuvers.begin(); it != plan.maneuvers.end(); it++)</div>
<div class="line"><span class="lineno">   49</span>        {</div>
<div class="line"><span class="lineno">   50</span>            std::string planning_plugin = <a class="code hl_define" href="arbitrator__utils_8hpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a>(*it, parameters).planning_strategic_plugin;</div>
<div class="line"><span class="lineno">   51</span>            total_cost += (<a class="code hl_function" href="namespacearbitrator__utils.html#a55896d5750ee654556f9496e4d71e6d4">arbitrator_utils::get_maneuver_end_distance</a>(*it) - <a class="code hl_function" href="namespacearbitrator__utils.html#a3cbf7c6ae8d6fa35e0106a165706bf0b">arbitrator_utils::get_maneuver_start_distance</a>(*it)) *</div>
<div class="line"><span class="lineno">   52</span>                <a class="code hl_variable" href="classarbitrator_1_1FixedPriorityCostFunction.html#ad732509a0c51bb42552cf553b0f21716">plugin_costs_</a>.at(planning_plugin);</div>
<div class="line"><span class="lineno">   53</span>        }</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">return</span> total_cost;</div>
<div class="line"><span class="lineno">   56</span>    }</div>
<div class="ttc" id="aarbitrator__utils_8hpp_html_a066f948508e087006568cb6c9b0674a7"><div class="ttname"><a href="arbitrator__utils_8hpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a></div><div class="ttdeci">#define GET_MANEUVER_PROPERTY(mvr, property)</div><div class="ttdoc">Macro definition to enable easier access to fields shared across the maneuver typees.</div><div class="ttdef"><b>Definition:</b> <a href="arbitrator__utils_8hpp_source.html#l00033">arbitrator_utils.hpp:33</a></div></div>
<div class="ttc" id="anamespacearbitrator__utils_html_a3cbf7c6ae8d6fa35e0106a165706bf0b"><div class="ttname"><a href="namespacearbitrator__utils.html#a3cbf7c6ae8d6fa35e0106a165706bf0b">arbitrator_utils::get_maneuver_start_distance</a></div><div class="ttdeci">double get_maneuver_start_distance(const carma_planning_msgs::msg::Maneuver &amp;)</div><div class="ttdoc">Get the start distance the specified maneuver.</div><div class="ttdef"><b>Definition:</b> <a href="arbitrator__utils_8cpp_source.html#l00084">arbitrator_utils.cpp:84</a></div></div>
<div class="ttc" id="anamespacearbitrator__utils_html_a55896d5750ee654556f9496e4d71e6d4"><div class="ttname"><a href="namespacearbitrator__utils.html#a55896d5750ee654556f9496e4d71e6d4">arbitrator_utils::get_maneuver_end_distance</a></div><div class="ttdeci">double get_maneuver_end_distance(const carma_planning_msgs::msg::Maneuver &amp;)</div><div class="ttdoc">Get the end distance of the specified maneuver.</div><div class="ttdef"><b>Definition:</b> <a href="arbitrator__utils_8cpp_source.html#l00079">arbitrator_utils.cpp:79</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="arbitrator__utils_8cpp_source.html#l00079">arbitrator_utils::get_maneuver_end_distance()</a>, <a class="el" href="arbitrator__utils_8hpp_source.html#l00033">GET_MANEUVER_PROPERTY</a>, <a class="el" href="arbitrator__utils_8cpp_source.html#l00084">arbitrator_utils::get_maneuver_start_distance()</a>, and <a class="el" href="fixed__priority__cost__function_8hpp_source.html#l00060">plugin_costs_</a>.</p>

<p class="reference">Referenced by <a class="el" href="fixed__priority__cost__function_8cpp_source.html#l00058">compute_cost_per_unit_distance()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classarbitrator_1_1FixedPriorityCostFunction_a898692f35cda57fa08cd8aee9e15ff16_cgraph.png" border="0" usemap="#aclassarbitrator_1_1FixedPriorityCostFunction_a898692f35cda57fa08cd8aee9e15ff16_cgraph" alt=""/></div>
<map name="aclassarbitrator_1_1FixedPriorityCostFunction_a898692f35cda57fa08cd8aee9e15ff16_cgraph" id="aclassarbitrator_1_1FixedPriorityCostFunction_a898692f35cda57fa08cd8aee9e15ff16_cgraph">
<area shape="rect" title="Compute the unit cost over distance of a given maneuver plan." alt="" coords="5,39,224,80"/>
<area shape="rect" href="namespacearbitrator__utils.html#a55896d5750ee654556f9496e4d71e6d4" title="Get the end distance of the specified maneuver." alt="" coords="274,5,445,47"/>
<area shape="rect" href="namespacearbitrator__utils.html#a3cbf7c6ae8d6fa35e0106a165706bf0b" title="Get the start distance the specified maneuver." alt="" coords="272,71,447,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classarbitrator_1_1FixedPriorityCostFunction_a898692f35cda57fa08cd8aee9e15ff16_icgraph.png" border="0" usemap="#aclassarbitrator_1_1FixedPriorityCostFunction_a898692f35cda57fa08cd8aee9e15ff16_icgraph" alt=""/></div>
<map name="aclassarbitrator_1_1FixedPriorityCostFunction_a898692f35cda57fa08cd8aee9e15ff16_icgraph" id="aclassarbitrator_1_1FixedPriorityCostFunction_a898692f35cda57fa08cd8aee9e15ff16_icgraph">
<area shape="rect" title="Compute the unit cost over distance of a given maneuver plan." alt="" coords="240,13,459,54"/>
<area shape="rect" href="classarbitrator_1_1FixedPriorityCostFunction.html#af8a6a6403fc569d88928ee360fba247c" title="Compute the unit cost over distance of a given maneuver plan." alt="" coords="5,5,192,61"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad732509a0c51bb42552cf553b0f21716" name="ad732509a0c51bb42552cf553b0f21716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad732509a0c51bb42552cf553b0f21716">&#9670;&nbsp;</a></span>plugin_costs_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, double&gt; arbitrator::FixedPriorityCostFunction::plugin_costs_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="fixed__priority__cost__function_8hpp_source.html#l00060">60</a> of file <a class="el" href="fixed__priority__cost__function_8hpp_source.html">fixed_priority_cost_function.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="fixed__priority__cost__function_8cpp_source.html#l00025">FixedPriorityCostFunction()</a>, and <a class="el" href="fixed__priority__cost__function_8cpp_source.html#l00045">compute_total_cost()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>arbitrator/include/<a class="el" href="fixed__priority__cost__function_8hpp_source.html">fixed_priority_cost_function.hpp</a></li>
<li>arbitrator/src/<a class="el" href="fixed__priority__cost__function_8cpp_source.html">fixed_priority_cost_function.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacearbitrator.html">arbitrator</a></li><li class="navelem"><a class="el" href="classarbitrator_1_1FixedPriorityCostFunction.html">FixedPriorityCostFunction</a></li>
    <li class="footer">Generated on Thu Jan 19 2023 16:03:32 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
