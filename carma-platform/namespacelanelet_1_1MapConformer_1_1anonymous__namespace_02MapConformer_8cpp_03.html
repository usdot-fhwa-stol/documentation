<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: lanelet::MapConformer::anonymous_namespace{MapConformer.cpp} Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp} Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab35f87a726141bcdebae6fa19a7f0820"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a> { <br />
&#160;&#160;<a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c">ToRight</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e">ToLeft</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e">Both</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754">None</a>
, <br />
&#160;&#160;<a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c">ToRight</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e">ToLeft</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e">Both</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754">None</a>
<br />
 }</td></tr>
<tr class="separator:ab35f87a726141bcdebae6fa19a7f0820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab35f87a726141bcdebae6fa19a7f0820"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a> { <br />
&#160;&#160;<a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c">ToRight</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e">ToLeft</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e">Both</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754">None</a>
, <br />
&#160;&#160;<a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c">ToRight</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e">ToLeft</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e">Both</a>
, <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754">None</a>
<br />
 }</td></tr>
<tr class="separator:ab35f87a726141bcdebae6fa19a7f0820"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2525aaa126b452e8c2ac0dfdd9eb8556"><td class="memItemLeft" align="right" valign="top">std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a2525aaa126b452e8c2ac0dfdd9eb8556">getAllGermanTrafficRules</a> ()</td></tr>
<tr class="memdesc:a2525aaa126b452e8c2ac0dfdd9eb8556"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to return the set of all german traffic rules which are currently implemented.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a2525aaa126b452e8c2ac0dfdd9eb8556">More...</a><br /></td></tr>
<tr class="separator:a2525aaa126b452e8c2ac0dfdd9eb8556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cd14f5d9ebf27510d794f22e61e887"><td class="memTemplParams" colspan="2">template&lt;typename Map , typename Key , typename <a class="el" href="document_8h.html#a071cf97155ba72ac9a1fc4ad7e63d481">Value</a> &gt; </td></tr>
<tr class="memitem:ae5cd14f5d9ebf27510d794f22e61e887"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="document_8h.html#a071cf97155ba72ac9a1fc4ad7e63d481">Value</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887">getMapOrDefault</a> (const Map &amp;map, Key key, <a class="el" href="document_8h.html#a071cf97155ba72ac9a1fc4ad7e63d481">Value</a> defaultVal)</td></tr>
<tr class="memdesc:ae5cd14f5d9ebf27510d794f22e61e887"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to get a value from a map or return a default value when key is not present.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887">More...</a><br /></td></tr>
<tr class="separator:ae5cd14f5d9ebf27510d794f22e61e887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7989b69694d8848cb026d07701db624"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae7989b69694d8848cb026d07701db624">startswith</a> (const std::string &amp;str, const std::string &amp;substr)</td></tr>
<tr class="memdesc:ae7989b69694d8848cb026d07701db624"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to check if a string starts with another string.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae7989b69694d8848cb026d07701db624">More...</a><br /></td></tr>
<tr class="separator:ae7989b69694d8848cb026d07701db624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10f5c950a1e39216cc76ab67d4cecf9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e">getChangeType</a> (const std::string &amp;type, const std::string &amp;subtype, const std::string &amp;participant)</td></tr>
<tr class="memdesc:a10f5c950a1e39216cc76ab67d4cecf9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to determine the type of lane change implicitly allowed by the markings on the road.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e">More...</a><br /></td></tr>
<tr class="separator:a10f5c950a1e39216cc76ab67d4cecf9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a462f89ac22e79644baf6ce9c0afe8877"><td class="memItemLeft" align="right" valign="top">PassingControlLinePtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a462f89ac22e79644baf6ce9c0afe8877">buildControlLine</a> (LineString3d &amp;bound, const <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a> type, const std::string &amp;participant)</td></tr>
<tr class="memdesc:a462f89ac22e79644baf6ce9c0afe8877"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function constructs a PassingControlLine based off the provided bound and lane change type.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a462f89ac22e79644baf6ce9c0afe8877">More...</a><br /></td></tr>
<tr class="separator:a462f89ac22e79644baf6ce9c0afe8877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a392155d7ebd184c40248df394dd0413b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a392155d7ebd184c40248df394dd0413b">addInferredAccessRule</a> (Lanelet &amp;lanelet, lanelet::LaneletMapPtr map, const std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; &amp;default_traffic_rules)</td></tr>
<tr class="memdesc:a392155d7ebd184c40248df394dd0413b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate RegionAccessRules from the inferred regulations in the provided map and lanelet.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a392155d7ebd184c40248df394dd0413b">More...</a><br /></td></tr>
<tr class="separator:a392155d7ebd184c40248df394dd0413b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27b015c3c3fd8cc7ff6f699ea47f4f83"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a27b015c3c3fd8cc7ff6f699ea47f4f83">addInferredAccessRule</a> (Area &amp;area, lanelet::LaneletMapPtr map, const std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; &amp;default_traffic_rules)</td></tr>
<tr class="memdesc:a27b015c3c3fd8cc7ff6f699ea47f4f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate RegionAccessRules from the inferred regulations in the provided map and area.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a27b015c3c3fd8cc7ff6f699ea47f4f83">More...</a><br /></td></tr>
<tr class="separator:a27b015c3c3fd8cc7ff6f699ea47f4f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a57b007f609dd29f9c724c7d1a17276"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a8a57b007f609dd29f9c724c7d1a17276">addInferredPassingControlLine</a> (Lanelet &amp;lanelet, lanelet::LaneletMapPtr map)</td></tr>
<tr class="memdesc:a8a57b007f609dd29f9c724c7d1a17276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate PassingControlLines from the inferred regulations in the provided map and lanelet.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a8a57b007f609dd29f9c724c7d1a17276">More...</a><br /></td></tr>
<tr class="separator:a8a57b007f609dd29f9c724c7d1a17276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8c925223b7579ca2fa9f69da4d459a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a7b8c925223b7579ca2fa9f69da4d459a">addInferredPassingControlLine</a> (Area &amp;area, lanelet::LaneletMapPtr map)</td></tr>
<tr class="memdesc:a7b8c925223b7579ca2fa9f69da4d459a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate PassingControlLines from the inferred regulations in the provided map and area.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a7b8c925223b7579ca2fa9f69da4d459a">More...</a><br /></td></tr>
<tr class="separator:a7b8c925223b7579ca2fa9f69da4d459a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43c962b265bf537dbc35cd4894a4fbe8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a43c962b265bf537dbc35cd4894a4fbe8">addInferredDirectionOfTravel</a> (Lanelet &amp;lanelet, lanelet::LaneletMapPtr map, const std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; &amp;default_traffic_rules)</td></tr>
<tr class="memdesc:a43c962b265bf537dbc35cd4894a4fbe8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate DirectionOfTravel from the inferred regulations in the provided map and lanelet Only adds a regulatory element if the direction of travel is not one_way as that is the default.  <a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a43c962b265bf537dbc35cd4894a4fbe8">More...</a><br /></td></tr>
<tr class="separator:a43c962b265bf537dbc35cd4894a4fbe8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76a04caafb69f81d7f16c58060b3644f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a76a04caafb69f81d7f16c58060b3644f">addValidSpeedLimit</a> (Lanelet &amp;lanelet, lanelet::LaneletMapPtr map, lanelet::Velocity config_limit, const std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; &amp;default_traffic_rules)</td></tr>
<tr class="separator:a76a04caafb69f81d7f16c58060b3644f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4f35e817fd47cb295c1c9e3e5671caad"><td class="memItemLeft" align="right" valign="top">constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a4f35e817fd47cb295c1c9e3e5671caad">PARTICIPANT_COUNT</a> = 12</td></tr>
<tr class="separator:a4f35e817fd47cb295c1c9e3e5671caad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab46f146617af5fa4e0cce8513ce7c1b2"><td class="memItemLeft" align="right" valign="top">constexpr const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab46f146617af5fa4e0cce8513ce7c1b2">participant_types</a> [<a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a4f35e817fd47cb295c1c9e3e5671caad">PARTICIPANT_COUNT</a>]</td></tr>
<tr class="separator:ab46f146617af5fa4e0cce8513ce7c1b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ab35f87a726141bcdebae6fa19a7f0820" name="ab35f87a726141bcdebae6fa19a7f0820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab35f87a726141bcdebae6fa19a7f0820">&#9670;&nbsp;</a></span>LaneChangeType <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::LaneChangeType</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c" name="ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c"></a>ToRight&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e" name="ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e"></a>ToLeft&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e" name="ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e"></a>Both&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754" name="ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754"></a>None&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c" name="ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c"></a>ToRight&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e" name="ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e"></a>ToLeft&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e" name="ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e"></a>Both&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754" name="ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754"></a>None&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00038">38</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>{</div>
<div class="line"><span class="lineno">   40</span>  <a class="code hl_enumvalue" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c">ToRight</a>,</div>
<div class="line"><span class="lineno">   41</span>  <a class="code hl_enumvalue" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e">ToLeft</a>,</div>
<div class="line"><span class="lineno">   42</span>  <a class="code hl_enumvalue" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e">Both</a>,</div>
<div class="line"><span class="lineno">   43</span>  <a class="code hl_enumvalue" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754">None</a></div>
<div class="line"><span class="lineno">   44</span>};</div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::LaneChangeType::Both</a></div><div class="ttdeci">@ Both</div></div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::LaneChangeType::ToLeft</a></div><div class="ttdeci">@ ToLeft</div></div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::LaneChangeType::None</a></div><div class="ttdeci">@ None</div></div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::LaneChangeType::ToRight</a></div><div class="ttdeci">@ ToRight</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab35f87a726141bcdebae6fa19a7f0820" name="ab35f87a726141bcdebae6fa19a7f0820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab35f87a726141bcdebae6fa19a7f0820">&#9670;&nbsp;</a></span>LaneChangeType <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::LaneChangeType</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c" name="ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c"></a>ToRight&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e" name="ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e"></a>ToLeft&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e" name="ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e"></a>Both&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754" name="ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754"></a>None&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c" name="ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c"></a>ToRight&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e" name="ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e"></a>ToLeft&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e" name="ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e"></a>Both&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754" name="ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754"></a>None&#160;</td><td class="fielddoc"></td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="ros2_2src_2MapConformer_8cpp_source.html#l00038">38</a> of file <a class="el" href="ros2_2src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>{</div>
<div class="line"><span class="lineno">   40</span>  <a class="code hl_enumvalue" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a7b75dfc7b1f858ecd4b3083ae3e2595c">ToRight</a>,</div>
<div class="line"><span class="lineno">   41</span>  <a class="code hl_enumvalue" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a62915910963ecbbf57ce72b91185f77e">ToLeft</a>,</div>
<div class="line"><span class="lineno">   42</span>  <a class="code hl_enumvalue" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a130c5b3473c57faa76e2a1c54e26f88e">Both</a>,</div>
<div class="line"><span class="lineno">   43</span>  <a class="code hl_enumvalue" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820a6adf97f83acf6453d4a6a4b1070f3754">None</a></div>
<div class="line"><span class="lineno">   44</span>};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a27b015c3c3fd8cc7ff6f699ea47f4f83" name="a27b015c3c3fd8cc7ff6f699ea47f4f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27b015c3c3fd8cc7ff6f699ea47f4f83">&#9670;&nbsp;</a></span>addInferredAccessRule() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::addInferredAccessRule </td>
          <td>(</td>
          <td class="paramtype">Area &amp;&#160;</td>
          <td class="paramname"><em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::LaneletMapPtr&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; &amp;&#160;</td>
          <td class="paramname"><em>default_traffic_rules</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate RegionAccessRules from the inferred regulations in the provided map and area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">area</td><td>The area to generate the rules for </td></tr>
    <tr><td class="paramname">map</td><td>The map which the area is part of </td></tr>
    <tr><td class="paramname">default_traffic_rules</td><td>The set of traffic rules to treat as guidance for interpreting the map </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00278">278</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  280</span>{</div>
<div class="line"><span class="lineno">  281</span>  <span class="keyword">auto</span> access_rules = area.regulatoryElementsAs&lt;RegionAccessRule&gt;();</div>
<div class="line"><span class="lineno">  282</span>  <span class="comment">// If the lanelet does not have an access rule then add one based on the generic traffic rules</span></div>
<div class="line"><span class="lineno">  283</span>  <span class="keywordflow">if</span> (access_rules.size() == 0)</div>
<div class="line"><span class="lineno">  284</span>  {  <span class="comment">// No access rule detected so add one</span></div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>    <span class="comment">// We want to check for all participants which are currently supported</span></div>
<div class="line"><span class="lineno">  287</span>    std::vector&lt;std::string&gt; allowed_participants;</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rules : default_traffic_rules)</div>
<div class="line"><span class="lineno">  290</span>    {</div>
<div class="line"><span class="lineno">  291</span>      <span class="keywordflow">if</span> (rules-&gt;canPass(area))</div>
<div class="line"><span class="lineno">  292</span>      {</div>
<div class="line"><span class="lineno">  293</span>        allowed_participants.emplace_back(rules-&gt;participant());</div>
<div class="line"><span class="lineno">  294</span>      }</div>
<div class="line"><span class="lineno">  295</span>    }</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>    std::shared_ptr&lt;RegionAccessRule&gt; rar(</div>
<div class="line"><span class="lineno">  298</span>        <span class="keyword">new</span> RegionAccessRule(RegionAccessRule::buildData(lanelet::utils::getId(), {}, { area }, allowed_participants)));</div>
<div class="line"><span class="lineno">  299</span>    area.addRegulatoryElement(rar);</div>
<div class="line"><span class="lineno">  300</span>    map-&gt;add(rar);</div>
<div class="line"><span class="lineno">  301</span>  }</div>
<div class="line"><span class="lineno">  302</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00550">lanelet::MapConformer::ensureCompliance()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a27b015c3c3fd8cc7ff6f699ea47f4f83_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a27b015c3c3fd8cc7ff6f699ea47f4f83_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a27b015c3c3fd8cc7ff6f699ea47f4f83_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a27b015c3c3fd8cc7ff6f699ea47f4f83_icgraph">
<area shape="rect" title="Generate RegionAccessRules from the inferred regulations in the provided map and area." alt="" coords="963,24,1176,95"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer.html#a20caaf0f529166126f0f4ea4d80f80d0" title="Function modifies an existing map to make a best effort attempt at ensuring the map confroms to the e..." alt="" coords="764,39,915,80"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcaster.html#a243d8d82a364aad6270e38f0202a68cb" title="Callback to set the base map when it has been loaded." alt="" coords="505,5,716,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a89c0e3bfedd0bf9719127896b3fcb06c" title="helper function for creating lanelet map for getGuidanceTestMap" alt="" coords="509,71,712,112"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcasterNode.html#ab0c14f6d7e30870755a4dcf6b228de82" title=" " alt="" coords="247,5,457,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a8f15f836dede141bcabe292a0f9a1751" title="Gets the CARMAWorldModel for the guidance test map." alt="" coords="255,71,449,112"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a12ad39e45b75cd8d450bef06a1da8020" title=" " alt="" coords="5,71,199,112"/>
</map>
</div>

</div>
</div>
<a id="a392155d7ebd184c40248df394dd0413b" name="a392155d7ebd184c40248df394dd0413b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a392155d7ebd184c40248df394dd0413b">&#9670;&nbsp;</a></span>addInferredAccessRule() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::addInferredAccessRule </td>
          <td>(</td>
          <td class="paramtype">Lanelet &amp;&#160;</td>
          <td class="paramname"><em>lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::LaneletMapPtr&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; &amp;&#160;</td>
          <td class="paramname"><em>default_traffic_rules</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate RegionAccessRules from the inferred regulations in the provided map and lanelet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lanelet</td><td>The lanelet to generate the rules for </td></tr>
    <tr><td class="paramname">map</td><td>The map which the lanelet is part of </td></tr>
    <tr><td class="paramname">default_traffic_rules</td><td>The set of traffic rules to treat as guidance for interpreting the map </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00245">245</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  247</span>{</div>
<div class="line"><span class="lineno">  248</span>  <span class="keyword">auto</span> access_rules = <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.regulatoryElementsAs&lt;RegionAccessRule&gt;();</div>
<div class="line"><span class="lineno">  249</span>  <span class="comment">// If the lanelet does not have an access rule then add one based on the generic traffic rules</span></div>
<div class="line"><span class="lineno">  250</span>  <span class="keywordflow">if</span> (access_rules.size() == 0)</div>
<div class="line"><span class="lineno">  251</span>  {  <span class="comment">// No access rule detected so add one</span></div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>    <span class="comment">// We want to check for all participants which are currently supported</span></div>
<div class="line"><span class="lineno">  254</span>    std::vector&lt;std::string&gt; allowed_participants;</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rules : default_traffic_rules)</div>
<div class="line"><span class="lineno">  257</span>    {</div>
<div class="line"><span class="lineno">  258</span>      <span class="keywordflow">if</span> (rules-&gt;canPass(<a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>))</div>
<div class="line"><span class="lineno">  259</span>      {</div>
<div class="line"><span class="lineno">  260</span>        allowed_participants.emplace_back(rules-&gt;participant());</div>
<div class="line"><span class="lineno">  261</span>      }</div>
<div class="line"><span class="lineno">  262</span>    }</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>    std::shared_ptr&lt;RegionAccessRule&gt; rar(<span class="keyword">new</span> RegionAccessRule(</div>
<div class="line"><span class="lineno">  265</span>        RegionAccessRule::buildData(lanelet::utils::getId(), { <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a> }, {}, allowed_participants)));</div>
<div class="line"><span class="lineno">  266</span>    <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.addRegulatoryElement(rar);</div>
<div class="line"><span class="lineno">  267</span>    map-&gt;add(rar);</div>
<div class="line"><span class="lineno">  268</span>  }</div>
<div class="line"><span class="lineno">  269</span>}</div>
<div class="ttc" id="anamespacelanelet_html"><div class="ttname"><a href="namespacelanelet.html">lanelet</a></div><div class="ttdef"><b>Definition:</b> <a href="MapConformer_8h_source.html#l00039">MapConformer.h:40</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a43c962b265bf537dbc35cd4894a4fbe8" name="a43c962b265bf537dbc35cd4894a4fbe8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43c962b265bf537dbc35cd4894a4fbe8">&#9670;&nbsp;</a></span>addInferredDirectionOfTravel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::addInferredDirectionOfTravel </td>
          <td>(</td>
          <td class="paramtype">Lanelet &amp;&#160;</td>
          <td class="paramname"><em>lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::LaneletMapPtr&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; &amp;&#160;</td>
          <td class="paramname"><em>default_traffic_rules</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate DirectionOfTravel from the inferred regulations in the provided map and lanelet Only adds a regulatory element if the direction of travel is not one_way as that is the default. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lanelet</td><td>The lanelet to generate directions of travel for </td></tr>
    <tr><td class="paramname">map</td><td>The map which the lanelet is part of </td></tr>
    <tr><td class="paramname">default_traffic_rules</td><td>The set of traffic rules to treat as guidance for interpreting the map </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00452">452</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  454</span>{</div>
<div class="line"><span class="lineno">  455</span>  <span class="keyword">auto</span> direction_of_travel = <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.regulatoryElementsAs&lt;DirectionOfTravel&gt;();</div>
<div class="line"><span class="lineno">  456</span>  <span class="comment">// If the lanelet does not have an access rule then add one based on the generic traffic rules</span></div>
<div class="line"><span class="lineno">  457</span>  <span class="keywordflow">if</span> (direction_of_travel.size() == 0)</div>
<div class="line"><span class="lineno">  458</span>  {  <span class="comment">// No direction detected so need to check if one is required</span></div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    <span class="comment">// We want to check for all participants which are currently supported</span></div>
<div class="line"><span class="lineno">  461</span>    std::vector&lt;std::string&gt; allowed_participants;</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rules : default_traffic_rules)</div>
<div class="line"><span class="lineno">  464</span>    {</div>
<div class="line"><span class="lineno">  465</span>      <span class="keywordflow">if</span> (!rules-&gt;isOneWay(<a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>))</div>
<div class="line"><span class="lineno">  466</span>      {  <span class="comment">// Check if this lanelet is not oneway</span></div>
<div class="line"><span class="lineno">  467</span>        allowed_participants.emplace_back(rules-&gt;participant());</div>
<div class="line"><span class="lineno">  468</span>      }</div>
<div class="line"><span class="lineno">  469</span>    }</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">if</span> (allowed_participants.size() &gt; 0)</div>
<div class="line"><span class="lineno">  472</span>    {  <span class="comment">// Only add bi-directional regulations</span></div>
<div class="line"><span class="lineno">  473</span>      std::shared_ptr&lt;DirectionOfTravel&gt; rar(<span class="keyword">new</span> DirectionOfTravel(DirectionOfTravel::buildData(</div>
<div class="line"><span class="lineno">  474</span>          lanelet::utils::getId(), { <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a> }, DirectionOfTravel::BiDirectional, allowed_participants)));</div>
<div class="line"><span class="lineno">  475</span>      <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.addRegulatoryElement(rar);</div>
<div class="line"><span class="lineno">  476</span>      map-&gt;add(rar);</div>
<div class="line"><span class="lineno">  477</span>    }</div>
<div class="line"><span class="lineno">  478</span>  }</div>
<div class="line"><span class="lineno">  479</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00550">lanelet::MapConformer::ensureCompliance()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a43c962b265bf537dbc35cd4894a4fbe8_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a43c962b265bf537dbc35cd4894a4fbe8_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a43c962b265bf537dbc35cd4894a4fbe8_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a43c962b265bf537dbc35cd4894a4fbe8_icgraph">
<area shape="rect" title="Generate DirectionOfTravel from the inferred regulations in the provided map and lanelet Only adds a ..." alt="" coords="963,24,1176,95"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer.html#a20caaf0f529166126f0f4ea4d80f80d0" title="Function modifies an existing map to make a best effort attempt at ensuring the map confroms to the e..." alt="" coords="764,39,915,80"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcaster.html#a243d8d82a364aad6270e38f0202a68cb" title="Callback to set the base map when it has been loaded." alt="" coords="505,5,716,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a89c0e3bfedd0bf9719127896b3fcb06c" title="helper function for creating lanelet map for getGuidanceTestMap" alt="" coords="509,71,712,112"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcasterNode.html#ab0c14f6d7e30870755a4dcf6b228de82" title=" " alt="" coords="247,5,457,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a8f15f836dede141bcabe292a0f9a1751" title="Gets the CARMAWorldModel for the guidance test map." alt="" coords="255,71,449,112"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a12ad39e45b75cd8d450bef06a1da8020" title=" " alt="" coords="5,71,199,112"/>
</map>
</div>

</div>
</div>
<a id="a7b8c925223b7579ca2fa9f69da4d459a" name="a7b8c925223b7579ca2fa9f69da4d459a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b8c925223b7579ca2fa9f69da4d459a">&#9670;&nbsp;</a></span>addInferredPassingControlLine() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::addInferredPassingControlLine </td>
          <td>(</td>
          <td class="paramtype">Area &amp;&#160;</td>
          <td class="paramname"><em>area</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::LaneletMapPtr&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate PassingControlLines from the inferred regulations in the provided map and area. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">area</td><td>The area to generate control lines for </td></tr>
    <tr><td class="paramname">map</td><td>The map which the area is part of </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00386">386</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  387</span>{</div>
<div class="line"><span class="lineno">  388</span>  <span class="comment">// Since this class is only designed to add passing control lines based on lane changes</span></div>
<div class="line"><span class="lineno">  389</span>  <span class="comment">// we will always assume the participant is a vehicle</span></div>
<div class="line"><span class="lineno">  390</span>  std::string participant(lanelet::Participants::Vehicle);</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>  LineStrings3d outerBounds = area.outerBound();</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>  <span class="keyword">auto</span> local_control_lines = area.regulatoryElementsAs&lt;PassingControlLine&gt;();</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>  std::vector&lt;size_t&gt; found_indices;</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>  <span class="comment">// Iterate over all regulatory elements in the map to determine if there is an existing regulation for this area&#39;s</span></div>
<div class="line"><span class="lineno">  399</span>  <span class="comment">// bounds</span></div>
<div class="line"><span class="lineno">  400</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> reg_elem : map-&gt;regulatoryElementLayer)</div>
<div class="line"><span class="lineno">  401</span>  {</div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordflow">if</span> (reg_elem-&gt;attribute(AttributeName::Subtype).value() == PassingControlLine::RuleName)</div>
<div class="line"><span class="lineno">  403</span>    {</div>
<div class="line"><span class="lineno">  404</span>      <span class="keyword">auto</span> <a class="code hl_namespace" href="namespacepcl.html">pcl</a> = std::static_pointer_cast&lt;PassingControlLine&gt;(reg_elem);</div>
<div class="line"><span class="lineno">  405</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> sub_line : <a class="code hl_namespace" href="namespacepcl.html">pcl</a>-&gt;controlLine())</div>
<div class="line"><span class="lineno">  406</span>      {</div>
<div class="line"><span class="lineno">  407</span>        <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0;</div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> sub_bound : outerBounds)</div>
<div class="line"><span class="lineno">  409</span>        {</div>
<div class="line"><span class="lineno">  410</span>          <span class="keywordflow">if</span> (sub_bound.id() == sub_line.id())</div>
<div class="line"><span class="lineno">  411</span>          {</div>
<div class="line"><span class="lineno">  412</span>            found_indices.push_back(<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>);</div>
<div class="line"><span class="lineno">  413</span>            <span class="comment">// If an existing regulation applies to this area&#39;s bounds then add it to the area</span></div>
<div class="line"><span class="lineno">  414</span>            <span class="keywordtype">bool</span> alreadyAdded = lanelet::utils::contains(local_control_lines, <a class="code hl_namespace" href="namespacepcl.html">pcl</a>);</div>
<div class="line"><span class="lineno">  415</span>            <span class="keywordflow">if</span> (!alreadyAdded)</div>
<div class="line"><span class="lineno">  416</span>            {</div>
<div class="line"><span class="lineno">  417</span>              area.addRegulatoryElement(<a class="code hl_namespace" href="namespacepcl.html">pcl</a>);</div>
<div class="line"><span class="lineno">  418</span>            }</div>
<div class="line"><span class="lineno">  419</span>          }</div>
<div class="line"><span class="lineno">  420</span>        }</div>
<div class="line"><span class="lineno">  421</span>      }</div>
<div class="line"><span class="lineno">  422</span>    }</div>
<div class="line"><span class="lineno">  423</span>  }</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>  <span class="comment">// For all the bounds which did not have an existing regulation create a new one</span></div>
<div class="line"><span class="lineno">  426</span>  <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0;</div>
<div class="line"><span class="lineno">  427</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> sub_bound : outerBounds)</div>
<div class="line"><span class="lineno">  428</span>  {</div>
<div class="line"><span class="lineno">  429</span>    <span class="keywordflow">if</span> (lanelet::utils::contains(found_indices, <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>))</div>
<div class="line"><span class="lineno">  430</span>    {</div>
<div class="line"><span class="lineno">  431</span>      <span class="keywordflow">continue</span>;  <span class="comment">// Continue if this sub_bound is already accounted for</span></div>
<div class="line"><span class="lineno">  432</span>    }</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>    <a class="code hl_enumeration" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a> change_type = <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e">getChangeType</a>(sub_bound.attribute(<a class="code hl_enumeration" href="rapidjson_8h.html#a1d1cfd8ffb84e947f82999c682b666a7">AttributeName::Type</a>).value(),</div>
<div class="line"><span class="lineno">  435</span>                                               sub_bound.attribute(AttributeName::Subtype).value(), participant);</div>
<div class="line"><span class="lineno">  436</span>    PassingControlLinePtr control_line = <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a462f89ac22e79644baf6ce9c0afe8877">buildControlLine</a>(sub_bound, change_type, participant);</div>
<div class="line"><span class="lineno">  437</span>    area.addRegulatoryElement(control_line);</div>
<div class="line"><span class="lineno">  438</span>    map-&gt;add(control_line);</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>    <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++;</div>
<div class="line"><span class="lineno">  441</span>  }</div>
<div class="line"><span class="lineno">  442</span>}</div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_a10f5c950a1e39216cc76ab67d4cecf9e"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::getChangeType</a></div><div class="ttdeci">LaneChangeType getChangeType(const std::string &amp;type, const std::string &amp;subtype, const std::string &amp;participant)</div><div class="ttdoc">Helper function to determine the type of lane change implicitly allowed by the markings on the road.</div><div class="ttdef"><b>Definition:</b> <a href="src_2MapConformer_8cpp_source.html#l00155">MapConformer.cpp:155</a></div></div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_a462f89ac22e79644baf6ce9c0afe8877"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a462f89ac22e79644baf6ce9c0afe8877">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::buildControlLine</a></div><div class="ttdeci">PassingControlLinePtr buildControlLine(LineString3d &amp;bound, const LaneChangeType type, const std::string &amp;participant)</div><div class="ttdoc">Helper function constructs a PassingControlLine based off the provided bound and lane change type.</div><div class="ttdef"><b>Definition:</b> <a href="src_2MapConformer_8cpp_source.html#l00198">MapConformer.cpp:198</a></div></div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_ab35f87a726141bcdebae6fa19a7f0820"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::LaneChangeType</a></div><div class="ttdeci">LaneChangeType</div><div class="ttdef"><b>Definition:</b> <a href="ros2_2src_2MapConformer_8cpp_source.html#l00038">MapConformer.cpp:39</a></div></div>
<div class="ttc" id="anamespacepcl_html"><div class="ttname"><a href="namespacepcl.html">pcl</a></div><div class="ttdef"><b>Definition:</b> <a href="functor__filter_8h_source.html#l00024">functor_filter.h:24</a></div></div>
<div class="ttc" id="anamespaceprocess__bag_html_af102a02c97622dd30b0dbf7bafb0d199"><div class="ttname"><a href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">process_bag.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="process__bag_8py_source.html#l00059">process_bag.py:59</a></div></div>
<div class="ttc" id="arapidjson_8h_html_a1d1cfd8ffb84e947f82999c682b666a7"><div class="ttname"><a href="rapidjson_8h.html#a1d1cfd8ffb84e947f82999c682b666a7">Type</a></div><div class="ttdeci">Type</div><div class="ttdoc">Type of JSON value.</div><div class="ttdef"><b>Definition:</b> <a href="rapidjson_8h_source.html#l00616">rapidjson.h:616</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2MapConformer_8cpp_source.html#l00198">buildControlLine()</a>, <a class="el" href="src_2MapConformer_8cpp_source.html#l00155">getChangeType()</a>, and <a class="el" href="process__bag_8py_source.html#l00059">process_bag::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00550">lanelet::MapConformer::ensureCompliance()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a7b8c925223b7579ca2fa9f69da4d459a_cgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a7b8c925223b7579ca2fa9f69da4d459a_cgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a7b8c925223b7579ca2fa9f69da4d459a_cgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a7b8c925223b7579ca2fa9f69da4d459a_cgraph">
<area shape="rect" title="Generate PassingControlLines from the inferred regulations in the provided map and area." alt="" coords="5,38,219,109"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a462f89ac22e79644baf6ce9c0afe8877" title="Helper function constructs a PassingControlLine based off the provided bound and lane change type." alt="" coords="267,5,508,61"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e" title="Helper function to determine the type of lane change implicitly allowed by the markings on the road." alt="" coords="268,85,507,141"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887" title="Helper function to get a value from a map or return a default value when key is not present." alt="" coords="556,34,761,105"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae7989b69694d8848cb026d07701db624" title="Helper function to check if a string starts with another string." alt="" coords="556,129,761,185"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a7b8c925223b7579ca2fa9f69da4d459a_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a7b8c925223b7579ca2fa9f69da4d459a_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a7b8c925223b7579ca2fa9f69da4d459a_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a7b8c925223b7579ca2fa9f69da4d459a_icgraph">
<area shape="rect" title="Generate PassingControlLines from the inferred regulations in the provided map and area." alt="" coords="963,24,1176,95"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer.html#a20caaf0f529166126f0f4ea4d80f80d0" title="Function modifies an existing map to make a best effort attempt at ensuring the map confroms to the e..." alt="" coords="764,39,915,80"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcaster.html#a243d8d82a364aad6270e38f0202a68cb" title="Callback to set the base map when it has been loaded." alt="" coords="505,5,716,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a89c0e3bfedd0bf9719127896b3fcb06c" title="helper function for creating lanelet map for getGuidanceTestMap" alt="" coords="509,71,712,112"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcasterNode.html#ab0c14f6d7e30870755a4dcf6b228de82" title=" " alt="" coords="247,5,457,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a8f15f836dede141bcabe292a0f9a1751" title="Gets the CARMAWorldModel for the guidance test map." alt="" coords="255,71,449,112"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a12ad39e45b75cd8d450bef06a1da8020" title=" " alt="" coords="5,71,199,112"/>
</map>
</div>

</div>
</div>
<a id="a8a57b007f609dd29f9c724c7d1a17276" name="a8a57b007f609dd29f9c724c7d1a17276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a57b007f609dd29f9c724c7d1a17276">&#9670;&nbsp;</a></span>addInferredPassingControlLine() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::addInferredPassingControlLine </td>
          <td>(</td>
          <td class="paramtype">Lanelet &amp;&#160;</td>
          <td class="paramname"><em>lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::LaneletMapPtr&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generate PassingControlLines from the inferred regulations in the provided map and lanelet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lanelet</td><td>The lanelet to generate control lines for </td></tr>
    <tr><td class="paramname">map</td><td>The map which the lanelet is part of </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00310">310</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  311</span>{</div>
<div class="line"><span class="lineno">  312</span>  <span class="comment">// Since this class is only designed to add passing control lines based on lane changes</span></div>
<div class="line"><span class="lineno">  313</span>  <span class="comment">// we will always assume the participant is a vehicle</span></div>
<div class="line"><span class="lineno">  314</span>  std::string participant(lanelet::Participants::Vehicle);</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>  LineString3d left_bound = <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.leftBound();</div>
<div class="line"><span class="lineno">  317</span>  LineString3d right_bound = <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.rightBound();</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>  <span class="comment">// Determine possibility of lane change for left and right bounds</span></div>
<div class="line"><span class="lineno">  320</span>  <a class="code hl_enumeration" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a> left_type = <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e">getChangeType</a>(left_bound.attribute(<a class="code hl_enumeration" href="rapidjson_8h.html#a1d1cfd8ffb84e947f82999c682b666a7">AttributeName::Type</a>).value(),</div>
<div class="line"><span class="lineno">  321</span>                                           left_bound.attribute(AttributeName::Subtype).value(), participant);</div>
<div class="line"><span class="lineno">  322</span>  <a class="code hl_enumeration" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a> right_type = <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e">getChangeType</a>(right_bound.attribute(<a class="code hl_enumeration" href="rapidjson_8h.html#a1d1cfd8ffb84e947f82999c682b666a7">AttributeName::Type</a>).value(),</div>
<div class="line"><span class="lineno">  323</span>                                            right_bound.attribute(AttributeName::Subtype).value(), participant);</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>  <span class="keyword">auto</span> local_control_lines = <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.regulatoryElementsAs&lt;PassingControlLine&gt;();</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>  <span class="keywordtype">bool</span> foundLeft = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  328</span>  <span class="keywordtype">bool</span> foundRight = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>  <span class="comment">// Iterate over all regulatory elements in the map to determine if there is an existing regulation for this</span></div>
<div class="line"><span class="lineno">  331</span>  <span class="comment">// lanelet&#39;s bounds</span></div>
<div class="line"><span class="lineno">  332</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> reg_elem : map-&gt;regulatoryElementLayer)</div>
<div class="line"><span class="lineno">  333</span>  {</div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">if</span> (reg_elem-&gt;attribute(AttributeName::Subtype).value() != PassingControlLine::RuleName)</div>
<div class="line"><span class="lineno">  335</span>    {</div>
<div class="line"><span class="lineno">  336</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  337</span>    }</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>    <span class="keyword">auto</span> <a class="code hl_namespace" href="namespacepcl.html">pcl</a> = std::static_pointer_cast&lt;PassingControlLine&gt;(reg_elem);</div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> sub_line : <a class="code hl_namespace" href="namespacepcl.html">pcl</a>-&gt;controlLine())</div>
<div class="line"><span class="lineno">  341</span>    {</div>
<div class="line"><span class="lineno">  342</span>      <span class="keywordtype">bool</span> shouldAdd = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  343</span>      </div>
<div class="line"><span class="lineno">  344</span>      <span class="keywordflow">if</span> (left_bound.id() == sub_line.id() &amp;&amp; !foundLeft)</div>
<div class="line"><span class="lineno">  345</span>      {</div>
<div class="line"><span class="lineno">  346</span>        foundLeft = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  347</span>        shouldAdd = !lanelet::utils::contains(local_control_lines, <a class="code hl_namespace" href="namespacepcl.html">pcl</a>);</div>
<div class="line"><span class="lineno">  348</span>      }</div>
<div class="line"><span class="lineno">  349</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (right_bound.id() == sub_line.id() &amp;&amp; !foundRight)</div>
<div class="line"><span class="lineno">  350</span>      {</div>
<div class="line"><span class="lineno">  351</span>        foundRight = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  352</span>        shouldAdd = !lanelet::utils::contains(local_control_lines, <a class="code hl_namespace" href="namespacepcl.html">pcl</a>);</div>
<div class="line"><span class="lineno">  353</span>      }</div>
<div class="line"><span class="lineno">  354</span>      <span class="comment">// Check if our lanelet contains this control line</span></div>
<div class="line"><span class="lineno">  355</span>      <span class="comment">// If it does not then add it</span></div>
<div class="line"><span class="lineno">  356</span>      <span class="keywordflow">if</span> (shouldAdd)</div>
<div class="line"><span class="lineno">  357</span>      {</div>
<div class="line"><span class="lineno">  358</span>        <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.addRegulatoryElement(<a class="code hl_namespace" href="namespacepcl.html">pcl</a>);</div>
<div class="line"><span class="lineno">  359</span>      }</div>
<div class="line"><span class="lineno">  360</span>    }</div>
<div class="line"><span class="lineno">  361</span>    </div>
<div class="line"><span class="lineno">  362</span>  }</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>  <span class="comment">// If no existing regulation was found for this lanelet&#39;s right or left bound then create a new one and add it to</span></div>
<div class="line"><span class="lineno">  365</span>  <span class="comment">// the lanelet and the map</span></div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">if</span> (!foundLeft)</div>
<div class="line"><span class="lineno">  367</span>  {</div>
<div class="line"><span class="lineno">  368</span>    PassingControlLinePtr pcl_left = <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a462f89ac22e79644baf6ce9c0afe8877">buildControlLine</a>(left_bound, left_type, participant);</div>
<div class="line"><span class="lineno">  369</span>    <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.addRegulatoryElement(pcl_left);</div>
<div class="line"><span class="lineno">  370</span>    map-&gt;add(pcl_left);</div>
<div class="line"><span class="lineno">  371</span>  }</div>
<div class="line"><span class="lineno">  372</span>  <span class="keywordflow">if</span> (!foundRight)</div>
<div class="line"><span class="lineno">  373</span>  {</div>
<div class="line"><span class="lineno">  374</span>    PassingControlLinePtr pcl_right = <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a462f89ac22e79644baf6ce9c0afe8877">buildControlLine</a>(right_bound, right_type, participant);</div>
<div class="line"><span class="lineno">  375</span>    <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.addRegulatoryElement(pcl_right);</div>
<div class="line"><span class="lineno">  376</span>    map-&gt;add(pcl_right);</div>
<div class="line"><span class="lineno">  377</span>  }</div>
<div class="line"><span class="lineno">  378</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2MapConformer_8cpp_source.html#l00198">buildControlLine()</a>, and <a class="el" href="src_2MapConformer_8cpp_source.html#l00155">getChangeType()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a8a57b007f609dd29f9c724c7d1a17276_cgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a8a57b007f609dd29f9c724c7d1a17276_cgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a8a57b007f609dd29f9c724c7d1a17276_cgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a8a57b007f609dd29f9c724c7d1a17276_cgraph">
<area shape="rect" title="Generate PassingControlLines from the inferred regulations in the provided map and lanelet." alt="" coords="5,38,219,109"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a462f89ac22e79644baf6ce9c0afe8877" title="Helper function constructs a PassingControlLine based off the provided bound and lane change type." alt="" coords="267,5,508,61"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e" title="Helper function to determine the type of lane change implicitly allowed by the markings on the road." alt="" coords="268,85,507,141"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887" title="Helper function to get a value from a map or return a default value when key is not present." alt="" coords="556,34,761,105"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae7989b69694d8848cb026d07701db624" title="Helper function to check if a string starts with another string." alt="" coords="556,129,761,185"/>
</map>
</div>

</div>
</div>
<a id="a76a04caafb69f81d7f16c58060b3644f" name="a76a04caafb69f81d7f16c58060b3644f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76a04caafb69f81d7f16c58060b3644f">&#9670;&nbsp;</a></span>addValidSpeedLimit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::addValidSpeedLimit </td>
          <td>(</td>
          <td class="paramtype">Lanelet &amp;&#160;</td>
          <td class="paramname"><em>lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::LaneletMapPtr&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::Velocity&#160;</td>
          <td class="paramname"><em>config_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; &amp;&#160;</td>
          <td class="paramname"><em>default_traffic_rules</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00481">481</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  483</span>{</div>
<div class="line"><span class="lineno">  484</span>  lanelet::Velocity max_speed;</div>
<div class="line"><span class="lineno">  485</span>    <span class="keyword">auto</span> speed_limit = <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.regulatoryElementsAs&lt;DigitalSpeedLimit&gt;();</div>
<div class="line"><span class="lineno">  486</span>     <span class="keywordflow">if</span>(config_limit &lt; 80_mph &amp;&amp; config_limit &gt; 0_mph)<span class="comment">//Accounting for the configured speed limit, input zero when not in use</span></div>
<div class="line"><span class="lineno">  487</span>      {  </div>
<div class="line"><span class="lineno">  488</span>        max_speed = config_limit;</div>
<div class="line"><span class="lineno">  489</span>      }</div>
<div class="line"><span class="lineno">  490</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  491</span>      {</div>
<div class="line"><span class="lineno">  492</span>        max_speed = 80_mph;</div>
<div class="line"><span class="lineno">  493</span>      }</div>
<div class="line"><span class="lineno">  494</span>      </div>
<div class="line"><span class="lineno">  495</span>    <span class="comment">// If the lanelet does not have a digital speed limit then add one with the maximum value of 80</span></div>
<div class="line"><span class="lineno">  496</span>    std::vector&lt;std::string&gt; allowed_participants;</div>
<div class="line"><span class="lineno">  497</span>     <span class="comment">//Maximum speed limit is 80</span></div>
<div class="line"><span class="lineno">  498</span>   </div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">if</span> (speed_limit.empty())<span class="comment">//If there is no assigned speed limit value</span></div>
<div class="line"><span class="lineno">  501</span>    {</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>         <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rules : default_traffic_rules)</div>
<div class="line"><span class="lineno">  504</span>         {</div>
<div class="line"><span class="lineno">  505</span>            <span class="keywordflow">if</span> (rules-&gt;canPass(<a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>))</div>
<div class="line"><span class="lineno">  506</span>             {</div>
<div class="line"><span class="lineno">  507</span>              allowed_participants.emplace_back(rules-&gt;participant());</div>
<div class="line"><span class="lineno">  508</span>             }</div>
<div class="line"><span class="lineno">  509</span>        }</div>
<div class="line"><span class="lineno">  510</span>     <span class="keywordflow">if</span> (!allowed_participants.empty())</div>
<div class="line"><span class="lineno">  511</span>     {</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>      <span class="keyword">auto</span> rar = std::make_shared&lt;DigitalSpeedLimit&gt;(DigitalSpeedLimit::buildData(lanelet::utils::getId(), max_speed, {<a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>},</div>
<div class="line"><span class="lineno">  514</span>      {}, allowed_participants));</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>      <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.addRegulatoryElement(rar);</div>
<div class="line"><span class="lineno">  517</span>      map-&gt;add(rar);<span class="comment">//Add DigitalSpeedLimit data to the map</span></div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>     }</div>
<div class="line"><span class="lineno">  520</span>  }</div>
<div class="line"><span class="lineno">  521</span>  <span class="keywordflow">else</span>  <span class="comment">//If the speed limit value already exists </span></div>
<div class="line"><span class="lineno">  522</span>  {</div>
<div class="line"><span class="lineno">  523</span>      <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; rules : default_traffic_rules)</div>
<div class="line"><span class="lineno">  524</span>         {</div>
<div class="line"><span class="lineno">  525</span>            <span class="keywordflow">if</span> (rules-&gt;canPass(<a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>))</div>
<div class="line"><span class="lineno">  526</span>             {</div>
<div class="line"><span class="lineno">  527</span>              allowed_participants.emplace_back(rules-&gt;participant());</div>
<div class="line"><span class="lineno">  528</span>             }</div>
<div class="line"><span class="lineno">  529</span>        }</div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">if</span>(speed_limit.back().get()-&gt;speed_limit_ &gt; max_speed)<span class="comment">//Check that speed limit value does not exceed the maximum value</span></div>
<div class="line"><span class="lineno">  531</span>    {</div>
<div class="line"><span class="lineno">  532</span>    </div>
<div class="line"><span class="lineno">  533</span>      ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Invalid speed limit value. Value reset to maximum speed limit.&quot;</span>);</div>
<div class="line"><span class="lineno">  534</span>      <span class="keyword">auto</span> rar = std::make_shared&lt;DigitalSpeedLimit&gt;(DigitalSpeedLimit::buildData(lanelet::utils::getId(), max_speed, {<a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>},</div>
<div class="line"><span class="lineno">  535</span>      {}, allowed_participants));</div>
<div class="line"><span class="lineno">  536</span>      <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.removeRegulatoryElement(speed_limit.back());</div>
<div class="line"><span class="lineno">  537</span>      <a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>.addRegulatoryElement(rar);</div>
<div class="line"><span class="lineno">  538</span>      map-&gt;update(<a class="code hl_namespace" href="namespacelanelet.html">lanelet</a>, rar);<span class="comment">//Add DigitalSpeedLimit data to the map</span></div>
<div class="line"><span class="lineno">  539</span>      ROS_INFO_STREAM(<span class="stringliteral">&quot;Number of Regulatory Elements: &quot;</span>&lt;&lt; map-&gt;regulatoryElementLayer.size());</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>    }</div>
<div class="line"><span class="lineno">  543</span>    </div>
<div class="line"><span class="lineno">  544</span>  }</div>
<div class="line"><span class="lineno">  545</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00550">lanelet::MapConformer::ensureCompliance()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a76a04caafb69f81d7f16c58060b3644f_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a76a04caafb69f81d7f16c58060b3644f_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a76a04caafb69f81d7f16c58060b3644f_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a76a04caafb69f81d7f16c58060b3644f_icgraph">
<area shape="rect" title=" " alt="" coords="963,24,1161,95"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer.html#a20caaf0f529166126f0f4ea4d80f80d0" title="Function modifies an existing map to make a best effort attempt at ensuring the map confroms to the e..." alt="" coords="764,39,915,80"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcaster.html#a243d8d82a364aad6270e38f0202a68cb" title="Callback to set the base map when it has been loaded." alt="" coords="505,5,716,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a89c0e3bfedd0bf9719127896b3fcb06c" title="helper function for creating lanelet map for getGuidanceTestMap" alt="" coords="509,71,712,112"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcasterNode.html#ab0c14f6d7e30870755a4dcf6b228de82" title=" " alt="" coords="247,5,457,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a8f15f836dede141bcabe292a0f9a1751" title="Gets the CARMAWorldModel for the guidance test map." alt="" coords="255,71,449,112"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a12ad39e45b75cd8d450bef06a1da8020" title=" " alt="" coords="5,71,199,112"/>
</map>
</div>

</div>
</div>
<a id="a462f89ac22e79644baf6ce9c0afe8877" name="a462f89ac22e79644baf6ce9c0afe8877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a462f89ac22e79644baf6ce9c0afe8877">&#9670;&nbsp;</a></span>buildControlLine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PassingControlLinePtr anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::buildControlLine </td>
          <td>(</td>
          <td class="paramtype">LineString3d &amp;&#160;</td>
          <td class="paramname"><em>bound</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>participant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function constructs a PassingControlLine based off the provided bound and lane change type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bound</td><td>The bound which will mark the control line </td></tr>
    <tr><td class="paramname">type</td><td>The type of lane change permitted by this bound's implied regulations </td></tr>
    <tr><td class="paramname">participant</td><td>The participant that is allowed to cross this control line</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new PasssingControlLine which was created based off the bound </dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00198">198</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  199</span>{</div>
<div class="line"><span class="lineno">  200</span>  <span class="keywordflow">if</span> (bound.inverted())</div>
<div class="line"><span class="lineno">  201</span>  {</div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">switch</span> (type)</div>
<div class="line"><span class="lineno">  203</span>    {</div>
<div class="line"><span class="lineno">  204</span>      <span class="keywordflow">case</span> LaneChangeType::ToRight:</div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordflow">return</span> std::shared_ptr&lt;PassingControlLine&gt;(<span class="keyword">new</span> PassingControlLine(</div>
<div class="line"><span class="lineno">  206</span>            PassingControlLine::buildData(lanelet::utils::getId(), { bound.invert() }, {}, { participant })));</div>
<div class="line"><span class="lineno">  207</span>      <span class="keywordflow">case</span> LaneChangeType::ToLeft:</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">return</span> std::shared_ptr&lt;PassingControlLine&gt;(<span class="keyword">new</span> PassingControlLine(</div>
<div class="line"><span class="lineno">  209</span>            PassingControlLine::buildData(lanelet::utils::getId(), { bound.invert() }, { participant }, {})));</div>
<div class="line"><span class="lineno">  210</span>      <span class="keywordflow">case</span> LaneChangeType::Both:</div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">return</span> std::shared_ptr&lt;PassingControlLine&gt;(<span class="keyword">new</span> PassingControlLine(PassingControlLine::buildData(</div>
<div class="line"><span class="lineno">  212</span>            lanelet::utils::getId(), { bound.invert() }, { participant }, { participant })));</div>
<div class="line"><span class="lineno">  213</span>      <span class="keywordflow">default</span>:  <span class="comment">// LaneChangeType::None</span></div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">return</span> std::shared_ptr&lt;PassingControlLine&gt;(</div>
<div class="line"><span class="lineno">  215</span>            <span class="keyword">new</span> PassingControlLine(PassingControlLine::buildData(lanelet::utils::getId(), { bound.invert() }, {}, {})));</div>
<div class="line"><span class="lineno">  216</span>    }</div>
<div class="line"><span class="lineno">  217</span>  }</div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  219</span>  {</div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">switch</span> (type)</div>
<div class="line"><span class="lineno">  221</span>    {</div>
<div class="line"><span class="lineno">  222</span>      <span class="keywordflow">case</span> LaneChangeType::ToRight:</div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">return</span> std::shared_ptr&lt;PassingControlLine&gt;(<span class="keyword">new</span> PassingControlLine(</div>
<div class="line"><span class="lineno">  224</span>            PassingControlLine::buildData(lanelet::utils::getId(), { bound }, { participant }, {})));</div>
<div class="line"><span class="lineno">  225</span>      <span class="keywordflow">case</span> LaneChangeType::ToLeft:</div>
<div class="line"><span class="lineno">  226</span>        <span class="keywordflow">return</span> std::shared_ptr&lt;PassingControlLine&gt;(<span class="keyword">new</span> PassingControlLine(</div>
<div class="line"><span class="lineno">  227</span>            PassingControlLine::buildData(lanelet::utils::getId(), { bound }, {}, { participant })));</div>
<div class="line"><span class="lineno">  228</span>      <span class="keywordflow">case</span> LaneChangeType::Both:</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">return</span> std::shared_ptr&lt;PassingControlLine&gt;(<span class="keyword">new</span> PassingControlLine(</div>
<div class="line"><span class="lineno">  230</span>            PassingControlLine::buildData(lanelet::utils::getId(), { bound }, { participant }, { participant })));</div>
<div class="line"><span class="lineno">  231</span>      <span class="keywordflow">default</span>:  <span class="comment">// LaneChangeType::None</span></div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">return</span> std::shared_ptr&lt;PassingControlLine&gt;(</div>
<div class="line"><span class="lineno">  233</span>            <span class="keyword">new</span> PassingControlLine(PassingControlLine::buildData(lanelet::utils::getId(), { bound }, {}, {})));</div>
<div class="line"><span class="lineno">  234</span>    }</div>
<div class="line"><span class="lineno">  235</span>  }</div>
<div class="line"><span class="lineno">  236</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00310">addInferredPassingControlLine()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a462f89ac22e79644baf6ce9c0afe8877_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a462f89ac22e79644baf6ce9c0afe8877_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a462f89ac22e79644baf6ce9c0afe8877_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a462f89ac22e79644baf6ce9c0afe8877_icgraph">
<area shape="rect" title="Helper function constructs a PassingControlLine based off the provided bound and lane change type." alt="" coords="267,13,508,69"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a8a57b007f609dd29f9c724c7d1a17276" title="Generate PassingControlLines from the inferred regulations in the provided map and lanelet." alt="" coords="5,5,219,76"/>
</map>
</div>

</div>
</div>
<a id="a2525aaa126b452e8c2ac0dfdd9eb8556" name="a2525aaa126b452e8c2ac0dfdd9eb8556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2525aaa126b452e8c2ac0dfdd9eb8556">&#9670;&nbsp;</a></span>getAllGermanTrafficRules()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; lanelet::traffic_rules::TrafficRulesUPtr &gt; anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::getAllGermanTrafficRules </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to return the set of all german traffic rules which are currently implemented. </p>
<dl class="section return"><dt>Returns</dt><dd>A list of german traffic rules which have been implemented </dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00066">66</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   67</span>{</div>
<div class="line"><span class="lineno">   68</span>  std::vector&lt;lanelet::traffic_rules::TrafficRulesUPtr&gt; german_traffic_rules_set;</div>
<div class="line"><span class="lineno">   69</span>  german_traffic_rules_set.reserve(<a class="code hl_variable" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a4f35e817fd47cb295c1c9e3e5671caad">PARTICIPANT_COUNT</a>);</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>  <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt; <a class="code hl_variable" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a4f35e817fd47cb295c1c9e3e5671caad">PARTICIPANT_COUNT</a>; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++)</div>
<div class="line"><span class="lineno">   72</span>  {</div>
<div class="line"><span class="lineno">   73</span>    <span class="comment">// This loop is designed to identify the set of currently supported participants for german traffic rules</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="comment">// Using exceptions as logic like this is not usually a good practice, but since this is an operation performed only</span></div>
<div class="line"><span class="lineno">   75</span>    <span class="comment">// at startup on a small number of elements efficiency should not be an issue</span></div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">   77</span>    {</div>
<div class="line"><span class="lineno">   78</span>      lanelet::traffic_rules::TrafficRulesUPtr traffic_rules =</div>
<div class="line"><span class="lineno">   79</span>          lanelet::traffic_rules::TrafficRulesFactory::create(lanelet::Locations::Germany, <a class="code hl_variable" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab46f146617af5fa4e0cce8513ce7c1b2">participant_types</a>[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>]);</div>
<div class="line"><span class="lineno">   80</span>      german_traffic_rules_set.emplace_back(std::move(traffic_rules));</div>
<div class="line"><span class="lineno">   81</span>    }</div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">catch</span> (<span class="keyword">const</span> lanelet::InvalidInputError&amp; e)</div>
<div class="line"><span class="lineno">   83</span>    {</div>
<div class="line"><span class="lineno">   84</span>      <span class="comment">// Ignore participants which there is no generic rules for</span></div>
<div class="line"><span class="lineno">   85</span>      ROS_INFO_STREAM (<span class="stringliteral">&quot;Ignoring participant: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab46f146617af5fa4e0cce8513ce7c1b2">participant_types</a>[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>] &lt;&lt;  <span class="stringliteral">&quot;, which there is no generic rule for...&quot;</span>);</div>
<div class="line"><span class="lineno">   86</span>    }</div>
<div class="line"><span class="lineno">   87</span>  }</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>  <span class="keywordflow">return</span> german_traffic_rules_set;</div>
<div class="line"><span class="lineno">   90</span>}</div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_a4f35e817fd47cb295c1c9e3e5671caad"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a4f35e817fd47cb295c1c9e3e5671caad">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::PARTICIPANT_COUNT</a></div><div class="ttdeci">constexpr size_t PARTICIPANT_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="src_2MapConformer_8cpp_source.html#l00047">MapConformer.cpp:47</a></div></div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_ab46f146617af5fa4e0cce8513ce7c1b2"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab46f146617af5fa4e0cce8513ce7c1b2">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::participant_types</a></div><div class="ttdeci">constexpr const char * participant_types[PARTICIPANT_COUNT]</div><div class="ttdef"><b>Definition:</b> <a href="src_2MapConformer_8cpp_source.html#l00048">MapConformer.cpp:48</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="process__bag_8py_source.html#l00059">process_bag::i</a>, <a class="el" href="src_2MapConformer_8cpp_source.html#l00047">PARTICIPANT_COUNT</a>, and <a class="el" href="src_2MapConformer_8cpp_source.html#l00048">participant_types</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00550">lanelet::MapConformer::ensureCompliance()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a2525aaa126b452e8c2ac0dfdd9eb8556_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a2525aaa126b452e8c2ac0dfdd9eb8556_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a2525aaa126b452e8c2ac0dfdd9eb8556_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a2525aaa126b452e8c2ac0dfdd9eb8556_icgraph">
<area shape="rect" title="Helper function to return the set of all german traffic rules which are currently implemented." alt="" coords="963,24,1189,95"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer.html#a20caaf0f529166126f0f4ea4d80f80d0" title="Function modifies an existing map to make a best effort attempt at ensuring the map confroms to the e..." alt="" coords="764,39,915,80"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcaster.html#a243d8d82a364aad6270e38f0202a68cb" title="Callback to set the base map when it has been loaded." alt="" coords="505,5,716,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a89c0e3bfedd0bf9719127896b3fcb06c" title="helper function for creating lanelet map for getGuidanceTestMap" alt="" coords="509,71,712,112"/>
<area shape="rect" href="classcarma__wm__ctrl_1_1WMBroadcasterNode.html#ab0c14f6d7e30870755a4dcf6b228de82" title=" " alt="" coords="247,5,457,47"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a8f15f836dede141bcabe292a0f9a1751" title="Gets the CARMAWorldModel for the guidance test map." alt="" coords="255,71,449,112"/>
<area shape="rect" href="namespacecarma__wm_1_1test.html#a12ad39e45b75cd8d450bef06a1da8020" title=" " alt="" coords="5,71,199,112"/>
</map>
</div>

</div>
</div>
<a id="a10f5c950a1e39216cc76ab67d4cecf9e" name="a10f5c950a1e39216cc76ab67d4cecf9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f5c950a1e39216cc76ab67d4cecf9e">&#9670;&nbsp;</a></span>getChangeType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a> anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::getChangeType </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>subtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>participant</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to determine the type of lane change implicitly allowed by the markings on the road. </p>
<p >This function has been copied from lanelet2_traffic_rules/src/GenericTrafficRules.cpp as it was not exposed by the Lanelet2 libraray. The function therefore has the same functionality as the GenericTrafficRules class</p>
<p ><a href="https://github.com/fzi-forschungszentrum-informatik/Lanelet2/blob/master/lanelet2_traffic_rules/src/GenericTrafficRules.cpp">https://github.com/fzi-forschungszentrum-informatik/Lanelet2/blob/master/lanelet2_traffic_rules/src/GenericTrafficRules.cpp</a> The source function is copyrighted under BSD 3-Clause "New" or "Revised" License a copy of that notice has been included with this package</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of the line string marking </td></tr>
    <tr><td class="paramname">subtype</td><td>The sub-type of the line string marking </td></tr>
    <tr><td class="paramname">participant</td><td>The type of participant the rules apply too</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An enum describing the type of lane change allowed by the road markings </dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00155">155</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>{</div>
<div class="line"><span class="lineno">  157</span>  <span class="keyword">using </span>LaneChangeMap = std::map&lt;std::pair&lt;std::string, std::string&gt;, <a class="code hl_enumeration" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ab35f87a726141bcdebae6fa19a7f0820">LaneChangeType</a>&gt;;</div>
<div class="line"><span class="lineno">  158</span>  <span class="keyword">const</span> <span class="keyword">static</span> LaneChangeMap VehicleChangeType{</div>
<div class="line"><span class="lineno">  159</span>    { { AttributeValueString::LineThin, AttributeValueString::Dashed }, LaneChangeType::Both },</div>
<div class="line"><span class="lineno">  160</span>    { { AttributeValueString::LineThick, AttributeValueString::Dashed }, LaneChangeType::Both },</div>
<div class="line"><span class="lineno">  161</span>    { { AttributeValueString::LineThin, AttributeValueString::DashedSolid }, LaneChangeType::ToRight },</div>
<div class="line"><span class="lineno">  162</span>    { { AttributeValueString::LineThick, AttributeValueString::DashedSolid }, LaneChangeType::ToRight },</div>
<div class="line"><span class="lineno">  163</span>    { { AttributeValueString::LineThin, AttributeValueString::SolidDashed }, LaneChangeType::ToLeft },</div>
<div class="line"><span class="lineno">  164</span>    { { AttributeValueString::LineThick, AttributeValueString::SolidDashed }, LaneChangeType::ToLeft }</div>
<div class="line"><span class="lineno">  165</span>  };</div>
<div class="line"><span class="lineno">  166</span>  <span class="keyword">const</span> <span class="keyword">static</span> LaneChangeMap PedestrianChangeType{ { { AttributeValueString::Curbstone, AttributeValueString::Low },</div>
<div class="line"><span class="lineno">  167</span>                                                     LaneChangeType::Both } };</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae7989b69694d8848cb026d07701db624">startswith</a>(participant, Participants::Vehicle))</div>
<div class="line"><span class="lineno">  170</span>  {</div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887">getMapOrDefault</a>(VehicleChangeType, std::make_pair(type, subtype), LaneChangeType::None);</div>
<div class="line"><span class="lineno">  172</span>  }</div>
<div class="line"><span class="lineno">  173</span>  <span class="keywordflow">if</span> (participant == Participants::Pedestrian)</div>
<div class="line"><span class="lineno">  174</span>  {</div>
<div class="line"><span class="lineno">  175</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887">getMapOrDefault</a>(PedestrianChangeType, std::make_pair(type, subtype), LaneChangeType::None);</div>
<div class="line"><span class="lineno">  176</span>  }</div>
<div class="line"><span class="lineno">  177</span>  <span class="keywordflow">if</span> (participant == Participants::Bicycle)</div>
<div class="line"><span class="lineno">  178</span>  {</div>
<div class="line"><span class="lineno">  179</span>    <span class="keyword">auto</span> asVehicle = <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887">getMapOrDefault</a>(VehicleChangeType, std::make_pair(type, subtype), LaneChangeType::None);</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">if</span> (asVehicle != LaneChangeType::None)</div>
<div class="line"><span class="lineno">  181</span>    {</div>
<div class="line"><span class="lineno">  182</span>      <span class="keywordflow">return</span> asVehicle;</div>
<div class="line"><span class="lineno">  183</span>    }</div>
<div class="line"><span class="lineno">  184</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887">getMapOrDefault</a>(PedestrianChangeType, std::make_pair(type, subtype), LaneChangeType::None);</div>
<div class="line"><span class="lineno">  185</span>  }</div>
<div class="line"><span class="lineno">  186</span>  <span class="keywordflow">return</span> LaneChangeType::None;</div>
<div class="line"><span class="lineno">  187</span>}</div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_ae5cd14f5d9ebf27510d794f22e61e887"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::getMapOrDefault</a></div><div class="ttdeci">Value getMapOrDefault(const Map &amp;map, Key key, Value defaultVal)</div><div class="ttdoc">Helper function to get a value from a map or return a default value when key is not present.</div><div class="ttdef"><b>Definition:</b> <a href="src_2MapConformer_8cpp_source.html#l00109">MapConformer.cpp:109</a></div></div>
<div class="ttc" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_html_ae7989b69694d8848cb026d07701db624"><div class="ttname"><a href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae7989b69694d8848cb026d07701db624">lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::startswith</a></div><div class="ttdeci">bool startswith(const std::string &amp;str, const std::string &amp;substr)</div><div class="ttdoc">Helper function to check if a string starts with another string.</div><div class="ttdef"><b>Definition:</b> <a href="src_2MapConformer_8cpp_source.html#l00134">MapConformer.cpp:134</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="src_2MapConformer_8cpp_source.html#l00109">getMapOrDefault()</a>, and <a class="el" href="src_2MapConformer_8cpp_source.html#l00134">startswith()</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00310">addInferredPassingControlLine()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a10f5c950a1e39216cc76ab67d4cecf9e_cgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a10f5c950a1e39216cc76ab67d4cecf9e_cgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a10f5c950a1e39216cc76ab67d4cecf9e_cgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a10f5c950a1e39216cc76ab67d4cecf9e_cgraph">
<area shape="rect" title="Helper function to determine the type of lane change implicitly allowed by the markings on the road." alt="" coords="5,57,244,113"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae5cd14f5d9ebf27510d794f22e61e887" title="Helper function to get a value from a map or return a default value when key is not present." alt="" coords="292,5,497,76"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#ae7989b69694d8848cb026d07701db624" title="Helper function to check if a string starts with another string." alt="" coords="292,101,497,157"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a10f5c950a1e39216cc76ab67d4cecf9e_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a10f5c950a1e39216cc76ab67d4cecf9e_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a10f5c950a1e39216cc76ab67d4cecf9e_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_a10f5c950a1e39216cc76ab67d4cecf9e_icgraph">
<area shape="rect" title="Helper function to determine the type of lane change implicitly allowed by the markings on the road." alt="" coords="267,13,505,69"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a8a57b007f609dd29f9c724c7d1a17276" title="Generate PassingControlLines from the inferred regulations in the provided map and lanelet." alt="" coords="5,5,219,76"/>
</map>
</div>

</div>
</div>
<a id="ae5cd14f5d9ebf27510d794f22e61e887" name="ae5cd14f5d9ebf27510d794f22e61e887"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cd14f5d9ebf27510d794f22e61e887">&#9670;&nbsp;</a></span>getMapOrDefault()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Map , typename Key , typename <a class="el" href="document_8h.html#a071cf97155ba72ac9a1fc4ad7e63d481">Value</a> &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="document_8h.html#a071cf97155ba72ac9a1fc4ad7e63d481">Value</a> lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::getMapOrDefault </td>
          <td>(</td>
          <td class="paramtype">const Map &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Key&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="document_8h.html#a071cf97155ba72ac9a1fc4ad7e63d481">Value</a>&#160;</td>
          <td class="paramname"><em>defaultVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to get a value from a map or return a default value when key is not present. </p>
<p >This function has been copied from lanelet2_traffic_rules/src/GenericTrafficRules.cpp as it was not exposed by the Lanelet2 libraray. The function therefore has the same functionality as the GenericTrafficRules class</p>
<p ><a href="https://github.com/fzi-forschungszentrum-informatik/Lanelet2/blob/master/lanelet2_traffic_rules/src/GenericTrafficRules.cpp">https://github.com/fzi-forschungszentrum-informatik/Lanelet2/blob/master/lanelet2_traffic_rules/src/GenericTrafficRules.cpp</a> The source function is copyrighted under BSD 3-Clause "New" or "Revised" License a copy of that notice has been included with this package</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">map</td><td>The map to search </td></tr>
    <tr><td class="paramname">key</td><td>The key to evaluate </td></tr>
    <tr><td class="paramname">defaultVal</td><td>The default to return if key is not in map</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value at key in map or defaultVal if key is not in map </dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00109">109</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  110</span>{</div>
<div class="line"><span class="lineno">  111</span>  <span class="keyword">auto</span> elem = map.find(key);</div>
<div class="line"><span class="lineno">  112</span>  <span class="keywordflow">if</span> (elem == map.end())</div>
<div class="line"><span class="lineno">  113</span>  {</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> defaultVal;</div>
<div class="line"><span class="lineno">  115</span>  }</div>
<div class="line"><span class="lineno">  116</span>  <span class="keywordflow">return</span> elem-&gt;second;</div>
<div class="line"><span class="lineno">  117</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00155">getChangeType()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_ae5cd14f5d9ebf27510d794f22e61e887_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_ae5cd14f5d9ebf27510d794f22e61e887_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_ae5cd14f5d9ebf27510d794f22e61e887_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_ae5cd14f5d9ebf27510d794f22e61e887_icgraph">
<area shape="rect" title="Helper function to get a value from a map or return a default value when key is not present." alt="" coords="553,5,759,76"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e" title="Helper function to determine the type of lane change implicitly allowed by the markings on the road." alt="" coords="267,13,505,69"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a8a57b007f609dd29f9c724c7d1a17276" title="Generate PassingControlLines from the inferred regulations in the provided map and lanelet." alt="" coords="5,5,219,76"/>
</map>
</div>

</div>
</div>
<a id="ae7989b69694d8848cb026d07701db624" name="ae7989b69694d8848cb026d07701db624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7989b69694d8848cb026d07701db624">&#9670;&nbsp;</a></span>startswith()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> anonymous_namespace MapConformer lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::lanelet::MapConformer::cpp::startswith </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>substr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to check if a string starts with another string. </p>
<p >This function has been copied from lanelet2_traffic_rules/src/GenericTrafficRules.cpp as it was not exposed by the Lanelet2 libraray. The function therefore has the same functionality as the GenericTrafficRules class</p>
<p ><a href="https://github.com/fzi-forschungszentrum-informatik/Lanelet2/blob/master/lanelet2_traffic_rules/src/GenericTrafficRules.cpp">https://github.com/fzi-forschungszentrum-informatik/Lanelet2/blob/master/lanelet2_traffic_rules/src/GenericTrafficRules.cpp</a> The source function is copyrighted under BSD 3-Clause "New" or "Revised" License a copy of that notice has been included with this package</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>Base string </td></tr>
    <tr><td class="paramname">substr</td><td>Starting string to check for</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if str starts with substr </dd></dl>

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00134">134</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>{</div>
<div class="line"><span class="lineno">  136</span>  <span class="keywordflow">return</span> str.compare(0, substr.size(), substr) == 0;</div>
<div class="line"><span class="lineno">  137</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00155">getChangeType()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_ae7989b69694d8848cb026d07701db624_icgraph.png" border="0" usemap="#anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_ae7989b69694d8848cb026d07701db624_icgraph" alt=""/></div>
<map name="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_ae7989b69694d8848cb026d07701db624_icgraph" id="anamespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03_ae7989b69694d8848cb026d07701db624_icgraph">
<area shape="rect" title="Helper function to check if a string starts with another string." alt="" coords="553,13,759,69"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a10f5c950a1e39216cc76ab67d4cecf9e" title="Helper function to determine the type of lane change implicitly allowed by the markings on the road." alt="" coords="267,13,505,69"/>
<area shape="rect" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html#a8a57b007f609dd29f9c724c7d1a17276" title="Generate PassingControlLines from the inferred regulations in the provided map and lanelet." alt="" coords="5,5,219,76"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4f35e817fd47cb295c1c9e3e5671caad" name="a4f35e817fd47cb295c1c9e3e5671caad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f35e817fd47cb295c1c9e3e5671caad">&#9670;&nbsp;</a></span>PARTICIPANT_COUNT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::PARTICIPANT_COUNT = 12</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00047">47</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00066">getAllGermanTrafficRules()</a>.</p>

</div>
</div>
<a id="ab46f146617af5fa4e0cce8513ce7c1b2" name="ab46f146617af5fa4e0cce8513ce7c1b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab46f146617af5fa4e0cce8513ce7c1b2">&#9670;&nbsp;</a></span>participant_types</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr const char * lanelet::MapConformer::anonymous_namespace{MapConformer.cpp}::participant_types</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= { lanelet::Participants::Vehicle,  </div>
<div class="line">                                                               lanelet::Participants::VehicleBus,</div>
<div class="line">                                                               lanelet::Participants::VehicleCar,</div>
<div class="line">                                                               lanelet::Participants::VehicleCarElectric,</div>
<div class="line">                                                               lanelet::Participants::VehicleCarCombustion,</div>
<div class="line">                                                               lanelet::Participants::VehicleTruck,</div>
<div class="line">                                                               lanelet::Participants::VehicleMotorcycle,</div>
<div class="line">                                                               lanelet::Participants::VehicleTaxi,</div>
<div class="line">                                                               lanelet::Participants::VehicleEmergency,</div>
<div class="line">                                                               lanelet::Participants::Pedestrian,  </div>
<div class="line">                                                               lanelet::Participants::Bicycle,     </div>
<div class="line">                                                               lanelet::Participants::Train }</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="src_2MapConformer_8cpp_source.html#l00048">48</a> of file <a class="el" href="src_2MapConformer_8cpp_source.html">MapConformer.cpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="src_2MapConformer_8cpp_source.html#l00066">getAllGermanTrafficRules()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelanelet.html">lanelet</a></li><li class="navelem"><a class="el" href="namespacelanelet_1_1MapConformer.html">MapConformer</a></li><li class="navelem"><a class="el" href="namespacelanelet_1_1MapConformer_1_1anonymous__namespace_02MapConformer_8cpp_03.html">anonymous_namespace{MapConformer.cpp}</a></li>
    <li class="footer">Generated on Fri Oct 14 2022 17:20:08 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
