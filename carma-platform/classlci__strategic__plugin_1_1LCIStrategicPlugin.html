<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: lci_strategic_plugin::LCIStrategicPlugin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classlci__strategic__plugin_1_1LCIStrategicPlugin.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classlci__strategic__plugin_1_1LCIStrategicPlugin-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">lci_strategic_plugin::LCIStrategicPlugin Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for lci_strategic_plugin::LCIStrategicPlugin:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin__inherit__graph.png" border="0" usemap="#alci__strategic__plugin_1_1LCIStrategicPlugin_inherit__map" alt="Inheritance graph"/></div>
<map name="alci__strategic__plugin_1_1LCIStrategicPlugin_inherit__map" id="alci__strategic__plugin_1_1LCIStrategicPlugin_inherit__map">
<area shape="rect" title=" " alt="" coords="10,968,249,2967"/>
<area shape="rect" href="classcarma__guidance__plugins_1_1StrategicPlugin.html" title="StrategicPlugin base class which can be extended by user provided plugins which wish to implement the..." alt="" coords="34,681,225,920"/>
<area shape="rect" href="classcarma__guidance__plugins_1_1PluginBaseNode.html" title="PluginBaseNode provides default functionality for all carma guidance plugins. This includes basic sta..." alt="" coords="35,131,223,633"/>
<area shape="rect" title=" " alt="" coords="5,5,253,83"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for lci_strategic_plugin::LCIStrategicPlugin:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin__coll__graph.png" border="0" usemap="#alci__strategic__plugin_1_1LCIStrategicPlugin_coll__map" alt="Collaboration graph"/></div>
<map name="alci__strategic__plugin_1_1LCIStrategicPlugin_coll__map" id="alci__strategic__plugin_1_1LCIStrategicPlugin_coll__map">
<area shape="rect" title=" " alt="" coords="1555,1287,1794,2669"/>
<area shape="rect" href="classcarma__guidance__plugins_1_1StrategicPlugin.html" title="StrategicPlugin base class which can be extended by user provided plugins which wish to implement the..." alt="" coords="319,907,510,1145"/>
<area shape="rect" href="classcarma__guidance__plugins_1_1PluginBaseNode.html" title="PluginBaseNode provides default functionality for all carma guidance plugins. This includes basic sta..." alt="" coords="322,175,510,633"/>
<area shape="rect" title=" " alt="" coords="293,13,541,90"/>
<area shape="rect" title=" " alt="" coords="5,13,85,90"/>
<area shape="rect" title=" " alt="" coords="110,5,269,97"/>
<area shape="rect" title=" " alt="" coords="565,13,773,90"/>
<area shape="rect" title=" " alt="" coords="105,358,297,450"/>
<area shape="rect" title=" " alt="" coords="585,987,660,1065"/>
<area shape="rect" title=" " alt="" coords="822,365,877,443"/>
<area shape="rect" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html" title="Struct to store the configuration settings for the LCIStrategicPlugin class." alt="" coords="1453,929,1627,1123"/>
<area shape="rect" title=" " alt="" coords="1541,365,1601,443"/>
<area shape="rect" title=" " alt="" coords="1054,987,1213,1065"/>
<area shape="rect" title=" " alt="" coords="1237,987,1307,1065"/>
<area shape="rect" title=" " alt="" coords="1331,987,1429,1065"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="1207,365,1254,443"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html" title="Class defining the state transition table behavior for the LCIStrategic Strategic Plugin." alt="" coords="1816,899,2019,1153"/>
<area shape="rect" title=" " alt="" coords="1781,365,1875,443"/>
<area shape="rect" title=" " alt="" coords="1899,351,2114,457"/>
<area shape="rect" title=" " alt="" coords="2043,987,2170,1065"/>
<area shape="rect" title=" " alt="" coords="2195,987,2251,1065"/>
<area shape="rect" title=" " alt="" coords="2275,980,2421,1072"/>
<area shape="rect" title=" " alt="" coords="2445,987,2621,1065"/>
<area shape="rect" title=" " alt="" coords="2646,980,2821,1072"/>
<area shape="rect" title=" " alt="" coords="2845,980,3019,1072"/>
<area shape="rect" title=" " alt="" coords="3043,980,3218,1072"/>
<area shape="rect" title=" " alt="" coords="3242,980,3403,1072"/>
<area shape="rect" title=" " alt="" coords="3427,980,3589,1072"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct representing a vehicle state for the purposes of planning.  <a href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a71625d2b9355edf12f48abddd8c6d34c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71625d2b9355edf12f48abddd8c6d34c">LCIStrategicPlugin</a> (const rclcpp::NodeOptions &amp;)</td></tr>
<tr class="memdesc:a71625d2b9355edf12f48abddd8c6d34c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor for RouteFollowingPlugin class.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71625d2b9355edf12f48abddd8c6d34c">More...</a><br /></td></tr>
<tr class="separator:a71625d2b9355edf12f48abddd8c6d34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad65725dd343bd293e7f990818f4eca6d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d">plan_maneuvers_callback</a> (std::shared_ptr&lt; rmw_request_id_t &gt; srv_header, carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp)</td></tr>
<tr class="memdesc:ad65725dd343bd293e7f990818f4eca6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service callback for arbitrator maneuver planning.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d">More...</a><br /></td></tr>
<tr class="separator:ad65725dd343bd293e7f990818f4eca6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeab86524ba8763b042e5673b736b4797"><td class="memItemLeft" align="right" valign="top">rcl_interfaces::msg::SetParametersResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aeab86524ba8763b042e5673b736b4797">parameter_update_callback</a> (const std::vector&lt; rclcpp::Parameter &gt; &amp;parameters)</td></tr>
<tr class="memdesc:aeab86524ba8763b042e5673b736b4797"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for dynamic parameter updates.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aeab86524ba8763b042e5673b736b4797">More...</a><br /></td></tr>
<tr class="separator:aeab86524ba8763b042e5673b736b4797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5792a0a80197c6f6683c0531693ac9b6"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5792a0a80197c6f6683c0531693ac9b6">on_configure_plugin</a> ()</td></tr>
<tr class="memdesc:a5792a0a80197c6f6683c0531693ac9b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states. This method should be used to load parameters and is required to be implemented.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5792a0a80197c6f6683c0531693ac9b6">More...</a><br /></td></tr>
<tr class="separator:a5792a0a80197c6f6683c0531693ac9b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ae680ddca40a0ebb47c4102eab50ae4"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1ae680ddca40a0ebb47c4102eab50ae4">on_activate_plugin</a> ()</td></tr>
<tr class="memdesc:a1ae680ddca40a0ebb47c4102eab50ae4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method which is triggered when this plugin is moved from the INACTIVE to ACTIVE states. This method should be used to prepare for future callbacks for plugin's capabilites.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1ae680ddca40a0ebb47c4102eab50ae4">More...</a><br /></td></tr>
<tr class="separator:a1ae680ddca40a0ebb47c4102eab50ae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58cbaedde5b73ba87c14c20e35d289a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58cbaedde5b73ba87c14c20e35d289a6">get_availability</a> ()</td></tr>
<tr class="memdesc:a58cbaedde5b73ba87c14c20e35d289a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the availability status of this plugin based on the current operating environment. Method must be overriden by extending classes.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58cbaedde5b73ba87c14c20e35d289a6">More...</a><br /></td></tr>
<tr class="separator:a58cbaedde5b73ba87c14c20e35d289a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf553e2c17bb9be7395fad60c5d709f4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abf553e2c17bb9be7395fad60c5d709f4">get_version_id</a> ()</td></tr>
<tr class="memdesc:abf553e2c17bb9be7395fad60c5d709f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the version id of this plugin.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abf553e2c17bb9be7395fad60c5d709f4">More...</a><br /></td></tr>
<tr class="separator:abf553e2c17bb9be7395fad60c5d709f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0c867d5697fa8b7a9c43596815d7c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0d0c867d5697fa8b7a9c43596815d7c0">lookupFrontBumperTransform</a> ()</td></tr>
<tr class="memdesc:a0d0c867d5697fa8b7a9c43596815d7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup transfrom from front bumper to base link.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0d0c867d5697fa8b7a9c43596815d7c0">More...</a><br /></td></tr>
<tr class="separator:a0d0c867d5697fa8b7a9c43596815d7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34442f32d60fb954ab9369c81a44fc38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a34442f32d60fb954ab9369c81a44fc38">mobilityOperationCb</a> (carma_v2x_msgs::msg::MobilityOperation::UniquePtr msg)</td></tr>
<tr class="memdesc:a34442f32d60fb954ab9369c81a44fc38"><td class="mdescLeft">&#160;</td><td class="mdescRight">callback function for mobility operation  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a34442f32d60fb954ab9369c81a44fc38">More...</a><br /></td></tr>
<tr class="separator:a34442f32d60fb954ab9369c81a44fc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcc3eb45b332c8b9da9b0e3bff49fdb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8bcc3eb45b332c8b9da9b0e3bff49fdb">BSMCb</a> (carma_v2x_msgs::msg::BSM::UniquePtr msg)</td></tr>
<tr class="memdesc:a8bcc3eb45b332c8b9da9b0e3bff49fdb"><td class="mdescLeft">&#160;</td><td class="mdescRight">BSM callback function.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8bcc3eb45b332c8b9da9b0e3bff49fdb">More...</a><br /></td></tr>
<tr class="separator:a8bcc3eb45b332c8b9da9b0e3bff49fdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912dc09be0b318510a8e50df38f80b10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10">parseStrategyParams</a> (const std::string &amp;strategy_params)</td></tr>
<tr class="memdesc:a912dc09be0b318510a8e50df38f80b10"><td class="mdescLeft">&#160;</td><td class="mdescRight">parse strategy parameters  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10">More...</a><br /></td></tr>
<tr class="separator:a912dc09be0b318510a8e50df38f80b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9965dbbfa665100a5e5bd4998fc59022"><td class="memItemLeft" align="right" valign="top">carma_v2x_msgs::msg::MobilityOperation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9965dbbfa665100a5e5bd4998fc59022">generateMobilityOperation</a> ()</td></tr>
<tr class="memdesc:a9965dbbfa665100a5e5bd4998fc59022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates Mobility Operation messages.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9965dbbfa665100a5e5bd4998fc59022">More...</a><br /></td></tr>
<tr class="separator:a9965dbbfa665100a5e5bd4998fc59022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63f61dae16c63a661de5cff883b6ee2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2">getTurnDirectionAtIntersection</a> (std::vector&lt; lanelet::ConstLanelet &gt; lanelets_list)</td></tr>
<tr class="memdesc:ad63f61dae16c63a661de5cff883b6ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the turn direction at intersection.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2">More...</a><br /></td></tr>
<tr class="separator:ad63f61dae16c63a661de5cff883b6ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96b9eee70bfce3c69fc192a0609140e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae96b9eee70bfce3c69fc192a0609140e">publishMobilityOperation</a> ()</td></tr>
<tr class="memdesc:ae96b9eee70bfce3c69fc192a0609140e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish mobility operation at a fixed rate.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae96b9eee70bfce3c69fc192a0609140e">More...</a><br /></td></tr>
<tr class="separator:ae96b9eee70bfce3c69fc192a0609140e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc4439e56b18101c15f0b2c6f5cc1f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aadc4439e56b18101c15f0b2c6f5cc1f1">publishTrajectorySmoothingInfo</a> ()</td></tr>
<tr class="memdesc:aadc4439e56b18101c15f0b2c6f5cc1f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publish trajectory smoothing info at a fixed rate.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aadc4439e56b18101c15f0b2c6f5cc1f1">More...</a><br /></td></tr>
<tr class="separator:aadc4439e56b18101c15f0b2c6f5cc1f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html">carma_guidance_plugins::StrategicPlugin</a></td></tr>
<tr class="memitem:a483960054ad56f9c43543b06add9cfa3 inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a483960054ad56f9c43543b06add9cfa3">StrategicPlugin</a> (const rclcpp::NodeOptions &amp;)</td></tr>
<tr class="memdesc:a483960054ad56f9c43543b06add9cfa3 inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html" title="StrategicPlugin base class which can be extended by user provided plugins which wish to implement the...">StrategicPlugin</a> constructor.  <a href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a483960054ad56f9c43543b06add9cfa3">More...</a><br /></td></tr>
<tr class="separator:a483960054ad56f9c43543b06add9cfa3 inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51b78b89bc9f80a29f2b6997e8b4677f inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a51b78b89bc9f80a29f2b6997e8b4677f">~StrategicPlugin</a> ()=default</td></tr>
<tr class="memdesc:a51b78b89bc9f80a29f2b6997e8b4677f inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor for safe deletion.  <a href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a51b78b89bc9f80a29f2b6997e8b4677f">More...</a><br /></td></tr>
<tr class="separator:a51b78b89bc9f80a29f2b6997e8b4677f inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8b186f3d6ed586d42315b67c5b93bff inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#ad8b186f3d6ed586d42315b67c5b93bff">plan_maneuvers_callback</a> (std::shared_ptr&lt; rmw_request_id_t &gt; srv_header, carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp)=0</td></tr>
<tr class="memdesc:ad8b186f3d6ed586d42315b67c5b93bff inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extending class provided callback which should return a planned trajectory based on the provided trajectory planning request.  <a href="classcarma__guidance__plugins_1_1StrategicPlugin.html#ad8b186f3d6ed586d42315b67c5b93bff">More...</a><br /></td></tr>
<tr class="separator:ad8b186f3d6ed586d42315b67c5b93bff inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19cf07cab8ceaf029dead659ad979b1d inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a19cf07cab8ceaf029dead659ad979b1d">get_capability</a> () override</td></tr>
<tr class="memdesc:a19cf07cab8ceaf029dead659ad979b1d inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the capability string representing this plugins capabilities Method must be overriden by extending classes. Expectation is that abstract plugin type parent classes will provide a default implementation.  <a href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a19cf07cab8ceaf029dead659ad979b1d">More...</a><br /></td></tr>
<tr class="separator:a19cf07cab8ceaf029dead659ad979b1d inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae21bb6d18ce4039959d4df044314cf1f inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#ae21bb6d18ce4039959d4df044314cf1f">get_type</a> () override final</td></tr>
<tr class="memdesc:ae21bb6d18ce4039959d4df044314cf1f inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of this plugin according to the carma_planning_msgs::Plugin type enum. Extending classes for the specific type should override this method.  <a href="classcarma__guidance__plugins_1_1StrategicPlugin.html#ae21bb6d18ce4039959d4df044314cf1f">More...</a><br /></td></tr>
<tr class="separator:ae21bb6d18ce4039959d4df044314cf1f inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cf28fec547006198c7a0c20297ea96a inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a1cf28fec547006198c7a0c20297ea96a">handle_on_configure</a> (const rclcpp_lifecycle::State &amp;) override final</td></tr>
<tr class="separator:a1cf28fec547006198c7a0c20297ea96a inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394a3bea62765a582f723a232ade34fa inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a394a3bea62765a582f723a232ade34fa">handle_on_activate</a> (const rclcpp_lifecycle::State &amp;) override final</td></tr>
<tr class="separator:a394a3bea62765a582f723a232ade34fa inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16eb115b0a9904b2b3242aab44fa886c inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a16eb115b0a9904b2b3242aab44fa886c">handle_on_deactivate</a> (const rclcpp_lifecycle::State &amp;) override final</td></tr>
<tr class="separator:a16eb115b0a9904b2b3242aab44fa886c inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a230fc69d2946a19bc9425be8c00ed9a8 inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a230fc69d2946a19bc9425be8c00ed9a8">handle_on_cleanup</a> (const rclcpp_lifecycle::State &amp;) override final</td></tr>
<tr class="separator:a230fc69d2946a19bc9425be8c00ed9a8 inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd252801b52f6a42109a3d08bf0b28d1 inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#abd252801b52f6a42109a3d08bf0b28d1">handle_on_shutdown</a> (const rclcpp_lifecycle::State &amp;) override final</td></tr>
<tr class="separator:abd252801b52f6a42109a3d08bf0b28d1 inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2188f73bffa8b42747bb6a7440bf5a inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#a0c2188f73bffa8b42747bb6a7440bf5a">handle_on_error</a> (const rclcpp_lifecycle::State &amp;, const std::string &amp;exception_string) override final</td></tr>
<tr class="separator:a0c2188f73bffa8b42747bb6a7440bf5a inherit pub_methods_classcarma__guidance__plugins_1_1StrategicPlugin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html">carma_guidance_plugins::PluginBaseNode</a></td></tr>
<tr class="memitem:a870d8e69433a175360bced984fa9a580 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a870d8e69433a175360bced984fa9a580">PluginBaseNode</a> (const rclcpp::NodeOptions &amp;)</td></tr>
<tr class="memdesc:a870d8e69433a175360bced984fa9a580 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html" title="PluginBaseNode provides default functionality for all carma guidance plugins. This includes basic sta...">PluginBaseNode</a> constructor.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a870d8e69433a175360bced984fa9a580">More...</a><br /></td></tr>
<tr class="separator:a870d8e69433a175360bced984fa9a580 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4304eac54a14bcc8c3bf5db392863f89 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a4304eac54a14bcc8c3bf5db392863f89">~PluginBaseNode</a> ()=default</td></tr>
<tr class="memdesc:a4304eac54a14bcc8c3bf5db392863f89 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual destructor for safe deletion.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a4304eac54a14bcc8c3bf5db392863f89">More...</a><br /></td></tr>
<tr class="separator:a4304eac54a14bcc8c3bf5db392863f89 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1abc8998e6a33bb3e999379d3d87063 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr&lt; <a class="el" href="classcarma__wm_1_1WMListener.html">carma_wm::WMListener</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#aa1abc8998e6a33bb3e999379d3d87063">get_world_model_listener</a> () final</td></tr>
<tr class="memdesc:aa1abc8998e6a33bb3e999379d3d87063 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return the default world model listener provided as a convience by this base class If this method or <a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a50b54d5c4cc5180eeef0c78c55f70ec3" title="Method to return the default world model provided as a convience by this base class If this method or...">get_world_model()</a> are not called then the world model remains uninitialized and will not create unnecessary subscriptions.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#aa1abc8998e6a33bb3e999379d3d87063">More...</a><br /></td></tr>
<tr class="separator:aa1abc8998e6a33bb3e999379d3d87063 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50b54d5c4cc5180eeef0c78c55f70ec3 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespacecarma__wm.html#a3ac653959e0b6198cae274d68b343228">carma_wm::WorldModelConstPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a50b54d5c4cc5180eeef0c78c55f70ec3">get_world_model</a> () final</td></tr>
<tr class="memdesc:a50b54d5c4cc5180eeef0c78c55f70ec3 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to return the default world model provided as a convience by this base class If this method or <a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#aa1abc8998e6a33bb3e999379d3d87063" title="Method to return the default world model listener provided as a convience by this base class If this ...">get_world_model_listener()</a> are not called then the world model remains uninitialized and will not create unnecessary subscriptions.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a50b54d5c4cc5180eeef0c78c55f70ec3">More...</a><br /></td></tr>
<tr class="separator:a50b54d5c4cc5180eeef0c78c55f70ec3 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c627d698b6cebcc99d1946d047f1ac3 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a0c627d698b6cebcc99d1946d047f1ac3">get_activation_status</a> () final</td></tr>
<tr class="memdesc:a0c627d698b6cebcc99d1946d047f1ac3 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the activation status of this plugin. The plugins API callbacks will only be triggered when this method returns true.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a0c627d698b6cebcc99d1946d047f1ac3">More...</a><br /></td></tr>
<tr class="separator:a0c627d698b6cebcc99d1946d047f1ac3 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b29816e3daff14946e38577011ed57c inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a0b29816e3daff14946e38577011ed57c">get_type</a> ()</td></tr>
<tr class="memdesc:a0b29816e3daff14946e38577011ed57c inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the type of this plugin according to the carma_planning_msgs::Plugin type enum. Extending classes for the specific type should override this method.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a0b29816e3daff14946e38577011ed57c">More...</a><br /></td></tr>
<tr class="separator:a0b29816e3daff14946e38577011ed57c inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaabf39cce21b400bff5e93949597830 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#abaabf39cce21b400bff5e93949597830">get_plugin_name_and_ns</a> () const</td></tr>
<tr class="memdesc:abaabf39cce21b400bff5e93949597830 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of this plugin with namespace. NOTE: If only the name of the plugin is required, use <a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a4f99c1b6acf4ab094f23c066450efe47" title="Return the name of this plugin.">get_plugin_name()</a>  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#abaabf39cce21b400bff5e93949597830">More...</a><br /></td></tr>
<tr class="separator:abaabf39cce21b400bff5e93949597830 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f99c1b6acf4ab094f23c066450efe47 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a4f99c1b6acf4ab094f23c066450efe47">get_plugin_name</a> () const</td></tr>
<tr class="memdesc:a4f99c1b6acf4ab094f23c066450efe47 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the name of this plugin.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a4f99c1b6acf4ab094f23c066450efe47">More...</a><br /></td></tr>
<tr class="separator:a4f99c1b6acf4ab094f23c066450efe47 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a706b788f272c0d01711f2820ef5f3798 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a706b788f272c0d01711f2820ef5f3798">get_availability</a> ()=0</td></tr>
<tr class="memdesc:a706b788f272c0d01711f2820ef5f3798 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the availability status of this plugin based on the current operating environment. Method must be overriden by extending classes.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a706b788f272c0d01711f2820ef5f3798">More...</a><br /></td></tr>
<tr class="separator:a706b788f272c0d01711f2820ef5f3798 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a415f343893f7465fa68094497bc2825a inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a415f343893f7465fa68094497bc2825a">get_capability</a> ()=0</td></tr>
<tr class="memdesc:a415f343893f7465fa68094497bc2825a inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the capability string representing this plugins capabilities Method must be overriden by extending classes. Expectation is that abstract plugin type parent classes will provide a default implementation.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a415f343893f7465fa68094497bc2825a">More...</a><br /></td></tr>
<tr class="separator:a415f343893f7465fa68094497bc2825a inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac318c8732500fa793149ec4d2f442cf6 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#ac318c8732500fa793149ec4d2f442cf6">get_version_id</a> ()=0</td></tr>
<tr class="memdesc:ac318c8732500fa793149ec4d2f442cf6 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the version id of this plugin.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#ac318c8732500fa793149ec4d2f442cf6">More...</a><br /></td></tr>
<tr class="separator:ac318c8732500fa793149ec4d2f442cf6 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8786fff73c3ddd6061dbdfe0b6288d82 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a8786fff73c3ddd6061dbdfe0b6288d82">on_configure_plugin</a> ()=0</td></tr>
<tr class="memdesc:a8786fff73c3ddd6061dbdfe0b6288d82 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states. This method should be used to load parameters and is required to be implemented.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a8786fff73c3ddd6061dbdfe0b6288d82">More...</a><br /></td></tr>
<tr class="separator:a8786fff73c3ddd6061dbdfe0b6288d82 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d2248e7e0bd5b9e6c754f72e49429c inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#af1d2248e7e0bd5b9e6c754f72e49429c">on_activate_plugin</a> ()</td></tr>
<tr class="memdesc:af1d2248e7e0bd5b9e6c754f72e49429c inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method which is triggered when this plugin is moved from the INACTIVE to ACTIVE states. This method should be used to prepare for future callbacks for plugin's capabilites.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#af1d2248e7e0bd5b9e6c754f72e49429c">More...</a><br /></td></tr>
<tr class="separator:af1d2248e7e0bd5b9e6c754f72e49429c inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a7e099b890546a019e0f825938b2c64 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a1a7e099b890546a019e0f825938b2c64">on_deactivate_plugin</a> ()</td></tr>
<tr class="memdesc:a1a7e099b890546a019e0f825938b2c64 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method which is triggered when this plugin is moved from the ACTIVE to INACTIVE states. This method should be used to disable any functionality which should cease execution when plugin is inactive.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a1a7e099b890546a019e0f825938b2c64">More...</a><br /></td></tr>
<tr class="separator:a1a7e099b890546a019e0f825938b2c64 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f805766cb30f9b49cff9458ac279774 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a5f805766cb30f9b49cff9458ac279774">on_cleanup_plugin</a> ()</td></tr>
<tr class="memdesc:a5f805766cb30f9b49cff9458ac279774 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method which is triggered when this plugin is moved from the INACTIVE to UNCONFIGURED states. This method should be used to fully reset the plugin such that a future call to on_configure_plugin would leave the plugin in a fresh state as though just launched.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a5f805766cb30f9b49cff9458ac279774">More...</a><br /></td></tr>
<tr class="separator:a5f805766cb30f9b49cff9458ac279774 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab888278bbee66e83f7c4a593933b6029 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#ab888278bbee66e83f7c4a593933b6029">on_shutdown_plugin</a> ()</td></tr>
<tr class="memdesc:ab888278bbee66e83f7c4a593933b6029 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method which is triggered when this plugin is moved from any state to FINALIZED This method should be used to generate any shutdown logs or final cleanup.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#ab888278bbee66e83f7c4a593933b6029">More...</a><br /></td></tr>
<tr class="separator:ab888278bbee66e83f7c4a593933b6029 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abadec1fa43995d369141d44893f567c5 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">virtual carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#abadec1fa43995d369141d44893f567c5">on_error_plugin</a> (const std::string &amp;exception_string)</td></tr>
<tr class="memdesc:abadec1fa43995d369141d44893f567c5 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method which is triggered when an unhandled exception occurs in this plugin This method should be used to cleanup such that the plugin could be moved to UNCONFIGURED state if possible.  <a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#abadec1fa43995d369141d44893f567c5">More...</a><br /></td></tr>
<tr class="separator:abadec1fa43995d369141d44893f567c5 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5629a69d353b4ec27de5c3b2d3f2d0e4 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a5629a69d353b4ec27de5c3b2d3f2d0e4">handle_on_configure</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:a5629a69d353b4ec27de5c3b2d3f2d0e4 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba75066bf8411345222a8bb5818cd9d9 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#aba75066bf8411345222a8bb5818cd9d9">handle_on_activate</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:aba75066bf8411345222a8bb5818cd9d9 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b21b30be372442dfb31fced3f3aa036 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a1b21b30be372442dfb31fced3f3aa036">handle_on_deactivate</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:a1b21b30be372442dfb31fced3f3aa036 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ca2870cc2647501681e395020e2b82c inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a4ca2870cc2647501681e395020e2b82c">handle_on_cleanup</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:a4ca2870cc2647501681e395020e2b82c inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0cefe1299d95b53c2d35df56f2f667 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#aea0cefe1299d95b53c2d35df56f2f667">handle_on_shutdown</a> (const rclcpp_lifecycle::State &amp;) override</td></tr>
<tr class="separator:aea0cefe1299d95b53c2d35df56f2f667 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211dab7b73c06ce2fc84be8999e75256 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a211dab7b73c06ce2fc84be8999e75256">handle_on_error</a> (const rclcpp_lifecycle::State &amp;, const std::string &amp;exception_string) override</td></tr>
<tr class="separator:a211dab7b73c06ce2fc84be8999e75256 inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd683307e1aba9b11c9b88a3184a7f2b inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#afd683307e1aba9b11c9b88a3184a7f2b">FRIEND_TEST</a> (carma_guidance_plugins_test, connections_test)</td></tr>
<tr class="separator:afd683307e1aba9b11c9b88a3184a7f2b inherit pub_methods_classcarma__guidance__plugins_1_1PluginBaseNode"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa093ee7a424c8aa3a15801e510795c54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa093ee7a424c8aa3a15801e510795c54">planWhenUNAVAILABLE</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</td></tr>
<tr class="memdesc:aa093ee7a424c8aa3a15801e510795c54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">TransitState::UNAVAILABLE</a> Therefor no maneuvers are planned but the system checks for the precense of traffic lights ahead of it.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa093ee7a424c8aa3a15801e510795c54">More...</a><br /></td></tr>
<tr class="separator:aa093ee7a424c8aa3a15801e510795c54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad91f88df811c604adc00532d3a358ec3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3">planWhenAPPROACHING</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</td></tr>
<tr class="memdesc:ad91f88df811c604adc00532d3a358ec3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">TransitState::APPROACHING</a> Therefore the planned maneuvers deal with approaching a traffic light.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3">More...</a><br /></td></tr>
<tr class="separator:ad91f88df811c604adc00532d3a358ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87185f4914dd728a5792e30512a66509"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509">planWhenWAITING</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</td></tr>
<tr class="memdesc:a87185f4914dd728a5792e30512a66509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">TransitState::WAITING</a> Therefor the planned maneuvers deal with waiting at a red light.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509">More...</a><br /></td></tr>
<tr class="separator:a87185f4914dd728a5792e30512a66509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4778775fa282372e99b562a78d1c505e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4778775fa282372e99b562a78d1c505e">planWhenDEPARTING</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, double intersection_end_downtrack, double intersection_speed_limit)</td></tr>
<tr class="memdesc:a4778775fa282372e99b562a78d1c505e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">TransitState::DEPARTING</a> Therefor the planned maneuvers deal with the transit of the intersection once the stop bar has been crossed.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4778775fa282372e99b562a78d1c505e">More...</a><br /></td></tr>
<tr class="separator:a4778775fa282372e99b562a78d1c505e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1112baee4705e22ca2793e8caa98a7f4"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4">canArriveAtGreenWithCertainty</a> (const rclcpp::Time &amp;light_arrival_time_by_algo, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, <a class="el" href="classbool.html">bool</a> check_late, <a class="el" href="classbool.html">bool</a> check_early) const</td></tr>
<tr class="memdesc:a1112baee4705e22ca2793e8caa98a7f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the car can arrive at given arrival time within green light time buffer.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4">More...</a><br /></td></tr>
<tr class="separator:a1112baee4705e22ca2793e8caa98a7f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b06a05a52140213d302eee42e11fe85"><td class="memItemLeft" align="right" valign="top">carma_planning_msgs::msg::Maneuver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85">composeTrajectorySmoothingManeuverMessage</a> (double start_dist, double end_dist, const std::vector&lt; lanelet::ConstLanelet &gt; &amp;crossed_lanelets, double start_speed, double target_speed, rclcpp::Time start_time, rclcpp::Time end_time, const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;tsp) const</td></tr>
<tr class="memdesc:a3b06a05a52140213d302eee42e11fe85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85">More...</a><br /></td></tr>
<tr class="separator:a3b06a05a52140213d302eee42e11fe85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab88c4508c987570d86191fdcc1128d1f"><td class="memItemLeft" align="right" valign="top">carma_planning_msgs::msg::Maneuver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f">composeStopAndWaitManeuverMessage</a> (double current_dist, double end_dist, double start_speed, const lanelet::Id &amp;starting_lane_id, const lanelet::Id &amp;ending_lane_id, rclcpp::Time start_time, rclcpp::Time end_time, double stopping_accel) const</td></tr>
<tr class="memdesc:ab88c4508c987570d86191fdcc1128d1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compose a stop and wait maneuver message based on input params.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f">More...</a><br /></td></tr>
<tr class="separator:ab88c4508c987570d86191fdcc1128d1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcdbaaaee6c9dff394d77acc09715063"><td class="memItemLeft" align="right" valign="top">carma_planning_msgs::msg::Maneuver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063">composeIntersectionTransitMessage</a> (double start_dist, double end_dist, double start_speed, double target_speed, rclcpp::Time start_time, rclcpp::Time end_time, const lanelet::Id &amp;starting_lane_id, const lanelet::Id &amp;ending_lane_id) const</td></tr>
<tr class="memdesc:afcdbaaaee6c9dff394d77acc09715063"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compose a intersection transit maneuver message based on input params.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063">More...</a><br /></td></tr>
<tr class="separator:afcdbaaaee6c9dff394d77acc09715063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a041e1ecce80673108193c9ac0d9878d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">handleStopping</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet, double traffic_light_down_track, <a class="el" href="classbool.html">bool</a> is_emergency=false)</td></tr>
<tr class="memdesc:a041e1ecce80673108193c9ac0d9878d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping distance. Given the initial speed, ending speed (which is 0), and remaining_downtrack, this function checks if calculated remaining_time falls on RED.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">More...</a><br /></td></tr>
<tr class="separator:a041e1ecce80673108193c9ac0d9878d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cab8e3125da46e21b998c24d3747345"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345">handleGreenSignalScenario</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, double current_state_speed, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, double traffic_light_down_track, const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;ts_params, <a class="el" href="classbool.html">bool</a> is_certainty_check_optional)</td></tr>
<tr class="memdesc:a0cab8e3125da46e21b998c24d3747345"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing parameters to go through the intersection with certainty It utilizes canMakeWithCertainty function to determine if it is able to make it. Corresponds to TSCase 1-7.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345">More...</a><br /></td></tr>
<tr class="separator:a0cab8e3125da46e21b998c24d3747345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50d167a1d4974b30d836689d99a0970"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970">handleCruisingUntilStop</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, double current_state_speed, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double traffic_light_down_track, const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;ts_params)</td></tr>
<tr class="memdesc:ac50d167a1d4974b30d836689d99a0970"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing parameters to go through the intersection with certainty It utilizes canMakeWithCertainty function to determine if it is able to make it. Corresponds to TSCase 1-7.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970">More...</a><br /></td></tr>
<tr class="separator:ac50d167a1d4974b30d836689d99a0970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b8c6ae95fa1264144bd62c5da27cc89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89">handleFailureCase</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, double current_state_speed, double speed_limit, double remaining_time, lanelet::Id exit_lanelet_id, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double traffic_light_down_track, const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;ts_params)</td></tr>
<tr class="memdesc:a5b8c6ae95fa1264144bd62c5da27cc89"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the vehicle is not able to successfully run the algorithm or not able to stop, this function modifies departure speed as close as possible to the original using max comfortable accelerations with given distance.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89">More...</a><br /></td></tr>
<tr class="separator:a5b8c6ae95fa1264144bd62c5da27cc89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23802c57f18da49875aaaebbca6adfdc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc">handleFailureCaseHelper</a> (const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double current_time, double starting_speed, double departure_speed, double speed_limit, double remaining_downtrack, double traffic_light_downtrack)</td></tr>
<tr class="memdesc:a23802c57f18da49875aaaebbca6adfdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to handleFailureCase that modifies ts_params to desired new parameters. See handleFailureCase.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc">More...</a><br /></td></tr>
<tr class="separator:a23802c57f18da49875aaaebbca6adfdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf733561a0ca72170d664f4414f624e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">supportedLightState</a> (lanelet::CarmaTrafficSignalState state) const</td></tr>
<tr class="memdesc:aedf733561a0ca72170d664f4414f624e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to evaluate if the given traffic light state is supported by this plugin.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">More...</a><br /></td></tr>
<tr class="separator:aedf733561a0ca72170d664f4414f624e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e62889347161bab48ab4d28761044a1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a> (const boost::optional&lt; std::pair&lt; boost::posix_time::ptime, lanelet::CarmaTrafficSignalState &gt; &gt; &amp;optional_state, const rclcpp::Time &amp;source_time) const</td></tr>
<tr class="memdesc:a1e62889347161bab48ab4d28761044a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method that checks both if the input optional light state is set and if the state it contains is supported via supportedLightState.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">More...</a><br /></td></tr>
<tr class="separator:a1e62889347161bab48ab4d28761044a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27d7979b9644a3747468ecf68212c3de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27d7979b9644a3747468ecf68212c3de">extractInitialState</a> (carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req) const</td></tr>
<tr class="memdesc:a27d7979b9644a3747468ecf68212c3de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to extract the initial vehicle state from the planning request method based on if the prior_plan was set or not.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27d7979b9644a3747468ecf68212c3de">More...</a><br /></td></tr>
<tr class="separator:a27d7979b9644a3747468ecf68212c3de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd0000bcaf1d2028aeef57416f7c429"><td class="memItemLeft" align="right" valign="top">std::vector&lt; lanelet::ConstLanelet &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a> (double start_downtrack, double end_downtrack, <a class="el" href="classbool.html">bool</a> shortest_path_only=false, <a class="el" href="classbool.html">bool</a> bounds_inclusive=true) const</td></tr>
<tr class="memdesc:a7dd0000bcaf1d2028aeef57416f7c429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack, end_downtrack, shortest_path_only,
bounds_inclusive) and throws and exception if the returned list of lanelets is empty. See the referenced method for additional details on parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">More...</a><br /></td></tr>
<tr class="separator:a7dd0000bcaf1d2028aeef57416f7c429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbeec90c35fb6b1fa37b637f83a406b"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; rclcpp::Time, <a class="el" href="classbool.html">bool</a>, <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b">get_final_entry_time_and_conditions</a> (const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const rclcpp::Time &amp;earliest_entry_time, lanelet::CarmaTrafficSignalPtr traffic_light)</td></tr>
<tr class="memdesc:a5dbeec90c35fb6b1fa37b637f83a406b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the final entry time from either vehicle's own internal ET calculation (TSMO UC2) or from carma-street (TSMO UC3) This function also applies necessary green_buffer to adjust the ET.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b">More...</a><br /></td></tr>
<tr class="separator:a5dbeec90c35fb6b1fa37b637f83a406b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdc00ab83813bd7cbdf2061275a697ef"><td class="memItemLeft" align="right" valign="top">rclcpp::Time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef">get_nearest_green_entry_time</a> (const rclcpp::Time &amp;current_time, const rclcpp::Time &amp;earliest_entry_time, lanelet::CarmaTrafficSignalPtr signal, double minimum_required_green_time=0.0) const</td></tr>
<tr class="memdesc:acdc00ab83813bd7cbdf2061275a697ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest possible entry time that is during green phase and after timestamps both that is kinematically possible and required times for vehicle in front to pass through first.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef">More...</a><br /></td></tr>
<tr class="separator:acdc00ab83813bd7cbdf2061275a697ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a427e5d35aec72d2c336b05cead63d666"><td class="memItemLeft" align="right" valign="top">rclcpp::Duration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666">get_earliest_entry_time</a> (double remaining_distance, double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:a427e5d35aec72d2c336b05cead63d666"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the earliest entry time into the intersection that is kinematically possible for the vehicle. Designed to get it for motion that has maximum one acceleration, deceleration, or cruise segments until destination.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666">More...</a><br /></td></tr>
<tr class="separator:a427e5d35aec72d2c336b05cead63d666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cd0f3ccdcf467ef946dabd04308b21"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa8cd0f3ccdcf467ef946dabd04308b21">get_trajectory_smoothing_activation_distance</a> (double time_remaining_at_free_flow, double full_cycle_duration, double current_speed, double speed_limit, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:aa8cd0f3ccdcf467ef946dabd04308b21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets maximum distance (nearest downtrack) the trajectory smoothing algorithm makes difference than simple lane following within half of one full fixed cycle time boundary compared to free flow arrival time.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa8cd0f3ccdcf467ef946dabd04308b21">More...</a><br /></td></tr>
<tr class="separator:aa8cd0f3ccdcf467ef946dabd04308b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1677e95026e7023261613dd84ee82ef0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">get_distance_to_accel_or_decel_twice</a> (double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:a1677e95026e7023261613dd84ee82ef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get required distance to accel then decel, or vise versa - each at least once - to reach departure_speed with given speed and acceleration parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">More...</a><br /></td></tr>
<tr class="separator:a1677e95026e7023261613dd84ee82ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64916c2b9a3b7eedc359c68931f967c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c">get_inflection_speed_value</a> (double x, double x1, double x2, double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:aa64916c2b9a3b7eedc359c68931f967c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the speed between the acceleration and deceleration pieces.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c">More...</a><br /></td></tr>
<tr class="separator:aa64916c2b9a3b7eedc359c68931f967c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bd4aa59c217c225a29fcf2d6c3552d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">get_distance_to_accel_or_decel_once</a> (double current_speed, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:aa2bd4aa59c217c225a29fcf2d6c3552d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get required distance to accel or decel to reach departure_speed with given speed and acceleration parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">More...</a><br /></td></tr>
<tr class="separator:aa2bd4aa59c217c225a29fcf2d6c3552d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9fb36575ef6b54f01291ef8cf1d697"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a> (double v, double <a class="el" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>) const</td></tr>
<tr class="memdesc:ace9fb36575ef6b54f01291ef8cf1d697"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">More...</a><br /></td></tr>
<tr class="separator:ace9fb36575ef6b54f01291ef8cf1d697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aab46a940b62eccd2804c646342ac0c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">estimate_time_to_stop</a> (double d, double v) const</td></tr>
<tr class="memdesc:a1aab46a940b62eccd2804c646342ac0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to use basic kinematics to compute an estimated stopping time from from the inputs.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">More...</a><br /></td></tr>
<tr class="separator:a1aab46a940b62eccd2804c646342ac0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a26d736705389e017c4c41097806e90"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a> (const lanelet::ConstLanelet &amp;llt) const</td></tr>
<tr class="memdesc:a3a26d736705389e017c4c41097806e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a Lanelet, find it's associated Speed Limit.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">More...</a><br /></td></tr>
<tr class="separator:a3a26d736705389e017c4c41097806e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6a47bf53ae1095e72df145bf6903d3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">calc_estimated_entry_time_left</a> (double entry_dist, double current_speed, double departure_speed) const</td></tr>
<tr class="memdesc:a3f6a47bf53ae1095e72df145bf6903d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculate the time vehicle will enter to intersection with optimal deceleration  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">More...</a><br /></td></tr>
<tr class="separator:a3f6a47bf53ae1095e72df145bf6903d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14874ac18eac605f9285d965fee1e7d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5">get_delta_x</a> (double v0, double v1, double v_max, double v_min, double a_max, double a_min)</td></tr>
<tr class="memdesc:a14874ac18eac605f9285d965fee1e7d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get boundary distances used to compare against current state in order to create trajectory smoothing parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5">More...</a><br /></td></tr>
<tr class="separator:a14874ac18eac605f9285d965fee1e7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf303b014faf0df91b93e2a7a37df9a8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8">get_boundary_traj_params</a> (double t, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx, <a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a> boundary_distances)</td></tr>
<tr class="memdesc:adf303b014faf0df91b93e2a7a37df9a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all possible trajectory smoothing parameters for each segments. Later this will be used to generate a single trajectory.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8">More...</a><br /></td></tr>
<tr class="separator:adf303b014faf0df91b93e2a7a37df9a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90783dcf3764851270354a58d81c27c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a> (<a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> params)</td></tr>
<tr class="memdesc:a90783dcf3764851270354a58d81c27c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to print <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">More...</a><br /></td></tr>
<tr class="separator:a90783dcf3764851270354a58d81c27c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31009ebcfe2704b9ee0562e1b9fb2a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0">print_boundary_distances</a> (<a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a> delta_xs)</td></tr>
<tr class="memdesc:ae31009ebcfe2704b9ee0562e1b9fb2a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to print <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0">More...</a><br /></td></tr>
<tr class="separator:ae31009ebcfe2704b9ee0562e1b9fb2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c754a4e2f40fdd9170589087d3097a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a">ts_case1</a> (double t, double et, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="memdesc:a29c754a4e2f40fdd9170589087d3097a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a">More...</a><br /></td></tr>
<tr class="separator:a29c754a4e2f40fdd9170589087d3097a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af907160a273b7f0dbca36dd5b332a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0">ts_case2</a> (double t, double et, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a9af907160a273b7f0dbca36dd5b332a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4317f84b933acb423175e215de351d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d">ts_case3</a> (double t, double et, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:ace4317f84b933acb423175e215de351d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820d938d83b16c8fc7cc3930a062212a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a">ts_case4</a> (double t, double et, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a820d938d83b16c8fc7cc3930a062212a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2f61d939ab8184e3eca056b46a8b2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e">ts_case5</a> (double t, double et, double v0, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:ada2f61d939ab8184e3eca056b46a8b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9d856f7fa523b5b4266601f6c6154f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f">ts_case6</a> (double t, double et, double v0, double v_min, double a_min, double x0, double x_end, double dx, double dx3, <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> traj6)</td></tr>
<tr class="separator:a7d9d856f7fa523b5b4266601f6c6154f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2382d4f0feb6c0ae9db91695f2b552d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2">ts_case7</a> (double t, double et, double v0, double v_min, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a2382d4f0feb6c0ae9db91695f2b552d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba844206be4f074096240f5d506aa8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c">ts_case8</a> (double dx, double dx5, <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> traj8)</td></tr>
<tr class="separator:abba844206be4f074096240f5d506aa8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f21fa9d57192b727b649f538b90087a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a">boundary_accel_or_decel_incomplete_upper</a> (double t, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a2f21fa9d57192b727b649f538b90087a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58675498122012f18f8a686b551f70d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3">boundary_accel_nocruise_notmaxspeed_decel</a> (double t, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a58675498122012f18f8a686b551f70d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71eb5d63d2d1338440cb2da3dec5a45f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f">boundary_accel_cruise_maxspeed_decel</a> (double t, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a71eb5d63d2d1338440cb2da3dec5a45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293a179317673ebdcda7890f4f933f60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60">boundary_accel_nocruise_maxspeed_decel</a> (double t, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a293a179317673ebdcda7890f4f933f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a02000689636fe971a9080c20b2e48f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f">boundary_accel_or_decel_complete_upper</a> (double t, double v0, double v1, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a2a02000689636fe971a9080c20b2e48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0401f858c83b717d4525c4ac8aeedcd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2">boundary_decel_nocruise_notminspeed_accel</a> (double t, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a0401f858c83b717d4525c4ac8aeedcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5941c3b49c97c3c55ef3bb2dd9e4c96c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c">boundary_decel_nocruise_minspeed_accel_incomplete</a> (double t, double v0, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a5941c3b49c97c3c55ef3bb2dd9e4c96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b880660d58500ab32abc453096a38d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d">boundary_decel_nocruise_minspeed_accel_complete</a> (double t, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:aa1b880660d58500ab32abc453096a38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc331c61cde633f2ef571b8ca86a208"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208">boundary_decel_cruise_minspeed_accel</a> (double t, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a8cc331c61cde633f2ef571b8ca86a208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a3866067ba8e2808e785f29909bc72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72">boundary_decel_cruise_minspeed</a> (double t, double v0, double v_min, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:aa3a3866067ba8e2808e785f29909bc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739ee8e685d7d651c2c3826df0a43496"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496">boundary_decel_incomplete_lower</a> (double t, double v0, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a739ee8e685d7d651c2c3826df0a43496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0796279675323a1dc0c4e5be7b2a3090"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090">boundary_decel_cruise_minspeed_decel</a> (double t, double v0, double v_min, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a0796279675323a1dc0c4e5be7b2a3090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6b11b8d6c543e15eb501c90bb1d3c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3">get_ts_case</a> (double t, double et, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx, <a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a> boundary_distances, std::vector&lt; <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &gt; params)</td></tr>
<tr class="separator:a9f6b11b8d6c543e15eb501c90bb1d3c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c3e21056f1b5dab765e04e73be5c44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af7c3e21056f1b5dab765e04e73be5c44">FRIEND_TEST</a> (LCIStrategicTestFixture, getDiscoveryMsg)</td></tr>
<tr class="separator:af7c3e21056f1b5dab765e04e73be5c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16e098f65e6b8628ca6e9face1cc234"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad16e098f65e6b8628ca6e9face1cc234">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">supportedLightState</a>)</td></tr>
<tr class="separator:ad16e098f65e6b8628ca6e9face1cc234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9445b42bdb77fe7a0bbf43bedf714d3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9445b42bdb77fe7a0bbf43bedf714d3b">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a>)</td></tr>
<tr class="separator:a9445b42bdb77fe7a0bbf43bedf714d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2058cfbf748579a7e1c51da801218202"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2058cfbf748579a7e1c51da801218202">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">estimate_time_to_stop</a>)</td></tr>
<tr class="separator:a2058cfbf748579a7e1c51da801218202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f79fc85ea25758b13f21d5e9bdd4c4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8f79fc85ea25758b13f21d5e9bdd4c4c">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27d7979b9644a3747468ecf68212c3de">extractInitialState</a>)</td></tr>
<tr class="separator:a8f79fc85ea25758b13f21d5e9bdd4c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a792358268b99e6f6366957e28cedef2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a792358268b99e6f6366957e28cedef2f">FRIEND_TEST</a> (LCIStrategicTestFixture, DISABLED_extractInitialState)</td></tr>
<tr class="separator:a792358268b99e6f6366957e28cedef2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430d9bf29b6d3b1cf60757d770245783"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a430d9bf29b6d3b1cf60757d770245783">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>)</td></tr>
<tr class="separator:a430d9bf29b6d3b1cf60757d770245783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca8dd04be6ce3e05f83f3601b72774b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abca8dd04be6ce3e05f83f3601b72774b">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>)</td></tr>
<tr class="separator:abca8dd04be6ce3e05f83f3601b72774b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708690d451bb7444dcb4c6fa6ef643d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a708690d451bb7444dcb4c6fa6ef643d5">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f">composeStopAndWaitManeuverMessage</a>)</td></tr>
<tr class="separator:a708690d451bb7444dcb4c6fa6ef643d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbb6c112eac4ff8a4cbc2a674c0c4e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbb6c112eac4ff8a4cbc2a674c0c4e9">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063">composeIntersectionTransitMessage</a>)</td></tr>
<tr class="separator:a5dbb6c112eac4ff8a4cbc2a674c0c4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd61d1c8aa2e18e8418e593b670f128"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8bd61d1c8aa2e18e8418e593b670f128">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85">composeTrajectorySmoothingManeuverMessage</a>)</td></tr>
<tr class="separator:a8bd61d1c8aa2e18e8418e593b670f128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe3bf39197d5fbf49a98fcd25bafd28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5fe3bf39197d5fbf49a98fcd25bafd28">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc">handleFailureCaseHelper</a>)</td></tr>
<tr class="separator:a5fe3bf39197d5fbf49a98fcd25bafd28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8d3dc1a0515a909f0e2b77e148367cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8d3dc1a0515a909f0e2b77e148367cc">FRIEND_TEST</a> (LCIStrategicTestFixture, planWhenETInTBD)</td></tr>
<tr class="separator:ab8d3dc1a0515a909f0e2b77e148367cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbc989a7550e2df686ea5ab99b7b14e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8dbc989a7550e2df686ea5ab99b7b14e">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">calc_estimated_entry_time_left</a>)</td></tr>
<tr class="separator:a8dbc989a7550e2df686ea5ab99b7b14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da968a28811ff19a5f137296f6407e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3da968a28811ff19a5f137296f6407e6">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">get_distance_to_accel_or_decel_twice</a>)</td></tr>
<tr class="separator:a3da968a28811ff19a5f137296f6407e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8b1c5be92f14061620ed632d1ccff7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0a8b1c5be92f14061620ed632d1ccff7">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">get_distance_to_accel_or_decel_once</a>)</td></tr>
<tr class="separator:a0a8b1c5be92f14061620ed632d1ccff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f4a437035adceb7bac4adf49c14c37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a04f4a437035adceb7bac4adf49c14c37">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef">get_nearest_green_entry_time</a>)</td></tr>
<tr class="separator:a04f4a437035adceb7bac4adf49c14c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf00298b86f45d4553a62f9b22184e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afaf00298b86f45d4553a62f9b22184e6">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666">get_earliest_entry_time</a>)</td></tr>
<tr class="separator:afaf00298b86f45d4553a62f9b22184e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d191a68eff985e471d8d26dd5dfc84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21d191a68eff985e471d8d26dd5dfc84">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89">handleFailureCase</a>)</td></tr>
<tr class="separator:a21d191a68eff985e471d8d26dd5dfc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9adae05325f53a2f2e50a08659b2bd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac9adae05325f53a2f2e50a08659b2bd0">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">handleStopping</a>)</td></tr>
<tr class="separator:ac9adae05325f53a2f2e50a08659b2bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ac425c5eb670f465aa8ab46fdc56f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a45ac425c5eb670f465aa8ab46fdc56f0">FRIEND_TEST</a> (LCIStrategicTestFixture, planManeuverCb)</td></tr>
<tr class="separator:a45ac425c5eb670f465aa8ab46fdc56f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab746fd533d8f9d07df3ed3e42e1c24c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab746fd533d8f9d07df3ed3e42e1c24c3">FRIEND_TEST</a> (LCIStrategicTestFixture, DISABLED_planManeuverCb)</td></tr>
<tr class="separator:ab746fd533d8f9d07df3ed3e42e1c24c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac09e043f64957a93ef42ed9e14ebe5ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac09e043f64957a93ef42ed9e14ebe5ac">FRIEND_TEST</a> (LCIStrategicPluginTest, parseStrategyParamstest)</td></tr>
<tr class="separator:ac09e043f64957a93ef42ed9e14ebe5ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e1d0a6a7d67643829b5047087826240"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2e1d0a6a7d67643829b5047087826240">FRIEND_TEST</a> (LCIStrategicPluginTest, moboperationcbtest)</td></tr>
<tr class="separator:a2e1d0a6a7d67643829b5047087826240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f9f412abdf354586c072636b3ac644"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a37f9f412abdf354586c072636b3ac644">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>)</td></tr>
<tr class="separator:a37f9f412abdf354586c072636b3ac644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a133391e50aff23f8bc2276dc642783"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6a133391e50aff23f8bc2276dc642783">FRIEND_TEST</a> (LCIStrategicTestFixture, DISABLED_planWhenETInTBD)</td></tr>
<tr class="separator:a6a133391e50aff23f8bc2276dc642783"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a63ee8ae7daaa5e8a4222a67dcf48366f"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63ee8ae7daaa5e8a4222a67dcf48366f">street_msg_timestamp_</a> = 0</td></tr>
<tr class="separator:a63ee8ae7daaa5e8a4222a67dcf48366f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387a881b43da465efca652474b390b97"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> = 0</td></tr>
<tr class="separator:a387a881b43da465efca652474b390b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7d33a0c85f6ba2d709d07a4526774aa"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab7d33a0c85f6ba2d709d07a4526774aa">previous_strategy_params_</a> = &quot;&quot;</td></tr>
<tr class="separator:ab7d33a0c85f6ba2d709d07a4526774aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31499f8e464eedc17d071335fb9ce1ad"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a31499f8e464eedc17d071335fb9ce1ad">upcoming_id_</a> = &quot;&quot;</td></tr>
<tr class="separator:a31499f8e464eedc17d071335fb9ce1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8ebae22d31d704cdee82b3efcec263"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aab8ebae22d31d704cdee82b3efcec263">bsm_id_</a> = &quot;default_bsm_id&quot;</td></tr>
<tr class="separator:aab8ebae22d31d704cdee82b3efcec263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01df237e1b50c546b2088036c4a1b477"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a01df237e1b50c546b2088036c4a1b477">bsm_msg_count_</a> = 0</td></tr>
<tr class="separator:a01df237e1b50c546b2088036c4a1b477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cb9188fd1f5f4330fdf8ef3e571a78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21cb9188fd1f5f4330fdf8ef3e571a78">bsm_sec_mark_</a> = 0</td></tr>
<tr class="separator:a21cb9188fd1f5f4330fdf8ef3e571a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0f8f878a2a1cdaffa1f28ee20336d0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a> = 2.0</td></tr>
<tr class="separator:a6f0f8f878a2a1cdaffa1f28ee20336d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa302a99c74e957f175bfcf2d30411612"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> = -2.0</td></tr>
<tr class="separator:aa302a99c74e957f175bfcf2d30411612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44fdab48c5bd34c844b45bb10702d985"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> = -1 * <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a></td></tr>
<tr class="separator:a44fdab48c5bd34c844b45bb10702d985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a357ad8adde3161651507d8e399431bfc"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a357ad8adde3161651507d8e399431bfc">emergency_decel_norm_</a> = -2 * <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a></td></tr>
<tr class="separator:a357ad8adde3161651507d8e399431bfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27f805a687c1d09b8e21087c5b2ff0e8"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; rclcpp::Time &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a></td></tr>
<tr class="separator:a27f805a687c1d09b8e21087c5b2ff0e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf73e3ba365c4fa683912f0bf17143bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273b">TSCase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = TSCase::UNAVAILABLE</td></tr>
<tr class="memdesc:adf73e3ba365c4fa683912f0bf17143bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Useful metrics for LCI Plugin.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">More...</a><br /></td></tr>
<tr class="separator:adf73e3ba365c4fa683912f0bf17143bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb96553dc6acf995b4de2db46998856"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">distance_remaining_to_tf_</a> = 0.0</td></tr>
<tr class="separator:a8fb96553dc6acf995b4de2db46998856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58c69bcf68ab67c8d15fd91d46fcb87"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad58c69bcf68ab67c8d15fd91d46fcb87">earliest_entry_time_</a> = 0.0</td></tr>
<tr class="separator:ad58c69bcf68ab67c8d15fd91d46fcb87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d7dbe5783d3b96fdc46a6f91cf6ae9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">scheduled_entry_time_</a> = 0.0</td></tr>
<tr class="separator:ad8d7dbe5783d3b96fdc46a6f91cf6ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b737710552367a21447be1918ca210"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">intersection_turn_direction_</a> = <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a></td></tr>
<tr class="separator:ab3b737710552367a21447be1918ca210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8247b29655ecc5f132e33c3cad8591d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a> = false</td></tr>
<tr class="separator:ab8247b29655ecc5f132e33c3cad8591d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8440a6d3bb9476a477961a2a9d1126"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html">LCIStrategicPluginConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a></td></tr>
<tr class="memdesc:a0f8440a6d3bb9476a477961a2a9d1126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Config containing configurable algorithm parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">More...</a><br /></td></tr>
<tr class="separator:a0f8440a6d3bb9476a477961a2a9d1126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2e0860177c4a9126e3f7469a555124"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html">LCIStrategicStateTransitionTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a></td></tr>
<tr class="memdesc:ada2e0860177c4a9126e3f7469a555124"><td class="mdescLeft">&#160;</td><td class="mdescRight">State Machine Transition table.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">More...</a><br /></td></tr>
<tr class="separator:ada2e0860177c4a9126e3f7469a555124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9380f01ef61988443a1229797af0bb6"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a></td></tr>
<tr class="memdesc:ae9380f01ef61988443a1229797af0bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache variables for storing the current intersection state between state machine transitions.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">More...</a><br /></td></tr>
<tr class="separator:ae9380f01ef61988443a1229797af0bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd45a0e25b428eaed59668141c1a367a"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a></td></tr>
<tr class="separator:acd45a0e25b428eaed59668141c1a367a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe899a1e3053d51bd163bda6b5bbd0b8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">light_controlled_intersection_strategy_</a> = &quot;Carma/signalized_intersection&quot;</td></tr>
<tr class="separator:abe899a1e3053d51bd163bda6b5bbd0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5c4c4424dbe28de12ecc631c817daa"><td class="memItemLeft" align="right" valign="top">tf2_ros::Buffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a></td></tr>
<tr class="separator:a4c5c4c4424dbe28de12ecc631c817daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef286b3de570f73e947a6f2e223b0c90"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; tf2_ros::TransformListener &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aef286b3de570f73e947a6f2e223b0c90">tf2_listener_</a></td></tr>
<tr class="separator:aef286b3de570f73e947a6f2e223b0c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a039753d101ec5ef40b4906f44a4a987f"><td class="memItemLeft" align="right" valign="top">tf2::Stamped&lt; tf2::Transform &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a039753d101ec5ef40b4906f44a4a987f">frontbumper_transform_</a></td></tr>
<tr class="separator:a039753d101ec5ef40b4906f44a4a987f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a82a5d5dae1cb9cc8e5f8913627dfa"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a65a82a5d5dae1cb9cc8e5f8913627dfa">length_to_front_bumper_</a> = 3.0</td></tr>
<tr class="separator:a65a82a5d5dae1cb9cc8e5f8913627dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c261bd6007106d5787469f4f0cc5482"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a> = 0.001</td></tr>
<tr class="separator:a4c261bd6007106d5787469f4f0cc5482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733ee3426af2de05ab01a787e6d7ab76"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> = 0.0001</td></tr>
<tr class="separator:a733ee3426af2de05ab01a787e6d7ab76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2962a4cd6062a6c5b0191b574fbaa8cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecarma__wm.html#a3ac653959e0b6198cae274d68b343228">carma_wm::WorldModelConstPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a></td></tr>
<tr class="memdesc:a2962a4cd6062a6c5b0191b574fbaa8cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">World Model pointer.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">More...</a><br /></td></tr>
<tr class="separator:a2962a4cd6062a6c5b0191b574fbaa8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcb5dbcd034ccaf299ad7d14a779df12"><td class="memItemLeft" align="right" valign="top">rclcpp::TimerBase::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcb5dbcd034ccaf299ad7d14a779df12">mob_op_pub_timer_</a></td></tr>
<tr class="separator:afcb5dbcd034ccaf299ad7d14a779df12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af99e2eaee092170741adcafd27fc7f4b"><td class="memItemLeft" align="right" valign="top">rclcpp::TimerBase::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af99e2eaee092170741adcafd27fc7f4b">ts_info_pub_timer_</a></td></tr>
<tr class="separator:af99e2eaee092170741adcafd27fc7f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a637e0c3989db0b62571b1fec3ad7fa"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::SubPtr&lt; carma_v2x_msgs::msg::MobilityOperation &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4a637e0c3989db0b62571b1fec3ad7fa">mob_operation_sub_</a></td></tr>
<tr class="separator:a4a637e0c3989db0b62571b1fec3ad7fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a581d9ead8aaeaa3c039e96726e72de6f"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::SubPtr&lt; carma_v2x_msgs::msg::BSM &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a581d9ead8aaeaa3c039e96726e72de6f">bsm_sub_</a></td></tr>
<tr class="separator:a581d9ead8aaeaa3c039e96726e72de6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab23ebcbc97a682edc25649c1c9bdf363"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::PubPtr&lt; carma_v2x_msgs::msg::MobilityOperation &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab23ebcbc97a682edc25649c1c9bdf363">mobility_operation_pub_</a></td></tr>
<tr class="separator:ab23ebcbc97a682edc25649c1c9bdf363"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58ba3ade1aeddc70fb7b28686c8d9327"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::PubPtr&lt; std_msgs::msg::Int8 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58ba3ade1aeddc70fb7b28686c8d9327">case_pub_</a></td></tr>
<tr class="separator:a58ba3ade1aeddc70fb7b28686c8d9327"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a349dad398fe3bdf131b6ee76581acf91"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::PubPtr&lt; std_msgs::msg::Float64 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a349dad398fe3bdf131b6ee76581acf91">tf_distance_pub_</a></td></tr>
<tr class="separator:a349dad398fe3bdf131b6ee76581acf91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e6f15522f37735866591ef88a56af63"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::PubPtr&lt; std_msgs::msg::Float64 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9e6f15522f37735866591ef88a56af63">earliest_et_pub_</a></td></tr>
<tr class="separator:a9e6f15522f37735866591ef88a56af63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9e56d16a32e1a377f510e60cccff45a"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::PubPtr&lt; std_msgs::msg::Float64 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af9e56d16a32e1a377f510e60cccff45a">et_pub_</a></td></tr>
<tr class="separator:af9e56d16a32e1a377f510e60cccff45a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00112">112</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a71625d2b9355edf12f48abddd8c6d34c" name="a71625d2b9355edf12f48abddd8c6d34c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71625d2b9355edf12f48abddd8c6d34c">&#9670;&nbsp;</a></span>LCIStrategicPlugin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::LCIStrategicPlugin </td>
          <td>(</td>
          <td class="paramtype">const rclcpp::NodeOptions &amp;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor for RouteFollowingPlugin class. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00042">42</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   43</span>  : <a class="code hl_class" href="classcarma__guidance__plugins_1_1StrategicPlugin.html">carma_guidance_plugins::StrategicPlugin</a>(options), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a>(this-&gt;get_clock())</div>
<div class="line"><span class="lineno">   44</span>{</div>
<div class="line"><span class="lineno">   45</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a> = LCIStrategicPluginConfig();</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;vehicle_acceleration_limit&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a>);</div>
<div class="line"><span class="lineno">   48</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;vehicle_deceleration_limit&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a>);</div>
<div class="line"><span class="lineno">   49</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;vehicle_decel_limit_multiplier&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>);</div>
<div class="line"><span class="lineno">   50</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;vehicle_accel_limit_multiplier&quot;</span>,   <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>);</div>
<div class="line"><span class="lineno">   51</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a8a79158c6b90827592dbc7d6a2cb5d4a">min_approach_distance</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;min_approach_distance&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a8a79158c6b90827592dbc7d6a2cb5d4a">min_approach_distance</a>);</div>
<div class="line"><span class="lineno">   52</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">trajectory_smoothing_activation_distance</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;trajectory_smoothing_activation_distance&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">trajectory_smoothing_activation_distance</a>);</div>
<div class="line"><span class="lineno">   53</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;stopping_location_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>);</div>
<div class="line"><span class="lineno">   54</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;green_light_time_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a>);</div>
<div class="line"><span class="lineno">   55</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;algo_minimum_speed&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>);</div>
<div class="line"><span class="lineno">   56</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">deceleration_fraction</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;deceleration_fraction&quot;</span>,  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">deceleration_fraction</a>);</div>
<div class="line"><span class="lineno">   57</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab79bce20a6f3373603ad92b33b1f4232">desired_distance_to_stop_buffer</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;desired_distance_to_stop_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab79bce20a6f3373603ad92b33b1f4232">desired_distance_to_stop_buffer</a>);</div>
<div class="line"><span class="lineno">   58</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;min_maneuver_planning_period&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a>);</div>
<div class="line"><span class="lineno">   59</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a> = declare_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;strategic_plugin_name&quot;</span>,   <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>);</div>
<div class="line"><span class="lineno">   60</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a62ccfdacfd9ef06d1ed0515d7cd6a2d8">lane_following_plugin_name</a> = declare_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;lane_following_plugin_name&quot;</span>,  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a62ccfdacfd9ef06d1ed0515d7cd6a2d8">lane_following_plugin_name</a>);</div>
<div class="line"><span class="lineno">   61</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a35cdfbe518abecdfe0452ccf0ada4224">stop_and_wait_plugin_name</a> = declare_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;stop_and_wait_plugin_name&quot;</span>,  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a35cdfbe518abecdfe0452ccf0ada4224">stop_and_wait_plugin_name</a>);</div>
<div class="line"><span class="lineno">   62</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a001ab9c72909eec9d6870cbd92dfa152">intersection_transit_plugin_name</a> = declare_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;intersection_transit_plugin_name&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a001ab9c72909eec9d6870cbd92dfa152">intersection_transit_plugin_name</a>);</div>
<div class="line"><span class="lineno">   63</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> = declare_parameter&lt;bool&gt;(<span class="stringliteral">&quot;enable_carma_streets_connection&quot;</span>,<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a>);</div>
<div class="line"><span class="lineno">   64</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab660df5cc3ba479a07f190e00c9ebbea">mobility_rate</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;mobility_rate&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab660df5cc3ba479a07f190e00c9ebbea">mobility_rate</a>);</div>
<div class="line"><span class="lineno">   65</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">vehicle_id</a> = declare_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;vehicle_id&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">vehicle_id</a>);</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">   68</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> = -1 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">   69</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">   70</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a357ad8adde3161651507d8e399431bfc">emergency_decel_norm_</a> = 2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">   71</span>};</div>
<div class="ttc" id="aclasscarma__guidance__plugins_1_1StrategicPlugin_html"><div class="ttname"><a href="classcarma__guidance__plugins_1_1StrategicPlugin.html">carma_guidance_plugins::StrategicPlugin</a></div><div class="ttdoc">StrategicPlugin base class which can be extended by user provided plugins which wish to implement the...</div><div class="ttdef"><b>Definition:</b> <a href="strategic__plugin_8hpp_source.html#l00032">strategic_plugin.hpp:33</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a0f8440a6d3bb9476a477961a2a9d1126"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">lci_strategic_plugin::LCIStrategicPlugin::config_</a></div><div class="ttdeci">LCIStrategicPluginConfig config_</div><div class="ttdoc">Config containing configurable algorithm parameters.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00236">lci_strategic_plugin.hpp:236</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a357ad8adde3161651507d8e399431bfc"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a357ad8adde3161651507d8e399431bfc">lci_strategic_plugin::LCIStrategicPlugin::emergency_decel_norm_</a></div><div class="ttdeci">double emergency_decel_norm_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00216">lci_strategic_plugin.hpp:216</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a44fdab48c5bd34c844b45bb10702d985"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">lci_strategic_plugin::LCIStrategicPlugin::max_comfort_decel_norm_</a></div><div class="ttdeci">double max_comfort_decel_norm_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00215">lci_strategic_plugin.hpp:215</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a4c5c4c4424dbe28de12ecc631c817daa"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">lci_strategic_plugin::LCIStrategicPlugin::tf2_buffer_</a></div><div class="ttdeci">tf2_ros::Buffer tf2_buffer_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00247">lci_strategic_plugin.hpp:247</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a6f0f8f878a2a1cdaffa1f28ee20336d0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">lci_strategic_plugin::LCIStrategicPlugin::max_comfort_accel_</a></div><div class="ttdeci">double max_comfort_accel_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00213">lci_strategic_plugin.hpp:213</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa302a99c74e957f175bfcf2d30411612"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">lci_strategic_plugin::LCIStrategicPlugin::max_comfort_decel_</a></div><div class="ttdeci">double max_comfort_decel_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00214">lci_strategic_plugin.hpp:214</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a001ab9c72909eec9d6870cbd92dfa152"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a001ab9c72909eec9d6870cbd92dfa152">lci_strategic_plugin::LCIStrategicPluginConfig::intersection_transit_plugin_name</a></div><div class="ttdeci">std::string intersection_transit_plugin_name</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00089">lci_strategic_plugin_config.hpp:89</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a055fcdaa6b5f1b2065df726a6687de84"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a></div><div class="ttdeci">bool enable_carma_streets_connection</div><div class="ttdoc">Bool: Enable carma streets connection.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00069">lci_strategic_plugin_config.hpp:69</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a1004d0cff80a036bdf02a20c0fbc46cd"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_id</a></div><div class="ttdeci">std::string vehicle_id</div><div class="ttdoc">License plate of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00075">lci_strategic_plugin_config.hpp:75</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a1b6855596f36c0929143bb379c9dc937"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">lci_strategic_plugin::LCIStrategicPluginConfig::trajectory_smoothing_activation_distance</a></div><div class="ttdeci">double trajectory_smoothing_activation_distance</div><div class="ttdoc">Downtrack distance until nearest intersection where the Trajectory Smoothing algorithm should activat...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00041">lci_strategic_plugin_config.hpp:41</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a26987cdb2e41209df729d5f5c087bec2"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a></div><div class="ttdeci">double algo_minimum_speed</div><div class="ttdoc">Minimum allowable speed TS algorithm in m/s.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00050">lci_strategic_plugin_config.hpp:50</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a287e3511b9dcc1ec1ec28c6034c15799"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a></div><div class="ttdeci">double vehicle_accel_limit_multiplier</div><div class="ttdoc">A multiplier to apply to the maximum allowable vehicle acceleration limit so we plan under our capabi...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00035">lci_strategic_plugin_config.hpp:35</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a2cd3403442e86fd75c540efc09238698"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a></div><div class="ttdeci">double min_maneuver_planning_period</div><div class="ttdoc">The minimum period in seconds which a maneuver plan must cover if the plugin wishes to control the wh...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00060">lci_strategic_plugin_config.hpp:60</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a3081657f4f8d1d20729ac84897561c27"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a></div><div class="ttdeci">double green_light_time_buffer</div><div class="ttdoc">A buffer in seconds around the green phase which will reduce the phase length such that vehicle still...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00047">lci_strategic_plugin_config.hpp:47</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a35cdfbe518abecdfe0452ccf0ada4224"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a35cdfbe518abecdfe0452ccf0ada4224">lci_strategic_plugin::LCIStrategicPluginConfig::stop_and_wait_plugin_name</a></div><div class="ttdeci">std::string stop_and_wait_plugin_name</div><div class="ttdoc">The name of the plugin to use for stop and wait trajectory planning.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00085">lci_strategic_plugin_config.hpp:85</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a3a0e8c26f578b34ca773be49061364a6"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a></div><div class="ttdeci">double stopping_location_buffer</div><div class="ttdoc">A buffer infront of the stopping location which will still be considered a valid stop....</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00044">lci_strategic_plugin_config.hpp:44</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a62ccfdacfd9ef06d1ed0515d7cd6a2d8"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a62ccfdacfd9ef06d1ed0515d7cd6a2d8">lci_strategic_plugin::LCIStrategicPluginConfig::lane_following_plugin_name</a></div><div class="ttdeci">std::string lane_following_plugin_name</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00082">lci_strategic_plugin_config.hpp:82</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a78e238191c3ba5b1a495a32df80c240b"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a></div><div class="ttdeci">double vehicle_decel_limit</div><div class="ttdoc">The maximum allowable vehicle deceleration limit in m/s.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00026">lci_strategic_plugin_config.hpp:26</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a803ac90d8ed6a841a1e5f7343d65a1aa"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a></div><div class="ttdeci">double vehicle_decel_limit_multiplier</div><div class="ttdoc">A multiplier to apply to the maximum allowable vehicle deceleration limit so we plan under our capabi...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00029">lci_strategic_plugin_config.hpp:29</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a8a79158c6b90827592dbc7d6a2cb5d4a"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a8a79158c6b90827592dbc7d6a2cb5d4a">lci_strategic_plugin::LCIStrategicPluginConfig::min_approach_distance</a></div><div class="ttdeci">double min_approach_distance</div><div class="ttdoc">The minimum distance in meters that the vehicle can be at before requiring a transition to the APPROA...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00038">lci_strategic_plugin_config.hpp:38</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a9e7218d1580a5813879ed975e02b75ad"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a></div><div class="ttdeci">double vehicle_accel_limit</div><div class="ttdoc">The maximum allowable vehicle acceleration limit in m/s.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00032">lci_strategic_plugin_config.hpp:32</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_aa1f3fefe2ee7fc7af0d064ece71bf971"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a></div><div class="ttdeci">std::string strategic_plugin_name</div><div class="ttdoc">The name to use for this plugin during comminications with the arbitrator.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00078">lci_strategic_plugin_config.hpp:78</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_aa23372bc397e9fd707e0acd75b9aa941"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">lci_strategic_plugin::LCIStrategicPluginConfig::deceleration_fraction</a></div><div class="ttdeci">double deceleration_fraction</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00054">lci_strategic_plugin_config.hpp:54</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_ab660df5cc3ba479a07f190e00c9ebbea"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab660df5cc3ba479a07f190e00c9ebbea">lci_strategic_plugin::LCIStrategicPluginConfig::mobility_rate</a></div><div class="ttdeci">double mobility_rate</div><div class="ttdoc">Double: Mobility operation rate.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00072">lci_strategic_plugin_config.hpp:72</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_ab79bce20a6f3373603ad92b33b1f4232"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab79bce20a6f3373603ad92b33b1f4232">lci_strategic_plugin::LCIStrategicPluginConfig::desired_distance_to_stop_buffer</a></div><div class="ttdeci">double desired_distance_to_stop_buffer</div><div class="ttdoc">Double: Desired distance to stop buffer in meters.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00057">lci_strategic_plugin_config.hpp:57</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00050">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00054">lci_strategic_plugin::LCIStrategicPluginConfig::deceleration_fraction</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00057">lci_strategic_plugin::LCIStrategicPluginConfig::desired_distance_to_stop_buffer</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00216">emergency_decel_norm_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00069">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00047">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00089">lci_strategic_plugin::LCIStrategicPluginConfig::intersection_transit_plugin_name</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00082">lci_strategic_plugin::LCIStrategicPluginConfig::lane_following_plugin_name</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00213">max_comfort_accel_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00214">max_comfort_decel_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00215">max_comfort_decel_norm_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00038">lci_strategic_plugin::LCIStrategicPluginConfig::min_approach_distance</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00060">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00072">lci_strategic_plugin::LCIStrategicPluginConfig::mobility_rate</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00085">lci_strategic_plugin::LCIStrategicPluginConfig::stop_and_wait_plugin_name</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00044">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00078">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00041">lci_strategic_plugin::LCIStrategicPluginConfig::trajectory_smoothing_activation_distance</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00032">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00035">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>, and <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00075">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_id</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a71eb5d63d2d1338440cb2da3dec5a45f" name="a71eb5d63d2d1338440cb2da3dec5a45f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71eb5d63d2d1338440cb2da3dec5a45f">&#9670;&nbsp;</a></span>boundary_accel_cruise_maxspeed_decel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_cruise_maxspeed_decel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01004">1004</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1005</span>{ </div>
<div class="line"><span class="lineno"> 1006</span>  <span class="keywordtype">double</span> t_end = t + (dx / v_max) + (pow(v_max - v0, 2) / (2 * a_max * v_max)) - (pow(v1 - v_max, 2) / (2 * a_min * v_max));</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1011</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1012</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>  traj.v1_ = v_max;</div>
<div class="line"><span class="lineno"> 1015</span>  traj.a1_ = a_max;</div>
<div class="line"><span class="lineno"> 1016</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1017</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span>  traj.v2_ = v_max;</div>
<div class="line"><span class="lineno"> 1020</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1021</span>  traj.t2_ = t_end - ((v1 - v_max) / a_min);</div>
<div class="line"><span class="lineno"> 1022</span>  traj.x2_ = x_end - ((pow(v1, 2) - pow(v_max, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>  traj.t3_ = t_end;</div>
<div class="line"><span class="lineno"> 1025</span>  traj.a3_ = a_min;</div>
<div class="line"><span class="lineno"> 1026</span>  traj.v3_ = v1;</div>
<div class="line"><span class="lineno"> 1027</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1030</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a71eb5d63d2d1338440cb2da3dec5a45f_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a71eb5d63d2d1338440cb2da3dec5a45f_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a71eb5d63d2d1338440cb2da3dec5a45f_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a71eb5d63d2d1338440cb2da3dec5a45f_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,851,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a293a179317673ebdcda7890f4f933f60" name="a293a179317673ebdcda7890f4f933f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293a179317673ebdcda7890f4f933f60">&#9670;&nbsp;</a></span>boundary_accel_nocruise_maxspeed_decel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_nocruise_maxspeed_decel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01032">1032</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1033</span>{ </div>
<div class="line"><span class="lineno"> 1034</span>  <span class="keywordtype">double</span> nom = (v_max - v0) + ((a_max / a_min) * (v1 - v_max));</div>
<div class="line"><span class="lineno"> 1035</span>  <span class="keywordtype">double</span> den = (pow(v_max, 2) - pow(v0, 2)) + ((a_max / a_min) * (pow(v1, 2) - pow(v_max, 2)));</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>  <span class="keywordflow">if</span> (den &lt;= epsilon_ &amp;&amp; den &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_accel_nocruise_maxspeed_decel: Received den near zero...&quot;</span> + std::to_string(den));</div>
<div class="line"><span class="lineno"> 1039</span>  </div>
<div class="line"><span class="lineno"> 1040</span>  <span class="keywordtype">double</span> t_end = t + (2 * dx * nom / den);</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1045</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1046</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1047</span> </div>
<div class="line"><span class="lineno"> 1048</span>  <span class="keywordtype">double</span> dt = t_end - t;</div>
<div class="line"><span class="lineno"> 1049</span>  <span class="keywordtype">double</span> tc = 0;</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>  traj.v1_ = v_max;</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>  <span class="keywordflow">if</span> (dt - tc &lt;= epsilon_ &amp;&amp; dt - tc &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_accel_nocruise_maxspeed_decel: Received dt - tc near zero...&quot;</span> + std::to_string(dt - tc));</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>  traj.a1_ = (((1 - (a_max / a_min)) * v_max) + ((a_max / a_min) * v1) - v0) / (dt - tc);</div>
<div class="line"><span class="lineno"> 1057</span> </div>
<div class="line"><span class="lineno"> 1058</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1059</span>  {</div>
<div class="line"><span class="lineno"> 1060</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;boundary_accel_nocruise_maxspeed_decel: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno"> 1061</span>    traj.t1_ = traj.t0_ + (dt * (a_max / (a_min + a_max)));</div>
<div class="line"><span class="lineno"> 1062</span>    traj.x1_ = traj.x0_ + (v_max * (traj.t1_ - traj.t0_));    </div>
<div class="line"><span class="lineno"> 1063</span>  }</div>
<div class="line"><span class="lineno"> 1064</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1065</span>  {</div>
<div class="line"><span class="lineno"> 1066</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1067</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1068</span>  }</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno"> 1071</span>  traj.a2_ = ((((a_min / a_max) - 1) * v_max) + v1 - ((a_min / a_max) * v0)) / (dt - tc);</div>
<div class="line"><span class="lineno"> 1072</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno"> 1073</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno"> 1076</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1077</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno"> 1078</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1081</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a4c261bd6007106d5787469f4f0cc5482"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">lci_strategic_plugin::LCIStrategicPlugin::epsilon_</a></div><div class="ttdeci">double epsilon_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00252">lci_strategic_plugin.hpp:252</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a733ee3426af2de05ab01a787e6d7ab76"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">lci_strategic_plugin::LCIStrategicPlugin::accel_epsilon_</a></div><div class="ttdeci">double accel_epsilon_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00253">lci_strategic_plugin.hpp:253</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00253">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a293a179317673ebdcda7890f4f933f60_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a293a179317673ebdcda7890f4f933f60_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a293a179317673ebdcda7890f4f933f60_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a293a179317673ebdcda7890f4f933f60_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,865,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a58675498122012f18f8a686b551f70d3" name="a58675498122012f18f8a686b551f70d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58675498122012f18f8a686b551f70d3">&#9670;&nbsp;</a></span>boundary_accel_nocruise_notmaxspeed_decel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_nocruise_notmaxspeed_decel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00972">972</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  973</span>{ </div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>  <span class="keywordtype">double</span> v_hat = sqrt(((2 * dx * a_max * a_min) + (a_min * pow(v0, 2)) - (a_max * pow(v1, 2))) / (a_min - a_max));</div>
<div class="line"><span class="lineno">  976</span>  <span class="keywordtype">double</span> t_end = t + ((v_hat * (a_min - a_max)) - (v0 * a_min) + (v1 * a_max)) / (a_max * a_min);</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  981</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  982</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  985</span>  traj.a1_ = a_max;</div>
<div class="line"><span class="lineno">  986</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno">  991</span>  traj.a2_ = a_min;</div>
<div class="line"><span class="lineno">  992</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno">  993</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  996</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  997</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  998</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  999</span> </div>
<div class="line"><span class="lineno"> 1000</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a58675498122012f18f8a686b551f70d3_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a58675498122012f18f8a686b551f70d3_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a58675498122012f18f8a686b551f70d3_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a58675498122012f18f8a686b551f70d3_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,865,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a2a02000689636fe971a9080c20b2e48f" name="a2a02000689636fe971a9080c20b2e48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a02000689636fe971a9080c20b2e48f">&#9670;&nbsp;</a></span>boundary_accel_or_decel_complete_upper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_or_decel_complete_upper </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01083">1083</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1084</span>{ </div>
<div class="line"><span class="lineno"> 1085</span>  <span class="keywordflow">if</span> (v0 + v1 &lt;= epsilon_ &amp;&amp; v0 + v1 &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_accel_or_decel_complete_upper: Received v0 + v1 near zero...&quot;</span> + std::to_string(v0 + v1));</div>
<div class="line"><span class="lineno"> 1087</span>  </div>
<div class="line"><span class="lineno"> 1088</span>  <span class="keywordtype">double</span> t_end = t + ((2 * dx) / (v0 + v1));</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1093</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1094</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1095</span> </div>
<div class="line"><span class="lineno"> 1096</span>  traj.t1_ = t_end;</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>  <span class="keywordflow">if</span> (dx &lt;= epsilon_ &amp;&amp; dx &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1099</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_accel_or_decel_complete_upper: Received dx near zero...&quot;</span> + std::to_string(dx));</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>  traj.a1_ = (pow(v1, 2) - pow(v0, 2)) / (2 * dx);</div>
<div class="line"><span class="lineno"> 1102</span>  traj.v1_ = v1;</div>
<div class="line"><span class="lineno"> 1103</span>  traj.x1_ = x_end;</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>  traj.t2_ = traj.t1_;</div>
<div class="line"><span class="lineno"> 1106</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1107</span>  traj.v2_ = traj.v1_;</div>
<div class="line"><span class="lineno"> 1108</span>  traj.x2_ = traj.x1_;</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span>  traj.t3_ = traj.t1_;</div>
<div class="line"><span class="lineno"> 1111</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1112</span>  traj.v3_ = traj.v1_;</div>
<div class="line"><span class="lineno"> 1113</span>  traj.x3_ = traj.x1_;</div>
<div class="line"><span class="lineno"> 1114</span> </div>
<div class="line"><span class="lineno"> 1115</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1116</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a2a02000689636fe971a9080c20b2e48f_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2a02000689636fe971a9080c20b2e48f_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2a02000689636fe971a9080c20b2e48f_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2a02000689636fe971a9080c20b2e48f_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,865,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a2f21fa9d57192b727b649f538b90087a" name="a2f21fa9d57192b727b649f538b90087a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f21fa9d57192b727b649f538b90087a">&#9670;&nbsp;</a></span>boundary_accel_or_decel_incomplete_upper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_or_decel_incomplete_upper </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00929">929</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  930</span>{ </div>
<div class="line"><span class="lineno">  931</span>  <span class="keywordtype">double</span> t_end;</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>  <span class="keywordflow">if</span> (v0 &lt;= v1 + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  934</span>    t_end = t + (sqrt(pow(v0, 2) + (2 * a_max * dx)) - v0)/a_max;</div>
<div class="line"><span class="lineno">  935</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  936</span>    t_end = t + (sqrt(pow(v0, 2) + (2 * a_min * dx)) - v0) / a_min;</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  941</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  942</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>  traj.t1_ = t_end;</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>  <span class="keywordflow">if</span> (v0 &lt;= v1 + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  947</span>  {</div>
<div class="line"><span class="lineno">  948</span>    traj.a1_ = a_max;</div>
<div class="line"><span class="lineno">  949</span>    traj.v1_ = sqrt(pow(v0, 2) + (2 * a_max * dx));</div>
<div class="line"><span class="lineno">  950</span>  }</div>
<div class="line"><span class="lineno">  951</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  952</span>  {</div>
<div class="line"><span class="lineno">  953</span>    traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  954</span>    traj.v1_ = sqrt(pow(v0, 2) + (2 * a_min * dx));</div>
<div class="line"><span class="lineno">  955</span>  }</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>  traj.x1_ = x_end;</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>  traj.t2_ = traj.t1_;</div>
<div class="line"><span class="lineno">  960</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  961</span>  traj.v2_ = traj.v1_;</div>
<div class="line"><span class="lineno">  962</span>  traj.x2_ = traj.x1_;</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>  traj.t3_ = traj.t1_;</div>
<div class="line"><span class="lineno">  965</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  966</span>  traj.v3_ = traj.v1_;</div>
<div class="line"><span class="lineno">  967</span>  traj.x3_ = traj.x1_;</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  970</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a2f21fa9d57192b727b649f538b90087a_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2f21fa9d57192b727b649f538b90087a_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2f21fa9d57192b727b649f538b90087a_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2f21fa9d57192b727b649f538b90087a_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,865,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="aa3a3866067ba8e2808e785f29909bc72" name="aa3a3866067ba8e2808e785f29909bc72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3a3866067ba8e2808e785f29909bc72">&#9670;&nbsp;</a></span>boundary_decel_cruise_minspeed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01244">1244</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1245</span>{ </div>
<div class="line"><span class="lineno"> 1246</span>  <span class="keywordtype">double</span> t_end = t + (dx / v_min) + (pow(v_min - v0, 2) / (2 * a_min * v_min));</div>
<div class="line"><span class="lineno"> 1247</span> </div>
<div class="line"><span class="lineno"> 1248</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1249</span> </div>
<div class="line"><span class="lineno"> 1250</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1251</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1252</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1255</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1256</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1257</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1258</span> </div>
<div class="line"><span class="lineno"> 1259</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno"> 1260</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1261</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno"> 1262</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno"> 1265</span>  traj.a3_ = traj.a2_;</div>
<div class="line"><span class="lineno"> 1266</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno"> 1267</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1270</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa3a3866067ba8e2808e785f29909bc72_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa3a3866067ba8e2808e785f29909bc72_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa3a3866067ba8e2808e785f29909bc72_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa3a3866067ba8e2808e785f29909bc72_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,851,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a8cc331c61cde633f2ef571b8ca86a208" name="a8cc331c61cde633f2ef571b8ca86a208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc331c61cde633f2ef571b8ca86a208">&#9670;&nbsp;</a></span>boundary_decel_cruise_minspeed_accel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed_accel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01216">1216</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1217</span>{ </div>
<div class="line"><span class="lineno"> 1218</span>  <span class="keywordtype">double</span> t_end = t + (dx / v_min) + ((pow(v_min - v0, 2)) / (2 * a_min * v_min)) - ((pow(v1 - v_min, 2)) / (2 * a_max * v_min));</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1221</span> </div>
<div class="line"><span class="lineno"> 1222</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1223</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1224</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1227</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1228</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1229</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1230</span> </div>
<div class="line"><span class="lineno"> 1231</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno"> 1232</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1233</span>  traj.t2_ = t_end - ((v1 - v_min) / a_max);</div>
<div class="line"><span class="lineno"> 1234</span>  traj.x2_ = x_end - ((pow(v1, 2) - pow(v_min, 2)) / (2 * a_max));</div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>  traj.t3_ = t_end;</div>
<div class="line"><span class="lineno"> 1237</span>  traj.a3_ = a_max;</div>
<div class="line"><span class="lineno"> 1238</span>  traj.v3_ = v1;</div>
<div class="line"><span class="lineno"> 1239</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1242</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a8cc331c61cde633f2ef571b8ca86a208_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8cc331c61cde633f2ef571b8ca86a208_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8cc331c61cde633f2ef571b8ca86a208_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8cc331c61cde633f2ef571b8ca86a208_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,851,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a0796279675323a1dc0c4e5be7b2a3090" name="a0796279675323a1dc0c4e5be7b2a3090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0796279675323a1dc0c4e5be7b2a3090">&#9670;&nbsp;</a></span>boundary_decel_cruise_minspeed_decel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed_decel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01298">1298</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1299</span>{ </div>
<div class="line"><span class="lineno"> 1300</span>  <span class="keywordtype">double</span> t_end = t + (dx / v_min) + (v0 * (v0 - (2 * v_min)) / (2 * a_min * v_min));</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1303</span> </div>
<div class="line"><span class="lineno"> 1304</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1305</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1306</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1307</span> </div>
<div class="line"><span class="lineno"> 1308</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1309</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1310</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1311</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1312</span> </div>
<div class="line"><span class="lineno"> 1313</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1314</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno"> 1315</span>  traj.t2_ = t_end - ((0 - traj.v2_) / a_min);</div>
<div class="line"><span class="lineno"> 1316</span>  traj.x2_ = x_end - ((0 - pow(traj.v2_, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>  traj.t3_ = t_end;</div>
<div class="line"><span class="lineno"> 1319</span>  traj.a3_ = a_min;</div>
<div class="line"><span class="lineno"> 1320</span>  traj.v3_ = 0;</div>
<div class="line"><span class="lineno"> 1321</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno"> 1322</span> </div>
<div class="line"><span class="lineno"> 1323</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1324</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a0796279675323a1dc0c4e5be7b2a3090_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0796279675323a1dc0c4e5be7b2a3090_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0796279675323a1dc0c4e5be7b2a3090_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0796279675323a1dc0c4e5be7b2a3090_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,851,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a739ee8e685d7d651c2c3826df0a43496" name="a739ee8e685d7d651c2c3826df0a43496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a739ee8e685d7d651c2c3826df0a43496">&#9670;&nbsp;</a></span>boundary_decel_incomplete_lower()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_incomplete_lower </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01271">1271</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1272</span>{ </div>
<div class="line"><span class="lineno"> 1273</span>  <span class="keywordtype">double</span> t_end = t + (sqrt(pow(v0, 2) + (2 * a_min * dx)) - v0) / a_min;</div>
<div class="line"><span class="lineno"> 1274</span> </div>
<div class="line"><span class="lineno"> 1275</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1278</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1279</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1280</span> </div>
<div class="line"><span class="lineno"> 1281</span>  traj.t1_ = t_end;</div>
<div class="line"><span class="lineno"> 1282</span>  traj.v1_ = sqrt(pow(v0, 2) + (2 * a_min * dx));</div>
<div class="line"><span class="lineno"> 1283</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1284</span>  traj.x1_ = x_end;</div>
<div class="line"><span class="lineno"> 1285</span> </div>
<div class="line"><span class="lineno"> 1286</span>  traj.t2_ = traj.t1_;</div>
<div class="line"><span class="lineno"> 1287</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1288</span>  traj.v2_ = traj.v1_;</div>
<div class="line"><span class="lineno"> 1289</span>  traj.x2_ = traj.x1_;</div>
<div class="line"><span class="lineno"> 1290</span> </div>
<div class="line"><span class="lineno"> 1291</span>  traj.t3_ = traj.t1_;</div>
<div class="line"><span class="lineno"> 1292</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1293</span>  traj.v3_ = traj.v1_;</div>
<div class="line"><span class="lineno"> 1294</span>  traj.x3_ = traj.x1_;</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1297</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a739ee8e685d7d651c2c3826df0a43496_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a739ee8e685d7d651c2c3826df0a43496_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a739ee8e685d7d651c2c3826df0a43496_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a739ee8e685d7d651c2c3826df0a43496_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,917,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,5,643,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="aa1b880660d58500ab32abc453096a38d" name="aa1b880660d58500ab32abc453096a38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b880660d58500ab32abc453096a38d">&#9670;&nbsp;</a></span>boundary_decel_nocruise_minspeed_accel_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_minspeed_accel_complete </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01177">1177</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1178</span>{ </div>
<div class="line"><span class="lineno"> 1179</span>  <span class="keywordtype">double</span> nom = (v1 - v_min) + ((a_max / a_min) * (v_min - v0));</div>
<div class="line"><span class="lineno"> 1180</span>  <span class="keywordtype">double</span> den = (pow(v1, 2) - pow(v_min, 2)) + ((a_max / a_min) * (pow(v_min, 2) - pow(v0, 2)));</div>
<div class="line"><span class="lineno"> 1181</span> </div>
<div class="line"><span class="lineno"> 1182</span>  <span class="keywordflow">if</span> (den &lt;= epsilon_ &amp;&amp; den &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1183</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_decel_nocruise_minspeed_accel_complete: Received den near zero...&quot;</span> + std::to_string(den));</div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>  <span class="keywordtype">double</span> t_end = t + (2 * dx * nom / den);</div>
<div class="line"><span class="lineno"> 1186</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1187</span> </div>
<div class="line"><span class="lineno"> 1188</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1189</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1190</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>  <span class="keywordtype">double</span> dt = t_end - t;</div>
<div class="line"><span class="lineno"> 1193</span>  <span class="keywordtype">double</span> tc = 0;</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>  <span class="keywordflow">if</span> (dt - tc &lt;= epsilon_ &amp;&amp; dt - tc &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1198</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_decel_nocruise_minspeed_accel_complete: Received dt - tc near zero...&quot;</span> + std::to_string(dt - tc));</div>
<div class="line"><span class="lineno"> 1199</span>    </div>
<div class="line"><span class="lineno"> 1200</span>  traj.a1_ = (((1 - (a_min / a_max)) * v_min) + ((a_min / a_max) * v1) - v0) / (dt - tc);</div>
<div class="line"><span class="lineno"> 1201</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1202</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1203</span> </div>
<div class="line"><span class="lineno"> 1204</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno"> 1205</span>  traj.a2_ = ((((a_max / a_min) - 1) * v_min) + v1 - ((a_max / a_min) * v0)) / (dt - tc);</div>
<div class="line"><span class="lineno"> 1206</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno"> 1207</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno"> 1208</span> </div>
<div class="line"><span class="lineno"> 1209</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno"> 1210</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1211</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno"> 1212</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno"> 1213</span> </div>
<div class="line"><span class="lineno"> 1214</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1215</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa1b880660d58500ab32abc453096a38d_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa1b880660d58500ab32abc453096a38d_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa1b880660d58500ab32abc453096a38d_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa1b880660d58500ab32abc453096a38d_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,873,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a5941c3b49c97c3c55ef3bb2dd9e4c96c" name="a5941c3b49c97c3c55ef3bb2dd9e4c96c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5941c3b49c97c3c55ef3bb2dd9e4c96c">&#9670;&nbsp;</a></span>boundary_decel_nocruise_minspeed_accel_incomplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_minspeed_accel_incomplete </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01147">1147</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1148</span>{ </div>
<div class="line"><span class="lineno"> 1149</span>  <span class="keywordtype">double</span> sqr = sqrt((2 * a_max * dx) - ((pow(v_min, 2) - pow(v0, 2)) * (a_max / a_min)) + pow(v_min, 2));</div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>  <span class="keywordtype">double</span> t_end = t + ((sqr - v_min) / a_max) + ((v_min - v0) / a_min);</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1154</span> </div>
<div class="line"><span class="lineno"> 1155</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1156</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1157</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1160</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1161</span>  traj.t1_ = traj.t0_ + (traj.v1_ - traj.v0_) / a_min;</div>
<div class="line"><span class="lineno"> 1162</span>  traj.x1_ = traj.x0_ + (pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * a_min);</div>
<div class="line"><span class="lineno"> 1163</span> </div>
<div class="line"><span class="lineno"> 1164</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno"> 1165</span>  traj.a2_ = a_max;</div>
<div class="line"><span class="lineno"> 1166</span>  traj.v2_ = (traj.a2_ * (traj.t2_ - traj.t1_)) + traj.v1_;</div>
<div class="line"><span class="lineno"> 1167</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno"> 1170</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1171</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno"> 1172</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1175</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5941c3b49c97c3c55ef3bb2dd9e4c96c_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5941c3b49c97c3c55ef3bb2dd9e4c96c_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5941c3b49c97c3c55ef3bb2dd9e4c96c_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5941c3b49c97c3c55ef3bb2dd9e4c96c_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,884,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a0401f858c83b717d4525c4ac8aeedcd2" name="a0401f858c83b717d4525c4ac8aeedcd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0401f858c83b717d4525c4ac8aeedcd2">&#9670;&nbsp;</a></span>boundary_decel_nocruise_notminspeed_accel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_notminspeed_accel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01118">1118</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1119</span>{ </div>
<div class="line"><span class="lineno"> 1120</span>  <span class="keywordtype">double</span> v_hat = sqrt(((2 * dx * a_max * a_min) + (a_max * pow(v0, 2)) - (a_min * pow(v1, 2))) / (a_max - a_min));</div>
<div class="line"><span class="lineno"> 1121</span>  <span class="keywordtype">double</span> t_end = t + ((v_hat * (a_max - a_min)) - (v0 * a_max) + (v1 * a_min)) / (a_max * a_min);</div>
<div class="line"><span class="lineno"> 1122</span> </div>
<div class="line"><span class="lineno"> 1123</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1126</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1127</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno"> 1130</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1131</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1132</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1133</span> </div>
<div class="line"><span class="lineno"> 1134</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno"> 1135</span>  traj.a2_ = a_max;</div>
<div class="line"><span class="lineno"> 1136</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno"> 1137</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno"> 1140</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1141</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno"> 1142</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1145</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a0401f858c83b717d4525c4ac8aeedcd2_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0401f858c83b717d4525c4ac8aeedcd2_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0401f858c83b717d4525c4ac8aeedcd2_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0401f858c83b717d4525c4ac8aeedcd2_icgraph">
<area shape="rect" title=" " alt="" coords="691,5,865,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,13,643,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a8bcc3eb45b332c8b9da9b0e3bff49fdb" name="a8bcc3eb45b332c8b9da9b0e3bff49fdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bcc3eb45b332c8b9da9b0e3bff49fdb">&#9670;&nbsp;</a></span>BSMCb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::BSMCb </td>
          <td>(</td>
          <td class="paramtype">carma_v2x_msgs::msg::BSM::UniquePtr&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BSM callback function. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01170">1170</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1171</span>{</div>
<div class="line"><span class="lineno"> 1172</span>  std::vector&lt;uint8_t&gt; bsm_id_vec = msg-&gt;core_data.id;</div>
<div class="line"><span class="lineno"> 1173</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aab8ebae22d31d704cdee82b3efcec263">bsm_id_</a> = BSMHelper::BSMHelper::bsmIDtoString(bsm_id_vec);</div>
<div class="line"><span class="lineno"> 1174</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a01df237e1b50c546b2088036c4a1b477">bsm_msg_count_</a> = msg-&gt;core_data.msg_count;</div>
<div class="line"><span class="lineno"> 1175</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21cb9188fd1f5f4330fdf8ef3e571a78">bsm_sec_mark_</a> = msg-&gt;core_data.sec_mark;</div>
<div class="line"><span class="lineno"> 1176</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a01df237e1b50c546b2088036c4a1b477"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a01df237e1b50c546b2088036c4a1b477">lci_strategic_plugin::LCIStrategicPlugin::bsm_msg_count_</a></div><div class="ttdeci">uint8_t bsm_msg_count_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00209">lci_strategic_plugin.hpp:209</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a21cb9188fd1f5f4330fdf8ef3e571a78"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21cb9188fd1f5f4330fdf8ef3e571a78">lci_strategic_plugin::LCIStrategicPlugin::bsm_sec_mark_</a></div><div class="ttdeci">uint16_t bsm_sec_mark_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00210">lci_strategic_plugin.hpp:210</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aab8ebae22d31d704cdee82b3efcec263"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aab8ebae22d31d704cdee82b3efcec263">lci_strategic_plugin::LCIStrategicPlugin::bsm_id_</a></div><div class="ttdeci">std::string bsm_id_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00208">lci_strategic_plugin.hpp:208</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00208">bsm_id_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00209">bsm_msg_count_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00210">bsm_sec_mark_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a8bcc3eb45b332c8b9da9b0e3bff49fdb_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8bcc3eb45b332c8b9da9b0e3bff49fdb_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8bcc3eb45b332c8b9da9b0e3bff49fdb_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8bcc3eb45b332c8b9da9b0e3bff49fdb_icgraph">
<area shape="rect" title="BSM callback function." alt="" coords="196,5,333,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5792a0a80197c6f6683c0531693ac9b6" title="Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states...." alt="" coords="5,5,148,61"/>
</map>
</div>

</div>
</div>
<a id="a3f6a47bf53ae1095e72df145bf6903d3" name="a3f6a47bf53ae1095e72df145bf6903d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f6a47bf53ae1095e72df145bf6903d3">&#9670;&nbsp;</a></span>calc_estimated_entry_time_left()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::calc_estimated_entry_time_left </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>entry_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>calculate the time vehicle will enter to intersection with optimal deceleration </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry_dist</td><td>distance to stop line</td></tr>
    <tr><td class="paramname">current_speed</td><td>current speed of vehicle</td></tr>
    <tr><td class="paramname">departure_speed</td><td>speed to get into the intersection</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the time vehicle will stop with optimal decelarion </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00397">397</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  398</span>{</div>
<div class="line"><span class="lineno">  399</span>  <span class="keywordtype">double</span> t_entry = 0;</div>
<div class="line"><span class="lineno">  400</span>  <span class="comment">// t = 2 * d / (v_i + v_f)</span></div>
<div class="line"><span class="lineno">  401</span>  <span class="comment">// from TSMO USE CASE 2 Algorithm Doc - Figure 4. Equation: Estimation of t*_nt</span></div>
<div class="line"><span class="lineno">  402</span>  t_entry = 2*entry_dist/(current_speed + departure_speed);</div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordflow">return</span> t_entry;</div>
<div class="line"><span class="lineno">  404</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1112baee4705e22ca2793e8caa98a7f4" name="a1112baee4705e22ca2793e8caa98a7f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1112baee4705e22ca2793e8caa98a7f4">&#9670;&nbsp;</a></span>canArriveAtGreenWithCertainty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt; <a class="el" href="classbool.html">bool</a> &gt; lci_strategic_plugin::LCIStrategicPlugin::canArriveAtGreenWithCertainty </td>
          <td>(</td>
          <td class="paramtype">const rclcpp::Time &amp;&#160;</td>
          <td class="paramname"><em>light_arrival_time_by_algo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>check_late</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>check_early</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the car can arrive at given arrival time within green light time buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">light_arrival_time_by_algo</td><td>ROS time at green where vehicle arrives </td></tr>
    <tr><td class="paramname">traffic_light</td><td>Traffic signal to check time against </td></tr>
    <tr><td class="paramname">check_late</td><td>check late arrival, default true </td></tr>
    <tr><td class="paramname">check_early</td><td>check early arrival, default true </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true (bool optional) if can make it at both bounds of error time.</dd></dl>
<p>NOTE: internally uses config_.green_light_time_buffer NOTE: boost::none optional if any of the light state was invalid </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00298">298</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  299</span>{</div>
<div class="line"><span class="lineno">  300</span>    rclcpp::Time early_arrival_time_by_algo =</div>
<div class="line"><span class="lineno">  301</span>        light_arrival_time_by_algo - rclcpp::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a> * 1e9);</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    rclcpp::Time late_arrival_time_by_algo =</div>
<div class="line"><span class="lineno">  304</span>        light_arrival_time_by_algo + rclcpp::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a> * 1e9);</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;light_arrival_time_by_algo: &quot;</span> &lt;&lt; std::to_string(light_arrival_time_by_algo.seconds()));</div>
<div class="line"><span class="lineno">  307</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;early_arrival_time_by_algo: &quot;</span> &lt;&lt; std::to_string(early_arrival_time_by_algo.seconds()));</div>
<div class="line"><span class="lineno">  308</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;late_arrival_time_by_algo: &quot;</span> &lt;&lt; std::to_string(late_arrival_time_by_algo.seconds()));</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>    <span class="keyword">auto</span> early_arrival_state_by_algo_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(early_arrival_time_by_algo.seconds()));</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>(early_arrival_state_by_algo_optional, early_arrival_time_by_algo))</div>
<div class="line"><span class="lineno">  313</span>      <span class="keywordflow">return</span> boost::none;</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;early_arrival_state_by_algo: &quot;</span> &lt;&lt; early_arrival_state_by_algo_optional.get().second);</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    <span class="keyword">auto</span> late_arrival_state_by_algo_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(late_arrival_time_by_algo.seconds()));</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>(late_arrival_state_by_algo_optional, late_arrival_time_by_algo))</div>
<div class="line"><span class="lineno">  320</span>      <span class="keywordflow">return</span> boost::none; </div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;late_arrival_state_by_algo: &quot;</span> &lt;&lt; late_arrival_state_by_algo_optional.get().second);</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordtype">bool</span> can_make_early_arrival = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordtype">bool</span> can_make_late_arrival = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">if</span> (check_early)</div>
<div class="line"><span class="lineno">  328</span>      can_make_early_arrival = (early_arrival_state_by_algo_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED);</div>
<div class="line"><span class="lineno">  329</span>    </div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">if</span> (check_late)</div>
<div class="line"><span class="lineno">  331</span>      can_make_late_arrival = (late_arrival_state_by_algo_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED);</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="comment">// We will cross the light on the green phase even if we arrive early or late</span></div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">if</span> (can_make_early_arrival &amp;&amp; can_make_late_arrival)  <span class="comment">// Green light</span></div>
<div class="line"><span class="lineno">  335</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  336</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  337</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a1e62889347161bab48ab4d28761044a1"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">lci_strategic_plugin::LCIStrategicPlugin::validLightState</a></div><div class="ttdeci">bool validLightState(const boost::optional&lt; std::pair&lt; boost::posix_time::ptime, lanelet::CarmaTrafficSignalState &gt; &gt; &amp;optional_state, const rclcpp::Time &amp;source_time) const</div><div class="ttdoc">Helper method that checks both if the input optional light state is set and if the state it contains ...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00277">lci_strategic_plugin.cpp:277</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00047">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00277">validLightState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00476">handleGreenSignalScenario()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">planWhenWAITING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a1112baee4705e22ca2793e8caa98a7f4_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1112baee4705e22ca2793e8caa98a7f4_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1112baee4705e22ca2793e8caa98a7f4_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1112baee4705e22ca2793e8caa98a7f4_cgraph">
<area shape="rect" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="5,5,213,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="261,5,399,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="447,5,592,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a1112baee4705e22ca2793e8caa98a7f4_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1112baee4705e22ca2793e8caa98a7f4_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1112baee4705e22ca2793e8caa98a7f4_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1112baee4705e22ca2793e8caa98a7f4_icgraph">
<area shape="rect" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="699,47,907,103"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,9,651,65"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="252,85,395,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,45,184,101"/>
</map>
</div>

</div>
</div>
<a id="afcdbaaaee6c9dff394d77acc09715063" name="afcdbaaaee6c9dff394d77acc09715063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcdbaaaee6c9dff394d77acc09715063">&#9670;&nbsp;</a></span>composeIntersectionTransitMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_planning_msgs::msg::Maneuver lci_strategic_plugin::LCIStrategicPlugin::composeIntersectionTransitMessage </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>target_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Time&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Time&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::Id &amp;&#160;</td>
          <td class="paramname"><em>starting_lane_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::Id &amp;&#160;</td>
          <td class="paramname"><em>ending_lane_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compose a intersection transit maneuver message based on input params. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_dist</td><td>Start downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">end_dist</td><td>End downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">start_speed</td><td>Start speed of the current maneuver </td></tr>
    <tr><td class="paramname">target_speed</td><td>Target speed pf the current maneuver, usually it is the lanelet speed limit </td></tr>
    <tr><td class="paramname">start_time</td><td>The starting time of the maneuver </td></tr>
    <tr><td class="paramname">end_time</td><td>The ending time of the maneuver </td></tr>
    <tr><td class="paramname">starting_lane_id</td><td>The starting lanelet id of this maneuver </td></tr>
    <tr><td class="paramname">ending_lane_id</td><td>The ending lanelet id of this maneuver</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A intersection transit maneuver maneuver message which is ready to be published </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01498">1498</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1503</span>{</div>
<div class="line"><span class="lineno"> 1504</span>  carma_planning_msgs::msg::Maneuver maneuver_msg;</div>
<div class="line"><span class="lineno"> 1505</span>  maneuver_msg.type = carma_planning_msgs::msg::Maneuver::INTERSECTION_TRANSIT_STRAIGHT;</div>
<div class="line"><span class="lineno"> 1506</span>  maneuver_msg.intersection_transit_straight_maneuver.parameters.negotiation_type =</div>
<div class="line"><span class="lineno"> 1507</span>      carma_planning_msgs::msg::ManeuverParameters::NO_NEGOTIATION;</div>
<div class="line"><span class="lineno"> 1508</span>  maneuver_msg.intersection_transit_straight_maneuver.parameters.presence_vector =</div>
<div class="line"><span class="lineno"> 1509</span>      carma_planning_msgs::msg::ManeuverParameters::HAS_TACTICAL_PLUGIN;</div>
<div class="line"><span class="lineno"> 1510</span>  maneuver_msg.intersection_transit_straight_maneuver.parameters.planning_tactical_plugin =</div>
<div class="line"><span class="lineno"> 1511</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a001ab9c72909eec9d6870cbd92dfa152">intersection_transit_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1512</span>  maneuver_msg.intersection_transit_straight_maneuver.parameters.planning_strategic_plugin =</div>
<div class="line"><span class="lineno"> 1513</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1514</span>  maneuver_msg.intersection_transit_straight_maneuver.start_dist = start_dist;</div>
<div class="line"><span class="lineno"> 1515</span>  maneuver_msg.intersection_transit_straight_maneuver.start_speed = start_speed;</div>
<div class="line"><span class="lineno"> 1516</span>  maneuver_msg.intersection_transit_straight_maneuver.start_time = start_time;</div>
<div class="line"><span class="lineno"> 1517</span>  maneuver_msg.intersection_transit_straight_maneuver.end_dist = end_dist;</div>
<div class="line"><span class="lineno"> 1518</span>  maneuver_msg.intersection_transit_straight_maneuver.end_speed = target_speed;</div>
<div class="line"><span class="lineno"> 1519</span>  maneuver_msg.intersection_transit_straight_maneuver.end_time = end_time;</div>
<div class="line"><span class="lineno"> 1520</span>  maneuver_msg.intersection_transit_straight_maneuver.starting_lane_id = std::to_string(starting_lane_id);</div>
<div class="line"><span class="lineno"> 1521</span>  maneuver_msg.intersection_transit_straight_maneuver.ending_lane_id = std::to_string(ending_lane_id);</div>
<div class="line"><span class="lineno"> 1522</span> </div>
<div class="line"><span class="lineno"> 1523</span>  <span class="comment">// Start time and end time for maneuver are assigned in updateTimeProgress</span></div>
<div class="line"><span class="lineno"> 1524</span> </div>
<div class="line"><span class="lineno"> 1525</span>  RCLCPP_INFO_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Creating IntersectionTransitManeuver start dist: &quot;</span> &lt;&lt; start_dist &lt;&lt; <span class="stringliteral">&quot; end dist: &quot;</span> &lt;&lt; end_dist</div>
<div class="line"><span class="lineno"> 1526</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; From lanelet: &quot;</span> &lt;&lt; starting_lane_id</div>
<div class="line"><span class="lineno"> 1527</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; to lanelet: &quot;</span> &lt;&lt; ending_lane_id</div>
<div class="line"><span class="lineno"> 1528</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; From start_time: &quot;</span> &lt;&lt; std::to_string(start_time.seconds())</div>
<div class="line"><span class="lineno"> 1529</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; to end_time: &quot;</span> &lt;&lt; std::to_string(end_time.seconds()));</div>
<div class="line"><span class="lineno"> 1530</span> </div>
<div class="line"><span class="lineno"> 1531</span>  <span class="keywordflow">return</span> maneuver_msg;</div>
<div class="line"><span class="lineno"> 1532</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00089">lci_strategic_plugin::LCIStrategicPluginConfig::intersection_transit_plugin_name</a>, and <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00078">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00476">handleGreenSignalScenario()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01122">planWhenDEPARTING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_afcdbaaaee6c9dff394d77acc09715063_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_afcdbaaaee6c9dff394d77acc09715063_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_afcdbaaaee6c9dff394d77acc09715063_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_afcdbaaaee6c9dff394d77acc09715063_icgraph">
<area shape="rect" title="Compose a intersection transit maneuver message based on input params." alt="" coords="699,78,888,149"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="488,5,625,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,85,651,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4778775fa282372e99b562a78d1c505e" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="243,151,404,207"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,71,415,127"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,111,184,167"/>
</map>
</div>

</div>
</div>
<a id="ab88c4508c987570d86191fdcc1128d1f" name="ab88c4508c987570d86191fdcc1128d1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab88c4508c987570d86191fdcc1128d1f">&#9670;&nbsp;</a></span>composeStopAndWaitManeuverMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_planning_msgs::msg::Maneuver lci_strategic_plugin::LCIStrategicPlugin::composeStopAndWaitManeuverMessage </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::Id &amp;&#160;</td>
          <td class="paramname"><em>starting_lane_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::Id &amp;&#160;</td>
          <td class="paramname"><em>ending_lane_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Time&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Time&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stopping_accel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compose a stop and wait maneuver message based on input params. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_dist</td><td>Start downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">end_dist</td><td>End downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">start_speed</td><td>Start speed of the current maneuver </td></tr>
    <tr><td class="paramname">starting_lane_id</td><td>The starting lanelet id of this maneuver </td></tr>
    <tr><td class="paramname">ending_lane_id</td><td>The ending lanelet id of this maneuver </td></tr>
    <tr><td class="paramname">start_time</td><td>The starting time of the maneuver </td></tr>
    <tr><td class="paramname">end_time</td><td>The ending time of the maneuver </td></tr>
    <tr><td class="paramname">stopping_accel</td><td>Acceleration used for calculating the stopping distance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A stop and wait maneuver message which is ready to be published </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01465">1465</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1470</span>{</div>
<div class="line"><span class="lineno"> 1471</span>  carma_planning_msgs::msg::Maneuver maneuver_msg;</div>
<div class="line"><span class="lineno"> 1472</span>  maneuver_msg.type = carma_planning_msgs::msg::Maneuver::STOP_AND_WAIT;</div>
<div class="line"><span class="lineno"> 1473</span>  maneuver_msg.stop_and_wait_maneuver.parameters.negotiation_type = carma_planning_msgs::msg::ManeuverParameters::NO_NEGOTIATION;</div>
<div class="line"><span class="lineno"> 1474</span>  maneuver_msg.stop_and_wait_maneuver.parameters.presence_vector =</div>
<div class="line"><span class="lineno"> 1475</span>      carma_planning_msgs::msg::ManeuverParameters::HAS_TACTICAL_PLUGIN | carma_planning_msgs::msg::ManeuverParameters::HAS_FLOAT_META_DATA;</div>
<div class="line"><span class="lineno"> 1476</span>  maneuver_msg.stop_and_wait_maneuver.parameters.planning_tactical_plugin = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a35cdfbe518abecdfe0452ccf0ada4224">stop_and_wait_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1477</span>  maneuver_msg.stop_and_wait_maneuver.parameters.planning_strategic_plugin = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1478</span>  maneuver_msg.stop_and_wait_maneuver.start_dist = current_dist;</div>
<div class="line"><span class="lineno"> 1479</span>  maneuver_msg.stop_and_wait_maneuver.end_dist = end_dist;</div>
<div class="line"><span class="lineno"> 1480</span>  maneuver_msg.stop_and_wait_maneuver.start_speed = start_speed;</div>
<div class="line"><span class="lineno"> 1481</span>  maneuver_msg.stop_and_wait_maneuver.start_time = start_time;</div>
<div class="line"><span class="lineno"> 1482</span>  maneuver_msg.stop_and_wait_maneuver.end_time = end_time;</div>
<div class="line"><span class="lineno"> 1483</span>  maneuver_msg.stop_and_wait_maneuver.starting_lane_id = std::to_string(starting_lane_id);</div>
<div class="line"><span class="lineno"> 1484</span>  maneuver_msg.stop_and_wait_maneuver.ending_lane_id = std::to_string(ending_lane_id);</div>
<div class="line"><span class="lineno"> 1485</span> </div>
<div class="line"><span class="lineno"> 1486</span>  <span class="comment">// Set the meta data for the stop location buffer</span></div>
<div class="line"><span class="lineno"> 1487</span>  maneuver_msg.stop_and_wait_maneuver.parameters.float_valued_meta_data.push_back(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>);</div>
<div class="line"><span class="lineno"> 1488</span>  maneuver_msg.stop_and_wait_maneuver.parameters.float_valued_meta_data.push_back(stopping_accel);</div>
<div class="line"><span class="lineno"> 1489</span> </div>
<div class="line"><span class="lineno"> 1490</span>  RCLCPP_INFO_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Creating stop and wait start dist: &quot;</span> &lt;&lt; current_dist &lt;&lt; <span class="stringliteral">&quot; end dist: &quot;</span> &lt;&lt; end_dist</div>
<div class="line"><span class="lineno"> 1491</span>                                                                        &lt;&lt; <span class="stringliteral">&quot; start_time: &quot;</span> &lt;&lt; std::to_string(start_time.seconds())</div>
<div class="line"><span class="lineno"> 1492</span>                                                                        &lt;&lt; <span class="stringliteral">&quot; end_time: &quot;</span> &lt;&lt; std::to_string(end_time.seconds())</div>
<div class="line"><span class="lineno"> 1493</span>                                                                        &lt;&lt; <span class="stringliteral">&quot; stopping_accel: &quot;</span> &lt;&lt; stopping_accel);</div>
<div class="line"><span class="lineno"> 1494</span> </div>
<div class="line"><span class="lineno"> 1495</span>  <span class="keywordflow">return</span> maneuver_msg;</div>
<div class="line"><span class="lineno"> 1496</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00085">lci_strategic_plugin::LCIStrategicPluginConfig::stop_and_wait_plugin_name</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00044">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a>, and <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00078">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00433">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00359">handleStopping()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">planWhenWAITING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ab88c4508c987570d86191fdcc1128d1f_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab88c4508c987570d86191fdcc1128d1f_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab88c4508c987570d86191fdcc1128d1f_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab88c4508c987570d86191fdcc1128d1f_icgraph">
<area shape="rect" title="Compose a stop and wait maneuver message based on input params." alt="" coords="677,78,892,149"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,5,629,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="477,85,615,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="252,151,395,207"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,71,415,127"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,111,184,167"/>
</map>
</div>

</div>
</div>
<a id="a3b06a05a52140213d302eee42e11fe85" name="a3b06a05a52140213d302eee42e11fe85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b06a05a52140213d302eee42e11fe85">&#9670;&nbsp;</a></span>composeTrajectorySmoothingManeuverMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_planning_msgs::msg::Maneuver lci_strategic_plugin::LCIStrategicPlugin::composeTrajectorySmoothingManeuverMessage </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; lanelet::ConstLanelet &gt; &amp;&#160;</td>
          <td class="paramname"><em>crossed_lanelets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>target_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Time&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Time&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;&#160;</td>
          <td class="paramname"><em>tsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compose a trajectory smoothing maneuver msg (sent as transit maneuver message) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_dist</td><td>Start downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">end_dist</td><td>End downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">start_speed</td><td>Start speed of the current maneuver </td></tr>
    <tr><td class="paramname">target_speed</td><td>Target speed pf the current maneuver, usually it is the lanelet speed limit </td></tr>
    <tr><td class="paramname">start_time</td><td>The starting time of the maneuver </td></tr>
    <tr><td class="paramname">end_time</td><td>The ending time of the maneuver </td></tr>
    <tr><td class="paramname">tsp</td><td>Trajectory Smoothing parameters needed to modify speed profile</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A transift maneuver message specifically designed for light controlled intersection tactical plugin </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01414">1414</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1417</span>{</div>
<div class="line"><span class="lineno"> 1418</span>  carma_planning_msgs::msg::Maneuver maneuver_msg;</div>
<div class="line"><span class="lineno"> 1419</span>  maneuver_msg.type = carma_planning_msgs::msg::Maneuver::LANE_FOLLOWING;</div>
<div class="line"><span class="lineno"> 1420</span>  maneuver_msg.lane_following_maneuver.parameters.negotiation_type =</div>
<div class="line"><span class="lineno"> 1421</span>      carma_planning_msgs::msg::ManeuverParameters::NO_NEGOTIATION;</div>
<div class="line"><span class="lineno"> 1422</span>  maneuver_msg.lane_following_maneuver.parameters.presence_vector =</div>
<div class="line"><span class="lineno"> 1423</span>      carma_planning_msgs::msg::ManeuverParameters::HAS_TACTICAL_PLUGIN | carma_planning_msgs::msg::ManeuverParameters::HAS_FLOAT_META_DATA | carma_planning_msgs::msg::ManeuverParameters::HAS_INT_META_DATA;</div>
<div class="line"><span class="lineno"> 1424</span>  maneuver_msg.lane_following_maneuver.parameters.planning_tactical_plugin =</div>
<div class="line"><span class="lineno"> 1425</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a62ccfdacfd9ef06d1ed0515d7cd6a2d8">lane_following_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1426</span>  maneuver_msg.lane_following_maneuver.parameters.planning_strategic_plugin =</div>
<div class="line"><span class="lineno"> 1427</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1428</span>  maneuver_msg.lane_following_maneuver.start_dist = start_dist;</div>
<div class="line"><span class="lineno"> 1429</span>  maneuver_msg.lane_following_maneuver.start_speed = start_speed;</div>
<div class="line"><span class="lineno"> 1430</span>  maneuver_msg.lane_following_maneuver.start_time = start_time;</div>
<div class="line"><span class="lineno"> 1431</span>  maneuver_msg.lane_following_maneuver.end_dist = end_dist;</div>
<div class="line"><span class="lineno"> 1432</span>  maneuver_msg.lane_following_maneuver.end_speed = target_speed;</div>
<div class="line"><span class="lineno"> 1433</span>  maneuver_msg.lane_following_maneuver.end_time = end_time;</div>
<div class="line"><span class="lineno"> 1434</span>  </div>
<div class="line"><span class="lineno"> 1435</span>  maneuver_msg.lane_following_maneuver.parameters.string_valued_meta_data.push_back(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">light_controlled_intersection_strategy_</a>);</div>
<div class="line"><span class="lineno"> 1436</span> </div>
<div class="line"><span class="lineno"> 1437</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.a1_);</div>
<div class="line"><span class="lineno"> 1438</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.v1_);</div>
<div class="line"><span class="lineno"> 1439</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.x1_);</div>
<div class="line"><span class="lineno"> 1440</span> </div>
<div class="line"><span class="lineno"> 1441</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.a2_);</div>
<div class="line"><span class="lineno"> 1442</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.v2_);</div>
<div class="line"><span class="lineno"> 1443</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.x2_);</div>
<div class="line"><span class="lineno"> 1444</span> </div>
<div class="line"><span class="lineno"> 1445</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.a3_);</div>
<div class="line"><span class="lineno"> 1446</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.v3_);</div>
<div class="line"><span class="lineno"> 1447</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.x3_);</div>
<div class="line"><span class="lineno"> 1448</span> </div>
<div class="line"><span class="lineno"> 1449</span>  maneuver_msg.lane_following_maneuver.parameters.int_valued_meta_data.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(tsp.case_num));</div>
<div class="line"><span class="lineno"> 1450</span>  maneuver_msg.lane_following_maneuver.parameters.int_valued_meta_data.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(tsp.is_algorithm_successful));</div>
<div class="line"><span class="lineno"> 1451</span> </div>
<div class="line"><span class="lineno"> 1452</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> llt : crossed_lanelets)</div>
<div class="line"><span class="lineno"> 1453</span>  {</div>
<div class="line"><span class="lineno"> 1454</span>    maneuver_msg.lane_following_maneuver.lane_ids.push_back(std::to_string(llt.id()));</div>
<div class="line"><span class="lineno"> 1455</span>  }</div>
<div class="line"><span class="lineno"> 1456</span>  <span class="comment">// Start time and end time for maneuver are assigned in updateTimeProgress</span></div>
<div class="line"><span class="lineno"> 1457</span> </div>
<div class="line"><span class="lineno"> 1458</span>  RCLCPP_INFO_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Creating TrajectorySmoothingManeuver start dist: &quot;</span> &lt;&lt; start_dist &lt;&lt; <span class="stringliteral">&quot; end dist: &quot;</span> &lt;&lt; end_dist</div>
<div class="line"><span class="lineno"> 1459</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; start_time: &quot;</span> &lt;&lt; std::to_string(start_time.seconds())</div>
<div class="line"><span class="lineno"> 1460</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; end_time: &quot;</span> &lt;&lt; std::to_string(end_time.seconds()));</div>
<div class="line"><span class="lineno"> 1461</span> </div>
<div class="line"><span class="lineno"> 1462</span>  <span class="keywordflow">return</span> maneuver_msg;</div>
<div class="line"><span class="lineno"> 1463</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_abe899a1e3053d51bd163bda6b5bbd0b8"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">lci_strategic_plugin::LCIStrategicPlugin::light_controlled_intersection_strategy_</a></div><div class="ttdeci">std::string light_controlled_intersection_strategy_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00244">lci_strategic_plugin.hpp:244</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00098">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00097">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00082">lci_strategic_plugin::LCIStrategicPluginConfig::lane_following_plugin_name</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00244">light_controlled_intersection_strategy_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00078">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00433">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">handleFailureCase()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00476">handleGreenSignalScenario()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a3b06a05a52140213d302eee42e11fe85_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3b06a05a52140213d302eee42e11fe85_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3b06a05a52140213d302eee42e11fe85_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3b06a05a52140213d302eee42e11fe85_icgraph">
<area shape="rect" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="699,78,899,149"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="473,5,640,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="488,85,625,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,165,651,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,85,415,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,85,184,141"/>
</map>
</div>

</div>
</div>
<a id="ace9fb36575ef6b54f01291ef8cf1d697" name="ace9fb36575ef6b54f01291ef8cf1d697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9fb36575ef6b54f01291ef8cf1d697">&#9670;&nbsp;</a></span>estimate_distance_to_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::estimate_distance_to_stop </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The initial velocity in m/s </td></tr>
    <tr><td class="paramname">a</td><td>The deceleration in m/s^2</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimated stopping distance in meters </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00024">24</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>{</div>
<div class="line"><span class="lineno">   26</span>  <span class="keywordflow">return</span> (v * v) / (2.0 * <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>);</div>
<div class="line"><span class="lineno">   27</span>}</div>
<div class="ttc" id="apointer_8h_html_aeeddce917cf130d62c370b8f216026dd"><div class="ttname"><a href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a></div><div class="ttdeci">const GenericPointer&lt; typename T::ValueType &gt; T2 T::AllocatorType &amp; a</div><div class="ttdef"><b>Definition:</b> <a href="pointer_8h_source.html#l01121">pointer.h:1121</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="pointer_8h_source.html#l01121">a</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ace9fb36575ef6b54f01291ef8cf1d697_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace9fb36575ef6b54f01291ef8cf1d697_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace9fb36575ef6b54f01291ef8cf1d697_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace9fb36575ef6b54f01291ef8cf1d697_icgraph">
<area shape="rect" title="Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs." alt="" coords="459,5,643,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa093ee7a424c8aa3a15801e510795c54" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="232,5,411,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a1aab46a940b62eccd2804c646342ac0c" name="a1aab46a940b62eccd2804c646342ac0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aab46a940b62eccd2804c646342ac0c">&#9670;&nbsp;</a></span>estimate_time_to_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::estimate_time_to_stop </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to use basic kinematics to compute an estimated stopping time from from the inputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>The distance to travel in meters </td></tr>
    <tr><td class="paramname">v</td><td>The initial velocity in m/s</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimated stopping time in seconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00029">29</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   30</span>{</div>
<div class="line"><span class="lineno">   31</span>  <span class="keywordflow">return</span> 2.0 * d / v;</div>
<div class="line"><span class="lineno">   32</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a27d7979b9644a3747468ecf68212c3de" name="a27d7979b9644a3747468ecf68212c3de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27d7979b9644a3747468ecf68212c3de">&#9670;&nbsp;</a></span>extractInitialState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">LCIStrategicPlugin::VehicleState</a> lci_strategic_plugin::LCIStrategicPlugin::extractInitialState </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to extract the initial vehicle state from the planning request method based on if the prior_plan was set or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The maneuver planning request to extract the vehicle state from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The extracted <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html" title="Struct representing a vehicle state for the purposes of planning.">VehicleState</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00236">236</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  237</span>{</div>
<div class="line"><span class="lineno">  238</span>  VehicleState state;</div>
<div class="line"><span class="lineno">  239</span>  <span class="keywordflow">if</span> (!req-&gt;prior_plan.maneuvers.empty())</div>
<div class="line"><span class="lineno">  240</span>  {</div>
<div class="line"><span class="lineno">  241</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Provided with initial plan...&quot;</span>);</div>
<div class="line"><span class="lineno">  242</span>    state.stamp = <a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a>(req-&gt;prior_plan.maneuvers.back(), end_time);</div>
<div class="line"><span class="lineno">  243</span>    state.downtrack = <a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a>(req-&gt;prior_plan.maneuvers.back(), end_dist);</div>
<div class="line"><span class="lineno">  244</span>    state.speed = <a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a>(req-&gt;prior_plan.maneuvers.back(), end_speed);</div>
<div class="line"><span class="lineno">  245</span>    state.lane_id = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(state.downtrack, state.downtrack, <span class="keyword">true</span>).front().id();</div>
<div class="line"><span class="lineno">  246</span>  }</div>
<div class="line"><span class="lineno">  247</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  248</span>  {</div>
<div class="line"><span class="lineno">  249</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;No initial plan provided...&quot;</span>);</div>
<div class="line"><span class="lineno">  250</span>    </div>
<div class="line"><span class="lineno">  251</span>    state.stamp = rclcpp::Time(req-&gt;header.stamp, RCL_SYSTEM_TIME);</div>
<div class="line"><span class="lineno">  252</span>    state.downtrack = req-&gt;veh_downtrack;</div>
<div class="line"><span class="lineno">  253</span>    state.speed = req-&gt;veh_logitudinal_velocity;</div>
<div class="line"><span class="lineno">  254</span>    state.lane_id = stoi(req-&gt;veh_lane_id);</div>
<div class="line"><span class="lineno">  255</span>  }</div>
<div class="line"><span class="lineno">  256</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;extractInitialState &gt;&gt;&gt;&gt; state.stamp: &quot;</span> &lt;&lt; std::to_string(state.stamp.seconds()));</div>
<div class="line"><span class="lineno">  257</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;extractInitialState &gt;&gt;&gt;&gt; state.downtrack : &quot;</span> &lt;&lt; state.downtrack );</div>
<div class="line"><span class="lineno">  258</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;extractInitialState &gt;&gt;&gt;&gt; state.speed: &quot;</span> &lt;&lt; state.speed);</div>
<div class="line"><span class="lineno">  259</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;extractInitialState &gt;&gt;&gt;&gt; state.lane_id: &quot;</span> &lt;&lt; state.lane_id);</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>  <span class="keywordflow">return</span> state;</div>
<div class="line"><span class="lineno">  262</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a7dd0000bcaf1d2028aeef57416f7c429"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">lci_strategic_plugin::LCIStrategicPlugin::getLaneletsBetweenWithException</a></div><div class="ttdeci">std::vector&lt; lanelet::ConstLanelet &gt; getLaneletsBetweenWithException(double start_downtrack, double end_downtrack, bool shortest_path_only=false, bool bounds_inclusive=true) const</div><div class="ttdoc">Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00341">lci_strategic_plugin.cpp:341</a></div></div>
<div class="ttc" id="alci__strategic__plugin_8cpp_html_a066f948508e087006568cb6c9b0674a7"><div class="ttname"><a href="lci__strategic__plugin_8cpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a></div><div class="ttdeci">#define GET_MANEUVER_PROPERTY(mvr, property)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00021">lci_strategic_plugin.cpp:21</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00021">GET_MANEUVER_PROPERTY</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00341">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00281">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::lane_id</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00280">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a27d7979b9644a3747468ecf68212c3de_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a27d7979b9644a3747468ecf68212c3de_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a27d7979b9644a3747468ecf68212c3de_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a27d7979b9644a3747468ecf68212c3de_cgraph">
<area shape="rect" title="Helper method to extract the initial vehicle state from the planning request method based on if the p..." alt="" coords="5,5,143,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="191,5,420,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a27d7979b9644a3747468ecf68212c3de_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a27d7979b9644a3747468ecf68212c3de_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a27d7979b9644a3747468ecf68212c3de_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a27d7979b9644a3747468ecf68212c3de_icgraph">
<area shape="rect" title="Helper method to extract the initial vehicle state from the planning request method based on if the p..." alt="" coords="232,5,369,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a3a26d736705389e017c4c41097806e90" name="a3a26d736705389e017c4c41097806e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a26d736705389e017c4c41097806e90">&#9670;&nbsp;</a></span>findSpeedLimit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::findSpeedLimit </td>
          <td>(</td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>llt</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a Lanelet, find it's associated Speed Limit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">llt</td><td>Constant Lanelet object</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if the speed limit could not be retrieved</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value of speed limit in mps </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00264">264</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  265</span>{</div>
<div class="line"><span class="lineno">  266</span>  lanelet::Optional&lt;carma_wm::TrafficRulesConstPtr&gt; traffic_rules = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getTrafficRules();</div>
<div class="line"><span class="lineno">  267</span>  <span class="keywordflow">if</span> (traffic_rules)</div>
<div class="line"><span class="lineno">  268</span>  {</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">return</span> (*traffic_rules)-&gt;speedLimit(llt).speedLimit.value();</div>
<div class="line"><span class="lineno">  270</span>  }</div>
<div class="line"><span class="lineno">  271</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  272</span>  {</div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Valid traffic rules object could not be built&quot;</span>);</div>
<div class="line"><span class="lineno">  274</span>  }</div>
<div class="line"><span class="lineno">  275</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a2962a4cd6062a6c5b0191b574fbaa8cf"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">lci_strategic_plugin::LCIStrategicPlugin::wm_</a></div><div class="ttdeci">carma_wm::WorldModelConstPtr wm_</div><div class="ttdoc">World Model pointer.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00256">lci_strategic_plugin.hpp:256</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00256">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a3a26d736705389e017c4c41097806e90_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a26d736705389e017c4c41097806e90_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a26d736705389e017c4c41097806e90_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a26d736705389e017c4c41097806e90_icgraph">
<area shape="rect" title="Given a Lanelet, find it&#39;s associated Speed Limit." alt="" coords="463,45,600,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa093ee7a424c8aa3a15801e510795c54" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="234,85,413,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,45,184,101"/>
</map>
</div>

</div>
</div>
<a id="a2e1d0a6a7d67643829b5047087826240" name="a2e1d0a6a7d67643829b5047087826240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e1d0a6a7d67643829b5047087826240">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[1/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicPluginTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">moboperationcbtest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac09e043f64957a93ef42ed9e14ebe5ac" name="ac09e043f64957a93ef42ed9e14ebe5ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac09e043f64957a93ef42ed9e14ebe5ac">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[2/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicPluginTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">parseStrategyParamstest&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8dbc989a7550e2df686ea5ab99b7b14e" name="a8dbc989a7550e2df686ea5ab99b7b14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbc989a7550e2df686ea5ab99b7b14e">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[3/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">calc_estimated_entry_time_left</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5dbb6c112eac4ff8a4cbc2a674c0c4e9" name="a5dbb6c112eac4ff8a4cbc2a674c0c4e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbb6c112eac4ff8a4cbc2a674c0c4e9">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[4/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063">composeIntersectionTransitMessage</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a708690d451bb7444dcb4c6fa6ef643d5" name="a708690d451bb7444dcb4c6fa6ef643d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a708690d451bb7444dcb4c6fa6ef643d5">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[5/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f">composeStopAndWaitManeuverMessage</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8bd61d1c8aa2e18e8418e593b670f128" name="a8bd61d1c8aa2e18e8418e593b670f128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd61d1c8aa2e18e8418e593b670f128">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[6/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85">composeTrajectorySmoothingManeuverMessage</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a792358268b99e6f6366957e28cedef2f" name="a792358268b99e6f6366957e28cedef2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a792358268b99e6f6366957e28cedef2f">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[7/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DISABLED_extractInitialState&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab746fd533d8f9d07df3ed3e42e1c24c3" name="ab746fd533d8f9d07df3ed3e42e1c24c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab746fd533d8f9d07df3ed3e42e1c24c3">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[8/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DISABLED_planManeuverCb&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6a133391e50aff23f8bc2276dc642783" name="a6a133391e50aff23f8bc2276dc642783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a133391e50aff23f8bc2276dc642783">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[9/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DISABLED_planWhenETInTBD&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9445b42bdb77fe7a0bbf43bedf714d3b" name="a9445b42bdb77fe7a0bbf43bedf714d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9445b42bdb77fe7a0bbf43bedf714d3b">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[10/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2058cfbf748579a7e1c51da801218202" name="a2058cfbf748579a7e1c51da801218202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2058cfbf748579a7e1c51da801218202">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[11/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">estimate_time_to_stop</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f79fc85ea25758b13f21d5e9bdd4c4c" name="a8f79fc85ea25758b13f21d5e9bdd4c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f79fc85ea25758b13f21d5e9bdd4c4c">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[12/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27d7979b9644a3747468ecf68212c3de">extractInitialState</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a37f9f412abdf354586c072636b3ac644" name="a37f9f412abdf354586c072636b3ac644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f9f412abdf354586c072636b3ac644">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[13/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a8b1c5be92f14061620ed632d1ccff7" name="a0a8b1c5be92f14061620ed632d1ccff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8b1c5be92f14061620ed632d1ccff7">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[14/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">get_distance_to_accel_or_decel_once</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3da968a28811ff19a5f137296f6407e6" name="a3da968a28811ff19a5f137296f6407e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da968a28811ff19a5f137296f6407e6">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[15/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">get_distance_to_accel_or_decel_twice</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afaf00298b86f45d4553a62f9b22184e6" name="afaf00298b86f45d4553a62f9b22184e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaf00298b86f45d4553a62f9b22184e6">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[16/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666">get_earliest_entry_time</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a04f4a437035adceb7bac4adf49c14c37" name="a04f4a437035adceb7bac4adf49c14c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f4a437035adceb7bac4adf49c14c37">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[17/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef">get_nearest_green_entry_time</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af7c3e21056f1b5dab765e04e73be5c44" name="af7c3e21056f1b5dab765e04e73be5c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c3e21056f1b5dab765e04e73be5c44">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[18/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">getDiscoveryMsg&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abca8dd04be6ce3e05f83f3601b72774b" name="abca8dd04be6ce3e05f83f3601b72774b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abca8dd04be6ce3e05f83f3601b72774b">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[19/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a21d191a68eff985e471d8d26dd5dfc84" name="a21d191a68eff985e471d8d26dd5dfc84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d191a68eff985e471d8d26dd5dfc84">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[20/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89">handleFailureCase</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5fe3bf39197d5fbf49a98fcd25bafd28" name="a5fe3bf39197d5fbf49a98fcd25bafd28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fe3bf39197d5fbf49a98fcd25bafd28">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[21/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc">handleFailureCaseHelper</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9adae05325f53a2f2e50a08659b2bd0" name="ac9adae05325f53a2f2e50a08659b2bd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9adae05325f53a2f2e50a08659b2bd0">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[22/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">handleStopping</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a45ac425c5eb670f465aa8ab46fdc56f0" name="a45ac425c5eb670f465aa8ab46fdc56f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ac425c5eb670f465aa8ab46fdc56f0">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[23/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">planManeuverCb&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab8d3dc1a0515a909f0e2b77e148367cc" name="ab8d3dc1a0515a909f0e2b77e148367cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8d3dc1a0515a909f0e2b77e148367cc">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[24/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">planWhenETInTBD&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad16e098f65e6b8628ca6e9face1cc234" name="ad16e098f65e6b8628ca6e9face1cc234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16e098f65e6b8628ca6e9face1cc234">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[25/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">supportedLightState</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a430d9bf29b6d3b1cf60757d770245783" name="a430d9bf29b6d3b1cf60757d770245783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a430d9bf29b6d3b1cf60757d770245783">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[26/26]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9965dbbfa665100a5e5bd4998fc59022" name="a9965dbbfa665100a5e5bd4998fc59022"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9965dbbfa665100a5e5bd4998fc59022">&#9670;&nbsp;</a></span>generateMobilityOperation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">carma_v2x_msgs::msg::MobilityOperation lci_strategic_plugin::LCIStrategicPlugin::generateMobilityOperation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates Mobility Operation messages. </p>
<dl class="section return"><dt>Returns</dt><dd>mobility operation msg for status and intent </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">1197</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1198</span>{</div>
<div class="line"><span class="lineno"> 1199</span>    carma_v2x_msgs::msg::MobilityOperation mo_;</div>
<div class="line"><span class="lineno"> 1200</span>    mo_.m_header.timestamp = now().nanoseconds()/1000000;</div>
<div class="line"><span class="lineno"> 1201</span>    mo_.m_header.sender_id = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">vehicle_id</a>;</div>
<div class="line"><span class="lineno"> 1202</span>    mo_.m_header.recipient_id = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a31499f8e464eedc17d071335fb9ce1ad">upcoming_id_</a>;</div>
<div class="line"><span class="lineno"> 1203</span>    mo_.m_header.sender_bsm_id = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aab8ebae22d31d704cdee82b3efcec263">bsm_id_</a>;</div>
<div class="line"><span class="lineno"> 1204</span>    mo_.strategy = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">light_controlled_intersection_strategy_</a>;</div>
<div class="line"><span class="lineno"> 1205</span> </div>
<div class="line"><span class="lineno"> 1206</span>    <span class="keywordtype">double</span> vehicle_acceleration_limit_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno"> 1207</span>    <span class="keywordtype">double</span> vehicle_deceleration_limit_ = -1 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno"> 1208</span> </div>
<div class="line"><span class="lineno"> 1209</span>    std::string intersection_turn_direction = <span class="stringliteral">&quot;straight&quot;</span>;</div>
<div class="line"><span class="lineno"> 1210</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">intersection_turn_direction_</a> == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">TurnDirection::Right</a>) intersection_turn_direction = <span class="stringliteral">&quot;right&quot;</span>;</div>
<div class="line"><span class="lineno"> 1211</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">intersection_turn_direction_</a> == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">TurnDirection::Left</a>) intersection_turn_direction = <span class="stringliteral">&quot;left&quot;</span>;</div>
<div class="line"><span class="lineno"> 1212</span> </div>
<div class="line"><span class="lineno"> 1213</span>    mo_.strategy_params = <span class="stringliteral">&quot;access: 1, max_accel: &quot;</span> + std::to_string(vehicle_acceleration_limit_) +  <span class="comment">// NOTE: Access currently set to 1 at all times since its not specified by streets</span></div>
<div class="line"><span class="lineno"> 1214</span>                        <span class="stringliteral">&quot;, max_decel: &quot;</span> + std::to_string(vehicle_deceleration_limit_) + <span class="stringliteral">&quot;, react_time: &quot;</span> + std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a4815821904dcefecf744a71e0ca50a9e">reaction_time</a>) +</div>
<div class="line"><span class="lineno"> 1215</span>                        <span class="stringliteral">&quot;, min_gap: &quot;</span> + std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ac0abc606a35bfdf537c1297591e86d0c">min_gap</a>) + <span class="stringliteral">&quot;, depart_pos: 0&quot;</span> + <span class="comment">// NOTE: Departure position set to 0 at all times since it&#39;s not specified by streets</span></div>
<div class="line"><span class="lineno"> 1216</span>                        <span class="stringliteral">&quot;, turn_direction: &quot;</span> + intersection_turn_direction + <span class="stringliteral">&quot;, msg_count: &quot;</span> + std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a01df237e1b50c546b2088036c4a1b477">bsm_msg_count_</a>) + <span class="stringliteral">&quot;, sec_mark: &quot;</span> + std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21cb9188fd1f5f4330fdf8ef3e571a78">bsm_sec_mark_</a>);</div>
<div class="line"><span class="lineno"> 1217</span>    </div>
<div class="line"><span class="lineno"> 1218</span> </div>
<div class="line"><span class="lineno"> 1219</span>    <span class="keywordflow">return</span> mo_;</div>
<div class="line"><span class="lineno"> 1220</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a31499f8e464eedc17d071335fb9ce1ad"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a31499f8e464eedc17d071335fb9ce1ad">lci_strategic_plugin::LCIStrategicPlugin::upcoming_id_</a></div><div class="ttdeci">std::string upcoming_id_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00205">lci_strategic_plugin.hpp:205</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab3b737710552367a21447be1918ca210"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">lci_strategic_plugin::LCIStrategicPlugin::intersection_turn_direction_</a></div><div class="ttdeci">TurnDirection intersection_turn_direction_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00232">lci_strategic_plugin.hpp:232</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">lci_strategic_plugin::TurnDirection::Right</a></div><div class="ttdeci">@ Right</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">lci_strategic_plugin::TurnDirection::Left</a></div><div class="ttdeci">@ Left</div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a4815821904dcefecf744a71e0ca50a9e"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a4815821904dcefecf744a71e0ca50a9e">lci_strategic_plugin::LCIStrategicPluginConfig::reaction_time</a></div><div class="ttdeci">double reaction_time</div><div class="ttdoc">Double: Vehicle reaction time to a received schedule in seconds (approximate value,...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00063">lci_strategic_plugin_config.hpp:63</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_ac0abc606a35bfdf537c1297591e86d0c"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ac0abc606a35bfdf537c1297591e86d0c">lci_strategic_plugin::LCIStrategicPluginConfig::min_gap</a></div><div class="ttdeci">double min_gap</div><div class="ttdoc">Double: Minimum inter-vehicle gap.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8hpp_source.html#l00066">lci_strategic_plugin_config.hpp:66</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00208">bsm_id_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00209">bsm_msg_count_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00210">bsm_sec_mark_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00232">intersection_turn_direction_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">lci_strategic_plugin::Left</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00244">light_controlled_intersection_strategy_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00066">lci_strategic_plugin::LCIStrategicPluginConfig::min_gap</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00063">lci_strategic_plugin::LCIStrategicPluginConfig::reaction_time</a>, <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">lci_strategic_plugin::Right</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00205">upcoming_id_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00032">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00035">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>, and <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00075">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01251">publishMobilityOperation()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a9965dbbfa665100a5e5bd4998fc59022_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9965dbbfa665100a5e5bd4998fc59022_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9965dbbfa665100a5e5bd4998fc59022_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9965dbbfa665100a5e5bd4998fc59022_icgraph">
<area shape="rect" title="Generates Mobility Operation messages." alt="" coords="408,5,587,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae96b9eee70bfce3c69fc192a0609140e" title="Publish mobility operation at a fixed rate." alt="" coords="191,5,360,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1ae680ddca40a0ebb47c4102eab50ae4" title="Method which is triggered when this plugin is moved from the INACTIVE to ACTIVE states...." alt="" coords="5,5,143,61"/>
</map>
</div>

</div>
</div>
<a id="a58cbaedde5b73ba87c14c20e35d289a6" name="a58cbaedde5b73ba87c14c20e35d289a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58cbaedde5b73ba87c14c20e35d289a6">&#9670;&nbsp;</a></span>get_availability()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::get_availability </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the availability status of this plugin based on the current operating environment. Method must be overriden by extending classes. </p>
<dl class="section return"><dt>Returns</dt><dd>This method should return true if the plugin's current understanding of the world means it would be capable of planning or executing its capability. </dd></dl>

<p>Implements <a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a706b788f272c0d01711f2820ef5f3798">carma_guidance_plugins::PluginBaseNode</a>.</p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01534">1534</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1535</span>{</div>
<div class="line"><span class="lineno"> 1536</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1537</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="adf303b014faf0df91b93e2a7a37df9a8" name="adf303b014faf0df91b93e2a7a37df9a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf303b014faf0df91b93e2a7a37df9a8">&#9670;&nbsp;</a></span>get_boundary_traj_params()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &gt; lci_strategic_plugin::LCIStrategicPlugin::get_boundary_traj_params </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a>&#160;</td>
          <td class="paramname"><em>boundary_distances</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all possible trajectory smoothing parameters for each segments. Later this will be used to generate a single trajectory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>current time in seconds </td></tr>
    <tr><td class="paramname">v0</td><td>starting_speed </td></tr>
    <tr><td class="paramname">v1</td><td>departure_speed </td></tr>
    <tr><td class="paramname">v_max</td><td>speed_limit </td></tr>
    <tr><td class="paramname">v_min</td><td>minimum speed </td></tr>
    <tr><td class="paramname">a_max</td><td>max_comfort_acceleration limit </td></tr>
    <tr><td class="paramname">a_min</td><td>max_comfort_deceleration limit </td></tr>
    <tr><td class="paramname">x0</td><td>current_downtrack </td></tr>
    <tr><td class="paramname">x_end</td><td>traffic_light_down_track </td></tr>
    <tr><td class="paramname">dx</td><td>distance_remaining_to_traffic_light </td></tr>
    <tr><td class="paramname">boundary_distances</td><td>boundary_distances to compare against current state </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>all possible trajectory smoothing parameters to later generate single trajectory </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">459</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  460</span>{</div>
<div class="line"><span class="lineno">  461</span>  <span class="keywordtype">double</span> dx1 = boundary_distances.dx1;</div>
<div class="line"><span class="lineno">  462</span>  <span class="keywordtype">double</span> dx2 = boundary_distances.dx2;</div>
<div class="line"><span class="lineno">  463</span>  <span class="keywordtype">double</span> dx3 = boundary_distances.dx3;</div>
<div class="line"><span class="lineno">  464</span>  <span class="keywordtype">double</span> dx4 = boundary_distances.dx4;</div>
<div class="line"><span class="lineno">  465</span>  <span class="keywordtype">double</span> dx5 = boundary_distances.dx5;</div>
<div class="line"><span class="lineno">  466</span>  TrajectoryParams traj1, traj2, traj3, traj4, traj5, traj6, traj7, traj8;</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>  <span class="comment">// t1, t2, t3</span></div>
<div class="line"><span class="lineno">  469</span>  <span class="keywordflow">if</span> (dx &lt; dx2)</div>
<div class="line"><span class="lineno">  470</span>  {</div>
<div class="line"><span class="lineno">  471</span>    traj1 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a">boundary_accel_or_decel_incomplete_upper</a>(t, v0, v1, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  472</span>    traj2 = traj1;</div>
<div class="line"><span class="lineno">  473</span>    traj3 = traj1;</div>
<div class="line"><span class="lineno">  474</span>  }</div>
<div class="line"><span class="lineno">  475</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dx &lt; dx1)</div>
<div class="line"><span class="lineno">  476</span>  {</div>
<div class="line"><span class="lineno">  477</span>    traj1 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3">boundary_accel_nocruise_notmaxspeed_decel</a>(t, v0, v1, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  478</span>    traj2 = traj1;</div>
<div class="line"><span class="lineno">  479</span>    traj3 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f">boundary_accel_or_decel_complete_upper</a>(t, v0, v1, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  480</span>  }</div>
<div class="line"><span class="lineno">  481</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  482</span>  {</div>
<div class="line"><span class="lineno">  483</span>    traj1 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f">boundary_accel_cruise_maxspeed_decel</a>(t, v0, v1, v_max, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  484</span>    traj2 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60">boundary_accel_nocruise_maxspeed_decel</a>(t, v0, v1, v_max, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  485</span>    traj3 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f">boundary_accel_or_decel_complete_upper</a>(t, v0, v1, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  486</span>  }</div>
<div class="line"><span class="lineno">  487</span>  <span class="comment">// t4, t5, t6, t7</span></div>
<div class="line"><span class="lineno">  488</span>  <span class="keywordflow">if</span> (dx &lt; dx4)</div>
<div class="line"><span class="lineno">  489</span>  {</div>
<div class="line"><span class="lineno">  490</span>    traj4 = traj1;</div>
<div class="line"><span class="lineno">  491</span>    traj5 = traj1;</div>
<div class="line"><span class="lineno">  492</span>    traj6 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496">boundary_decel_incomplete_lower</a>(t, v0, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  493</span>    traj7 = traj6;</div>
<div class="line"><span class="lineno">  494</span>  }</div>
<div class="line"><span class="lineno">  495</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dx &lt; dx3)</div>
<div class="line"><span class="lineno">  496</span>  {</div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">if</span> (dx &lt; dx2)</div>
<div class="line"><span class="lineno">  498</span>    {</div>
<div class="line"><span class="lineno">  499</span>      traj4 = traj1;</div>
<div class="line"><span class="lineno">  500</span>    }</div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  502</span>    {</div>
<div class="line"><span class="lineno">  503</span>      traj4 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2">boundary_decel_nocruise_notminspeed_accel</a>(t, v0, v1, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  504</span>    }</div>
<div class="line"><span class="lineno">  505</span>    traj5 = traj4;</div>
<div class="line"><span class="lineno">  506</span>    traj6 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c">boundary_decel_nocruise_minspeed_accel_incomplete</a>(t, v0, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  507</span>    traj7 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72">boundary_decel_cruise_minspeed</a>(t, v0, v_min, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  508</span>    </div>
<div class="line"><span class="lineno">  509</span>  }</div>
<div class="line"><span class="lineno">  510</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  511</span>  {</div>
<div class="line"><span class="lineno">  512</span>    traj4 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d">boundary_decel_nocruise_minspeed_accel_complete</a>(t, v0, v1, v_max, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  513</span>    traj5 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208">boundary_decel_cruise_minspeed_accel</a>(t, v0, v1, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  514</span>    traj6 = traj5;</div>
<div class="line"><span class="lineno">  515</span>    traj7 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72">boundary_decel_cruise_minspeed</a>(t, v0, v_min, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  516</span>  }</div>
<div class="line"><span class="lineno">  517</span>  <span class="comment">// t8</span></div>
<div class="line"><span class="lineno">  518</span>  <span class="keywordflow">if</span> (dx &lt; dx4)</div>
<div class="line"><span class="lineno">  519</span>  {</div>
<div class="line"><span class="lineno">  520</span>    traj8 = traj6;</div>
<div class="line"><span class="lineno">  521</span>  }</div>
<div class="line"><span class="lineno">  522</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dx &lt; dx5)</div>
<div class="line"><span class="lineno">  523</span>  {</div>
<div class="line"><span class="lineno">  524</span>    traj8 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496">boundary_decel_incomplete_lower</a>(t, v0, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  525</span>  }</div>
<div class="line"><span class="lineno">  526</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  527</span>  {</div>
<div class="line"><span class="lineno">  528</span>    traj8 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090">boundary_decel_cruise_minspeed_decel</a>(t, v0, v_min, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  529</span>  }</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>  <span class="keywordflow">return</span> {traj1, traj2, traj3, traj4, traj5, traj6, traj7, traj8};</div>
<div class="line"><span class="lineno">  532</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a0401f858c83b717d4525c4ac8aeedcd2"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_notminspeed_accel</a></div><div class="ttdeci">TrajectoryParams boundary_decel_nocruise_notminspeed_accel(double t, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01118">lci_strategic_plugin_algo.cpp:1118</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a0796279675323a1dc0c4e5be7b2a3090"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed_decel</a></div><div class="ttdeci">TrajectoryParams boundary_decel_cruise_minspeed_decel(double t, double v0, double v_min, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01298">lci_strategic_plugin_algo.cpp:1298</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a293a179317673ebdcda7890f4f933f60"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_nocruise_maxspeed_decel</a></div><div class="ttdeci">TrajectoryParams boundary_accel_nocruise_maxspeed_decel(double t, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01032">lci_strategic_plugin_algo.cpp:1032</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a2a02000689636fe971a9080c20b2e48f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_or_decel_complete_upper</a></div><div class="ttdeci">TrajectoryParams boundary_accel_or_decel_complete_upper(double t, double v0, double v1, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01083">lci_strategic_plugin_algo.cpp:1083</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a2f21fa9d57192b727b649f538b90087a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_or_decel_incomplete_upper</a></div><div class="ttdeci">TrajectoryParams boundary_accel_or_decel_incomplete_upper(double t, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00929">lci_strategic_plugin_algo.cpp:929</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a58675498122012f18f8a686b551f70d3"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_nocruise_notmaxspeed_decel</a></div><div class="ttdeci">TrajectoryParams boundary_accel_nocruise_notmaxspeed_decel(double t, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00972">lci_strategic_plugin_algo.cpp:972</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a5941c3b49c97c3c55ef3bb2dd9e4c96c"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_minspeed_accel_incomplete</a></div><div class="ttdeci">TrajectoryParams boundary_decel_nocruise_minspeed_accel_incomplete(double t, double v0, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01147">lci_strategic_plugin_algo.cpp:1147</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a71eb5d63d2d1338440cb2da3dec5a45f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_cruise_maxspeed_decel</a></div><div class="ttdeci">TrajectoryParams boundary_accel_cruise_maxspeed_decel(double t, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01004">lci_strategic_plugin_algo.cpp:1004</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a739ee8e685d7d651c2c3826df0a43496"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_incomplete_lower</a></div><div class="ttdeci">TrajectoryParams boundary_decel_incomplete_lower(double t, double v0, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01271">lci_strategic_plugin_algo.cpp:1271</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a8cc331c61cde633f2ef571b8ca86a208"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed_accel</a></div><div class="ttdeci">TrajectoryParams boundary_decel_cruise_minspeed_accel(double t, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01216">lci_strategic_plugin_algo.cpp:1216</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa1b880660d58500ab32abc453096a38d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_minspeed_accel_complete</a></div><div class="ttdeci">TrajectoryParams boundary_decel_nocruise_minspeed_accel_complete(double t, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01177">lci_strategic_plugin_algo.cpp:1177</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa3a3866067ba8e2808e785f29909bc72"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed</a></div><div class="ttdeci">TrajectoryParams boundary_decel_cruise_minspeed(double t, double v0, double v_min, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01244">lci_strategic_plugin_algo.cpp:1244</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01004">boundary_accel_cruise_maxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01032">boundary_accel_nocruise_maxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00972">boundary_accel_nocruise_notmaxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01083">boundary_accel_or_decel_complete_upper()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00929">boundary_accel_or_decel_incomplete_upper()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01244">boundary_decel_cruise_minspeed()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01216">boundary_decel_cruise_minspeed_accel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01298">boundary_decel_cruise_minspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01271">boundary_decel_incomplete_lower()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01177">boundary_decel_nocruise_minspeed_accel_complete()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01147">boundary_decel_nocruise_minspeed_accel_incomplete()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01118">boundary_decel_nocruise_notminspeed_accel()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00105">lci_strategic_plugin::BoundaryDistances::dx1</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00106">lci_strategic_plugin::BoundaryDistances::dx2</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00107">lci_strategic_plugin::BoundaryDistances::dx3</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00108">lci_strategic_plugin::BoundaryDistances::dx4</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00109">lci_strategic_plugin::BoundaryDistances::dx5</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_cgraph">
<area shape="rect" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="5,534,185,590"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f" title=" " alt="" coords="267,5,427,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60" title=" " alt="" coords="259,100,434,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3" title=" " alt="" coords="259,195,434,265"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f" title=" " alt="" coords="259,289,434,360"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a" title=" " alt="" coords="259,384,434,455"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72" title=" " alt="" coords="267,479,427,549"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208" title=" " alt="" coords="267,573,427,644"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090" title=" " alt="" coords="267,668,427,739"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496" title=" " alt="" coords="233,763,460,819"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d" title=" " alt="" coords="255,844,438,915"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c" title=" " alt="" coords="250,939,443,1009"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2" title=" " alt="" coords="259,1033,434,1104"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_icgraph">
<area shape="rect" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="463,5,643,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a14874ac18eac605f9285d965fee1e7d5" name="a14874ac18eac605f9285d965fee1e7d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14874ac18eac605f9285d965fee1e7d5">&#9670;&nbsp;</a></span>get_delta_x()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a> lci_strategic_plugin::LCIStrategicPlugin::get_delta_x </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get boundary distances used to compare against current state in order to create trajectory smoothing parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v0</td><td>starting_speed </td></tr>
    <tr><td class="paramname">v1</td><td>departure_speed </td></tr>
    <tr><td class="paramname">v_max</td><td>speed_limit </td></tr>
    <tr><td class="paramname">v_min</td><td>minimum speed </td></tr>
    <tr><td class="paramname">a_max</td><td>max_comfort_acceleration limit </td></tr>
    <tr><td class="paramname">a_min</td><td>max_comfort_deceleration limit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boundary distances used to generate trajectory smoothing segments </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00407">407</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  408</span>{</div>
<div class="line"><span class="lineno">  409</span>  BoundaryDistances distances;</div>
<div class="line"><span class="lineno">  410</span>  </div>
<div class="line"><span class="lineno">  411</span>  distances.dx1 = ((pow(v_max, 2) - pow(v0, 2)) / (2 * a_max)) + ((pow(v1, 2) - pow(v_max, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno">  412</span>  <span class="keywordflow">if</span> (v1 &gt; v0)</div>
<div class="line"><span class="lineno">  413</span>    distances.dx2 = ((pow(v1, 2) - pow(v0, 2)) / (2 * a_max));</div>
<div class="line"><span class="lineno">  414</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  415</span>    distances.dx2 = ((pow(v1, 2) - pow(v0, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>  distances.dx3 = ((pow(v_min, 2) - pow(v0, 2)) / (2 * a_min)) + ((pow(v1, 2) - pow(v_min, 2)) / (2 * a_max));</div>
<div class="line"><span class="lineno">  418</span>  distances.dx4 = ((pow(v_min, 2) - pow(v0, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno">  419</span>  distances.dx5 = - pow(v0, 2) / (2 * a_min);</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>  <span class="keywordflow">return</span> distances;</div>
<div class="line"><span class="lineno">  422</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00105">lci_strategic_plugin::BoundaryDistances::dx1</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00106">lci_strategic_plugin::BoundaryDistances::dx2</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00107">lci_strategic_plugin::BoundaryDistances::dx3</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00108">lci_strategic_plugin::BoundaryDistances::dx4</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00109">lci_strategic_plugin::BoundaryDistances::dx5</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a14874ac18eac605f9285d965fee1e7d5_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a14874ac18eac605f9285d965fee1e7d5_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a14874ac18eac605f9285d965fee1e7d5_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a14874ac18eac605f9285d965fee1e7d5_icgraph">
<area shape="rect" title="Get boundary distances used to compare against current state in order to create trajectory smoothing ..." alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="aa2bd4aa59c217c225a29fcf2d6c3552d" name="aa2bd4aa59c217c225a29fcf2d6c3552d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2bd4aa59c217c225a29fcf2d6c3552d">&#9670;&nbsp;</a></span>get_distance_to_accel_or_decel_once()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::get_distance_to_accel_or_decel_once </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get required distance to accel or decel to reach departure_speed with given speed and acceleration parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed to enter into the intersection in m/s </td></tr>
    <tr><td class="paramname">max_accel</td><td>Acceleration rate during acceleration segment in m/s^2 </td></tr>
    <tr><td class="paramname">max_decel</td><td>Deceleration rate during acceleration segment in m/s^2</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>estimated distance to accel or decel in meters </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00040">40</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>{</div>
<div class="line"><span class="lineno">   42</span>  <span class="keywordflow">if</span> (current_speed &lt;= departure_speed + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">   43</span>  {</div>
<div class="line"><span class="lineno">   44</span>    <span class="keywordflow">return</span> (std::pow(departure_speed, 2) - std::pow(current_speed, 2))/(2 * max_accel);</div>
<div class="line"><span class="lineno">   45</span>  }</div>
<div class="line"><span class="lineno">   46</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   47</span>  {</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordflow">return</span> (std::pow(departure_speed, 2) - std::pow(current_speed, 2))/(2 * max_decel);</div>
<div class="line"><span class="lineno">   49</span>  }</div>
<div class="line"><span class="lineno">   50</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00156">get_earliest_entry_time()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa2bd4aa59c217c225a29fcf2d6c3552d_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa2bd4aa59c217c225a29fcf2d6c3552d_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa2bd4aa59c217c225a29fcf2d6c3552d_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa2bd4aa59c217c225a29fcf2d6c3552d_icgraph">
<area shape="rect" title="Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa..." alt="" coords="673,5,832,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="463,13,625,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a1677e95026e7023261613dd84ee82ef0" name="a1677e95026e7023261613dd84ee82ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1677e95026e7023261613dd84ee82ef0">&#9670;&nbsp;</a></span>get_distance_to_accel_or_decel_twice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::get_distance_to_accel_or_decel_twice </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>free_flow_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get required distance to accel then decel, or vise versa - each at least once - to reach departure_speed with given speed and acceleration parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">free_flow_speed</td><td>Free flow speed in m/s (usually the speed limit) </td></tr>
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed to enter into the intersection in m/s </td></tr>
    <tr><td class="paramname">max_accel</td><td>Acceleration rate during acceleration segment in m/s^2 </td></tr>
    <tr><td class="paramname">max_decel</td><td>Deceleration rate during acceleration segment in m/s^2</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>estimated distance to accel/decel or vice versa exactly twice in meters </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00034">34</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>{</div>
<div class="line"><span class="lineno">   36</span>  <span class="comment">// (v_e^2 - v^2)/ 2a_a + (v_d^2 - v_e^2)/ 2a_d</span></div>
<div class="line"><span class="lineno">   37</span>  <span class="keywordflow">return</span> (std::pow(free_flow_speed, 2) - std::pow(current_speed, 2))/(2 * max_accel) + (std::pow(departure_speed, 2) - std::pow(free_flow_speed, 2))/(2* max_decel);</div>
<div class="line"><span class="lineno">   38</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00156">get_earliest_entry_time()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a1677e95026e7023261613dd84ee82ef0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1677e95026e7023261613dd84ee82ef0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1677e95026e7023261613dd84ee82ef0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1677e95026e7023261613dd84ee82ef0_icgraph">
<area shape="rect" title="Get required distance to accel then decel, or vise versa &#45; each at least once &#45; to reach departure_sp..." alt="" coords="673,5,832,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="463,13,625,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="a427e5d35aec72d2c336b05cead63d666" name="a427e5d35aec72d2c336b05cead63d666"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a427e5d35aec72d2c336b05cead63d666">&#9670;&nbsp;</a></span>get_earliest_entry_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Duration lci_strategic_plugin::LCIStrategicPlugin::get_earliest_entry_time </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>remaining_distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>free_flow_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the earliest entry time into the intersection that is kinematically possible for the vehicle. Designed to get it for motion that has maximum one acceleration, deceleration, or cruise segments until destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remaining_distance</td><td>Distance to the intersection in meters </td></tr>
    <tr><td class="paramname">free_flow_speed</td><td>Free flow speed along the route until the intersection (usually speed_limit) in m/s </td></tr>
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed into the intersection in m/s. A.k.a target speed at the intersection </td></tr>
    <tr><td class="paramname">max_accel</td><td>The acceleration in m/s^2 of the acceleration segment </td></tr>
    <tr><td class="paramname">max_decel</td><td>The deceleration in m/s^2 of the deceleration segment</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimated stopping distance in meters NOTE: TSMO UC2: Algorithm 1. Earliest entering time estimation algorithm for EVs in all cooperation classes (defined for C-ADS-equipped vehicles) </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00156">156</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  157</span>{</div>
<div class="line"><span class="lineno">  158</span>  <span class="keywordtype">double</span> <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> = remaining_distance;</div>
<div class="line"><span class="lineno">  159</span>  <span class="keywordtype">double</span> x2 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">get_distance_to_accel_or_decel_once</a>(current_speed, departure_speed, max_accel, max_decel);</div>
<div class="line"><span class="lineno">  160</span>  <span class="keywordtype">double</span> x1 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">get_distance_to_accel_or_decel_twice</a>(free_flow_speed, current_speed, departure_speed, max_accel, max_decel);</div>
<div class="line"><span class="lineno">  161</span>  <span class="keywordtype">double</span> v_hat = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c">get_inflection_speed_value</a>(<a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a>, x1, x2, free_flow_speed, current_speed, departure_speed, max_accel, max_decel);</div>
<div class="line"><span class="lineno">  162</span>  </div>
<div class="line"><span class="lineno">  163</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;x: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &lt;&lt; <span class="stringliteral">&quot;, x2: &quot;</span> &lt;&lt; x2 &lt;&lt; <span class="stringliteral">&quot;, x1: &quot;</span> &lt;&lt; x1 &lt;&lt; <span class="stringliteral">&quot;, v_hat: &quot;</span> &lt;&lt; v_hat);</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>  <span class="keywordflow">if</span> (v_hat &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a> - <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a> || isnan(v_hat))</div>
<div class="line"><span class="lineno">  166</span>  {</div>
<div class="line"><span class="lineno">  167</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Detected that v_hat is smaller than allowed!!!: &quot;</span> &lt;&lt; v_hat);</div>
<div class="line"><span class="lineno">  168</span>    v_hat = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>;</div>
<div class="line"><span class="lineno">  169</span>  }</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>  <span class="keywordflow">if</span> (v_hat &gt;= free_flow_speed + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  172</span>  {</div>
<div class="line"><span class="lineno">  173</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Detected that v_hat is Bigger than allowed!!!: &quot;</span> &lt;&lt; v_hat);    </div>
<div class="line"><span class="lineno">  174</span>    v_hat = free_flow_speed;</div>
<div class="line"><span class="lineno">  175</span>  }</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  rclcpp::Duration t_accel(0,0);</div>
<div class="line"><span class="lineno">  178</span>  <span class="keywordflow">if</span> ( x &lt; x2 &amp;&amp; current_speed &gt; departure_speed)</div>
<div class="line"><span class="lineno">  179</span>  {</div>
<div class="line"><span class="lineno">  180</span>    t_accel = rclcpp::Duration(0.0);</div>
<div class="line"><span class="lineno">  181</span>  }</div>
<div class="line"><span class="lineno">  182</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  183</span>  {</div>
<div class="line"><span class="lineno">  184</span>    t_accel = rclcpp::Duration(std::max((v_hat - current_speed) / max_accel, 0.0) * 1e9);</div>
<div class="line"><span class="lineno">  185</span>  }</div>
<div class="line"><span class="lineno">  186</span>  rclcpp::Duration t_decel(0,0);</div>
<div class="line"><span class="lineno">  187</span>  <span class="keywordflow">if</span> ( <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &lt; x2 &amp;&amp; current_speed &lt; departure_speed)</div>
<div class="line"><span class="lineno">  188</span>  {</div>
<div class="line"><span class="lineno">  189</span>    t_decel = rclcpp::Duration(0.0);</div>
<div class="line"><span class="lineno">  190</span>  }</div>
<div class="line"><span class="lineno">  191</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  192</span>  {</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &lt; x2)</div>
<div class="line"><span class="lineno">  194</span>    {</div>
<div class="line"><span class="lineno">  195</span>      t_decel = rclcpp::Duration(std::max((v_hat - current_speed) / max_decel, 0.0) * 1e9);</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    }</div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  199</span>    {</div>
<div class="line"><span class="lineno">  200</span>      t_decel = rclcpp::Duration(std::max((departure_speed - v_hat) / max_decel, 0.0) * 1e9);</div>
<div class="line"><span class="lineno">  201</span>    }</div>
<div class="line"><span class="lineno">  202</span>  }</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>  rclcpp::Duration t_cruise(0,0);</div>
<div class="line"><span class="lineno">  205</span>  <span class="keywordflow">if</span> (x1 &lt;= <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a>)</div>
<div class="line"><span class="lineno">  206</span>  {</div>
<div class="line"><span class="lineno">  207</span>    t_cruise = rclcpp::Duration(std::max((<a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> - x1)/v_hat, 0.0) * 1e9);</div>
<div class="line"><span class="lineno">  208</span>  }</div>
<div class="line"><span class="lineno">  209</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  210</span>  {</div>
<div class="line"><span class="lineno">  211</span>    t_cruise = rclcpp::Duration(0.0);</div>
<div class="line"><span class="lineno">  212</span>  }</div>
<div class="line"><span class="lineno">  213</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;t_accel: &quot;</span> &lt;&lt;  t_accel.seconds() &lt;&lt; <span class="stringliteral">&quot;, t_cruise: &quot;</span> &lt;&lt; t_cruise.seconds() &lt;&lt; <span class="stringliteral">&quot;, t_decel: &quot;</span> &lt;&lt; t_decel.seconds());</div>
<div class="line"><span class="lineno">  214</span>  <span class="keywordflow">return</span> t_accel + t_cruise + t_decel;</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a1677e95026e7023261613dd84ee82ef0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">lci_strategic_plugin::LCIStrategicPlugin::get_distance_to_accel_or_decel_twice</a></div><div class="ttdeci">double get_distance_to_accel_or_decel_twice(double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</div><div class="ttdoc">Get required distance to accel then decel, or vise versa - each at least once - to reach departure_sp...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00034">lci_strategic_plugin_algo.cpp:34</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa2bd4aa59c217c225a29fcf2d6c3552d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">lci_strategic_plugin::LCIStrategicPlugin::get_distance_to_accel_or_decel_once</a></div><div class="ttdeci">double get_distance_to_accel_or_decel_once(double current_speed, double departure_speed, double max_accel, double max_decel) const</div><div class="ttdoc">Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00040">lci_strategic_plugin_algo.cpp:40</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa64916c2b9a3b7eedc359c68931f967c"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c">lci_strategic_plugin::LCIStrategicPlugin::get_inflection_speed_value</a></div><div class="ttdeci">double get_inflection_speed_value(double x, double x1, double x2, double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</div><div class="ttdoc">Get the speed between the acceleration and deceleration pieces.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00373">lci_strategic_plugin_algo.cpp:373</a></div></div>
<div class="ttc" id="anamespaceprocess__traj__logs_html_af3ba6144a2d35a4990f1a8d04632a052"><div class="ttname"><a href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">process_traj_logs.x</a></div><div class="ttdeci">x</div><div class="ttdef"><b>Definition:</b> <a href="process__traj__logs_8py_source.html#l00128">process_traj_logs.py:128</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00050">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00040">get_distance_to_accel_or_decel_once()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00034">get_distance_to_accel_or_decel_twice()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00373">get_inflection_speed_value()</a>, and <a class="el" href="process__traj__logs_8py_source.html#l00128">process_traj_logs::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a427e5d35aec72d2c336b05cead63d666_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a427e5d35aec72d2c336b05cead63d666_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a427e5d35aec72d2c336b05cead63d666_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a427e5d35aec72d2c336b05cead63d666_cgraph">
<area shape="rect" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="5,107,168,163"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d" title="Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa..." alt="" coords="229,5,387,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0" title="Get required distance to accel then decel, or vise versa &#45; each at least once &#45; to reach departure_sp..." alt="" coords="229,100,387,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c" title="Get the speed between the acceleration and deceleration pieces." alt="" coords="216,195,400,251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a427e5d35aec72d2c336b05cead63d666_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a427e5d35aec72d2c336b05cead63d666_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a427e5d35aec72d2c336b05cead63d666_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a427e5d35aec72d2c336b05cead63d666_icgraph">
<area shape="rect" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="463,5,625,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a5dbeec90c35fb6b1fa37b637f83a406b" name="a5dbeec90c35fb6b1fa37b637f83a406b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbeec90c35fb6b1fa37b637f83a406b">&#9670;&nbsp;</a></span>get_final_entry_time_and_conditions()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; rclcpp::Time, <a class="el" href="classbool.html">bool</a>, <a class="el" href="classbool.html">bool</a> &gt; lci_strategic_plugin::LCIStrategicPlugin::get_final_entry_time_and_conditions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rclcpp::Time &amp;&#160;</td>
          <td class="paramname"><em>earliest_entry_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::CarmaTrafficSignalPtr&#160;</td>
          <td class="paramname"><em>traffic_light</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the final entry time from either vehicle's own internal ET calculation (TSMO UC2) or from carma-street (TSMO UC3) This function also applies necessary green_buffer to adjust the ET. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramname">earliest_entry_time</td><td>Earliest entry time calculated by the vehicle </td></tr>
    <tr><td class="paramname">traffic_light</td><td>traffic signal the vehicle is using </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>tuple of &lt;final entry time the vehicle uses to enter the intersection, is_entry_time_within_green_or_tbd: true if ET is in green or TBD (related to UC3, always set to true in UC2), in_tbd: true if ET is in TBD (false if in UC2)&gt; </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00218">218</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  219</span>{</div>
<div class="line"><span class="lineno">  220</span>  rclcpp::Time nearest_green_entry_time = rclcpp::Time(0);</div>
<div class="line"><span class="lineno">  221</span>  <span class="keywordtype">bool</span> is_entry_time_within_green_or_tbd = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  222</span>  <span class="keywordtype">bool</span> in_tbd = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> ==<span class="keyword">false</span> || <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> == 0) <span class="comment">//UC2</span></div>
<div class="line"><span class="lineno">  225</span>  {</div>
<div class="line"><span class="lineno">  226</span>    nearest_green_entry_time = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef">get_nearest_green_entry_time</a>(current_state.stamp, earliest_entry_time, traffic_light) </div>
<div class="line"><span class="lineno">  227</span>                                          + rclcpp::Duration(<a class="code hl_define" href="lci__strategic__plugin__algo_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a> * 1e9); <span class="comment">//0.01sec more buffer since green_light algorithm&#39;s timestamp picks the previous signal - Vehicle Estimation</span></div>
<div class="line"><span class="lineno">  228</span>    is_entry_time_within_green_or_tbd = <span class="keyword">true</span>; </div>
<div class="line"><span class="lineno">  229</span>  }</div>
<div class="line"><span class="lineno">  230</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> ==<span class="keyword">true</span> &amp;&amp; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> != 0 ) <span class="comment">// UC3</span></div>
<div class="line"><span class="lineno">  231</span>  {</div>
<div class="line"><span class="lineno">  232</span>    nearest_green_entry_time = rclcpp::Time(std::max(earliest_entry_time.seconds(), (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a>)/1000.0) * 1e9) + rclcpp::Duration(<a class="code hl_define" href="lci__strategic__plugin__algo_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a> * 1e9); <span class="comment">//Carma Street </span></div>
<div class="line"><span class="lineno">  233</span>    </div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// check if scheduled_enter_time_ is inside the available states interval</span></div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0;</div>
<div class="line"><span class="lineno">  236</span>    </div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> pair : traffic_light-&gt;recorded_time_stamps)</div>
<div class="line"><span class="lineno">  239</span>    {</div>
<div class="line"><span class="lineno">  240</span>      <span class="keywordflow">if</span> (lanelet::time::timeFromSec(nearest_green_entry_time.seconds()) &lt; pair.first)</div>
<div class="line"><span class="lineno">  241</span>      {</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> (pair.second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED) </div>
<div class="line"><span class="lineno">  243</span>        {</div>
<div class="line"><span class="lineno">  244</span>          RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;ET is inside the GREEN phase! where starting time: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(traffic_light-&gt;recorded_start_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>])) </div>
<div class="line"><span class="lineno">  245</span>            &lt;&lt; <span class="stringliteral">&quot;, ending time of that green signal is: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(pair.first)));</div>
<div class="line"><span class="lineno">  246</span>          is_entry_time_within_green_or_tbd = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  247</span>        }</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  249</span>        {</div>
<div class="line"><span class="lineno">  250</span>          RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Vehicle should plan cruise and stop as ET is inside the RED or YELLOW phase! where starting time: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(traffic_light-&gt;recorded_start_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>])) </div>
<div class="line"><span class="lineno">  251</span>            &lt;&lt; <span class="stringliteral">&quot;, ending time of that green signal is: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(pair.first)));</div>
<div class="line"><span class="lineno">  252</span>          is_entry_time_within_green_or_tbd = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  253</span>        }</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>        in_tbd = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  257</span>      }</div>
<div class="line"><span class="lineno">  258</span>      <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++;</div>
<div class="line"><span class="lineno">  259</span>    }</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">if</span> (in_tbd)</div>
<div class="line"><span class="lineno">  262</span>    {</div>
<div class="line"><span class="lineno">  263</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;ET is inside TBD phase! where starting time: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(traffic_light-&gt;recorded_time_stamps.back().first)));</div>
<div class="line"><span class="lineno">  264</span>      is_entry_time_within_green_or_tbd = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  265</span>    }</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>  }</div>
<div class="line"><span class="lineno">  268</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;nearest_green_entry_time: &quot;</span> &lt;&lt; nearest_green_entry_time.get_clock_type());</div>
<div class="line"><span class="lineno">  269</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;current_state.stamp: &quot;</span> &lt;&lt; current_state.stamp.get_clock_type());</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;nearest_green_entry_time: &quot;</span> &lt;&lt; std::to_string(nearest_green_entry_time.seconds()) &lt;&lt; <span class="stringliteral">&quot;, with : &quot;</span> &lt;&lt; std::to_string((nearest_green_entry_time - current_state.stamp).seconds())  &lt;&lt; <span class="stringliteral">&quot; seconds left at: &quot;</span> &lt;&lt; std::to_string(current_state.stamp.seconds()));</div>
<div class="line"><span class="lineno">  272</span>  </div>
<div class="line"><span class="lineno">  273</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a>) </div>
<div class="line"><span class="lineno">  274</span>  { <span class="comment">// always pick later of buffered green entry time, or earliest entry time</span></div>
<div class="line"><span class="lineno">  275</span>    nearest_green_entry_time = rclcpp::Time(std::max(nearest_green_entry_time.seconds(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a>.get().seconds()) * 1e9);</div>
<div class="line"><span class="lineno">  276</span>  }</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;After accounting for cached - nearest_green_entry_time: &quot;</span> &lt;&lt; std::to_string(nearest_green_entry_time.seconds()) &lt;&lt; <span class="stringliteral">&quot;, with : &quot;</span> &lt;&lt; std::to_string((nearest_green_entry_time - current_state.stamp).seconds())  &lt;&lt; <span class="stringliteral">&quot; seconds left at: &quot;</span> &lt;&lt; std::to_string(current_state.stamp.seconds()));</div>
<div class="line"><span class="lineno">  279</span>  </div>
<div class="line"><span class="lineno">  280</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a> &amp;&amp; is_entry_time_within_green_or_tbd) </div>
<div class="line"><span class="lineno">  281</span>  {</div>
<div class="line"><span class="lineno">  282</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Applying green_light_buffer for the first time and caching! nearest_green_entry_time (without buffer):&quot;</span> &lt;&lt; std::to_string(nearest_green_entry_time.seconds()) &lt;&lt; <span class="stringliteral">&quot;, and earliest_entry_time: &quot;</span> &lt;&lt; std::to_string(earliest_entry_time.seconds()));</div>
<div class="line"><span class="lineno">  283</span>    <span class="comment">// save first calculated nearest_green_entry_time + buffer to compare against in the future as nearest_green_entry_time changes with earliest_entry_time</span></div>
<div class="line"><span class="lineno">  284</span>    </div>
<div class="line"><span class="lineno">  285</span>    <span class="comment">// check if it needs buffer below:</span></div>
<div class="line"><span class="lineno">  286</span>    rclcpp::Time early_arrival_time_green_et =</div>
<div class="line"><span class="lineno">  287</span>        nearest_green_entry_time - rclcpp::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a> * 1e9);</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;early_arrival_time_green_et: &quot;</span> &lt;&lt; std::to_string(early_arrival_time_green_et.seconds()));</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    <span class="keyword">auto</span> early_arrival_state_green_et_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(early_arrival_time_green_et.seconds()));</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>(early_arrival_state_green_et_optional, early_arrival_time_green_et))</div>
<div class="line"><span class="lineno">  294</span>    {</div>
<div class="line"><span class="lineno">  295</span>      RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Unable to resolve give signal...&quot;</span>);</div>
<div class="line"><span class="lineno">  296</span>      <span class="keywordflow">return</span> std::make_tuple(rclcpp::Time(0), is_entry_time_within_green_or_tbd, in_tbd);</div>
<div class="line"><span class="lineno">  297</span>    }</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;early_arrival_state_green_et: &quot;</span> &lt;&lt; early_arrival_state_green_et_optional.get().second);</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="keywordtype">bool</span> can_make_early_arrival  = (early_arrival_state_green_et_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED);</div>
<div class="line"><span class="lineno">  302</span>   </div>
<div class="line"><span class="lineno">  303</span>    <span class="comment">// nearest_green_entry_time is by definition on green, so only check early_arrival</span></div>
<div class="line"><span class="lineno">  304</span>    <span class="keywordflow">if</span> (can_make_early_arrival)  <span class="comment">// Green light with Certainty</span></div>
<div class="line"><span class="lineno">  305</span>    {</div>
<div class="line"><span class="lineno">  306</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a> = nearest_green_entry_time;  <span class="comment">//don&#39;t apply buffer if ET is in green</span></div>
<div class="line"><span class="lineno">  307</span>    }  </div>
<div class="line"><span class="lineno">  308</span>    <span class="keywordflow">else</span> <span class="comment">//buffer is needed</span></div>
<div class="line"><span class="lineno">  309</span>    {</div>
<div class="line"><span class="lineno">  310</span>      <span class="comment">// below logic stores correct buffered timestamp into nearest_green_entry_time_cached_ to be used later</span></div>
<div class="line"><span class="lineno">  311</span>      </div>
<div class="line"><span class="lineno">  312</span>      rclcpp::Time nearest_green_signal_start_time = rclcpp::Time(0);</div>
<div class="line"><span class="lineno">  313</span>      <span class="keywordflow">if</span> (traffic_light-&gt;fixed_cycle_duration.total_milliseconds()/1000.0 &gt; 1.0) <span class="comment">// UC2</span></div>
<div class="line"><span class="lineno">  314</span>      {</div>
<div class="line"><span class="lineno">  315</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;UC2 Handling&quot;</span>);</div>
<div class="line"><span class="lineno">  316</span>        <span class="keyword">auto</span> normal_arrival_state_green_et_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(nearest_green_entry_time.seconds()));</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>(normal_arrival_state_green_et_optional, nearest_green_entry_time))</div>
<div class="line"><span class="lineno">  319</span>        {</div>
<div class="line"><span class="lineno">  320</span>          RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Unable to resolve give signal...&quot;</span>);</div>
<div class="line"><span class="lineno">  321</span>          <span class="keywordflow">return</span> std::make_tuple(rclcpp::Time(0), is_entry_time_within_green_or_tbd, in_tbd);</div>
<div class="line"><span class="lineno">  322</span>        }</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;normal_arrival_signal_end_time: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(normal_arrival_state_green_et_optional.get().first)));</div>
<div class="line"><span class="lineno">  325</span>        </div>
<div class="line"><span class="lineno">  326</span>        <span class="comment">// nearest_green_signal_start_time = normal_arrival_signal_end_time (green guaranteed) - green_signal_duration</span></div>
<div class="line"><span class="lineno">  327</span>        nearest_green_signal_start_time = rclcpp::Time(lanelet::time::toSec(normal_arrival_state_green_et_optional.get().first - traffic_light-&gt;signal_durations[lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED]) * 1e9);</div>
<div class="line"><span class="lineno">  328</span>      }</div>
<div class="line"><span class="lineno">  329</span>      <span class="keywordflow">else</span>  <span class="comment">// UC3</span></div>
<div class="line"><span class="lineno">  330</span>      {</div>
<div class="line"><span class="lineno">  331</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;UC3 Handling&quot;</span>);</div>
<div class="line"><span class="lineno">  332</span>        </div>
<div class="line"><span class="lineno">  333</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt; traffic_light-&gt;recorded_start_time_stamps.size(); <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++)</div>
<div class="line"><span class="lineno">  334</span>        {</div>
<div class="line"><span class="lineno">  335</span>          <span class="keywordflow">if</span> (traffic_light-&gt;recorded_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED &amp;&amp; </div>
<div class="line"><span class="lineno">  336</span>            lanelet::time::timeFromSec(nearest_green_entry_time.seconds()) &lt; traffic_light-&gt;recorded_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].first ) <span class="comment">// Make sure it is in correct GREEN phase there are multiple</span></div>
<div class="line"><span class="lineno">  337</span>          {</div>
<div class="line"><span class="lineno">  338</span>            nearest_green_signal_start_time = rclcpp::Time(lanelet::time::toSec(traffic_light-&gt;recorded_start_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>]) * 1e9); </div>
<div class="line"><span class="lineno">  339</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  340</span>          }</div>
<div class="line"><span class="lineno">  341</span>        }</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">if</span> (nearest_green_signal_start_time == rclcpp::Time(0)) <span class="comment">//in tdb</span></div>
<div class="line"><span class="lineno">  344</span>        {</div>
<div class="line"><span class="lineno">  345</span>          nearest_green_signal_start_time = rclcpp::Time(lanelet::time::toSec(traffic_light-&gt;recorded_time_stamps.back().first) * 1e9); </div>
<div class="line"><span class="lineno">  346</span>        }</div>
<div class="line"><span class="lineno">  347</span>      }</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>      <span class="comment">// If ET is within green or TBD, it should always aim for at least minimum of &quot;start_time of green or tdb + green_buffer&quot; for safety</span></div>
<div class="line"><span class="lineno">  350</span>  </div>
<div class="line"><span class="lineno">  351</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a> = nearest_green_signal_start_time + rclcpp::Duration((<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a> + <a class="code hl_define" href="lci__strategic__plugin__algo_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>) * 1e9);</div>
<div class="line"><span class="lineno">  352</span>      </div>
<div class="line"><span class="lineno">  353</span>      <span class="comment">// EPSILON=0.01 is there because if predictState&#39;s input exactly falls on ending_time it picks the previous state.</span></div>
<div class="line"><span class="lineno">  354</span>      <span class="comment">//For example, if 0 - 10s is GREEN, and 10 - 12s is YELLOW, checking exactly 10.0s will return GREEN,</span></div>
<div class="line"><span class="lineno">  355</span>      <span class="comment">//but 10.01s will return YELLOW. This 0.01 convention is used throughout the file, so thought it is better</span></div>
<div class="line"><span class="lineno">  356</span>      <span class="comment">//to keep it consistent and probably too detailed for the user to think about, which is why it is not included in the buffer.</span></div>
<div class="line"><span class="lineno">  357</span>      <span class="comment">//Actually including in the buffer doesn&#39;t work because it uses that same buffer to check early and late. If buffer is 2s and </span></div>
<div class="line"><span class="lineno">  358</span>      <span class="comment">//green starts at 10s, it will check +/-2s from 12s. If the buffer was 2.01s and green starts at 10s again, it checks +/-2.01 </span></div>
<div class="line"><span class="lineno">  359</span>      <span class="comment">//from 12.01, so both checks 10s.</span></div>
<div class="line"><span class="lineno">  360</span>      </div>
<div class="line"><span class="lineno">  361</span>    }</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    nearest_green_entry_time = rclcpp::Time(std::max(nearest_green_entry_time.seconds(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a>.get().seconds()) * 1e9);</div>
<div class="line"><span class="lineno">  364</span>  }</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a> &amp;&amp; nearest_green_entry_time &gt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a>.get())</div>
<div class="line"><span class="lineno">  367</span>  {</div>
<div class="line"><span class="lineno">  368</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Earliest entry time... has gone past the cashed entering time. nearest_green_entry_time_cached_ (which can also be TBD):&quot;</span> &lt;&lt; std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a>.get().seconds()) &lt;&lt; <span class="stringliteral">&quot;, and earliest_entry_time: &quot;</span> &lt;&lt; std::to_string(earliest_entry_time.seconds()));</div>
<div class="line"><span class="lineno">  369</span>  }</div>
<div class="line"><span class="lineno">  370</span>  <span class="keywordflow">return</span> std::make_tuple(nearest_green_entry_time, is_entry_time_within_green_or_tbd, in_tbd);</div>
<div class="line"><span class="lineno">  371</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a27f805a687c1d09b8e21087c5b2ff0e8"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">lci_strategic_plugin::LCIStrategicPlugin::nearest_green_entry_time_cached_</a></div><div class="ttdeci">boost::optional&lt; rclcpp::Time &gt; nearest_green_entry_time_cached_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00218">lci_strategic_plugin.hpp:218</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a387a881b43da465efca652474b390b97"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">lci_strategic_plugin::LCIStrategicPlugin::scheduled_enter_time_</a></div><div class="ttdeci">unsigned long long scheduled_enter_time_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00203">lci_strategic_plugin.hpp:203</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_acdc00ab83813bd7cbdf2061275a697ef"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef">lci_strategic_plugin::LCIStrategicPlugin::get_nearest_green_entry_time</a></div><div class="ttdeci">rclcpp::Time get_nearest_green_entry_time(const rclcpp::Time &amp;current_time, const rclcpp::Time &amp;earliest_entry_time, lanelet::CarmaTrafficSignalPtr signal, double minimum_required_green_time=0.0) const</div><div class="ttdoc">Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00052">lci_strategic_plugin_algo.cpp:52</a></div></div>
<div class="ttc" id="alci__strategic__plugin__algo_8cpp_html_a002b2f4894492820fe708b1b7e7c5e70"><div class="ttname"><a href="lci__strategic__plugin__algo_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a></div><div class="ttdeci">#define EPSILON</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00022">lci_strategic_plugin_algo.cpp:22</a></div></div>
<div class="ttc" id="anamespaceprocess__bag_html_af102a02c97622dd30b0dbf7bafb0d199"><div class="ttname"><a href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">process_bag.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="process__bag_8py_source.html#l00059">process_bag.py:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00069">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00022">EPSILON</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00052">get_nearest_green_entry_time()</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00047">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a>, <a class="el" href="process__bag_8py_source.html#l00059">process_bag::i</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00218">nearest_green_entry_time_cached_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00203">scheduled_enter_time_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00277">validLightState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5dbeec90c35fb6b1fa37b637f83a406b_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5dbeec90c35fb6b1fa37b637f83a406b_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5dbeec90c35fb6b1fa37b637f83a406b_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5dbeec90c35fb6b1fa37b637f83a406b_cgraph">
<area shape="rect" title="Get the final entry time from either vehicle&#39;s own internal ET calculation (TSMO UC2) or from carma&#45;s..." alt="" coords="5,38,148,109"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef" title="Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ..." alt="" coords="196,5,399,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="229,85,366,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="447,85,592,141"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5dbeec90c35fb6b1fa37b637f83a406b_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5dbeec90c35fb6b1fa37b637f83a406b_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5dbeec90c35fb6b1fa37b637f83a406b_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5dbeec90c35fb6b1fa37b637f83a406b_icgraph">
<area shape="rect" title="Get the final entry time from either vehicle&#39;s own internal ET calculation (TSMO UC2) or from carma&#45;s..." alt="" coords="463,5,605,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="aa64916c2b9a3b7eedc359c68931f967c" name="aa64916c2b9a3b7eedc359c68931f967c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa64916c2b9a3b7eedc359c68931f967c">&#9670;&nbsp;</a></span>get_inflection_speed_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::get_inflection_speed_value </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>free_flow_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the speed between the acceleration and deceleration pieces. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Distance remaining in meters </td></tr>
    <tr><td class="paramname">x1</td><td>Required distance to accel then decel, or vise versa-each at least once-to reach departure_speed with given speed and acceleration parameters </td></tr>
    <tr><td class="paramname">x2</td><td>required distance to accel or decel to reach departure_speed with given speed and acceleration parameters </td></tr>
    <tr><td class="paramname">free_flow_speed</td><td>Free flow speed in m/s (usually the speed limit) </td></tr>
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed to enter into the intersection in m/s </td></tr>
    <tr><td class="paramname">max_accel</td><td>Acceleration rate during acceleration segment in m/s^2 </td></tr>
    <tr><td class="paramname">max_decel</td><td>Deceleration rate during acceleration segment in m/s^2 NOTE: note that this returns departure speed if x &lt; x2 since vehicle's trajectory corresponding to its EET would contain only one acceleration or deceleration piece </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimated stopping distance in meters </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00373">373</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  374</span>{  </div>
<div class="line"><span class="lineno">  375</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &gt;= x1)</div>
<div class="line"><span class="lineno">  376</span>  {</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">return</span> free_flow_speed;</div>
<div class="line"><span class="lineno">  378</span>  }</div>
<div class="line"><span class="lineno">  379</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x1 &gt; <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &amp;&amp; <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &gt;= x2)</div>
<div class="line"><span class="lineno">  380</span>  {</div>
<div class="line"><span class="lineno">  381</span>    <span class="keywordflow">return</span> std::sqrt((2 * <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> * max_accel * max_decel + max_decel * std::pow(current_speed, 2) - max_accel * (std::pow(departure_speed, 2)))/(max_decel - max_accel));</div>
<div class="line"><span class="lineno">  382</span>  }</div>
<div class="line"><span class="lineno">  383</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x2 &gt; <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a>)</div>
<div class="line"><span class="lineno">  384</span>  {</div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">if</span> (current_speed &lt;= departure_speed)</div>
<div class="line"><span class="lineno">  386</span>    {</div>
<div class="line"><span class="lineno">  387</span>      <span class="keywordflow">return</span> std::sqrt(2 * <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> * max_accel + std::pow(current_speed, 2));</div>
<div class="line"><span class="lineno">  388</span>    }</div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  390</span>    {</div>
<div class="line"><span class="lineno">  391</span>      <span class="keywordflow">return</span> std::sqrt(2 * <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> * max_decel + std::pow(current_speed, 2));</div>
<div class="line"><span class="lineno">  392</span>    }</div>
<div class="line"><span class="lineno">  393</span>  }</div>
<div class="line"><span class="lineno">  394</span>  </div>
<div class="line"><span class="lineno">  395</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="process__traj__logs_8py_source.html#l00128">process_traj_logs::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00156">get_earliest_entry_time()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa64916c2b9a3b7eedc359c68931f967c_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa64916c2b9a3b7eedc359c68931f967c_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa64916c2b9a3b7eedc359c68931f967c_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa64916c2b9a3b7eedc359c68931f967c_icgraph">
<area shape="rect" title="Get the speed between the acceleration and deceleration pieces." alt="" coords="673,5,857,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="463,5,625,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="acdc00ab83813bd7cbdf2061275a697ef" name="acdc00ab83813bd7cbdf2061275a697ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdc00ab83813bd7cbdf2061275a697ef">&#9670;&nbsp;</a></span>get_nearest_green_entry_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Time lci_strategic_plugin::LCIStrategicPlugin::get_nearest_green_entry_time </td>
          <td>(</td>
          <td class="paramtype">const rclcpp::Time &amp;&#160;</td>
          <td class="paramname"><em>current_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rclcpp::Time &amp;&#160;</td>
          <td class="paramname"><em>earliest_entry_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::CarmaTrafficSignalPtr&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minimum_required_green_time</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest possible entry time that is during green phase and after timestamps both that is kinematically possible and required times for vehicle in front to pass through first. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_time</td><td>Current state's ROS time </td></tr>
    <tr><td class="paramname">earliest_entry_time</td><td>Earliest ROS entry time into the intersection kinematically possible </td></tr>
    <tr><td class="paramname">signal</td><td>CARMATrafficSignal that is responsible for the intersection along route </td></tr>
    <tr><td class="paramname">minimum_required_green_time</td><td>Minimum seconds required by other vehicles in front to pass through the intersection first</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nearest ROS entry time during green phase. NOTE: TSMO UC2: Algorithm 2. Entering time estimation algorithm for EVs in cooperation Class A when the SPaT plan is fixed-time (defined for C-ADS-equipped vehicles) </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00052">52</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span>{</div>
<div class="line"><span class="lineno">   54</span>  boost::posix_time::time_duration g =  lanelet::time::durationFromSec(minimum_required_green_time);         <span class="comment">// provided by considering min headways of vehicles in front</span></div>
<div class="line"><span class="lineno">   55</span>  boost::posix_time::ptime t = lanelet::time::timeFromSec(current_time.seconds());                        <span class="comment">// time variable</span></div>
<div class="line"><span class="lineno">   56</span>  boost::posix_time::ptime eet = lanelet::time::timeFromSec(earliest_entry_time.seconds());                        <span class="comment">// earliest entry time</span></div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>  <span class="keyword">auto</span> curr_pair = signal-&gt;predictState(t);</div>
<div class="line"><span class="lineno">   59</span>  <span class="keywordflow">if</span> (!curr_pair)</div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Traffic signal with id:&quot;</span> + std::to_string(signal-&gt;id()) + <span class="stringliteral">&quot;, does not have any recorded time stamps!&quot;</span>);</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>  boost::posix_time::time_duration theta =  curr_pair.get().first - t;   <span class="comment">// remaining time left in this state</span></div>
<div class="line"><span class="lineno">   63</span>  <span class="keyword">auto</span> p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">   64</span>  <span class="keywordflow">while</span> ( 0.0 &lt; g.total_milliseconds() || p != lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED) <span class="comment">//green</span></div>
<div class="line"><span class="lineno">   65</span>  {</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">if</span> ( p == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED)</div>
<div class="line"><span class="lineno">   67</span>    {</div>
<div class="line"><span class="lineno">   68</span>      <span class="keywordflow">if</span> (g &lt; theta)</div>
<div class="line"><span class="lineno">   69</span>      {</div>
<div class="line"><span class="lineno">   70</span>        t = t + g;</div>
<div class="line"><span class="lineno">   71</span>        theta = theta - g;</div>
<div class="line"><span class="lineno">   72</span>        g = boost::posix_time::seconds(0);</div>
<div class="line"><span class="lineno">   73</span>      }</div>
<div class="line"><span class="lineno">   74</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   75</span>      {</div>
<div class="line"><span class="lineno">   76</span>        t = t + theta;</div>
<div class="line"><span class="lineno">   77</span>        g = g - theta;</div>
<div class="line"><span class="lineno">   78</span>        curr_pair = signal-&gt;predictState(t + boost::posix_time::milliseconds(20)); <span class="comment">// select next phase</span></div>
<div class="line"><span class="lineno">   79</span>        p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">   80</span>        theta = curr_pair.get().first - t;</div>
<div class="line"><span class="lineno">   81</span>      }</div>
<div class="line"><span class="lineno">   82</span>    }</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   84</span>    {</div>
<div class="line"><span class="lineno">   85</span>      t = t + theta;</div>
<div class="line"><span class="lineno">   86</span>      curr_pair = signal-&gt;predictState(t + boost::posix_time::milliseconds(20)); <span class="comment">// select next phase</span></div>
<div class="line"><span class="lineno">   87</span>      p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">   88</span>      theta = curr_pair.get().first - t;</div>
<div class="line"><span class="lineno">   89</span>    }</div>
<div class="line"><span class="lineno">   90</span>  }</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>  <span class="keywordflow">if</span> (t &lt;= eet)</div>
<div class="line"><span class="lineno">   93</span>  {</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordtype">double</span> cycle_duration = signal-&gt;fixed_cycle_duration.total_milliseconds()/1000.0;</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">if</span> (cycle_duration &lt; 0.001) <span class="comment">//if it is a dynamic traffic signal not fixed</span></div>
<div class="line"><span class="lineno">   96</span>      cycle_duration = lanelet::time::toSec(signal-&gt;recorded_time_stamps.back().first) - lanelet::time::toSec(signal-&gt;recorded_start_time_stamps.front());</div>
<div class="line"><span class="lineno">   97</span>    </div>
<div class="line"><span class="lineno">   98</span>    t = t + lanelet::time::durationFromSec(std::floor((eet - t).total_milliseconds()/1000.0/cycle_duration) * cycle_duration); <span class="comment">//fancy logic was needed to compile</span></div>
<div class="line"><span class="lineno">   99</span>    curr_pair = signal-&gt;predictState(t + boost::posix_time::milliseconds(20)); <span class="comment">// select next phase</span></div>
<div class="line"><span class="lineno">  100</span>    p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">  101</span>    theta = curr_pair.get().first - t;</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">while</span> ( t &lt; eet || p != lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED)</div>
<div class="line"><span class="lineno">  103</span>    {</div>
<div class="line"><span class="lineno">  104</span>      <span class="keywordflow">if</span> ( p == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED &amp;&amp; eet - t &lt; theta)</div>
<div class="line"><span class="lineno">  105</span>      {</div>
<div class="line"><span class="lineno">  106</span>        t = eet;</div>
<div class="line"><span class="lineno">  107</span>        theta = theta - (eet - t);</div>
<div class="line"><span class="lineno">  108</span>      }</div>
<div class="line"><span class="lineno">  109</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  110</span>      {</div>
<div class="line"><span class="lineno">  111</span>        t = t + theta;</div>
<div class="line"><span class="lineno">  112</span>        curr_pair = signal-&gt;predictState(t + boost::posix_time::milliseconds(20)); <span class="comment">// select next phase</span></div>
<div class="line"><span class="lineno">  113</span>        p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">  114</span>        theta = curr_pair.get().first - t;</div>
<div class="line"><span class="lineno">  115</span>      }</div>
<div class="line"><span class="lineno">  116</span>    }</div>
<div class="line"><span class="lineno">  117</span>  }</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>  <span class="keywordflow">return</span> rclcpp::Time(lanelet::time::toSec(t) * 1e9);</div>
<div class="line"><span class="lineno">  120</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00218">get_final_entry_time_and_conditions()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_acdc00ab83813bd7cbdf2061275a697ef_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_acdc00ab83813bd7cbdf2061275a697ef_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_acdc00ab83813bd7cbdf2061275a697ef_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_acdc00ab83813bd7cbdf2061275a697ef_icgraph">
<area shape="rect" title="Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ..." alt="" coords="653,13,856,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b" title="Get the final entry time from either vehicle&#39;s own internal ET calculation (TSMO UC2) or from carma&#45;s..." alt="" coords="463,5,605,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,13,415,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,13,184,69"/>
</map>
</div>

</div>
</div>
<a id="aa8cd0f3ccdcf467ef946dabd04308b21" name="aa8cd0f3ccdcf467ef946dabd04308b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8cd0f3ccdcf467ef946dabd04308b21">&#9670;&nbsp;</a></span>get_trajectory_smoothing_activation_distance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::get_trajectory_smoothing_activation_distance </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time_remaining_at_free_flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>full_cycle_duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets maximum distance (nearest downtrack) the trajectory smoothing algorithm makes difference than simple lane following within half of one full fixed cycle time boundary compared to free flow arrival time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time_remaining_at_free_flow</td><td>Free flow arrival at the intersection </td></tr>
    <tr><td class="paramname">full_cycle_duration</td><td>One fixed cycle of the signal </td></tr>
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">speed_limit</td><td>Speed limit speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed into the intersection in m/s. A.k.a target speed at the intersection </td></tr>
    <tr><td class="paramname">max_accel</td><td>The acceleration in m/s^2 of the acceleration segment </td></tr>
    <tr><td class="paramname">max_decel</td><td>The deceleration in m/s^2 of the deceleration segment</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the max distance the plugin should activate to support all speed profile cases of the trajectory smoothing algorithm -1 if it is within the distance already </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00122">122</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  123</span>{</div>
<div class="line"><span class="lineno">  124</span>  <span class="comment">// TSMO USE CASE 2: Figure 7. Trajectory smoothing solution Case 2. Subsituted a+ as max_accel and solved for inflection_speed</span></div>
<div class="line"><span class="lineno">  125</span>  <span class="keywordtype">double</span> accel_ratio = max_accel / max_decel;</div>
<div class="line"><span class="lineno">  126</span>  <span class="keywordtype">double</span> remaining_time = time_remaining_at_free_flow - full_cycle_duration / 2;</div>
<div class="line"><span class="lineno">  127</span>  <span class="keywordtype">double</span> inflection_speed = (max_accel * remaining_time - accel_ratio * departure_speed + current_speed)/ (1 - accel_ratio);</div>
<div class="line"><span class="lineno">  128</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;ENTER TRAJ CALC: time_remaining_at_free_flow: &quot;</span> &lt;&lt; time_remaining_at_free_flow &lt;&lt; <span class="stringliteral">&quot;, full_cycle_duration: &quot;</span> &lt;&lt; full_cycle_duration &lt;&lt; <span class="stringliteral">&quot;, inflection_speed: &quot;</span> &lt;&lt; inflection_speed);</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>  <span class="keywordflow">if</span> (remaining_time &lt; 0)</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>  <span class="keywordflow">if</span> (inflection_speed &gt; 0 &amp;&amp; inflection_speed &lt;= speed_limit + epsilon_ &amp;&amp; inflection_speed &gt;= departure_speed - <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  134</span>  {</div>
<div class="line"><span class="lineno">  135</span>    <span class="comment">// kinematic equation to find distance of acceleration + deceleration</span></div>
<div class="line"><span class="lineno">  136</span>    <span class="comment">// (vf^2 - vi^2)/2a = d</span></div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordtype">double</span> d = (std::pow(inflection_speed, 2) - std::pow (current_speed, 2)) / (2 * max_accel) +  (std::pow(departure_speed, 2) - std::pow(inflection_speed, 2)) / (2 * max_decel);</div>
<div class="line"><span class="lineno">  138</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;calculated distance WITHOUT cruising: &quot;</span> &lt;&lt; d);</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">return</span> d;</div>
<div class="line"><span class="lineno">  140</span>  }</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">else</span> <span class="comment">//there must be cruising</span></div>
<div class="line"><span class="lineno">  142</span>  {</div>
<div class="line"><span class="lineno">  143</span>    <span class="comment">// acceleration and deceleration parts must reach maximum speed</span></div>
<div class="line"><span class="lineno">  144</span>    <span class="comment">// kinematic equation: t = (vf - vi)/ a where vf = 0</span></div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordtype">double</span> decel_time = (current_speed - speed_limit) / max_decel;</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordtype">double</span> accel_time = (speed_limit - current_speed) / max_accel;</div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordtype">double</span> cruising_time = remaining_time - decel_time - accel_time;</div>
<div class="line"><span class="lineno">  148</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;decel_time: &quot;</span> &lt;&lt; decel_time &lt;&lt; <span class="stringliteral">&quot;, accel_time: &quot;</span> &lt;&lt; accel_time &lt;&lt; <span class="stringliteral">&quot;, cruising_time: &quot;</span> &lt;&lt; cruising_time);</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordtype">double</span> d = (std::pow(speed_limit, 2) - std::pow (current_speed, 2)) / (2 * max_accel) +  (std::pow(departure_speed, 2) - std::pow(speed_limit, 2)) / (2 * max_decel) + cruising_time * speed_limit;</div>
<div class="line"><span class="lineno">  150</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;calculated distance with cruising: &quot;</span> &lt;&lt;  d &lt;&lt; <span class="stringliteral">&quot;, accel_seg: &quot;</span> &lt;&lt; (std::pow(speed_limit, 2) - std::pow (current_speed, 2)) / (2 * max_accel) &lt;&lt; </div>
<div class="line"><span class="lineno">  151</span>                      <span class="stringliteral">&quot;, cruising: &quot;</span> &lt;&lt; + cruising_time * speed_limit &lt;&lt; <span class="stringliteral">&quot;, decel_seg:&quot;</span> &lt;&lt; (std::pow(departure_speed, 2) - std::pow(speed_limit, 2)) / (2 * max_decel));</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">return</span> d;</div>
<div class="line"><span class="lineno">  153</span>  }</div>
<div class="line"><span class="lineno">  154</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>.</p>

</div>
</div>
<a id="a9f6b11b8d6c543e15eb501c90bb1d3c3" name="a9f6b11b8d6c543e15eb501c90bb1d3c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6b11b8d6c543e15eb501c90bb1d3c3">&#9670;&nbsp;</a></span>get_ts_case()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::get_ts_case </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a>&#160;</td>
          <td class="paramname"><em>boundary_distances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &gt;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">534</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  535</span>{</div>
<div class="line"><span class="lineno">  536</span>  <span class="keywordtype">double</span> dx1 = boundary_distances.dx1;</div>
<div class="line"><span class="lineno">  537</span>  <span class="keywordtype">double</span> dx2 = boundary_distances.dx2;</div>
<div class="line"><span class="lineno">  538</span>  <span class="keywordtype">double</span> dx3 = boundary_distances.dx3;</div>
<div class="line"><span class="lineno">  539</span>  <span class="keywordtype">double</span> dx4 = boundary_distances.dx4;</div>
<div class="line"><span class="lineno">  540</span>  <span class="keywordtype">double</span> dx5 = boundary_distances.dx5;</div>
<div class="line"><span class="lineno">  541</span>  </div>
<div class="line"><span class="lineno">  542</span>  <span class="keywordflow">if</span> (params.size() != 8)</div>
<div class="line"><span class="lineno">  543</span>  {</div>
<div class="line"><span class="lineno">  544</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Not enough trajectory paras given! Given size: &quot;</span> + std::to_string(params.size()));</div>
<div class="line"><span class="lineno">  545</span>  }</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>  TrajectoryParams traj1 = params[0];</div>
<div class="line"><span class="lineno">  548</span>  TrajectoryParams traj2 = params[1];</div>
<div class="line"><span class="lineno">  549</span>  TrajectoryParams traj3 = params[2];</div>
<div class="line"><span class="lineno">  550</span>  TrajectoryParams traj4 = params[3];</div>
<div class="line"><span class="lineno">  551</span>  TrajectoryParams traj5 = params[4];</div>
<div class="line"><span class="lineno">  552</span>  TrajectoryParams traj6 = params[5];</div>
<div class="line"><span class="lineno">  553</span>  TrajectoryParams traj7 = params[6];</div>
<div class="line"><span class="lineno">  554</span>  TrajectoryParams traj8 = params[7];</div>
<div class="line"><span class="lineno">  555</span>  TrajectoryParams veh_traj;</div>
<div class="line"><span class="lineno">  556</span>  veh_traj.is_algorithm_successful = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>  <span class="keywordflow">if</span> (traj1.t3_ &lt;= et &amp;&amp; et &lt; traj2.t3_)</div>
<div class="line"><span class="lineno">  559</span>  {</div>
<div class="line"><span class="lineno">  560</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CALCULATED: case 1&quot;</span>);</div>
<div class="line"><span class="lineno">  561</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a">ts_case1</a>(t, et, v0, v1, v_max, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  562</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5">CASE_1</a>;</div>
<div class="line"><span class="lineno">  563</span>  }</div>
<div class="line"><span class="lineno">  564</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj2.t3_ &lt;= et &amp;&amp; et &lt; traj3.t3_)</div>
<div class="line"><span class="lineno">  565</span>  {</div>
<div class="line"><span class="lineno">  566</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CALCULATED: case 2&quot;</span>);</div>
<div class="line"><span class="lineno">  567</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0">ts_case2</a>(t, et, v0, v1, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  568</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba4fd308faeca0a68a10f65685126fb7d7">CASE_2</a>;</div>
<div class="line"><span class="lineno">  569</span>  }</div>
<div class="line"><span class="lineno">  570</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj3.t3_ &lt;= et &amp;&amp; et &lt; traj4.t3_)</div>
<div class="line"><span class="lineno">  571</span>  {</div>
<div class="line"><span class="lineno">  572</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CALCULATED: case 3&quot;</span>);</div>
<div class="line"><span class="lineno">  573</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d">ts_case3</a>(t, et, v0, v1, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  574</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bad59e0be375c22f4c11ffc34adf7a2df6">CASE_3</a>;</div>
<div class="line"><span class="lineno">  575</span>  }</div>
<div class="line"><span class="lineno">  576</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj4.t3_ &lt;= et &amp;&amp; et &lt; traj5.t3_)</div>
<div class="line"><span class="lineno">  577</span>  {</div>
<div class="line"><span class="lineno">  578</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CALCULATED: case 4&quot;</span>);</div>
<div class="line"><span class="lineno">  579</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a">ts_case4</a>(t, et, v0, v1, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  580</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273baa8604bf7512e9d512e65ffab0b7f4b8f">CASE_4</a>;</div>
<div class="line"><span class="lineno">  581</span>  }</div>
<div class="line"><span class="lineno">  582</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj5.t3_ &lt;= et &amp;&amp; et &lt; traj6.t3_)</div>
<div class="line"><span class="lineno">  583</span>  {</div>
<div class="line"><span class="lineno">  584</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CALCULATED: case 5&quot;</span>);</div>
<div class="line"><span class="lineno">  585</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e">ts_case5</a>(t, et, v0, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  586</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273baa710074ef98a151c530aad972bd47779">CASE_5</a>;</div>
<div class="line"><span class="lineno">  587</span>  }</div>
<div class="line"><span class="lineno">  588</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj6.t3_ &lt;= et &amp;&amp; et &lt; traj7.t3_)</div>
<div class="line"><span class="lineno">  589</span>  {</div>
<div class="line"><span class="lineno">  590</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CALCULATED: case 6&quot;</span>);</div>
<div class="line"><span class="lineno">  591</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f">ts_case6</a>(t, et, v0, v_min, a_min, x0, x_end, dx, dx3, traj6);</div>
<div class="line"><span class="lineno">  592</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba661114f6c92a700e6573ec5fc67e60d6">CASE_6</a>;</div>
<div class="line"><span class="lineno">  593</span>  }</div>
<div class="line"><span class="lineno">  594</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj7.t3_ &lt;= et &amp;&amp; et &lt;= traj8.t3_)</div>
<div class="line"><span class="lineno">  595</span>  {</div>
<div class="line"><span class="lineno">  596</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CALCULATED: case 7&quot;</span>);</div>
<div class="line"><span class="lineno">  597</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2">ts_case7</a>(t, et, v0, v_min, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  598</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba19ec3ba898d093501c77fa4ee0e410c4">CASE_7</a>;</div>
<div class="line"><span class="lineno">  599</span>  }</div>
<div class="line"><span class="lineno">  600</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  601</span>  {</div>
<div class="line"><span class="lineno">  602</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CALCULATED: case 8&quot;</span>);</div>
<div class="line"><span class="lineno">  603</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c">ts_case8</a>(dx, dx5, traj8);</div>
<div class="line"><span class="lineno">  604</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">CASE_8</a>;</div>
<div class="line"><span class="lineno">  605</span>  }</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>  <span class="keywordflow">return</span> veh_traj;</div>
<div class="line"><span class="lineno">  608</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a2382d4f0feb6c0ae9db91695f2b552d2"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2">lci_strategic_plugin::LCIStrategicPlugin::ts_case7</a></div><div class="ttdeci">TrajectoryParams ts_case7(double t, double et, double v0, double v_min, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00882">lci_strategic_plugin_algo.cpp:882</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a29c754a4e2f40fdd9170589087d3097a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a">lci_strategic_plugin::LCIStrategicPlugin::ts_case1</a></div><div class="ttdeci">TrajectoryParams ts_case1(double t, double et, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdoc">Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00611">lci_strategic_plugin_algo.cpp:611</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a7d9d856f7fa523b5b4266601f6c6154f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f">lci_strategic_plugin::LCIStrategicPlugin::ts_case6</a></div><div class="ttdeci">TrajectoryParams ts_case6(double t, double et, double v0, double v_min, double a_min, double x0, double x_end, double dx, double dx3, TrajectoryParams traj6)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00840">lci_strategic_plugin_algo.cpp:840</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a820d938d83b16c8fc7cc3930a062212a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a">lci_strategic_plugin::LCIStrategicPlugin::ts_case4</a></div><div class="ttdeci">TrajectoryParams ts_case4(double t, double et, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00758">lci_strategic_plugin_algo.cpp:758</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a9af907160a273b7f0dbca36dd5b332a0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0">lci_strategic_plugin::LCIStrategicPlugin::ts_case2</a></div><div class="ttdeci">TrajectoryParams ts_case2(double t, double et, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00660">lci_strategic_plugin_algo.cpp:660</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_abba844206be4f074096240f5d506aa8c"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c">lci_strategic_plugin::LCIStrategicPlugin::ts_case8</a></div><div class="ttdeci">TrajectoryParams ts_case8(double dx, double dx5, TrajectoryParams traj8)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00917">lci_strategic_plugin_algo.cpp:917</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ace4317f84b933acb423175e215de351d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d">lci_strategic_plugin::LCIStrategicPlugin::ts_case3</a></div><div class="ttdeci">TrajectoryParams ts_case3(double t, double et, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00714">lci_strategic_plugin_algo.cpp:714</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ada2f61d939ab8184e3eca056b46a8b2e"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e">lci_strategic_plugin::LCIStrategicPlugin::ts_case5</a></div><div class="ttdeci">TrajectoryParams ts_case5(double t, double et, double v0, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00808">lci_strategic_plugin_algo.cpp:808</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba19ec3ba898d093501c77fa4ee0e410c4"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba19ec3ba898d093501c77fa4ee0e410c4">lci_strategic_plugin::CASE_7</a></div><div class="ttdeci">@ CASE_7</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00068">lci_strategic_plugin.hpp:68</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba4fd308faeca0a68a10f65685126fb7d7"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba4fd308faeca0a68a10f65685126fb7d7">lci_strategic_plugin::CASE_2</a></div><div class="ttdeci">@ CASE_2</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00063">lci_strategic_plugin.hpp:63</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba661114f6c92a700e6573ec5fc67e60d6"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba661114f6c92a700e6573ec5fc67e60d6">lci_strategic_plugin::CASE_6</a></div><div class="ttdeci">@ CASE_6</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00067">lci_strategic_plugin.hpp:67</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5">lci_strategic_plugin::CASE_1</a></div><div class="ttdeci">@ CASE_1</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00062">lci_strategic_plugin.hpp:62</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273baa710074ef98a151c530aad972bd47779"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273baa710074ef98a151c530aad972bd47779">lci_strategic_plugin::CASE_5</a></div><div class="ttdeci">@ CASE_5</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00066">lci_strategic_plugin.hpp:66</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273baa8604bf7512e9d512e65ffab0b7f4b8f"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273baa8604bf7512e9d512e65ffab0b7f4b8f">lci_strategic_plugin::CASE_4</a></div><div class="ttdeci">@ CASE_4</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00065">lci_strategic_plugin.hpp:65</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">lci_strategic_plugin::CASE_8</a></div><div class="ttdeci">@ CASE_8</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00069">lci_strategic_plugin.hpp:69</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273bad59e0be375c22f4c11ffc34adf7a2df6"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bad59e0be375c22f4c11ffc34adf7a2df6">lci_strategic_plugin::CASE_3</a></div><div class="ttdeci">@ CASE_3</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00064">lci_strategic_plugin.hpp:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00062">lci_strategic_plugin::CASE_1</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00063">lci_strategic_plugin::CASE_2</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00064">lci_strategic_plugin::CASE_3</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00065">lci_strategic_plugin::CASE_4</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00066">lci_strategic_plugin::CASE_5</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00067">lci_strategic_plugin::CASE_6</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00068">lci_strategic_plugin::CASE_7</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00069">lci_strategic_plugin::CASE_8</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00098">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00105">lci_strategic_plugin::BoundaryDistances::dx1</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00106">lci_strategic_plugin::BoundaryDistances::dx2</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00107">lci_strategic_plugin::BoundaryDistances::dx3</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00108">lci_strategic_plugin::BoundaryDistances::dx4</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00109">lci_strategic_plugin::BoundaryDistances::dx5</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00097">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00611">ts_case1()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00660">ts_case2()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00714">ts_case3()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00758">ts_case4()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00808">ts_case5()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00840">ts_case6()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00882">ts_case7()</a>, and <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00917">ts_case8()</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_cgraph">
<area shape="rect" title=" " alt="" coords="5,285,143,341"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a" title="Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations." alt="" coords="191,5,328,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0" title=" " alt="" coords="191,85,328,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d" title=" " alt="" coords="191,165,328,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a" title=" " alt="" coords="191,245,328,301"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e" title=" " alt="" coords="191,325,328,381"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f" title=" " alt="" coords="191,405,328,461"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2" title=" " alt="" coords="191,485,328,541"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c" title=" " alt="" coords="191,565,328,621"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_icgraph">
<area shape="rect" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="abf553e2c17bb9be7395fad60c5d709f4" name="abf553e2c17bb9be7395fad60c5d709f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf553e2c17bb9be7395fad60c5d709f4">&#9670;&nbsp;</a></span>get_version_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::get_version_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the version id of this plugin. </p>
<dl class="section return"><dt>Returns</dt><dd>The version id represented as a string </dd></dl>

<p>Implements <a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#ac318c8732500fa793149ec4d2f442cf6">carma_guidance_plugins::PluginBaseNode</a>.</p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01539">1539</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1540</span>{</div>
<div class="line"><span class="lineno"> 1541</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;v1.0&quot;</span>;</div>
<div class="line"><span class="lineno"> 1542</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7dd0000bcaf1d2028aeef57416f7c429" name="a7dd0000bcaf1d2028aeef57416f7c429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd0000bcaf1d2028aeef57416f7c429">&#9670;&nbsp;</a></span>getLaneletsBetweenWithException()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; lanelet::ConstLanelet &gt; lci_strategic_plugin::LCIStrategicPlugin::getLaneletsBetweenWithException </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>shortest_path_only</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>bounds_inclusive</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack, end_downtrack, shortest_path_only,
bounds_inclusive) and throws and exception if the returned list of lanelets is empty. See the referenced method for additional details on parameters. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00341">341</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  345</span>{</div>
<div class="line"><span class="lineno">  346</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  347</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getLaneletsBetween(start_downtrack, end_downtrack, shortest_path_only, bounds_inclusive);</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>  <span class="keywordflow">if</span> (crossed_lanelets.size() == 0)</div>
<div class="line"><span class="lineno">  350</span>  {</div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;getLaneletsBetweenWithException called but inputs do not cross any lanelets going &quot;</span></div>
<div class="line"><span class="lineno">  352</span>                                <span class="stringliteral">&quot;from: &quot;</span> +</div>
<div class="line"><span class="lineno">  353</span>                                std::to_string(start_downtrack) + <span class="stringliteral">&quot; to: &quot;</span> + std::to_string(end_downtrack));</div>
<div class="line"><span class="lineno">  354</span>  }</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>  <span class="keywordflow">return</span> crossed_lanelets;</div>
<div class="line"><span class="lineno">  357</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00256">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00236">extractInitialState()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00433">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00476">handleGreenSignalScenario()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00359">handleStopping()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01122">planWhenDEPARTING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a7dd0000bcaf1d2028aeef57416f7c429_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7dd0000bcaf1d2028aeef57416f7c429_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7dd0000bcaf1d2028aeef57416f7c429_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7dd0000bcaf1d2028aeef57416f7c429_icgraph">
<area shape="rect" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="699,159,928,215"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27d7979b9644a3747468ecf68212c3de" title="Helper method to extract the initial vehicle state from the planning request method based on if the p..." alt="" coords="255,11,392,67"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="473,39,640,95"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="488,119,625,175"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,199,651,255"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="488,279,625,335"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4778775fa282372e99b562a78d1c505e" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="243,275,404,331"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,163,184,219"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,163,415,219"/>
</map>
</div>

</div>
</div>
<a id="ad63f61dae16c63a661de5cff883b6ee2" name="ad63f61dae16c63a661de5cff883b6ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad63f61dae16c63a661de5cff883b6ee2">&#9670;&nbsp;</a></span>getTurnDirectionAtIntersection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a> lci_strategic_plugin::LCIStrategicPlugin::getTurnDirectionAtIntersection </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; lanelet::ConstLanelet &gt;&#160;</td>
          <td class="paramname"><em>lanelets_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the turn direction at intersection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lanelets_list</td><td>List of lanelets crossed around the intersection area</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>turn direction in format of straight, left, right </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01222">1222</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1223</span>{</div>
<div class="line"><span class="lineno"> 1224</span>  <a class="code hl_enumeration" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a> turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a>;</div>
<div class="line"><span class="lineno"> 1225</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> l:lanelets_list)</div>
<div class="line"><span class="lineno"> 1226</span>  {</div>
<div class="line"><span class="lineno"> 1227</span>    <span class="keywordflow">if</span>(l.hasAttribute(<span class="stringliteral">&quot;turn_direction&quot;</span>)) {</div>
<div class="line"><span class="lineno"> 1228</span>      std::string direction_attribute = l.attribute(<span class="stringliteral">&quot;turn_direction&quot;</span>).value();</div>
<div class="line"><span class="lineno"> 1229</span>      <span class="keywordflow">if</span> (direction_attribute == <span class="stringliteral">&quot;right&quot;</span>)</div>
<div class="line"><span class="lineno"> 1230</span>      {</div>
<div class="line"><span class="lineno"> 1231</span>        turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">TurnDirection::Right</a>;</div>
<div class="line"><span class="lineno"> 1232</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1233</span>      }</div>
<div class="line"><span class="lineno"> 1234</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction_attribute == <span class="stringliteral">&quot;left&quot;</span>)</div>
<div class="line"><span class="lineno"> 1235</span>      {</div>
<div class="line"><span class="lineno"> 1236</span>        turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">TurnDirection::Left</a>;</div>
<div class="line"><span class="lineno"> 1237</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1238</span>      }</div>
<div class="line"><span class="lineno"> 1239</span>      <span class="keywordflow">else</span> turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a>;</div>
<div class="line"><span class="lineno"> 1240</span>    }</div>
<div class="line"><span class="lineno"> 1241</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1242</span>    {</div>
<div class="line"><span class="lineno"> 1243</span>      <span class="comment">// if there is no attribute, assumption is straight</span></div>
<div class="line"><span class="lineno"> 1244</span>      turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a>;</div>
<div class="line"><span class="lineno"> 1245</span>    }</div>
<div class="line"><span class="lineno"> 1246</span> </div>
<div class="line"><span class="lineno"> 1247</span>  }</div>
<div class="line"><span class="lineno"> 1248</span>  <span class="keywordflow">return</span> turn_direction;</div>
<div class="line"><span class="lineno"> 1249</span>}</div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a1e0201b2cf65a27f7075fd60ce35e2e9"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">lci_strategic_plugin::TurnDirection</a></div><div class="ttdeci">TurnDirection</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00051">lci_strategic_plugin.hpp:51</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">lci_strategic_plugin::TurnDirection::Straight</a></div><div class="ttdeci">@ Straight</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">lci_strategic_plugin::Left</a>, <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">lci_strategic_plugin::Right</a>, and <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">lci_strategic_plugin::Straight</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad63f61dae16c63a661de5cff883b6ee2_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad63f61dae16c63a661de5cff883b6ee2_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad63f61dae16c63a661de5cff883b6ee2_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad63f61dae16c63a661de5cff883b6ee2_icgraph">
<area shape="rect" title="Determine the turn direction at intersection." alt="" coords="463,5,667,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="ac50d167a1d4974b30d836689d99a0970" name="ac50d167a1d4974b30d836689d99a0970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac50d167a1d4974b30d836689d99a0970">&#9670;&nbsp;</a></span>handleCruisingUntilStop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::handleCruisingUntilStop </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_state_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_down_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;&#160;</td>
          <td class="paramname"><em>ts_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing parameters to go through the intersection with certainty It utilizes canMakeWithCertainty function to determine if it is able to make it. Corresponds to TSCase 1-7. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state_speed</td><td>The current speed to use when planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>CarmaTrafficSignalPtr of the relevant signal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light_down_track</td><td>Downtrack to the given traffic_light </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ts_params</td><td>trajectory smoothing params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. if successful, resp is non-empty. Resp is empty if not able to make it with certainty or ts_params.is_successful is false </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00433">433</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  439</span>{</div>
<div class="line"><span class="lineno">  440</span>  <span class="keywordflow">if</span> (!ts_params.is_algorithm_successful || ts_params.case_num != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>)</div>
<div class="line"><span class="lineno">  441</span>  {</div>
<div class="line"><span class="lineno">  442</span>    RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>),<span class="stringliteral">&quot;handleCruisingUntilStop is called but it is not case_8&quot;</span>);</div>
<div class="line"><span class="lineno">  443</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  444</span>  }</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>  <span class="keyword">auto</span> new_ts_params = ts_params; </div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>  <span class="keywordtype">double</span> decel_rate = std::fabs(ts_params.a3_);</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CASE_8: Planning cruise and stop with decel_rate: &quot;</span> &lt;&lt; decel_rate);</div>
<div class="line"><span class="lineno">  451</span>  </div>
<div class="line"><span class="lineno">  452</span>  new_ts_params.t3_ = new_ts_params.t2_;</div>
<div class="line"><span class="lineno">  453</span>  new_ts_params.x3_ = new_ts_params.x2_;</div>
<div class="line"><span class="lineno">  454</span>  new_ts_params.v3_ = new_ts_params.v2_;</div>
<div class="line"><span class="lineno">  455</span>  new_ts_params.a3_ = new_ts_params.a2_;</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers stopping part</span></div>
<div class="line"><span class="lineno">  458</span>  std::vector&lt;lanelet::ConstLanelet&gt; lane_follow_crossed_lanelets =</div>
<div class="line"><span class="lineno">  459</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(new_ts_params.x1_, new_ts_params.x2_, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>  resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85">composeTrajectorySmoothingManeuverMessage</a>(current_state.downtrack, new_ts_params.x2_, lane_follow_crossed_lanelets, </div>
<div class="line"><span class="lineno">  462</span>                                          current_state_speed, new_ts_params.v2_, current_state.stamp, rclcpp::Time(new_ts_params.t2_ * 1e9), new_ts_params));</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers stopping part</span></div>
<div class="line"><span class="lineno">  465</span>  std::vector&lt;lanelet::ConstLanelet&gt; case_8_crossed_lanelets =</div>
<div class="line"><span class="lineno">  466</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(new_ts_params.x2_, traffic_light_down_track, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>  resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f">composeStopAndWaitManeuverMessage</a>(</div>
<div class="line"><span class="lineno">  469</span>    new_ts_params.x2_, traffic_light_down_track, new_ts_params.v2_, case_8_crossed_lanelets.front().id(),</div>
<div class="line"><span class="lineno">  470</span>    case_8_crossed_lanelets.back().id(), rclcpp::Time(new_ts_params.t2_ * 1e9),</div>
<div class="line"><span class="lineno">  471</span>    rclcpp::Time(new_ts_params.t2_ * 1e9) + rclcpp::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a> * 1e9), decel_rate));</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  474</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a3b06a05a52140213d302eee42e11fe85"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85">lci_strategic_plugin::LCIStrategicPlugin::composeTrajectorySmoothingManeuverMessage</a></div><div class="ttdeci">carma_planning_msgs::msg::Maneuver composeTrajectorySmoothingManeuverMessage(double start_dist, double end_dist, const std::vector&lt; lanelet::ConstLanelet &gt; &amp;crossed_lanelets, double start_speed, double target_speed, rclcpp::Time start_time, rclcpp::Time end_time, const TrajectoryParams &amp;tsp) const</div><div class="ttdoc">Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01414">lci_strategic_plugin.cpp:1414</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab88c4508c987570d86191fdcc1128d1f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f">lci_strategic_plugin::LCIStrategicPlugin::composeStopAndWaitManeuverMessage</a></div><div class="ttdeci">carma_planning_msgs::msg::Maneuver composeStopAndWaitManeuverMessage(double current_dist, double end_dist, double start_speed, const lanelet::Id &amp;starting_lane_id, const lanelet::Id &amp;ending_lane_id, rclcpp::Time start_time, rclcpp::Time end_time, double stopping_accel) const</div><div class="ttdoc">Compose a stop and wait maneuver message based on input params.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01465">lci_strategic_plugin.cpp:1465</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00069">lci_strategic_plugin::CASE_8</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00098">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01465">composeStopAndWaitManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01414">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00341">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00097">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00060">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ac50d167a1d4974b30d836689d99a0970_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ac50d167a1d4974b30d836689d99a0970_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ac50d167a1d4974b30d836689d99a0970_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ac50d167a1d4974b30d836689d99a0970_cgraph">
<area shape="rect" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="5,107,172,163"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f" title="Compose a stop and wait maneuver message based on input params." alt="" coords="227,5,442,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="235,100,435,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="220,195,449,251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ac50d167a1d4974b30d836689d99a0970_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ac50d167a1d4974b30d836689d99a0970_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ac50d167a1d4974b30d836689d99a0970_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ac50d167a1d4974b30d836689d99a0970_icgraph">
<area shape="rect" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,5,629,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a5b8c6ae95fa1264144bd62c5da27cc89" name="a5b8c6ae95fa1264144bd62c5da27cc89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b8c6ae95fa1264144bd62c5da27cc89">&#9670;&nbsp;</a></span>handleFailureCase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::handleFailureCase </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_state_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>remaining_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::Id&#160;</td>
          <td class="paramname"><em>exit_lanelet_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_down_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;&#160;</td>
          <td class="paramname"><em>ts_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When the vehicle is not able to successfully run the algorithm or not able to stop, this function modifies departure speed as close as possible to the original using max comfortable accelerations with given distance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state_speed</td><td>The current speed to use when planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">speed_limit</td><td>Speed limit to cap the speed </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">remaining_time</td><td>Remaining time until scheduled entry </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet_id</td><td>Id of the exit lanelet </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>CarmaTrafficSignalPtr of the relevant signal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light_down_track</td><td>Downtrack to the given traffic_light </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ts_params</td><td>trajectory smoothing params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. if successful, resp is non-empty. Resp is empty if not able to make it with certainty or ts_params.is_successful is false </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">394</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  403</span>{</div>
<div class="line"><span class="lineno">  404</span>  <span class="keywordtype">double</span> distance_remaining_to_traffic_light = traffic_light_down_track - current_state.downtrack;</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers lane follow maneuver</span></div>
<div class="line"><span class="lineno">  407</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  408</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(current_state.downtrack, traffic_light_down_track, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>  <span class="keyword">auto</span> incomplete_traj_params = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc">handleFailureCaseHelper</a>(traffic_light, current_state.stamp.seconds(), current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), speed_limit, distance_remaining_to_traffic_light, traffic_light_down_track);</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>  <span class="keywordflow">if</span> (incomplete_traj_params.is_algorithm_successful == <span class="keyword">false</span>)</div>
<div class="line"><span class="lineno">  413</span>  {</div>
<div class="line"><span class="lineno">  414</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Failed to generate maneuver for edge cases...&quot;</span>);</div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  416</span>  } </div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>  resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85">composeTrajectorySmoothingManeuverMessage</a>(current_state.downtrack, traffic_light_down_track, crossed_lanelets,</div>
<div class="line"><span class="lineno">  419</span>                                          current_state_speed, incomplete_traj_params.modified_departure_speed, current_state.stamp, current_state.stamp + rclcpp::Duration(incomplete_traj_params.modified_remaining_time * 1e9), incomplete_traj_params));</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>  <span class="keywordtype">double</span> intersection_length = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get() - traffic_light_down_track;</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>  rclcpp::Time intersection_exit_time =</div>
<div class="line"><span class="lineno">  424</span>      current_state.stamp + rclcpp::Duration(incomplete_traj_params.modified_remaining_time * 1e9) + rclcpp::Duration(intersection_length / incomplete_traj_params.modified_departure_speed * 1e9);</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>  resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063">composeIntersectionTransitMessage</a>(</div>
<div class="line"><span class="lineno">  427</span>      traffic_light_down_track, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(),</div>
<div class="line"><span class="lineno">  428</span>      incomplete_traj_params.modified_departure_speed, current_state.stamp + rclcpp::Duration(incomplete_traj_params.modified_remaining_time * 1e9), intersection_exit_time, crossed_lanelets.back().id(), crossed_lanelets.back().id()));</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba2e962f86afb4c45a2b1939726a663a65">TSCase::DEGRADED_TSCASE</a>;</div>
<div class="line"><span class="lineno">  431</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a23802c57f18da49875aaaebbca6adfdc"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc">lci_strategic_plugin::LCIStrategicPlugin::handleFailureCaseHelper</a></div><div class="ttdeci">TrajectoryParams handleFailureCaseHelper(const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double current_time, double starting_speed, double departure_speed, double speed_limit, double remaining_downtrack, double traffic_light_downtrack)</div><div class="ttdoc">Helper function to handleFailureCase that modifies ts_params to desired new parameters....</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00521">lci_strategic_plugin.cpp:521</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_acd45a0e25b428eaed59668141c1a367a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">lci_strategic_plugin::LCIStrategicPlugin::intersection_end_downtrack_</a></div><div class="ttdeci">boost::optional&lt; double &gt; intersection_end_downtrack_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00243">lci_strategic_plugin.hpp:243</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_adf73e3ba365c4fa683912f0bf17143bc"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">lci_strategic_plugin::LCIStrategicPlugin::last_case_num_</a></div><div class="ttdeci">TSCase last_case_num_</div><div class="ttdoc">Useful metrics for LCI Plugin.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00227">lci_strategic_plugin.hpp:227</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ae9380f01ef61988443a1229797af0bb6"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">lci_strategic_plugin::LCIStrategicPlugin::intersection_speed_</a></div><div class="ttdeci">boost::optional&lt; double &gt; intersection_speed_</div><div class="ttdoc">Cache variables for storing the current intersection state between state machine transitions.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00242">lci_strategic_plugin.hpp:242</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_afcdbaaaee6c9dff394d77acc09715063"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063">lci_strategic_plugin::LCIStrategicPlugin::composeIntersectionTransitMessage</a></div><div class="ttdeci">carma_planning_msgs::msg::Maneuver composeIntersectionTransitMessage(double start_dist, double end_dist, double start_speed, double target_speed, rclcpp::Time start_time, rclcpp::Time end_time, const lanelet::Id &amp;starting_lane_id, const lanelet::Id &amp;ending_lane_id) const</div><div class="ttdoc">Compose a intersection transit maneuver message based on input params.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01498">lci_strategic_plugin.cpp:1498</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba2e962f86afb4c45a2b1939726a663a65"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba2e962f86afb4c45a2b1939726a663a65">lci_strategic_plugin::DEGRADED_TSCASE</a></div><div class="ttdeci">@ DEGRADED_TSCASE</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00074">lci_strategic_plugin.hpp:73</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01498">composeIntersectionTransitMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01414">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00073">lci_strategic_plugin::DEGRADED_TSCASE</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00341">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">handleFailureCaseHelper()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00243">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00242">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00227">last_case_num_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5b8c6ae95fa1264144bd62c5da27cc89_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5b8c6ae95fa1264144bd62c5da27cc89_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5b8c6ae95fa1264144bd62c5da27cc89_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5b8c6ae95fa1264144bd62c5da27cc89_cgraph">
<area shape="rect" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="5,151,143,207"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063" title="Compose a intersection transit maneuver message based on input params." alt="" coords="211,5,400,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="205,100,405,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="191,195,420,251"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="219,275,392,331"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1" title="Helper method to print TrajectoryParams." alt="" coords="468,235,605,291"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="468,315,605,371"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="653,315,799,371"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5b8c6ae95fa1264144bd62c5da27cc89_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5b8c6ae95fa1264144bd62c5da27cc89_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5b8c6ae95fa1264144bd62c5da27cc89_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5b8c6ae95fa1264144bd62c5da27cc89_icgraph">
<area shape="rect" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a23802c57f18da49875aaaebbca6adfdc" name="a23802c57f18da49875aaaebbca6adfdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23802c57f18da49875aaaebbca6adfdc">&#9670;&nbsp;</a></span>handleFailureCaseHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::handleFailureCaseHelper </td>
          <td>(</td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>starting_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>remaining_downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_downtrack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to handleFailureCase that modifies ts_params to desired new parameters. See handleFailureCase. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">starting_speed</td><td>starting speed </td></tr>
    <tr><td class="paramname">departure_speed</td><td>departure_speed originally planned </td></tr>
    <tr><td class="paramname">speed_limit</td><td>speed_limit </td></tr>
    <tr><td class="paramname">remaining_downtrack</td><td>remaining_downtrack until the intersection </td></tr>
    <tr><td class="paramname">traffic_light_downtrack</td><td>traffic_light_downtrack when vehicle is scheduled to enter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TSP with parameters that is best available to pass the intersection. Either cruising with starting_speed or sacrifice departure speed to meet time and distance </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">521</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  522</span>{</div>
<div class="line"><span class="lineno">  523</span>  <span class="comment">//Requested maneuver needs to be modified to meet remaining_dist req</span></div>
<div class="line"><span class="lineno">  524</span>  <span class="comment">//by trying to get close to the target_speed and remaining_time as much as possible</span></div>
<div class="line"><span class="lineno">  525</span>  TrajectoryParams return_params;</div>
<div class="line"><span class="lineno">  526</span>  TrajectoryParams traj_upper;</div>
<div class="line"><span class="lineno">  527</span>  TrajectoryParams traj_lower;</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HANDLE_LAST_RESORT_CASE: Starting...&quot;</span>);</div>
<div class="line"><span class="lineno">  530</span>  <span class="keywordtype">double</span> starting_downtrack = traffic_light_downtrack - remaining_downtrack;</div>
<div class="line"><span class="lineno">  531</span>  <span class="keywordtype">double</span> modified_remaining_time_upper; <span class="comment">// upper meaning downtrack vs time trajectory is curved upwards</span></div>
<div class="line"><span class="lineno">  532</span>  <span class="keywordtype">double</span> modified_remaining_time_lower; <span class="comment">// lower meaning downtrack vs time trajectory is curved lower</span></div>
<div class="line"><span class="lineno">  533</span>  <span class="keywordtype">double</span> modified_departure_speed_upper;</div>
<div class="line"><span class="lineno">  534</span>  <span class="keywordtype">double</span> modified_departure_speed_lower;</div>
<div class="line"><span class="lineno">  535</span>  <span class="keywordtype">bool</span> calculation_success_upper = <span class="keyword">true</span>; <span class="comment">// identifies places in codes where calculation can be invalid such as negative distance</span></div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>  <span class="comment">// the upper ET</span></div>
<div class="line"><span class="lineno">  538</span>  <span class="comment">// accel case</span></div>
<div class="line"><span class="lineno">  539</span>  traj_upper.t0_ = current_time;</div>
<div class="line"><span class="lineno">  540</span>  traj_upper.v0_ = starting_speed;</div>
<div class="line"><span class="lineno">  541</span>  traj_upper.x0_ = starting_downtrack;</div>
<div class="line"><span class="lineno">  542</span>  traj_upper.is_algorithm_successful = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  543</span>  traj_upper.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5">CASE_1</a>;</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>  <span class="keywordflow">if</span> (departure_speed &gt;= starting_speed)</div>
<div class="line"><span class="lineno">  546</span>  {</div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">if</span> ((pow(departure_speed,2) - pow(starting_speed,2))/(2*<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>) &gt;= remaining_downtrack)</div>
<div class="line"><span class="lineno">  548</span>    {</div>
<div class="line"><span class="lineno">  549</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HandleFailureCase -&gt; Upper Trajectory -&gt; Current Speed &lt;= Desired Departure Speed, Actual Departure Speed &lt; Desired Departure Speed&quot;</span>);</div>
<div class="line"><span class="lineno">  550</span>      </div>
<div class="line"><span class="lineno">  551</span>      modified_departure_speed_upper = sqrt(pow(starting_speed, 2) + (2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a> * remaining_downtrack));</div>
<div class="line"><span class="lineno">  552</span>      modified_remaining_time_upper = (modified_departure_speed_upper - starting_speed) / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>;</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>      traj_upper.t1_ = current_time + modified_remaining_time_upper;</div>
<div class="line"><span class="lineno">  555</span>      traj_upper.v1_ = modified_departure_speed_upper;</div>
<div class="line"><span class="lineno">  556</span>      traj_upper.a1_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>;</div>
<div class="line"><span class="lineno">  557</span>      traj_upper.x1_ = traffic_light_downtrack;</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>      traj_upper.t2_ = traj_upper.t1_;</div>
<div class="line"><span class="lineno">  560</span>      traj_upper.v2_ = traj_upper.v1_;</div>
<div class="line"><span class="lineno">  561</span>      traj_upper.a2_ = traj_upper.a1_;</div>
<div class="line"><span class="lineno">  562</span>      traj_upper.x2_ = traj_upper.x1_;</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>      traj_upper.modified_departure_speed = modified_departure_speed_upper;</div>
<div class="line"><span class="lineno">  565</span>      traj_upper.modified_remaining_time = modified_remaining_time_upper;</div>
<div class="line"><span class="lineno">  566</span>    }</div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">else</span> <span class="comment">// NOTE: most likely will not happen as it would have happened at trajectory smoothing part</span></div>
<div class="line"><span class="lineno">  568</span>    { </div>
<div class="line"><span class="lineno">  569</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HandleFailureCase -&gt; Upper Trajectory -&gt; Current Speed &lt; Desired Departure Speed, Actual Departure Speed = Desired Departure Speed&quot;</span>);</div>
<div class="line"><span class="lineno">  570</span>      </div>
<div class="line"><span class="lineno">  571</span>      <span class="keywordtype">double</span> cruising_distance = remaining_downtrack - (pow(departure_speed, 2) - pow(starting_speed, 2))/ ( 2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>);</div>
<div class="line"><span class="lineno">  572</span>      <span class="keywordflow">if</span> (cruising_distance &lt; -<a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>)</div>
<div class="line"><span class="lineno">  573</span>      {</div>
<div class="line"><span class="lineno">  574</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Detected calculation failure in upper case 2&quot;</span>);</div>
<div class="line"><span class="lineno">  575</span>        calculation_success_upper = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  576</span>      }</div>
<div class="line"><span class="lineno">  577</span>      modified_remaining_time_upper = ((departure_speed - starting_speed) / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>) + (cruising_distance / departure_speed);</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>      traj_upper.t1_ = current_time + ((departure_speed - starting_speed) / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>);</div>
<div class="line"><span class="lineno">  580</span>      traj_upper.v1_ = departure_speed;</div>
<div class="line"><span class="lineno">  581</span>      traj_upper.a1_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>;</div>
<div class="line"><span class="lineno">  582</span>      traj_upper.x1_ = starting_downtrack + (pow(departure_speed, 2) - pow(starting_speed, 2)) / (2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>);</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>      traj_upper.t2_ = current_time + modified_remaining_time_upper;</div>
<div class="line"><span class="lineno">  585</span>      traj_upper.v2_ = departure_speed;</div>
<div class="line"><span class="lineno">  586</span>      traj_upper.a2_ = 0;</div>
<div class="line"><span class="lineno">  587</span>      traj_upper.x2_ = traffic_light_downtrack;</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>      traj_upper.modified_departure_speed = departure_speed;</div>
<div class="line"><span class="lineno">  590</span>      traj_upper.modified_remaining_time = modified_remaining_time_upper;</div>
<div class="line"><span class="lineno">  591</span>    }</div>
<div class="line"><span class="lineno">  592</span>  }</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>  <span class="keywordflow">if</span> (departure_speed &lt; starting_speed) <span class="comment">// NOTE: most cases will not run due to departure speed being equal to speed limit</span></div>
<div class="line"><span class="lineno">  595</span>  {</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">if</span> ((pow(departure_speed,2) - pow(starting_speed,2))/(2*<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>) &gt;= remaining_downtrack)</div>
<div class="line"><span class="lineno">  597</span>    {</div>
<div class="line"><span class="lineno">  598</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HandleFailureCase -&gt; Upper Trajectory -&gt; Current Speed &gt; Desired Departure Speed, Actual Departure Speed &gt; Desired Departure Speed&quot;</span>);</div>
<div class="line"><span class="lineno">  599</span>      </div>
<div class="line"><span class="lineno">  600</span>      modified_departure_speed_upper = sqrt(pow(starting_speed, 2) + (2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> * remaining_downtrack));</div>
<div class="line"><span class="lineno">  601</span>      modified_remaining_time_upper = (modified_departure_speed_upper - starting_speed) / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>;</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>      traj_upper.t1_ = current_time + modified_remaining_time_upper; </div>
<div class="line"><span class="lineno">  604</span>      traj_upper.v1_ = modified_departure_speed_upper;</div>
<div class="line"><span class="lineno">  605</span>      traj_upper.a1_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>;</div>
<div class="line"><span class="lineno">  606</span>      traj_upper.x1_ = traffic_light_downtrack;</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span>      traj_upper.t2_ = traj_upper.t1_;</div>
<div class="line"><span class="lineno">  609</span>      traj_upper.v2_ = traj_upper.v1_;</div>
<div class="line"><span class="lineno">  610</span>      traj_upper.a2_ = traj_upper.a1_;</div>
<div class="line"><span class="lineno">  611</span>      traj_upper.x2_ = traj_upper.x1_;</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>      traj_upper.modified_departure_speed = modified_departure_speed_upper;</div>
<div class="line"><span class="lineno">  614</span>      traj_upper.modified_remaining_time = modified_remaining_time_upper;</div>
<div class="line"><span class="lineno">  615</span>    }</div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordflow">else</span>  <span class="comment">// NOTE: most likely will not happen as it would have happened at trajectory smoothing part</span></div>
<div class="line"><span class="lineno">  617</span>    {</div>
<div class="line"><span class="lineno">  618</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HandleFailureCase -&gt; Upper Trajectory -&gt; Current Speed &gt; Desired Departure Speed, Actual Departure Speed = Desired Departure Speed&quot;</span>);</div>
<div class="line"><span class="lineno">  619</span>      </div>
<div class="line"><span class="lineno">  620</span>      <span class="keywordtype">double</span> cruising_distance = remaining_downtrack - (pow(departure_speed, 2) - pow(starting_speed, 2))/ ( 2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>);</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>      <span class="keywordflow">if</span> (cruising_distance &lt; -<a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>)</div>
<div class="line"><span class="lineno">  623</span>      {</div>
<div class="line"><span class="lineno">  624</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Detected calculation failure in upper case 4&quot;</span>);</div>
<div class="line"><span class="lineno">  625</span>        calculation_success_upper = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  626</span>      }</div>
<div class="line"><span class="lineno">  627</span>      </div>
<div class="line"><span class="lineno">  628</span>      modified_remaining_time_upper = cruising_distance / starting_speed + (departure_speed - starting_speed) / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> ;</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>      traj_upper.t1_ = current_time + cruising_distance / starting_speed;</div>
<div class="line"><span class="lineno">  631</span>      traj_upper.v1_ = starting_speed;</div>
<div class="line"><span class="lineno">  632</span>      traj_upper.a1_ = 0.0;</div>
<div class="line"><span class="lineno">  633</span>      traj_upper.x1_ = starting_downtrack + cruising_distance;</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>      traj_upper.t2_ = current_time + modified_remaining_time_upper;</div>
<div class="line"><span class="lineno">  636</span>      traj_upper.v2_ = departure_speed;</div>
<div class="line"><span class="lineno">  637</span>      traj_upper.a2_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>;</div>
<div class="line"><span class="lineno">  638</span>      traj_upper.x2_ = traffic_light_downtrack;</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>      traj_upper.modified_departure_speed = departure_speed;</div>
<div class="line"><span class="lineno">  641</span>      traj_upper.modified_remaining_time = modified_remaining_time_upper;</div>
<div class="line"><span class="lineno">  642</span>    }</div>
<div class="line"><span class="lineno">  643</span>  }</div>
<div class="line"><span class="lineno">  644</span>  </div>
<div class="line"><span class="lineno">  645</span>  traj_upper.t3_ = traj_upper.t2_;</div>
<div class="line"><span class="lineno">  646</span>  traj_upper.v3_ = traj_upper.v2_;</div>
<div class="line"><span class="lineno">  647</span>  traj_upper.a3_ = traj_upper.a2_;</div>
<div class="line"><span class="lineno">  648</span>  traj_upper.x3_ = traj_upper.x2_;</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>  <span class="comment">// The lower ET </span></div>
<div class="line"><span class="lineno">  651</span>  <span class="comment">// (note that the distance is definitely not enough for deceleration to zero speed, therefore, modified_departure_speed will be greater than zero for sure!).</span></div>
<div class="line"><span class="lineno">  652</span>  modified_departure_speed_lower = sqrt(pow(starting_speed, 2) + (2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> * remaining_downtrack));</div>
<div class="line"><span class="lineno">  653</span>  modified_remaining_time_lower = (modified_departure_speed_lower - starting_speed) / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>;</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>  traj_lower.t0_ = current_time;</div>
<div class="line"><span class="lineno">  656</span>  traj_lower.v0_ = starting_speed;</div>
<div class="line"><span class="lineno">  657</span>  traj_lower.x0_ = starting_downtrack;</div>
<div class="line"><span class="lineno">  658</span>  traj_lower.is_algorithm_successful = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  659</span>  traj_lower.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5">CASE_1</a>;</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>  traj_lower.t1_ = current_time + modified_remaining_time_lower;</div>
<div class="line"><span class="lineno">  662</span>  traj_lower.v1_ = modified_departure_speed_lower;</div>
<div class="line"><span class="lineno">  663</span>  traj_lower.a1_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>;</div>
<div class="line"><span class="lineno">  664</span>  traj_lower.x1_ = traffic_light_downtrack;</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>  traj_lower.t2_ = traj_lower.t1_;</div>
<div class="line"><span class="lineno">  667</span>  traj_lower.v2_ = traj_lower.v1_;</div>
<div class="line"><span class="lineno">  668</span>  traj_lower.a2_ = traj_lower.a1_;</div>
<div class="line"><span class="lineno">  669</span>  traj_lower.x2_ = traj_lower.x1_;</div>
<div class="line"><span class="lineno">  670</span>  </div>
<div class="line"><span class="lineno">  671</span>  traj_lower.t3_ = traj_lower.t2_;</div>
<div class="line"><span class="lineno">  672</span>  traj_lower.v3_ = traj_lower.v2_;</div>
<div class="line"><span class="lineno">  673</span>  traj_lower.a3_ = traj_lower.a2_;</div>
<div class="line"><span class="lineno">  674</span>  traj_lower.x3_ = traj_lower.x2_;</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>  traj_lower.modified_departure_speed = modified_departure_speed_lower;</div>
<div class="line"><span class="lineno">  677</span>  traj_lower.modified_remaining_time = modified_remaining_time_upper;</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>  <span class="comment">// Pick UPPER or LOWER trajectory based on light</span></div>
<div class="line"><span class="lineno">  680</span>  <span class="keywordtype">bool</span> is_return_params_found = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  681</span>  </div>
<div class="line"><span class="lineno">  682</span>  <span class="keywordflow">if</span> (calculation_success_upper)</div>
<div class="line"><span class="lineno">  683</span>  {</div>
<div class="line"><span class="lineno">  684</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Checking this time!: &quot;</span> &lt;&lt; current_time + modified_remaining_time_upper);</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="keyword">auto</span> upper_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(current_time + modified_remaining_time_upper));</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Checking this time! state: &quot;</span> &lt;&lt; upper_optional.get().second);</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>(upper_optional, rclcpp::Time((current_time + modified_remaining_time_upper) * 1e9)))</div>
<div class="line"><span class="lineno">  691</span>    {</div>
<div class="line"><span class="lineno">  692</span>      RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Unable to resolve give signal for modified_remaining_time_upper: &quot;</span> &lt;&lt; std::to_string(current_time + modified_remaining_time_upper));</div>
<div class="line"><span class="lineno">  693</span>    }</div>
<div class="line"><span class="lineno">  694</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  695</span>    {</div>
<div class="line"><span class="lineno">  696</span>      <span class="keywordflow">if</span> (upper_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED)</div>
<div class="line"><span class="lineno">  697</span>      {</div>
<div class="line"><span class="lineno">  698</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Detected Upper GREEN case&quot;</span>);    </div>
<div class="line"><span class="lineno">  699</span>        return_params = traj_upper;</div>
<div class="line"><span class="lineno">  700</span>        is_return_params_found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  701</span>      }</div>
<div class="line"><span class="lineno">  702</span>    }</div>
<div class="line"><span class="lineno">  703</span>  }</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>  <span class="keywordflow">if</span> (!is_return_params_found)</div>
<div class="line"><span class="lineno">  706</span>  {</div>
<div class="line"><span class="lineno">  707</span>    <span class="keyword">auto</span> lower_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(current_time + modified_remaining_time_lower));</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>(lower_optional, rclcpp::Time((current_time + modified_remaining_time_lower) * 1e9)))</div>
<div class="line"><span class="lineno">  710</span>    {</div>
<div class="line"><span class="lineno">  711</span>      RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Unable to resolve give signal for modified_remaining_time_lower:&quot;</span> &lt;&lt; std::to_string(current_time + modified_remaining_time_lower));</div>
<div class="line"><span class="lineno">  712</span>    }</div>
<div class="line"><span class="lineno">  713</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  714</span>    {</div>
<div class="line"><span class="lineno">  715</span>      <span class="keywordflow">if</span> (lower_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED)</div>
<div class="line"><span class="lineno">  716</span>      {</div>
<div class="line"><span class="lineno">  717</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Detected Lower GREEN case&quot;</span>);    </div>
<div class="line"><span class="lineno">  718</span>        return_params = traj_lower;</div>
<div class="line"><span class="lineno">  719</span>        is_return_params_found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  720</span>      }</div>
<div class="line"><span class="lineno">  721</span>    }</div>
<div class="line"><span class="lineno">  722</span>  }</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>  <span class="comment">// Handle hard failure case such as nan or invalid states</span></div>
<div class="line"><span class="lineno">  725</span>  <span class="keywordflow">if</span> (is_return_params_found &amp;&amp; !isnan(return_params.modified_departure_speed) &amp;&amp; return_params.modified_departure_speed &gt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  726</span>      return_params.modified_departure_speed &lt; speed_limit ) <span class="comment">//80_mph</span></div>
<div class="line"><span class="lineno">  727</span>  {</div>
<div class="line"><span class="lineno">  728</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Updated the speed, and using modified_departure_speed: &quot;</span> &lt;&lt; return_params.modified_departure_speed);</div>
<div class="line"><span class="lineno">  729</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a>(return_params);</div>
<div class="line"><span class="lineno">  730</span>    <span class="keywordflow">return</span> return_params;</div>
<div class="line"><span class="lineno">  731</span>  }</div>
<div class="line"><span class="lineno">  732</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  733</span>  {</div>
<div class="line"><span class="lineno">  734</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Unable to handle edge case gracefully&quot;</span>);</div>
<div class="line"><span class="lineno">  735</span>    return_params = TrajectoryParams(); <span class="comment">//reset</span></div>
<div class="line"><span class="lineno">  736</span>    return_params.is_algorithm_successful = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  737</span>    <span class="keywordflow">return</span> return_params;</div>
<div class="line"><span class="lineno">  738</span>  }</div>
<div class="line"><span class="lineno">  739</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a90783dcf3764851270354a58d81c27c1"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">lci_strategic_plugin::LCIStrategicPlugin::print_params</a></div><div class="ttdeci">void print_params(TrajectoryParams params)</div><div class="ttdoc">Helper method to print TrajectoryParams.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00424">lci_strategic_plugin_algo.cpp:424</a></div></div>
<div class="ttc" id="alci__strategic__plugin_8cpp_html_a002b2f4894492820fe708b1b7e7c5e70"><div class="ttname"><a href="lci__strategic__plugin_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a></div><div class="ttdeci">#define EPSILON</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00019">lci_strategic_plugin.cpp:19</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00062">lci_strategic_plugin::CASE_1</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00098">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00019">EPSILON</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00097">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00213">max_comfort_accel_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00214">max_comfort_decel_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00099">lci_strategic_plugin::TrajectoryParams::modified_departure_speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00100">lci_strategic_plugin::TrajectoryParams::modified_remaining_time</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00424">print_params()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00277">validLightState()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">handleFailureCase()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a23802c57f18da49875aaaebbca6adfdc_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23802c57f18da49875aaaebbca6adfdc_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23802c57f18da49875aaaebbca6adfdc_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23802c57f18da49875aaaebbca6adfdc_cgraph">
<area shape="rect" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="5,45,179,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1" title="Helper method to print TrajectoryParams." alt="" coords="227,5,364,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="227,85,364,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="412,85,557,141"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a23802c57f18da49875aaaebbca6adfdc_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23802c57f18da49875aaaebbca6adfdc_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23802c57f18da49875aaaebbca6adfdc_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23802c57f18da49875aaaebbca6adfdc_icgraph">
<area shape="rect" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="648,5,821,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a0cab8e3125da46e21b998c24d3747345" name="a0cab8e3125da46e21b998c24d3747345"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cab8e3125da46e21b998c24d3747345">&#9670;&nbsp;</a></span>handleGreenSignalScenario()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::handleGreenSignalScenario </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_state_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_down_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;&#160;</td>
          <td class="paramname"><em>ts_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>is_certainty_check_optional</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing parameters to go through the intersection with certainty It utilizes canMakeWithCertainty function to determine if it is able to make it. Corresponds to TSCase 1-7. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state_speed</td><td>The current speed to use when planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>CarmaTrafficSignalPtr of the relevant signal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>Entry lanelet in to the intersection along route </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>Exit lanelet in to the intersection along route </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light_down_track</td><td>Downtrack to the given traffic_light </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ts_params</td><td>trajectory smoothing params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. if successful, resp is non-empty. Resp is empty if not able to make it with certainty or ts_params.is_successful is false </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00476">476</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  483</span>{</div>
<div class="line"><span class="lineno">  484</span>  <span class="keywordflow">if</span> (!ts_params.is_algorithm_successful || ts_params.case_num == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>) </div>
<div class="line"><span class="lineno">  485</span>  {</div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  487</span>  }</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>  rclcpp::Time light_arrival_time_by_algo = rclcpp::Time(ts_params.t3_ * 1e9);</div>
<div class="line"><span class="lineno">  490</span>  <span class="keywordtype">double</span> remaining_time = light_arrival_time_by_algo.seconds() - rclcpp::Time(req-&gt;header.stamp, RCL_SYSTEM_TIME).seconds();</div>
<div class="line"><span class="lineno">  491</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Algo initially successful: New light_arrival_time_by_algo: &quot;</span> &lt;&lt; std::to_string(light_arrival_time_by_algo.seconds()) &lt;&lt; <span class="stringliteral">&quot;, with remaining_time: &quot;</span> &lt;&lt; std::to_string(remaining_time));</div>
<div class="line"><span class="lineno">  492</span>  <span class="keyword">auto</span> can_make_green_optional = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4">canArriveAtGreenWithCertainty</a>(light_arrival_time_by_algo, traffic_light);</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers lane follow maneuver</span></div>
<div class="line"><span class="lineno">  495</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  496</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(current_state.downtrack, traffic_light_down_track, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>  <span class="comment">// no change for maneuver if invalid light states</span></div>
<div class="line"><span class="lineno">  499</span>  <span class="keywordflow">if</span> (!can_make_green_optional) </div>
<div class="line"><span class="lineno">  500</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  501</span>  </div>
<div class="line"><span class="lineno">  502</span>  <span class="keywordflow">if</span> (can_make_green_optional.get() || is_certainty_check_optional)</div>
<div class="line"><span class="lineno">  503</span>  {</div>
<div class="line"><span class="lineno">  504</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HANDLE_SUCCESSFULL: Algorithm successful, and able to make it at green with certainty. Planning traj smooth and intersection transit maneuvers&quot;</span>);</div>
<div class="line"><span class="lineno">  505</span>    </div>
<div class="line"><span class="lineno">  506</span>    resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85">composeTrajectorySmoothingManeuverMessage</a>(current_state.downtrack, traffic_light_down_track, crossed_lanelets,</div>
<div class="line"><span class="lineno">  507</span>                                          current_state_speed, ts_params.v3_, current_state.stamp, light_arrival_time_by_algo, ts_params));</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordtype">double</span> intersection_length = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get() - traffic_light_down_track;</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    rclcpp::Time intersection_exit_time =</div>
<div class="line"><span class="lineno">  512</span>        light_arrival_time_by_algo + rclcpp::Duration(intersection_length / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get() * 1e9);</div>
<div class="line"><span class="lineno">  513</span> </div>
<div class="line"><span class="lineno">  514</span>    resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063">composeIntersectionTransitMessage</a>(</div>
<div class="line"><span class="lineno">  515</span>        traffic_light_down_track, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(),</div>
<div class="line"><span class="lineno">  516</span>        <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), light_arrival_time_by_algo, intersection_exit_time, crossed_lanelets.back().id(), crossed_lanelets.back().id()));</div>
<div class="line"><span class="lineno">  517</span>  }</div>
<div class="line"><span class="lineno">  518</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a1112baee4705e22ca2793e8caa98a7f4"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4">lci_strategic_plugin::LCIStrategicPlugin::canArriveAtGreenWithCertainty</a></div><div class="ttdeci">boost::optional&lt; bool &gt; canArriveAtGreenWithCertainty(const rclcpp::Time &amp;light_arrival_time_by_algo, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, bool check_late, bool check_early) const</div><div class="ttdoc">Return true if the car can arrive at given arrival time within green light time buffer.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00298">lci_strategic_plugin.cpp:298</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00298">canArriveAtGreenWithCertainty()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00069">lci_strategic_plugin::CASE_8</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00098">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01498">composeIntersectionTransitMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01414">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00341">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00243">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00242">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00097">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a0cab8e3125da46e21b998c24d3747345_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0cab8e3125da46e21b998c24d3747345_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0cab8e3125da46e21b998c24d3747345_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0cab8e3125da46e21b998c24d3747345_cgraph">
<area shape="rect" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="5,141,193,197"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="252,5,460,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063" title="Compose a intersection transit maneuver message based on input params." alt="" coords="261,86,451,157"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="256,181,456,251"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="241,276,471,332"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="519,5,656,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="704,5,849,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a0cab8e3125da46e21b998c24d3747345_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0cab8e3125da46e21b998c24d3747345_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0cab8e3125da46e21b998c24d3747345_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0cab8e3125da46e21b998c24d3747345_icgraph">
<area shape="rect" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,5,651,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a041e1ecce80673108193c9ac0d9878d7" name="a041e1ecce80673108193c9ac0d9878d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a041e1ecce80673108193c9ac0d9878d7">&#9670;&nbsp;</a></span>handleStopping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::handleStopping </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>current_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_down_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>is_emergency</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping distance. Given the initial speed, ending speed (which is 0), and remaining_downtrack, this function checks if calculated remaining_time falls on RED. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>CarmaTrafficSignalPtr of the relevant signal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>Entry lanelet in to the intersection along route </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>Exit lanelet in to the intersection along route </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_lanelet</td><td>Current lanelet </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light_down_track</td><td>Downtrack to the given traffic_light </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">is_emergency</td><td>if enabled, double the deceleration rate of max_comfort_accel is used</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. if successful, resp is non-empty </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00359">359</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  366</span>{</div>
<div class="line"><span class="lineno">  367</span>  <span class="keywordtype">double</span> distance_remaining_to_traffic_light = traffic_light_down_track - current_state.downtrack;</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers lane follow maneuver</span></div>
<div class="line"><span class="lineno">  370</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  371</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(current_state.downtrack, traffic_light_down_track, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>  <span class="keywordtype">double</span> decel_rate =  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a>; <span class="comment">// Kinematic |(v_f - v_i) / t = a|</span></div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>  <span class="keywordflow">if</span> (is_emergency)</div>
<div class="line"><span class="lineno">  376</span>  {</div>
<div class="line"><span class="lineno">  377</span>    decel_rate = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a357ad8adde3161651507d8e399431bfc">emergency_decel_norm_</a>;</div>
<div class="line"><span class="lineno">  378</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bacfe02bba2d0d58f65b97219819aa9013">TSCase::EMERGENCY_STOPPING</a>;</div>
<div class="line"><span class="lineno">  379</span>  }</div>
<div class="line"><span class="lineno">  380</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  381</span>  {</div>
<div class="line"><span class="lineno">  382</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>;</div>
<div class="line"><span class="lineno">  383</span>  }</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HANDLE_STOPPING: Planning stop and wait maneuver at decel_rate: &quot;</span> &lt;&lt; decel_rate);</div>
<div class="line"><span class="lineno">  386</span>  </div>
<div class="line"><span class="lineno">  387</span>  resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f">composeStopAndWaitManeuverMessage</a>(</div>
<div class="line"><span class="lineno">  388</span>    current_state.downtrack, traffic_light_down_track, current_state.speed, crossed_lanelets.front().id(),</div>
<div class="line"><span class="lineno">  389</span>    crossed_lanelets.back().id(), current_state.stamp,</div>
<div class="line"><span class="lineno">  390</span>    current_state.stamp + rclcpp::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a> * 1e9), decel_rate));</div>
<div class="line"><span class="lineno">  391</span>}</div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273bacfe02bba2d0d58f65b97219819aa9013"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bacfe02bba2d0d58f65b97219819aa9013">lci_strategic_plugin::EMERGENCY_STOPPING</a></div><div class="ttdeci">@ EMERGENCY_STOPPING</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00072">lci_strategic_plugin.hpp:72</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">lci_strategic_plugin::STOPPING</a></div><div class="ttdeci">@ STOPPING</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00070">lci_strategic_plugin.hpp:70</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01465">composeStopAndWaitManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00216">emergency_decel_norm_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00072">lci_strategic_plugin::EMERGENCY_STOPPING</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00341">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00227">last_case_num_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00215">max_comfort_decel_norm_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00060">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00280">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00070">lci_strategic_plugin::STOPPING</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a041e1ecce80673108193c9ac0d9878d7_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a041e1ecce80673108193c9ac0d9878d7_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a041e1ecce80673108193c9ac0d9878d7_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a041e1ecce80673108193c9ac0d9878d7_cgraph">
<area shape="rect" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="5,57,143,113"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f" title="Compose a stop and wait maneuver message based on input params." alt="" coords="198,5,413,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="191,101,420,157"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a041e1ecce80673108193c9ac0d9878d7_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a041e1ecce80673108193c9ac0d9878d7_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a041e1ecce80673108193c9ac0d9878d7_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a041e1ecce80673108193c9ac0d9878d7_icgraph">
<area shape="rect" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a0d0c867d5697fa8b7a9c43596815d7c0" name="a0d0c867d5697fa8b7a9c43596815d7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d0c867d5697fa8b7a9c43596815d7c0">&#9670;&nbsp;</a></span>lookupFrontBumperTransform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::lookupFrontBumperTransform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup transfrom from front bumper to base link. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00219">219</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  220</span>{</div>
<div class="line"><span class="lineno">  221</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aef286b3de570f73e947a6f2e223b0c90">tf2_listener_</a>.reset(<span class="keyword">new</span> tf2_ros::TransformListener(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a>));</div>
<div class="line"><span class="lineno">  222</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a>.setUsingDedicatedThread(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  224</span>    {</div>
<div class="line"><span class="lineno">  225</span>        geometry_msgs::msg::TransformStamped <a class="code hl_namespace" href="namespacetf2.html">tf2</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a>.lookupTransform(<span class="stringliteral">&quot;base_link&quot;</span>, <span class="stringliteral">&quot;vehicle_front&quot;</span>, rclcpp::Time(0), rclcpp::Duration(20.0 * 1e9)); <span class="comment">//save to local copy of transform 20 sec timeout</span></div>
<div class="line"><span class="lineno">  226</span>        <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a65a82a5d5dae1cb9cc8e5f8913627dfa">length_to_front_bumper_</a> = <a class="code hl_namespace" href="namespacetf2.html">tf2</a>.transform.translation.x;</div>
<div class="line"><span class="lineno">  227</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;length_to_front_bumper_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a65a82a5d5dae1cb9cc8e5f8913627dfa">length_to_front_bumper_</a>);</div>
<div class="line"><span class="lineno">  228</span>        </div>
<div class="line"><span class="lineno">  229</span>    }</div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">catch</span> (<span class="keyword">const</span> tf2::TransformException &amp;ex)</div>
<div class="line"><span class="lineno">  231</span>    {</div>
<div class="line"><span class="lineno">  232</span>        RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), ex.what());</div>
<div class="line"><span class="lineno">  233</span>    }</div>
<div class="line"><span class="lineno">  234</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a65a82a5d5dae1cb9cc8e5f8913627dfa"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a65a82a5d5dae1cb9cc8e5f8913627dfa">lci_strategic_plugin::LCIStrategicPlugin::length_to_front_bumper_</a></div><div class="ttdeci">double length_to_front_bumper_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00250">lci_strategic_plugin.hpp:250</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aef286b3de570f73e947a6f2e223b0c90"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aef286b3de570f73e947a6f2e223b0c90">lci_strategic_plugin::LCIStrategicPlugin::tf2_listener_</a></div><div class="ttdeci">std::unique_ptr&lt; tf2_ros::TransformListener &gt; tf2_listener_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00248">lci_strategic_plugin.hpp:248</a></div></div>
<div class="ttc" id="anamespacetf2_html"><div class="ttname"><a href="namespacetf2.html">tf2</a></div><div class="ttdef"><b>Definition:</b> <a href="PoseToTF2_8cpp_source.html#l00026">PoseToTF2.cpp:27</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00250">length_to_front_bumper_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00247">tf2_buffer_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00248">tf2_listener_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a0d0c867d5697fa8b7a9c43596815d7c0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0d0c867d5697fa8b7a9c43596815d7c0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0d0c867d5697fa8b7a9c43596815d7c0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0d0c867d5697fa8b7a9c43596815d7c0_icgraph">
<area shape="rect" title="Lookup transfrom from front bumper to base link." alt="" coords="196,5,396,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5792a0a80197c6f6683c0531693ac9b6" title="Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states...." alt="" coords="5,5,148,61"/>
</map>
</div>

</div>
</div>
<a id="a34442f32d60fb954ab9369c81a44fc38" name="a34442f32d60fb954ab9369c81a44fc38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34442f32d60fb954ab9369c81a44fc38">&#9670;&nbsp;</a></span>mobilityOperationCb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::mobilityOperationCb </td>
          <td>(</td>
          <td class="paramtype">carma_v2x_msgs::msg::MobilityOperation::UniquePtr&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>callback function for mobility operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>input mobility operation msg </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01151">1151</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1152</span>{</div>
<div class="line"><span class="lineno"> 1153</span>  <span class="keywordflow">if</span> (msg-&gt;strategy == <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">light_controlled_intersection_strategy_</a>)</div>
<div class="line"><span class="lineno"> 1154</span>  {</div>
<div class="line"><span class="lineno"> 1155</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Received Schedule message with id: &quot;</span> &lt;&lt; msg-&gt;m_header.plan_id);</div>
<div class="line"><span class="lineno"> 1156</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1157</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Approaching light Controlled Intersection: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a>);</div>
<div class="line"><span class="lineno"> 1158</span>  </div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keywordflow">if</span> (msg-&gt;m_header.recipient_id == <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">vehicle_id</a>)</div>
<div class="line"><span class="lineno"> 1160</span>    {</div>
<div class="line"><span class="lineno"> 1161</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63ee8ae7daaa5e8a4222a67dcf48366f">street_msg_timestamp_</a> = msg-&gt;m_header.timestamp;</div>
<div class="line"><span class="lineno"> 1162</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;street_msg_timestamp_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63ee8ae7daaa5e8a4222a67dcf48366f">street_msg_timestamp_</a>);</div>
<div class="line"><span class="lineno"> 1163</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10">parseStrategyParams</a>(msg-&gt;strategy_params);</div>
<div class="line"><span class="lineno"> 1164</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab7d33a0c85f6ba2d709d07a4526774aa">previous_strategy_params_</a> = msg-&gt;strategy_params;</div>
<div class="line"><span class="lineno"> 1165</span>    }</div>
<div class="line"><span class="lineno"> 1166</span>  }</div>
<div class="line"><span class="lineno"> 1167</span>  </div>
<div class="line"><span class="lineno"> 1168</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a63ee8ae7daaa5e8a4222a67dcf48366f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63ee8ae7daaa5e8a4222a67dcf48366f">lci_strategic_plugin::LCIStrategicPlugin::street_msg_timestamp_</a></div><div class="ttdeci">unsigned long long street_msg_timestamp_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00201">lci_strategic_plugin.hpp:201</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a912dc09be0b318510a8e50df38f80b10"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10">lci_strategic_plugin::LCIStrategicPlugin::parseStrategyParams</a></div><div class="ttdeci">void parseStrategyParams(const std::string &amp;strategy_params)</div><div class="ttdoc">parse strategy parameters</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01178">lci_strategic_plugin.cpp:1178</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab7d33a0c85f6ba2d709d07a4526774aa"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab7d33a0c85f6ba2d709d07a4526774aa">lci_strategic_plugin::LCIStrategicPlugin::previous_strategy_params_</a></div><div class="ttdeci">std::string previous_strategy_params_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00204">lci_strategic_plugin.hpp:204</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab8247b29655ecc5f132e33c3cad8591d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">lci_strategic_plugin::LCIStrategicPlugin::approaching_light_controlled_intersection_</a></div><div class="ttdeci">bool approaching_light_controlled_intersection_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00233">lci_strategic_plugin.hpp:233</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00233">approaching_light_controlled_intersection_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00244">light_controlled_intersection_strategy_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01178">parseStrategyParams()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00204">previous_strategy_params_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00201">street_msg_timestamp_</a>, and <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00075">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a34442f32d60fb954ab9369c81a44fc38_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a34442f32d60fb954ab9369c81a44fc38_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a34442f32d60fb954ab9369c81a44fc38_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a34442f32d60fb954ab9369c81a44fc38_cgraph">
<area shape="rect" title="callback function for mobility operation" alt="" coords="5,5,149,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10" title="parse strategy parameters" alt="" coords="197,5,351,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a34442f32d60fb954ab9369c81a44fc38_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a34442f32d60fb954ab9369c81a44fc38_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a34442f32d60fb954ab9369c81a44fc38_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a34442f32d60fb954ab9369c81a44fc38_icgraph">
<area shape="rect" title="callback function for mobility operation" alt="" coords="196,5,340,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5792a0a80197c6f6683c0531693ac9b6" title="Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states...." alt="" coords="5,5,148,61"/>
</map>
</div>

</div>
</div>
<a id="a1ae680ddca40a0ebb47c4102eab50ae4" name="a1ae680ddca40a0ebb47c4102eab50ae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ae680ddca40a0ebb47c4102eab50ae4">&#9670;&nbsp;</a></span>on_activate_plugin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::CallbackReturn lci_strategic_plugin::LCIStrategicPlugin::on_activate_plugin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method which is triggered when this plugin is moved from the INACTIVE to ACTIVE states. This method should be used to prepare for future callbacks for plugin's capabilites. </p>
<dl class="section return"><dt>Returns</dt><dd>SUCCESS, FAILURE, or ERROR. Transition to ACTIVE will only complete on SUCCESS. </dd></dl>

<p>Reimplemented from <a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#af1d2248e7e0bd5b9e6c754f72e49429c">carma_guidance_plugins::PluginBaseNode</a>.</p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00178">178</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  179</span>{</div>
<div class="line"><span class="lineno">  180</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcb5dbcd034ccaf299ad7d14a779df12">mob_op_pub_timer_</a> = create_timer(get_clock(),</div>
<div class="line"><span class="lineno">  181</span>    std::chrono::duration&lt;double&gt;(1/<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab660df5cc3ba479a07f190e00c9ebbea">mobility_rate</a>),</div>
<div class="line"><span class="lineno">  182</span>    std::bind(&amp;<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae96b9eee70bfce3c69fc192a0609140e">LCIStrategicPlugin::publishMobilityOperation</a>, <span class="keyword">this</span>));</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af99e2eaee092170741adcafd27fc7f4b">ts_info_pub_timer_</a> = create_timer(get_clock(),</div>
<div class="line"><span class="lineno">  185</span>    std::chrono::duration&lt;double&gt;(0.5),</div>
<div class="line"><span class="lineno">  186</span>    std::bind(&amp;<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aadc4439e56b18101c15f0b2c6f5cc1f1">LCIStrategicPlugin::publishTrajectorySmoothingInfo</a>, <span class="keyword">this</span>));</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>  <span class="keywordflow">return</span> CallbackReturn::SUCCESS;</div>
<div class="line"><span class="lineno">  189</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aadc4439e56b18101c15f0b2c6f5cc1f1"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aadc4439e56b18101c15f0b2c6f5cc1f1">lci_strategic_plugin::LCIStrategicPlugin::publishTrajectorySmoothingInfo</a></div><div class="ttdeci">void publishTrajectorySmoothingInfo()</div><div class="ttdoc">Publish trajectory smoothing info at a fixed rate.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00160">lci_strategic_plugin.cpp:160</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ae96b9eee70bfce3c69fc192a0609140e"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae96b9eee70bfce3c69fc192a0609140e">lci_strategic_plugin::LCIStrategicPlugin::publishMobilityOperation</a></div><div class="ttdeci">void publishMobilityOperation()</div><div class="ttdoc">Publish mobility operation at a fixed rate.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01251">lci_strategic_plugin.cpp:1251</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_af99e2eaee092170741adcafd27fc7f4b"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af99e2eaee092170741adcafd27fc7f4b">lci_strategic_plugin::LCIStrategicPlugin::ts_info_pub_timer_</a></div><div class="ttdeci">rclcpp::TimerBase::SharedPtr ts_info_pub_timer_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00260">lci_strategic_plugin.hpp:260</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_afcb5dbcd034ccaf299ad7d14a779df12"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcb5dbcd034ccaf299ad7d14a779df12">lci_strategic_plugin::LCIStrategicPlugin::mob_op_pub_timer_</a></div><div class="ttdeci">rclcpp::TimerBase::SharedPtr mob_op_pub_timer_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00259">lci_strategic_plugin.hpp:259</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00259">mob_op_pub_timer_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00072">lci_strategic_plugin::LCIStrategicPluginConfig::mobility_rate</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01251">publishMobilityOperation()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00260">ts_info_pub_timer_</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a1ae680ddca40a0ebb47c4102eab50ae4_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1ae680ddca40a0ebb47c4102eab50ae4_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1ae680ddca40a0ebb47c4102eab50ae4_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1ae680ddca40a0ebb47c4102eab50ae4_cgraph">
<area shape="rect" title="Method which is triggered when this plugin is moved from the INACTIVE to ACTIVE states...." alt="" coords="5,45,143,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae96b9eee70bfce3c69fc192a0609140e" title="Publish mobility operation at a fixed rate." alt="" coords="211,5,381,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aadc4439e56b18101c15f0b2c6f5cc1f1" title="Publish trajectory smoothing info at a fixed rate." alt="" coords="191,85,401,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9965dbbfa665100a5e5bd4998fc59022" title="Generates Mobility Operation messages." alt="" coords="449,5,628,61"/>
</map>
</div>

</div>
</div>
<a id="a5792a0a80197c6f6683c0531693ac9b6" name="a5792a0a80197c6f6683c0531693ac9b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5792a0a80197c6f6683c0531693ac9b6">&#9670;&nbsp;</a></span>on_configure_plugin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::CallbackReturn lci_strategic_plugin::LCIStrategicPlugin::on_configure_plugin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states. This method should be used to load parameters and is required to be implemented. </p>
<dl class="section return"><dt>Returns</dt><dd>SUCCESS, FAILURE, or ERROR. Transition to INACTIVE will only complete on SUCCESS. </dd></dl>

<p>Implements <a class="el" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a8786fff73c3ddd6061dbdfe0b6288d82">carma_guidance_plugins::PluginBaseNode</a>.</p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">73</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>{</div>
<div class="line"><span class="lineno">   75</span>   <span class="comment">// reset config</span></div>
<div class="line"><span class="lineno">   76</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a> = LCIStrategicPluginConfig();</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>  <span class="comment">// clang-format off</span></div>
<div class="line"><span class="lineno">   79</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;vehicle_acceleration_limit&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a>);</div>
<div class="line"><span class="lineno">   80</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;vehicle_deceleration_limit&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a>);</div>
<div class="line"><span class="lineno">   81</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;vehicle_decel_limit_multiplier&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>);</div>
<div class="line"><span class="lineno">   82</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;vehicle_accel_limit_multiplier&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>);</div>
<div class="line"><span class="lineno">   83</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;min_approach_distance&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a8a79158c6b90827592dbc7d6a2cb5d4a">min_approach_distance</a>);</div>
<div class="line"><span class="lineno">   84</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;trajectory_smoothing_activation_distance&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">trajectory_smoothing_activation_distance</a>);</div>
<div class="line"><span class="lineno">   85</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;stopping_location_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>);</div>
<div class="line"><span class="lineno">   86</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;green_light_time_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a>);</div>
<div class="line"><span class="lineno">   87</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;algo_minimum_speed&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>);</div>
<div class="line"><span class="lineno">   88</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;deceleration_fraction&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">deceleration_fraction</a>);</div>
<div class="line"><span class="lineno">   89</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;desired_distance_to_stop_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab79bce20a6f3373603ad92b33b1f4232">desired_distance_to_stop_buffer</a>);</div>
<div class="line"><span class="lineno">   90</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;min_maneuver_planning_period&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a>);</div>
<div class="line"><span class="lineno">   91</span>  get_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;strategic_plugin_name&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>);</div>
<div class="line"><span class="lineno">   92</span>  get_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;lane_following_plugin_name&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a62ccfdacfd9ef06d1ed0515d7cd6a2d8">lane_following_plugin_name</a>);</div>
<div class="line"><span class="lineno">   93</span>  get_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;stop_and_wait_plugin_name&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a35cdfbe518abecdfe0452ccf0ada4224">stop_and_wait_plugin_name</a>);</div>
<div class="line"><span class="lineno">   94</span>  get_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;intersection_transit_plugin_name&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a001ab9c72909eec9d6870cbd92dfa152">intersection_transit_plugin_name</a>);</div>
<div class="line"><span class="lineno">   95</span>  get_parameter&lt;bool&gt;(<span class="stringliteral">&quot;enable_carma_streets_connection&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a>);</div>
<div class="line"><span class="lineno">   96</span>  get_parameter&lt;double&gt;(<span class="stringliteral">&quot;mobility_rate&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab660df5cc3ba479a07f190e00c9ebbea">mobility_rate</a>);</div>
<div class="line"><span class="lineno">   97</span>  get_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;vehicle_id&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">vehicle_id</a>);</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  100</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> = -1 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  101</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  102</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a357ad8adde3161651507d8e399431bfc">emergency_decel_norm_</a> = 2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>  <span class="comment">// clang-format on</span></div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>  <span class="comment">// Register runtime parameter update callback</span></div>
<div class="line"><span class="lineno">  107</span>  add_on_set_parameters_callback(std::bind(&amp;<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aeab86524ba8763b042e5673b736b4797">LCIStrategicPlugin::parameter_update_callback</a>, <span class="keyword">this</span>, std_ph::_1));</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  RCLCPP_INFO_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Done loading parameters: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>);</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>  <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0d0c867d5697fa8b7a9c43596815d7c0">lookupFrontBumperTransform</a>();</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>   <span class="comment">// Mobility Operation Subscriber</span></div>
<div class="line"><span class="lineno">  114</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4a637e0c3989db0b62571b1fec3ad7fa">mob_operation_sub_</a> = create_subscription&lt;carma_v2x_msgs::msg::MobilityOperation&gt;(<span class="stringliteral">&quot;incoming_mobility_operation&quot;</span>, 1, </div>
<div class="line"><span class="lineno">  115</span>    std::bind(&amp;<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a34442f32d60fb954ab9369c81a44fc38">LCIStrategicPlugin::mobilityOperationCb</a>,<span class="keyword">this</span>,std_ph::_1));</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>  <span class="comment">// BSM subscriber</span></div>
<div class="line"><span class="lineno">  118</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a581d9ead8aaeaa3c039e96726e72de6f">bsm_sub_</a> = create_subscription&lt;carma_v2x_msgs::msg::BSM&gt;(<span class="stringliteral">&quot;bsm_outbound&quot;</span>, 1, </div>
<div class="line"><span class="lineno">  119</span>    std::bind(&amp;<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8bcc3eb45b332c8b9da9b0e3bff49fdb">LCIStrategicPlugin::BSMCb</a>,<span class="keyword">this</span>,std_ph::_1));</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>  <span class="comment">// set world model point form wm listener</span></div>
<div class="line"><span class="lineno">  122</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a> = <a class="code hl_function" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a50b54d5c4cc5180eeef0c78c55f70ec3">get_world_model</a>();</div>
<div class="line"><span class="lineno">  123</span>  </div>
<div class="line"><span class="lineno">  124</span>  <span class="comment">// Setup publishers</span></div>
<div class="line"><span class="lineno">  125</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab23ebcbc97a682edc25649c1c9bdf363">mobility_operation_pub_</a> = create_publisher&lt;carma_v2x_msgs::msg::MobilityOperation&gt;(<span class="stringliteral">&quot;outgoing_mobility_operation&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  126</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58ba3ade1aeddc70fb7b28686c8d9327">case_pub_</a> = create_publisher&lt;std_msgs::msg::Int8&gt;(<span class="stringliteral">&quot;lci_strategic_plugin/ts_case_num&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  127</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a349dad398fe3bdf131b6ee76581acf91">tf_distance_pub_</a> = create_publisher&lt;std_msgs::msg::Float64&gt;(<span class="stringliteral">&quot;lci_strategic_plugin/distance_remaining_to_tf&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  128</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9e6f15522f37735866591ef88a56af63">earliest_et_pub_</a> = create_publisher&lt;std_msgs::msg::Float64&gt;(<span class="stringliteral">&quot;lci_strategic_plugin/earliest_entry_time&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af9e56d16a32e1a377f510e60cccff45a">et_pub_</a> = create_publisher&lt;std_msgs::msg::Float64&gt;(<span class="stringliteral">&quot;lci_strategic_plugin/scheduled_entry_time&quot;</span>, 1);</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>  <span class="comment">// Return success if everything initialized successfully</span></div>
<div class="line"><span class="lineno">  132</span>  <span class="keywordflow">return</span> CallbackReturn::SUCCESS;</div>
<div class="line"><span class="lineno">  133</span>}</div>
<div class="ttc" id="aclasscarma__guidance__plugins_1_1PluginBaseNode_html_a50b54d5c4cc5180eeef0c78c55f70ec3"><div class="ttname"><a href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a50b54d5c4cc5180eeef0c78c55f70ec3">carma_guidance_plugins::PluginBaseNode::get_world_model</a></div><div class="ttdeci">virtual carma_wm::WorldModelConstPtr get_world_model() final</div><div class="ttdoc">Method to return the default world model provided as a convience by this base class If this method or...</div><div class="ttdef"><b>Definition:</b> <a href="plugin__base__node_8cpp_source.html#l00066">plugin_base_node.cpp:66</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a0d0c867d5697fa8b7a9c43596815d7c0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0d0c867d5697fa8b7a9c43596815d7c0">lci_strategic_plugin::LCIStrategicPlugin::lookupFrontBumperTransform</a></div><div class="ttdeci">void lookupFrontBumperTransform()</div><div class="ttdoc">Lookup transfrom from front bumper to base link.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00219">lci_strategic_plugin.cpp:219</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a34442f32d60fb954ab9369c81a44fc38"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a34442f32d60fb954ab9369c81a44fc38">lci_strategic_plugin::LCIStrategicPlugin::mobilityOperationCb</a></div><div class="ttdeci">void mobilityOperationCb(carma_v2x_msgs::msg::MobilityOperation::UniquePtr msg)</div><div class="ttdoc">callback function for mobility operation</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01151">lci_strategic_plugin.cpp:1151</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a349dad398fe3bdf131b6ee76581acf91"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a349dad398fe3bdf131b6ee76581acf91">lci_strategic_plugin::LCIStrategicPlugin::tf_distance_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; std_msgs::msg::Float64 &gt; tf_distance_pub_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00269">lci_strategic_plugin.hpp:269</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a4a637e0c3989db0b62571b1fec3ad7fa"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4a637e0c3989db0b62571b1fec3ad7fa">lci_strategic_plugin::LCIStrategicPlugin::mob_operation_sub_</a></div><div class="ttdeci">carma_ros2_utils::SubPtr&lt; carma_v2x_msgs::msg::MobilityOperation &gt; mob_operation_sub_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00263">lci_strategic_plugin.hpp:263</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a581d9ead8aaeaa3c039e96726e72de6f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a581d9ead8aaeaa3c039e96726e72de6f">lci_strategic_plugin::LCIStrategicPlugin::bsm_sub_</a></div><div class="ttdeci">carma_ros2_utils::SubPtr&lt; carma_v2x_msgs::msg::BSM &gt; bsm_sub_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00264">lci_strategic_plugin.hpp:264</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a58ba3ade1aeddc70fb7b28686c8d9327"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58ba3ade1aeddc70fb7b28686c8d9327">lci_strategic_plugin::LCIStrategicPlugin::case_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; std_msgs::msg::Int8 &gt; case_pub_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00268">lci_strategic_plugin.hpp:268</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a8bcc3eb45b332c8b9da9b0e3bff49fdb"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8bcc3eb45b332c8b9da9b0e3bff49fdb">lci_strategic_plugin::LCIStrategicPlugin::BSMCb</a></div><div class="ttdeci">void BSMCb(carma_v2x_msgs::msg::BSM::UniquePtr msg)</div><div class="ttdoc">BSM callback function.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01170">lci_strategic_plugin.cpp:1170</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a9e6f15522f37735866591ef88a56af63"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9e6f15522f37735866591ef88a56af63">lci_strategic_plugin::LCIStrategicPlugin::earliest_et_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; std_msgs::msg::Float64 &gt; earliest_et_pub_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00270">lci_strategic_plugin.hpp:270</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab23ebcbc97a682edc25649c1c9bdf363"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab23ebcbc97a682edc25649c1c9bdf363">lci_strategic_plugin::LCIStrategicPlugin::mobility_operation_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; carma_v2x_msgs::msg::MobilityOperation &gt; mobility_operation_pub_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00267">lci_strategic_plugin.hpp:267</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aeab86524ba8763b042e5673b736b4797"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aeab86524ba8763b042e5673b736b4797">lci_strategic_plugin::LCIStrategicPlugin::parameter_update_callback</a></div><div class="ttdeci">rcl_interfaces::msg::SetParametersResult parameter_update_callback(const std::vector&lt; rclcpp::Parameter &gt; &amp;parameters)</div><div class="ttdoc">Callback for dynamic parameter updates.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00135">lci_strategic_plugin.cpp:135</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_af9e56d16a32e1a377f510e60cccff45a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af9e56d16a32e1a377f510e60cccff45a">lci_strategic_plugin::LCIStrategicPlugin::et_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; std_msgs::msg::Float64 &gt; et_pub_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00271">lci_strategic_plugin.hpp:271</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00050">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00264">bsm_sub_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01170">BSMCb()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00268">case_pub_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00054">lci_strategic_plugin::LCIStrategicPluginConfig::deceleration_fraction</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00057">lci_strategic_plugin::LCIStrategicPluginConfig::desired_distance_to_stop_buffer</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00270">earliest_et_pub_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00216">emergency_decel_norm_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00069">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00271">et_pub_</a>, <a class="el" href="plugin__base__node_8cpp_source.html#l00066">carma_guidance_plugins::PluginBaseNode::get_world_model()</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00047">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00089">lci_strategic_plugin::LCIStrategicPluginConfig::intersection_transit_plugin_name</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00082">lci_strategic_plugin::LCIStrategicPluginConfig::lane_following_plugin_name</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00219">lookupFrontBumperTransform()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00213">max_comfort_accel_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00214">max_comfort_decel_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00215">max_comfort_decel_norm_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00038">lci_strategic_plugin::LCIStrategicPluginConfig::min_approach_distance</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00060">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00263">mob_operation_sub_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00267">mobility_operation_pub_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00072">lci_strategic_plugin::LCIStrategicPluginConfig::mobility_rate</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01151">mobilityOperationCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00135">parameter_update_callback()</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00085">lci_strategic_plugin::LCIStrategicPluginConfig::stop_and_wait_plugin_name</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00044">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00078">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00269">tf_distance_pub_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00041">lci_strategic_plugin::LCIStrategicPluginConfig::trajectory_smoothing_activation_distance</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00032">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00035">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00075">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_id</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00256">wm_</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5792a0a80197c6f6683c0531693ac9b6_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5792a0a80197c6f6683c0531693ac9b6_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5792a0a80197c6f6683c0531693ac9b6_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5792a0a80197c6f6683c0531693ac9b6_cgraph">
<area shape="rect" title="Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states...." alt="" coords="5,165,148,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8bcc3eb45b332c8b9da9b0e3bff49fdb" title="BSM callback function." alt="" coords="227,5,365,61"/>
<area shape="rect" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a50b54d5c4cc5180eeef0c78c55f70ec3" title="Method to return the default world model provided as a convience by this base class If this method or..." alt="" coords="213,85,379,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0d0c867d5697fa8b7a9c43596815d7c0" title="Lookup transfrom from front bumper to base link." alt="" coords="196,165,396,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a34442f32d60fb954ab9369c81a44fc38" title="callback function for mobility operation" alt="" coords="224,245,368,301"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aeab86524ba8763b042e5673b736b4797" title="Callback for dynamic parameter updates." alt="" coords="203,325,389,381"/>
<area shape="rect" href="classcarma__guidance__plugins_1_1PluginBaseNode.html#a9c9d8aa9324b12f941dc0be7394f98e7" title="Helper function for lazy initialization of wm_listener_. If already initialized method returns (ie...." alt="" coords="444,85,609,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10" title="parse strategy parameters" alt="" coords="450,245,603,301"/>
</map>
</div>

</div>
</div>
<a id="aeab86524ba8763b042e5673b736b4797" name="aeab86524ba8763b042e5673b736b4797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeab86524ba8763b042e5673b736b4797">&#9670;&nbsp;</a></span>parameter_update_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rcl_interfaces::msg::SetParametersResult lci_strategic_plugin::LCIStrategicPlugin::parameter_update_callback </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; rclcpp::Parameter &gt; &amp;&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for dynamic parameter updates. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00135">135</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>{</div>
<div class="line"><span class="lineno">  137</span>  <span class="keyword">auto</span> error_double = update_params&lt;double&gt;({</div>
<div class="line"><span class="lineno">  138</span>    {<span class="stringliteral">&quot;vehicle_acceleration_limit&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a>},</div>
<div class="line"><span class="lineno">  139</span>    {<span class="stringliteral">&quot;vehicle_deceleration_limit&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a>},</div>
<div class="line"><span class="lineno">  140</span>    {<span class="stringliteral">&quot;vehicle_decel_limit_multiplier&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>},</div>
<div class="line"><span class="lineno">  141</span>    {<span class="stringliteral">&quot;vehicle_accel_limit_multiplier&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>},</div>
<div class="line"><span class="lineno">  142</span>    {<span class="stringliteral">&quot;min_approach_distance&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a8a79158c6b90827592dbc7d6a2cb5d4a">min_approach_distance</a>},</div>
<div class="line"><span class="lineno">  143</span>    {<span class="stringliteral">&quot;trajectory_smoothing_activation_distance&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">trajectory_smoothing_activation_distance</a>},</div>
<div class="line"><span class="lineno">  144</span>    {<span class="stringliteral">&quot;stopping_location_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>},</div>
<div class="line"><span class="lineno">  145</span>    {<span class="stringliteral">&quot;green_light_time_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a>},</div>
<div class="line"><span class="lineno">  146</span>    {<span class="stringliteral">&quot;algo_minimum_speed&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>},</div>
<div class="line"><span class="lineno">  147</span>    {<span class="stringliteral">&quot;deceleration_fraction&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">deceleration_fraction</a>},</div>
<div class="line"><span class="lineno">  148</span>    {<span class="stringliteral">&quot;desired_distance_to_stop_buffer&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab79bce20a6f3373603ad92b33b1f4232">desired_distance_to_stop_buffer</a>},</div>
<div class="line"><span class="lineno">  149</span>    {<span class="stringliteral">&quot;min_maneuver_planning_period&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a>},</div>
<div class="line"><span class="lineno">  150</span>    {<span class="stringliteral">&quot;mobility_rate&quot;</span>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab660df5cc3ba479a07f190e00c9ebbea">mobility_rate</a>},</div>
<div class="line"><span class="lineno">  151</span>  }, parameters);</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>  rcl_interfaces::msg::SetParametersResult result;</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>  result.successful = !error_double;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>  <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">  158</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00050">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00054">lci_strategic_plugin::LCIStrategicPluginConfig::deceleration_fraction</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00057">lci_strategic_plugin::LCIStrategicPluginConfig::desired_distance_to_stop_buffer</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00047">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00038">lci_strategic_plugin::LCIStrategicPluginConfig::min_approach_distance</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00060">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00072">lci_strategic_plugin::LCIStrategicPluginConfig::mobility_rate</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00044">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00041">lci_strategic_plugin::LCIStrategicPluginConfig::trajectory_smoothing_activation_distance</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00032">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00035">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, and <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aeab86524ba8763b042e5673b736b4797_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aeab86524ba8763b042e5673b736b4797_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aeab86524ba8763b042e5673b736b4797_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aeab86524ba8763b042e5673b736b4797_icgraph">
<area shape="rect" title="Callback for dynamic parameter updates." alt="" coords="196,5,383,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5792a0a80197c6f6683c0531693ac9b6" title="Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states...." alt="" coords="5,5,148,61"/>
</map>
</div>

</div>
</div>
<a id="a912dc09be0b318510a8e50df38f80b10" name="a912dc09be0b318510a8e50df38f80b10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912dc09be0b318510a8e50df38f80b10">&#9670;&nbsp;</a></span>parseStrategyParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::parseStrategyParams </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strategy_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>parse strategy parameters </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">strategy_params</td><td>input string of strategy params from mob op msg </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01178">1178</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1179</span>{</div>
<div class="line"><span class="lineno"> 1180</span>  <span class="comment">// sample strategy_params: &quot;et:1634067059&quot;</span></div>
<div class="line"><span class="lineno"> 1181</span>  std::string params = strategy_params;</div>
<div class="line"><span class="lineno"> 1182</span>  std::vector&lt;std::string&gt; inputsParams;</div>
<div class="line"><span class="lineno"> 1183</span>  <a class="code hl_variable" href="namespaceprocess__traj__logs.html#a3682477a3431f2a4aa182fb9a6439125">boost::algorithm::split</a>(inputsParams, params, boost::is_any_of(<span class="stringliteral">&quot;,&quot;</span>));</div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>  std::vector&lt;std::string&gt; et_parsed;</div>
<div class="line"><span class="lineno"> 1186</span>  <a class="code hl_variable" href="namespaceprocess__traj__logs.html#a3682477a3431f2a4aa182fb9a6439125">boost::algorithm::split</a>(et_parsed, inputsParams[0], boost::is_any_of(<span class="stringliteral">&quot;:&quot;</span>));</div>
<div class="line"><span class="lineno"> 1187</span>  <span class="keyword">auto</span> new_scheduled_enter_time = std::stoull(et_parsed[1]);</div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> != new_scheduled_enter_time) <span class="comment">//reset green buffer cache so it can be re-evaluated</span></div>
<div class="line"><span class="lineno"> 1190</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27f805a687c1d09b8e21087c5b2ff0e8">nearest_green_entry_time_cached_</a> = boost::none;</div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> = new_scheduled_enter_time;</div>
<div class="line"><span class="lineno"> 1193</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;scheduled_enter_time_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a>);</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>}</div>
<div class="ttc" id="anamespaceprocess__traj__logs_html_a3682477a3431f2a4aa182fb9a6439125"><div class="ttname"><a href="namespaceprocess__traj__logs.html#a3682477a3431f2a4aa182fb9a6439125">process_traj_logs.split</a></div><div class="ttdeci">split</div><div class="ttdef"><b>Definition:</b> <a href="process__traj__logs_8py_source.html#l00165">process_traj_logs.py:165</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00218">nearest_green_entry_time_cached_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00203">scheduled_enter_time_</a>, and <a class="el" href="process__traj__logs_8py_source.html#l00165">process_traj_logs::split</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01151">mobilityOperationCb()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a912dc09be0b318510a8e50df38f80b10_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a912dc09be0b318510a8e50df38f80b10_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a912dc09be0b318510a8e50df38f80b10_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a912dc09be0b318510a8e50df38f80b10_icgraph">
<area shape="rect" title="parse strategy parameters" alt="" coords="388,5,541,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a34442f32d60fb954ab9369c81a44fc38" title="callback function for mobility operation" alt="" coords="196,5,340,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5792a0a80197c6f6683c0531693ac9b6" title="Method which is triggered when this plugin is moved from the UNCONFIGURED to INACTIVE states...." alt="" coords="5,5,148,61"/>
</map>
</div>

</div>
</div>
<a id="ad65725dd343bd293e7f990818f4eca6d" name="ad65725dd343bd293e7f990818f4eca6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad65725dd343bd293e7f990818f4eca6d">&#9670;&nbsp;</a></span>plan_maneuvers_callback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::plan_maneuvers_callback </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; rmw_request_id_t &gt;&#160;</td>
          <td class="paramname"><em>srv_header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Service callback for arbitrator maneuver planning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If service call successed </dd></dl>

<p>Implements <a class="el" href="classcarma__guidance__plugins_1_1StrategicPlugin.html#ad8b186f3d6ed586d42315b67c5b93bff">carma_guidance_plugins::StrategicPlugin</a>.</p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">1262</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1266</span>{</div>
<div class="line"><span class="lineno"> 1267</span>  std::chrono::system_clock::time_point execution_start_time = std::chrono::system_clock::now();  <span class="comment">// Start timing the execution time for planning so it can be logged</span></div>
<div class="line"><span class="lineno"> 1268</span>  </div>
<div class="line"><span class="lineno"> 1269</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; STARTING LCI_STRATEGIC_PLAN!!!!!!!!! &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1270</span> </div>
<div class="line"><span class="lineno"> 1271</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getRoute())</div>
<div class="line"><span class="lineno"> 1272</span>  {</div>
<div class="line"><span class="lineno"> 1273</span>    RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Could not plan maneuvers as route was not available&quot;</span>);</div>
<div class="line"><span class="lineno"> 1274</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1275</span>  }</div>
<div class="line"><span class="lineno"> 1276</span> </div>
<div class="line"><span class="lineno"> 1277</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> ==<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno"> 1278</span>  {</div>
<div class="line"><span class="lineno"> 1279</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a>)</div>
<div class="line"><span class="lineno"> 1280</span>  {</div>
<div class="line"><span class="lineno"> 1281</span>    resp-&gt;new_plan.maneuvers = {};</div>
<div class="line"><span class="lineno"> 1282</span>    RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>),<span class="stringliteral">&quot;Not approaching light-controlled intersection so no maneuvers&quot;</span>);</div>
<div class="line"><span class="lineno"> 1283</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1284</span>  }</div>
<div class="line"><span class="lineno"> 1285</span> </div>
<div class="line"><span class="lineno"> 1286</span>  <span class="keywordtype">bool</span> is_empty_schedule_msg = (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> == 0);</div>
<div class="line"><span class="lineno"> 1287</span>  <span class="keywordflow">if</span> (is_empty_schedule_msg)</div>
<div class="line"><span class="lineno"> 1288</span>  {</div>
<div class="line"><span class="lineno"> 1289</span>    resp-&gt;new_plan.maneuvers = {};</div>
<div class="line"><span class="lineno"> 1290</span>    RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>),<span class="stringliteral">&quot;Receiving empty schedule message&quot;</span>);</div>
<div class="line"><span class="lineno"> 1291</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1292</span>  }</div>
<div class="line"><span class="lineno"> 1293</span>  }</div>
<div class="line"><span class="lineno"> 1294</span> </div>
<div class="line"><span class="lineno"> 1295</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Finding car information&quot;</span>);</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>  <span class="comment">// Extract vehicle data from request</span></div>
<div class="line"><span class="lineno"> 1298</span>  VehicleState current_state = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27d7979b9644a3747468ecf68212c3de">extractInitialState</a>(req);</div>
<div class="line"><span class="lineno"> 1299</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>() != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">TransitState::UNAVAILABLE</a> &amp;&amp; !req-&gt;prior_plan.maneuvers.empty())</div>
<div class="line"><span class="lineno"> 1300</span>  {</div>
<div class="line"><span class="lineno"> 1301</span>    RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>),<span class="stringliteral">&quot;State is NOT UNAVAILABLE AND Maneuvers in request is NOT empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 1302</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1303</span>  }</div>
<div class="line"><span class="lineno"> 1304</span>  <span class="comment">// Get current traffic light information</span></div>
<div class="line"><span class="lineno"> 1305</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;\n\nFinding traffic_light information&quot;</span>);</div>
<div class="line"><span class="lineno"> 1306</span> </div>
<div class="line"><span class="lineno"> 1307</span>  <span class="keyword">auto</span> inter_list = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getSignalizedIntersectionsAlongRoute({ req-&gt;veh_x, req-&gt;veh_y });</div>
<div class="line"><span class="lineno"> 1308</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a31499f8e464eedc17d071335fb9ce1ad">upcoming_id_</a>= inter_list.front()-&gt;id();</div>
<div class="line"><span class="lineno"> 1309</span> </div>
<div class="line"><span class="lineno"> 1310</span>  <span class="keyword">auto</span> traffic_list = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getSignalsAlongRoute({ req-&gt;veh_x, req-&gt;veh_y });</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Found traffic lights of size: &quot;</span> &lt;&lt; traffic_list.size());</div>
<div class="line"><span class="lineno"> 1313</span> </div>
<div class="line"><span class="lineno"> 1314</span>  <span class="keyword">auto</span> current_lanelets = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getLaneletsFromPoint({ req-&gt;veh_x, req-&gt;veh_y});</div>
<div class="line"><span class="lineno"> 1315</span>  lanelet::ConstLanelet current_lanelet;</div>
<div class="line"><span class="lineno"> 1316</span>  </div>
<div class="line"><span class="lineno"> 1317</span>  <span class="keywordflow">if</span> (current_lanelets.empty())</div>
<div class="line"><span class="lineno"> 1318</span>  {</div>
<div class="line"><span class="lineno"> 1319</span>    RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Given vehicle position is not on the road! Returning...&quot;</span>);</div>
<div class="line"><span class="lineno"> 1320</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1321</span>  }</div>
<div class="line"><span class="lineno"> 1322</span> </div>
<div class="line"><span class="lineno"> 1323</span>  <span class="comment">// get the lanelet that is on the route in case overlapping ones found</span></div>
<div class="line"><span class="lineno"> 1324</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> llt : current_lanelets)</div>
<div class="line"><span class="lineno"> 1325</span>  {</div>
<div class="line"><span class="lineno"> 1326</span>    <span class="keyword">auto</span> <a class="code hl_namespace" href="namespaceroute.html">route</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getRoute()-&gt;shortestPath();</div>
<div class="line"><span class="lineno"> 1327</span>    <span class="keywordflow">if</span> (std::find(<a class="code hl_namespace" href="namespaceroute.html">route</a>.begin(), <a class="code hl_namespace" href="namespaceroute.html">route</a>.end(), llt) != <a class="code hl_namespace" href="namespaceroute.html">route</a>.end())</div>
<div class="line"><span class="lineno"> 1328</span>    {</div>
<div class="line"><span class="lineno"> 1329</span>      current_lanelet = llt;</div>
<div class="line"><span class="lineno"> 1330</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1331</span>    }</div>
<div class="line"><span class="lineno"> 1332</span>  }</div>
<div class="line"><span class="lineno"> 1333</span> </div>
<div class="line"><span class="lineno"> 1334</span>  lanelet::CarmaTrafficSignalPtr nearest_traffic_signal = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1335</span>  </div>
<div class="line"><span class="lineno"> 1336</span>  lanelet::ConstLanelet entry_lanelet;</div>
<div class="line"><span class="lineno"> 1337</span>  lanelet::ConstLanelet exit_lanelet;</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> signal : traffic_list)</div>
<div class="line"><span class="lineno"> 1340</span>  {</div>
<div class="line"><span class="lineno"> 1341</span>    <span class="keyword">auto</span> optional_entry_exit = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getEntryExitOfSignalAlongRoute(signal);</div>
<div class="line"><span class="lineno"> 1342</span>    <span class="comment">// if signal is not matching our destination skip</span></div>
<div class="line"><span class="lineno"> 1343</span>    <span class="keywordflow">if</span> (!optional_entry_exit)</div>
<div class="line"><span class="lineno"> 1344</span>    {</div>
<div class="line"><span class="lineno"> 1345</span>      RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Did not find entry.exit along the route&quot;</span>);</div>
<div class="line"><span class="lineno"> 1346</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1347</span>    }</div>
<div class="line"><span class="lineno"> 1348</span>      </div>
<div class="line"><span class="lineno"> 1349</span>    entry_lanelet = optional_entry_exit.get().first;</div>
<div class="line"><span class="lineno"> 1350</span>    exit_lanelet = optional_entry_exit.get().second;</div>
<div class="line"><span class="lineno"> 1351</span> </div>
<div class="line"><span class="lineno"> 1352</span>    nearest_traffic_signal = signal;</div>
<div class="line"><span class="lineno"> 1353</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1354</span>  }</div>
<div class="line"><span class="lineno"> 1355</span> </div>
<div class="line"><span class="lineno"> 1356</span> </div>
<div class="line"><span class="lineno"> 1357</span>  <a class="code hl_enumeration" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0">TransitState</a> prev_state;</div>
<div class="line"><span class="lineno"> 1358</span> </div>
<div class="line"><span class="lineno"> 1359</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1360</span>  {</div>
<div class="line"><span class="lineno"> 1361</span>    <span class="comment">// Clear previous maneuvers planned by this plugin as guard against state change since each state generates an</span></div>
<div class="line"><span class="lineno"> 1362</span>    <span class="comment">// independent set of maneuvers</span></div>
<div class="line"><span class="lineno"> 1363</span>    resp-&gt;new_plan = carma_planning_msgs::msg::ManeuverPlan();</div>
<div class="line"><span class="lineno"> 1364</span> </div>
<div class="line"><span class="lineno"> 1365</span>    prev_state = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>();  <span class="comment">// Cache previous state to check if state has changed after 1 iteration</span></div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>    RCLCPP_INFO_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Planning in state: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>());</div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span>    boost::optional&lt;std::pair&lt;boost::posix_time::ptime, lanelet::CarmaTrafficSignalState&gt;&gt; current_light_state_optional = boost::none;</div>
<div class="line"><span class="lineno"> 1370</span>    <span class="keywordflow">if</span> (nearest_traffic_signal)</div>
<div class="line"><span class="lineno"> 1371</span>    {</div>
<div class="line"><span class="lineno"> 1372</span>      current_light_state_optional = nearest_traffic_signal-&gt;predictState(lanelet::time::timeFromSec(current_state.stamp.seconds()));</div>
<div class="line"><span class="lineno"> 1373</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Real-time current signal: &quot;</span> &lt;&lt; current_light_state_optional.get().second &lt;&lt; <span class="stringliteral">&quot;, for Id: &quot;</span> &lt;&lt; nearest_traffic_signal-&gt;id());</div>
<div class="line"><span class="lineno"> 1374</span>    }</div>
<div class="line"><span class="lineno"> 1375</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>())</div>
<div class="line"><span class="lineno"> 1376</span>    {</div>
<div class="line"><span class="lineno"> 1377</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">TransitState::UNAVAILABLE</a>:</div>
<div class="line"><span class="lineno"> 1378</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa093ee7a424c8aa3a15801e510795c54">planWhenUNAVAILABLE</a>(req, resp, current_state, nearest_traffic_signal, entry_lanelet, exit_lanelet, current_lanelet);</div>
<div class="line"><span class="lineno"> 1379</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1380</span> </div>
<div class="line"><span class="lineno"> 1381</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">TransitState::APPROACHING</a>:</div>
<div class="line"><span class="lineno"> 1382</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3">planWhenAPPROACHING</a>(req, resp, current_state, nearest_traffic_signal, entry_lanelet, exit_lanelet, current_lanelet);</div>
<div class="line"><span class="lineno"> 1383</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1384</span> </div>
<div class="line"><span class="lineno"> 1385</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">TransitState::WAITING</a>:</div>
<div class="line"><span class="lineno"> 1386</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509">planWhenWAITING</a>(req, resp, current_state, nearest_traffic_signal, entry_lanelet, exit_lanelet, current_lanelet);</div>
<div class="line"><span class="lineno"> 1387</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1388</span> </div>
<div class="line"><span class="lineno"> 1389</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">TransitState::DEPARTING</a>:</div>
<div class="line"><span class="lineno"> 1390</span>        <span class="comment">// Reset intersection state since we are no longer in an intersection</span></div>
<div class="line"><span class="lineno"> 1391</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a> || !<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>)</div>
<div class="line"><span class="lineno"> 1392</span>        {</div>
<div class="line"><span class="lineno"> 1393</span>          <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;State is DEPARTING but the intersection variables are not available&quot;</span>);</div>
<div class="line"><span class="lineno"> 1394</span>        }</div>
<div class="line"><span class="lineno"> 1395</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4778775fa282372e99b562a78d1c505e">planWhenDEPARTING</a>(req, resp, current_state, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get());</div>
<div class="line"><span class="lineno"> 1396</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1399</span>        <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;LCIStrategic Strategic Plugin entered unknown state&quot;</span>);</div>
<div class="line"><span class="lineno"> 1400</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1401</span>    }</div>
<div class="line"><span class="lineno"> 1402</span> </div>
<div class="line"><span class="lineno"> 1403</span>  } <span class="keywordflow">while</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>() != prev_state);  <span class="comment">// If the state has changed then continue looping</span></div>
<div class="line"><span class="lineno"> 1404</span> </div>
<div class="line"><span class="lineno"> 1405</span>  std::chrono::system_clock::time_point execution_end_time = std::chrono::system_clock::now();  <span class="comment">// Planning complete</span></div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span>  <span class="keyword">auto</span> execution_duration = execution_end_time - execution_start_time;</div>
<div class="line"><span class="lineno"> 1408</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;ExecutionTime lci_strategic_plugin: &quot;</span> &lt;&lt; std::chrono::duration&lt;double&gt;(execution_duration).count());</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1411</span>  <span class="comment">// We need to evaluate the events so the state transitions can be triggered</span></div>
<div class="line"><span class="lineno"> 1412</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a27d7979b9644a3747468ecf68212c3de"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27d7979b9644a3747468ecf68212c3de">lci_strategic_plugin::LCIStrategicPlugin::extractInitialState</a></div><div class="ttdeci">VehicleState extractInitialState(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req) const</div><div class="ttdoc">Helper method to extract the initial vehicle state from the planning request method based on if the p...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00236">lci_strategic_plugin.cpp:236</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a4778775fa282372e99b562a78d1c505e"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4778775fa282372e99b562a78d1c505e">lci_strategic_plugin::LCIStrategicPlugin::planWhenDEPARTING</a></div><div class="ttdeci">void planWhenDEPARTING(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const VehicleState &amp;current_state, double intersection_end_downtrack, double intersection_speed_limit)</div><div class="ttdoc">Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01122">lci_strategic_plugin.cpp:1122</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a87185f4914dd728a5792e30512a66509"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509">lci_strategic_plugin::LCIStrategicPlugin::planWhenWAITING</a></div><div class="ttdeci">void planWhenWAITING(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const VehicleState &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</div><div class="ttdoc">Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01055">lci_strategic_plugin.cpp:1055</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa093ee7a424c8aa3a15801e510795c54"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa093ee7a424c8aa3a15801e510795c54">lci_strategic_plugin::LCIStrategicPlugin::planWhenUNAVAILABLE</a></div><div class="ttdeci">void planWhenUNAVAILABLE(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const VehicleState &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</div><div class="ttdoc">Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00742">lci_strategic_plugin.cpp:742</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad91f88df811c604adc00532d3a358ec3"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3">lci_strategic_plugin::LCIStrategicPlugin::planWhenAPPROACHING</a></div><div class="ttdeci">void planWhenAPPROACHING(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const VehicleState &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</div><div class="ttdoc">Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00812">lci_strategic_plugin.cpp:812</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ada2e0860177c4a9126e3f7469a555124"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">lci_strategic_plugin::LCIStrategicPlugin::transition_table_</a></div><div class="ttdeci">LCIStrategicStateTransitionTable transition_table_</div><div class="ttdoc">State Machine Transition table.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00239">lci_strategic_plugin.hpp:239</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicStateTransitionTable_html_a1f935bf4e5750bd07b6d17a198749905"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">lci_strategic_plugin::LCIStrategicStateTransitionTable::getState</a></div><div class="ttdeci">TransitState getState() const</div><div class="ttdoc">Returns the current state.</div><div class="ttdef"><b>Definition:</b> <a href="lci__state__transition__table_8cpp_source.html#l00029">lci_state_transition_table.cpp:29</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0">lci_strategic_plugin::TransitState</a></div><div class="ttdeci">TransitState</div><div class="ttdoc">Enum describing the possible states of the LCIStrategic Strategic Plugin.</div><div class="ttdef"><b>Definition:</b> <a href="lci__states_8hpp_source.html#l00024">lci_states.hpp:25</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">lci_strategic_plugin::TransitState::UNAVAILABLE</a></div><div class="ttdeci">@ UNAVAILABLE</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">lci_strategic_plugin::TransitState::WAITING</a></div><div class="ttdeci">@ WAITING</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">lci_strategic_plugin::TransitState::DEPARTING</a></div><div class="ttdeci">@ DEPARTING</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">lci_strategic_plugin::TransitState::APPROACHING</a></div><div class="ttdeci">@ APPROACHING</div></div>
<div class="ttc" id="anamespaceroute_html"><div class="ttname"><a href="namespaceroute.html">route</a></div><div class="ttdef"><b>Definition:</b> <a href="route__config_8hpp_source.html#l00022">route_config.hpp:23</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">lci_strategic_plugin::APPROACHING</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00233">approaching_light_controlled_intersection_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">lci_strategic_plugin::DEPARTING</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00069">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00236">extractInitialState()</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00029">lci_strategic_plugin::LCIStrategicStateTransitionTable::getState()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00243">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00242">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01122">planWhenDEPARTING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">planWhenWAITING()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00203">scheduled_enter_time_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00239">transition_table_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">lci_strategic_plugin::UNAVAILABLE</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00205">upcoming_id_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">lci_strategic_plugin::WAITING</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00256">wm_</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad65725dd343bd293e7f990818f4eca6d_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad65725dd343bd293e7f990818f4eca6d_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad65725dd343bd293e7f990818f4eca6d_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad65725dd343bd293e7f990818f4eca6d_cgraph">
<area shape="rect" title="Service callback for arbitrator maneuver planning." alt="" coords="5,2659,184,2715"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a27d7979b9644a3747468ecf68212c3de" title="Helper method to extract the initial vehicle state from the planning request method based on if the p..." alt="" coords="258,2626,395,2682"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905" title="Returns the current state." alt="" coords="232,3049,421,3105"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="235,2361,418,2417"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4778775fa282372e99b562a78d1c505e" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="491,2691,652,2747"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa093ee7a424c8aa3a15801e510795c54" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="237,2969,416,3025"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="500,2081,643,2137"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="721,2473,951,2529"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90" title="Given a Lanelet, find it&#39;s associated Speed Limit." alt="" coords="503,2969,640,3025"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="481,581,661,637"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5" title="Get boundary distances used to compare against current state in order to create trajectory smoothing ..." alt="" coords="503,1950,640,2006"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="490,1267,653,1323"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b" title="Get the final entry time from either vehicle&#39;s own internal ET calculation (TSMO UC2) or from carma&#45;s..." alt="" coords="500,2772,643,2843"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="1043,2273,1180,2329"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="503,1719,640,1775"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2" title="Determine the turn direction at intersection." alt="" coords="469,2321,673,2377"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="488,2161,655,2217"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="503,2561,640,2617"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1" title="Helper method to print TrajectoryParams." alt="" coords="1043,2675,1180,2731"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="477,2401,665,2457"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="503,2241,640,2297"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0" title="Helper method to print TrajectoryParams." alt="" coords="484,2481,659,2537"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="741,2942,931,2998"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f" title=" " alt="" coords="756,1033,916,1104"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60" title=" " alt="" coords="749,5,923,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3" title=" " alt="" coords="749,100,923,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f" title=" " alt="" coords="749,195,923,265"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a" title=" " alt="" coords="749,289,923,360"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72" title=" " alt="" coords="756,384,916,455"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208" title=" " alt="" coords="756,479,916,549"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090" title=" " alt="" coords="756,573,916,644"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496" title=" " alt="" coords="723,669,949,725"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d" title=" " alt="" coords="745,749,927,820"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c" title=" " alt="" coords="739,844,933,915"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2" title=" " alt="" coords="749,939,923,1009"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d" title="Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa..." alt="" coords="757,1304,915,1375"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0" title="Get required distance to accel then decel, or vise versa &#45; each at least once &#45; to reach departure_sp..." alt="" coords="757,1128,915,1199"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c" title="Get the speed between the acceleration and deceleration pieces." alt="" coords="744,1223,928,1279"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef" title="Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ..." alt="" coords="735,2779,937,2835"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="1294,2273,1439,2329"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a" title="Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations." alt="" coords="767,1639,905,1695"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0" title=" " alt="" coords="767,1719,905,1775"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d" title=" " alt="" coords="767,1799,905,1855"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a" title=" " alt="" coords="767,1879,905,1935"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e" title=" " alt="" coords="767,1959,905,2015"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f" title=" " alt="" coords="767,1399,905,1455"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2" title=" " alt="" coords="767,1479,905,1535"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c" title=" " alt="" coords="767,1559,905,1615"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f" title="Compose a stop and wait maneuver message based on input params." alt="" coords="729,2153,943,2224"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="736,2377,936,2448"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063" title="Compose a intersection transit maneuver message based on input params." alt="" coords="741,2553,931,2624"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="749,2649,923,2705"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="732,2273,940,2329"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="999,3022,1224,3078"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="1010,2942,1213,2998"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="1001,2782,1221,2838"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="1017,2862,1206,2918"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="1272,2942,1461,2998"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="1272,2862,1461,2918"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697" title="Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs." alt="" coords="479,3049,663,3105"/>
</map>
</div>

</div>
</div>
<a id="ad91f88df811c604adc00532d3a358ec3" name="ad91f88df811c604adc00532d3a358ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad91f88df811c604adc00532d3a358ec3">&#9670;&nbsp;</a></span>planWhenAPPROACHING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::planWhenAPPROACHING </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>current_lanelet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">TransitState::APPROACHING</a> Therefore the planned maneuvers deal with approaching a traffic light. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>The current state of the vehicle at the start of planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>The single traffic light along the vehicle's route in the intersection that is relevant and in front of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>The entry lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>The exit lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_lanelet</td><td>The current lanelet the vehicle's state is on </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">if</td><td>given entry_lanelet doesn't have stop_line or speed profile case number was failed to be calculated NOTE: if there is empty traffic_light, it signals that the vehicle has crossed the bar, or if invalid light state is given </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">812</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  815</span>{</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>  <span class="keywordflow">if</span> (!traffic_light)  <span class="comment">// If we are in the approaching state and there is no longer any lights ahead of us then</span></div>
<div class="line"><span class="lineno">  819</span>                       <span class="comment">// the vehicle must have crossed the stop bar</span></div>
<div class="line"><span class="lineno">  820</span>  {</div>
<div class="line"><span class="lineno">  821</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb">TransitEvent::CROSSED_STOP_BAR</a>);</div>
<div class="line"><span class="lineno">  822</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  823</span>  }</div>
<div class="line"><span class="lineno">  824</span> </div>
<div class="line"><span class="lineno">  825</span>  <span class="keywordtype">double</span> current_state_speed = std::max(current_state.speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a> * 1.001);</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>  <span class="keyword">auto</span> stop_line = traffic_light-&gt;getStopLine(entry_lanelet);</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="line"><span class="lineno">  829</span>  <span class="keywordflow">if</span> (!stop_line)</div>
<div class="line"><span class="lineno">  830</span>  {</div>
<div class="line"><span class="lineno">  831</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Given entry lanelet doesn&#39;t have stop_line...&quot;</span>);</div>
<div class="line"><span class="lineno">  832</span>  }</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>  <span class="keywordtype">double</span> traffic_light_down_track =</div>
<div class="line"><span class="lineno">  835</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;routeTrackPos(stop_line.get().front().basicPoint2d()).downtrack;</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;traffic_light_down_track: &quot;</span> &lt;&lt; traffic_light_down_track);</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>  <span class="keywordtype">double</span> distance_remaining_to_traffic_light = traffic_light_down_track - current_state.downtrack;</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">distance_remaining_to_tf_</a> = distance_remaining_to_traffic_light;</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>  <span class="keywordflow">if</span> (distance_remaining_to_traffic_light &lt; 0) <span class="comment">// there is small discrepancy between signal&#39;s routeTrackPos as well as current</span></div>
<div class="line"><span class="lineno">  844</span>  {                                            <span class="comment">// downtrack calculated using veh_x,y from state. Therefore, it may have crossed it </span></div>
<div class="line"><span class="lineno">  845</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Crossed the bar distance_remaining_to_traffic_light: &quot;</span> &lt;&lt; distance_remaining_to_traffic_light);</div>
<div class="line"><span class="lineno">  846</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb">TransitEvent::CROSSED_STOP_BAR</a>);</div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  848</span>  }</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>  <span class="comment">// At this point we know the vehicle is within the activation distance and we know the current and next light phases</span></div>
<div class="line"><span class="lineno">  851</span>  <span class="comment">// All we need to now determine is if we should stop or if we should continue</span></div>
<div class="line"><span class="lineno">  852</span>  lanelet::ConstLanelet intersection_lanelet;</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>  <span class="keyword">auto</span> <a class="code hl_namespace" href="namespaceroute.html">route</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getRoute()-&gt;shortestPath();</div>
<div class="line"><span class="lineno">  855</span>  <span class="keyword">auto</span> entry_llt_iter = std::find(<a class="code hl_namespace" href="namespaceroute.html">route</a>.begin(), <a class="code hl_namespace" href="namespaceroute.html">route</a>.end(), entry_lanelet);</div>
<div class="line"><span class="lineno">  856</span>  <span class="keywordflow">if</span> (entry_llt_iter != <a class="code hl_namespace" href="namespaceroute.html">route</a>.end())</div>
<div class="line"><span class="lineno">  857</span>  {</div>
<div class="line"><span class="lineno">  858</span>    intersection_lanelet = *(entry_llt_iter + 1);</div>
<div class="line"><span class="lineno">  859</span>  }</div>
<div class="line"><span class="lineno">  860</span>  </div>
<div class="line"><span class="lineno">  861</span>  <span class="keywordflow">if</span> (intersection_lanelet.id() != lanelet::InvalId)</div>
<div class="line"><span class="lineno">  862</span>  {</div>
<div class="line"><span class="lineno">  863</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a> = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>(intersection_lanelet); </div>
<div class="line"><span class="lineno">  864</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">intersection_turn_direction_</a> = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2">getTurnDirectionAtIntersection</a>({intersection_lanelet});</div>
<div class="line"><span class="lineno">  865</span>  }</div>
<div class="line"><span class="lineno">  866</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  867</span>  {</div>
<div class="line"><span class="lineno">  868</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a> = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>(exit_lanelet); </div>
<div class="line"><span class="lineno">  869</span>  }</div>
<div class="line"><span class="lineno">  870</span> </div>
<div class="line"><span class="lineno">  871</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get() * 0.999; <span class="comment">// so that speed_limit is not exactly same as departure or current speed</span></div>
<div class="line"><span class="lineno">  872</span> </div>
<div class="line"><span class="lineno">  873</span>  <span class="keywordtype">double</span> speed_limit = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>(current_lanelet);</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>  current_state_speed = std::min(current_state_speed, speed_limit - 5 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>); <span class="comment">// so that current_speed is not exactly same as departure or speed limit</span></div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;current_state_speed: &quot;</span> &lt;&lt; current_state_speed);</div>
<div class="line"><span class="lineno">  878</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;intersection_speed_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get());</div>
<div class="line"><span class="lineno">  879</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;distance_remaining_to_traffic_light: &quot;</span> &lt;&lt; distance_remaining_to_traffic_light);</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a> =</div>
<div class="line"><span class="lineno">  882</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;routeTrackPos(exit_lanelet.centerline2d().front().basicPoint2d()).downtrack;</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;intersection_end_downtrack_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get());</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>  <span class="comment">// If the vehicle is at a stop trigger the stopped state</span></div>
<div class="line"><span class="lineno">  887</span>  <span class="keyword">constexpr</span> <span class="keywordtype">double</span> HALF_MPH_IN_MPS = 0.22352;</div>
<div class="line"><span class="lineno">  888</span>  <span class="keywordflow">if</span> (current_state.speed &lt; HALF_MPH_IN_MPS &amp;&amp;</div>
<div class="line"><span class="lineno">  889</span>      fabs(distance_remaining_to_traffic_light) &lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>)</div>
<div class="line"><span class="lineno">  890</span>  {</div>
<div class="line"><span class="lineno">  891</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a09d4d696b4e935115b9313e3c412509a">TransitEvent::STOPPED</a>);  <span class="comment">// The vehicle has come to a stop at the light</span></div>
<div class="line"><span class="lineno">  892</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CARMA has detected that the vehicle stopped at the stop bar. Transitioning to WAITING STATE&quot;</span>);</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  895</span>  }</div>
<div class="line"><span class="lineno">  896</span>  </div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>  rclcpp::Time earliest_entry_time = current_state.stamp + <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666">get_earliest_entry_time</a>(distance_remaining_to_traffic_light, speed_limit, </div>
<div class="line"><span class="lineno">  900</span>                                                  current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>);</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;earliest_entry_time: &quot;</span> &lt;&lt; std::to_string(earliest_entry_time.seconds()) &lt;&lt; <span class="stringliteral">&quot;, with : &quot;</span> &lt;&lt; std::to_string((earliest_entry_time - current_state.stamp).seconds())  &lt;&lt; <span class="stringliteral">&quot; left at: &quot;</span> &lt;&lt; std::to_string(current_state.stamp.seconds()));</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>  <span class="keyword">auto</span> [nearest_green_entry_time, is_entry_time_within_green_or_tbd, in_tbd] = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b">get_final_entry_time_and_conditions</a>(current_state, earliest_entry_time, traffic_light);</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>  <span class="keywordflow">if</span> (nearest_green_entry_time == rclcpp::Time(0))</div>
<div class="line"><span class="lineno">  907</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Final nearest_green_entry_time: &quot;</span> &lt;&lt; std::to_string(nearest_green_entry_time.seconds()));</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>  <span class="keyword">auto</span> et_state = traffic_light-&gt;predictState(lanelet::time::timeFromSec(nearest_green_entry_time.seconds()));</div>
<div class="line"><span class="lineno">  912</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Signal at ET: &quot;</span> &lt;&lt; et_state.get().second);</div>
<div class="line"><span class="lineno">  913</span>  </div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>  <span class="keywordtype">double</span> remaining_time = nearest_green_entry_time.seconds() - current_state.stamp.seconds();</div>
<div class="line"><span class="lineno">  917</span>  <span class="keywordtype">double</span> remaining_time_earliest_entry = earliest_entry_time.seconds() - current_state.stamp.seconds();</div>
<div class="line"><span class="lineno">  918</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">scheduled_entry_time_</a> = remaining_time; <span class="comment">// performance metric</span></div>
<div class="line"><span class="lineno">  919</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad58c69bcf68ab67c8d15fd91d46fcb87">earliest_entry_time_</a> = remaining_time_earliest_entry; <span class="comment">// performance metric</span></div>
<div class="line"><span class="lineno">  920</span>  </div>
<div class="line"><span class="lineno">  921</span>  <span class="keyword">auto</span> boundary_distances = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5">get_delta_x</a>(current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), speed_limit, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>);</div>
<div class="line"><span class="lineno">  922</span>  <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0">print_boundary_distances</a>(boundary_distances); <span class="comment">//debug</span></div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span>  <span class="keyword">auto</span> boundary_traj_params = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8">get_boundary_traj_params</a>(rclcpp::Time(req-&gt;header.stamp, RCL_SYSTEM_TIME).seconds(), current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), speed_limit, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>, current_state.downtrack, traffic_light_down_track, distance_remaining_to_traffic_light, boundary_distances);</div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span>  TrajectoryParams ts_params = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3">get_ts_case</a>(rclcpp::Time(req-&gt;header.stamp, RCL_SYSTEM_TIME).seconds(), nearest_green_entry_time.seconds(), current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), speed_limit, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>, current_state.downtrack, traffic_light_down_track, distance_remaining_to_traffic_light, boundary_distances, boundary_traj_params);</div>
<div class="line"><span class="lineno">  927</span>  <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a>(ts_params);</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;SPEED PROFILE CASE:&quot;</span> &lt;&lt; ts_params.case_num);</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  932</span>  <span class="keywordtype">double</span> emergency_distance_to_stop = pow(current_state.speed, 2)/(2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a357ad8adde3161651507d8e399431bfc">emergency_decel_norm_</a>) + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a> / 2; <span class="comment">//Idea is to aim the middle part of stopping buffer</span></div>
<div class="line"><span class="lineno">  933</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;emergency_distance_to_stop at emergency_decel_norm_ (with stopping_location_buffer/2):  &quot;</span> &lt;&lt; emergency_distance_to_stop &lt;&lt; <span class="stringliteral">&quot;, emergency_decel_norm_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a357ad8adde3161651507d8e399431bfc">emergency_decel_norm_</a>);</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>  <span class="keywordtype">double</span> safe_distance_to_stop = pow(current_state.speed, 2)/(2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a>) + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a> / 2; <span class="comment">//Idea is to aim the middle part of stopping buffer</span></div>
<div class="line"><span class="lineno">  936</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;safe_distance_to_stop at max_comfort_decel (with stopping_location_buffer/2):  &quot;</span> &lt;&lt; safe_distance_to_stop &lt;&lt; <span class="stringliteral">&quot;, max_comfort_decel_norm_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a>);</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>  <span class="keywordtype">double</span> desired_distance_to_stop = pow(current_state.speed, 2)/(2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">deceleration_fraction</a>) + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab79bce20a6f3373603ad92b33b1f4232">desired_distance_to_stop_buffer</a>;</div>
<div class="line"><span class="lineno">  939</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;desired_distance_to_stop at: &quot;</span> &lt;&lt; desired_distance_to_stop &lt;&lt; <span class="stringliteral">&quot;, where effective deceleration rate is: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">deceleration_fraction</a>);</div>
<div class="line"><span class="lineno">  940</span>  </div>
<div class="line"><span class="lineno">  941</span>  emergency_distance_to_stop = std::max(emergency_distance_to_stop, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>);</div>
<div class="line"><span class="lineno">  942</span>  safe_distance_to_stop = std::max(safe_distance_to_stop, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>);</div>
<div class="line"><span class="lineno">  943</span>  desired_distance_to_stop = std::max(desired_distance_to_stop, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>);</div>
<div class="line"><span class="lineno">  944</span> </div>
<div class="line"><span class="lineno">  945</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;new emergency_distance_to_stop: &quot;</span> &lt;&lt; emergency_distance_to_stop);</div>
<div class="line"><span class="lineno">  946</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;new safe_distance_to_stop: &quot;</span> &lt;&lt; safe_distance_to_stop);</div>
<div class="line"><span class="lineno">  947</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;new desired_distance_to_stop: &quot;</span> &lt;&lt; desired_distance_to_stop);</div>
<div class="line"><span class="lineno">  948</span> </div>
<div class="line"><span class="lineno">  949</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;distance_remaining_to_traffic_light:  &quot;</span> &lt;&lt; distance_remaining_to_traffic_light &lt;&lt; <span class="stringliteral">&quot;, current_state.speed: &quot;</span> &lt;&lt; current_state.speed);</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>  <span class="comment">// Basic RED signal violation check</span></div>
<div class="line"><span class="lineno">  952</span>  <span class="keywordflow">if</span> (distance_remaining_to_traffic_light &lt;= emergency_distance_to_stop || <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bacfe02bba2d0d58f65b97219819aa9013">TSCase::EMERGENCY_STOPPING</a>)</div>
<div class="line"><span class="lineno">  953</span>  {</div>
<div class="line"><span class="lineno">  954</span>    <span class="keywordflow">if</span> (in_tbd) <span class="comment">// Given ET is in TBD, but vehicle is too close to intersection</span></div>
<div class="line"><span class="lineno">  955</span>    {</div>
<div class="line"><span class="lineno">  956</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;ET is still in TBD despite the vehicle being in desired distance to start stopping. Trying to handle this edge case gracefully...&quot;</span>);</div>
<div class="line"><span class="lineno">  957</span>    }</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>    <span class="keywordtype">double</span> stopping_time = current_state.speed / 1.5 / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a>; <span class="comment">//one half the acceleration (twice the acceleration to stop) to account for emergency case, see emergency_decel_norm_</span></div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>    rclcpp::Time stopping_arrival_time =</div>
<div class="line"><span class="lineno">  962</span>          current_state.stamp + rclcpp::Duration(stopping_time * 1e9);</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;stopping_arrival_time: &quot;</span> &lt;&lt; std::to_string(stopping_arrival_time.seconds()));</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>    <span class="keyword">auto</span> stopping_arrival_state_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(stopping_arrival_time.seconds()));</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>(stopping_arrival_state_optional, stopping_arrival_time))</div>
<div class="line"><span class="lineno">  969</span>    {</div>
<div class="line"><span class="lineno">  970</span>      RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Unable to resolve give signal for stopping_arrival_state_optional: &quot;</span> &lt;&lt; std::to_string(stopping_arrival_time.seconds()));</div>
<div class="line"><span class="lineno">  971</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  972</span>    }</div>
<div class="line"><span class="lineno">  973</span> </div>
<div class="line"><span class="lineno">  974</span>    <span class="keywordflow">if</span> (stopping_arrival_state_optional.get().second == lanelet::CarmaTrafficSignalState::STOP_AND_REMAIN || <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bacfe02bba2d0d58f65b97219819aa9013">TSCase::EMERGENCY_STOPPING</a>) <span class="comment">// if once started emergency stopped, keep doing it to avoid jerkiness</span></div>
<div class="line"><span class="lineno">  975</span>    {</div>
<div class="line"><span class="lineno">  976</span>      RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>),<span class="stringliteral">&quot;Detected possible RED light violation! Stopping!&quot;</span>);</div>
<div class="line"><span class="lineno">  977</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">handleStopping</a>(req,resp, current_state, traffic_light, entry_lanelet, exit_lanelet, current_lanelet, traffic_light_down_track, <span class="keyword">true</span>); <span class="comment">//case_11</span></div>
<div class="line"><span class="lineno">  978</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bacfe02bba2d0d58f65b97219819aa9013">TSCase::EMERGENCY_STOPPING</a>;</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  981</span>    }</div>
<div class="line"><span class="lineno">  982</span>  }</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>  <span class="comment">// Check if the vehicle can arrive with certainty (Case 1-7)</span></div>
<div class="line"><span class="lineno">  985</span>  <span class="keywordflow">if</span> (ts_params.is_algorithm_successful &amp;&amp; ts_params.case_num != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a> &amp;&amp; </div>
<div class="line"><span class="lineno">  986</span>    (distance_remaining_to_traffic_light &gt;= desired_distance_to_stop || !in_tbd) &amp;&amp;</div>
<div class="line"><span class="lineno">  987</span>    is_entry_time_within_green_or_tbd) <span class="comment">// ET cannot be explicitly inside RED or YELLOW in available future states, which is ERROR case</span></div>
<div class="line"><span class="lineno">  988</span>  {</div>
<div class="line"><span class="lineno">  989</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345">handleGreenSignalScenario</a>(req, resp, current_state, current_state_speed, traffic_light, entry_lanelet, exit_lanelet, traffic_light_down_track, ts_params, in_tbd); <span class="comment">//in_tbd means optional to check certainty arrival at green</span></div>
<div class="line"><span class="lineno">  990</span>  </div>
<div class="line"><span class="lineno">  991</span>    <span class="keywordflow">if</span> (!resp-&gt;new_plan.maneuvers.empty()) <span class="comment">// able to pass at green</span></div>
<div class="line"><span class="lineno">  992</span>    {</div>
<div class="line"><span class="lineno">  993</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = ts_params.case_num;</div>
<div class="line"><span class="lineno">  994</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  995</span>    }</div>
<div class="line"><span class="lineno">  996</span>    </div>
<div class="line"><span class="lineno">  997</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Not able to make it with certainty: TSCase: &quot;</span> &lt;&lt; ts_params.case_num &lt;&lt; <span class="stringliteral">&quot;, changing it to 8&quot;</span>);</div>
<div class="line"><span class="lineno">  998</span>    ts_params = boundary_traj_params[7];</div>
<div class="line"><span class="lineno">  999</span>    ts_params.is_algorithm_successful = <span class="keyword">true</span>; <span class="comment">//false correspond to cases when vehicle is beyond safe_distance to stop for case8</span></div>
<div class="line"><span class="lineno"> 1000</span>    ts_params.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">CASE_8</a>;</div>
<div class="line"><span class="lineno"> 1001</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a>(ts_params);</div>
<div class="line"><span class="lineno"> 1002</span>  }</div>
<div class="line"><span class="lineno"> 1003</span>  </div>
<div class="line"><span class="lineno"> 1004</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Not able to make it with certainty: NEW TSCase: &quot;</span> &lt;&lt; ts_params.case_num);</div>
<div class="line"><span class="lineno"> 1005</span>  <span class="comment">// if algorithm is NOT successful or if the vehicle cannot make the green light with certainty</span></div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>  <span class="keywordflow">if</span> (desired_distance_to_stop &lt; distance_remaining_to_traffic_light &amp;&amp; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>) <span class="comment">// do not switch from STOPPING to case8 again</span></div>
<div class="line"><span class="lineno"> 1008</span>  {</div>
<div class="line"><span class="lineno"> 1009</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Way too early to stop. Cruising at CASE8&quot;</span>);</div>
<div class="line"><span class="lineno"> 1010</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970">handleCruisingUntilStop</a>(req, resp, current_state, current_state_speed, traffic_light, traffic_light_down_track, ts_params);</div>
<div class="line"><span class="lineno"> 1011</span>    </div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keywordflow">if</span> (!resp-&gt;new_plan.maneuvers.empty())</div>
<div class="line"><span class="lineno"> 1013</span>    {</div>
<div class="line"><span class="lineno"> 1014</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>;</div>
<div class="line"><span class="lineno"> 1015</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1016</span>    }</div>
<div class="line"><span class="lineno"> 1017</span>  }</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span>  <span class="keywordflow">if</span> ((safe_distance_to_stop &lt;= distance_remaining_to_traffic_light &amp;&amp; desired_distance_to_stop &gt;= distance_remaining_to_traffic_light) || </div>
<div class="line"><span class="lineno"> 1020</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>) <span class="comment">// if stopping continue stopping until transition to planwhenWAITING</span></div>
<div class="line"><span class="lineno"> 1021</span>  {</div>
<div class="line"><span class="lineno"> 1022</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Planning stopping now. last case:&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a>));</div>
<div class="line"><span class="lineno"> 1023</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">handleStopping</a>(req,resp, current_state, traffic_light, entry_lanelet, exit_lanelet, current_lanelet, traffic_light_down_track); <span class="comment">//case_9</span></div>
<div class="line"><span class="lineno"> 1024</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1025</span>  }</div>
<div class="line"><span class="lineno"> 1026</span> </div>
<div class="line"><span class="lineno"> 1027</span>  <span class="keywordflow">if</span> (safe_distance_to_stop &gt; distance_remaining_to_traffic_light)</div>
<div class="line"><span class="lineno"> 1028</span>  {</div>
<div class="line"><span class="lineno"> 1029</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;No longer within safe distance to stop! Decide to continue stopping or continue into intersection&quot;</span>);</div>
<div class="line"><span class="lineno"> 1030</span>    </div>
<div class="line"><span class="lineno"> 1031</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a> &amp;&amp; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">TSCase::UNAVAILABLE</a> &amp;&amp; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>) <span class="comment">//case 1-7 or emergency stop or handlefailure </span></div>
<div class="line"><span class="lineno"> 1032</span>    {</div>
<div class="line"><span class="lineno"> 1033</span>      <span class="comment">// 3. if not able to stop nor reach target speed at green, attempt its best to reach the target parameters at the intersection</span></div>
<div class="line"><span class="lineno"> 1034</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HANDLE_LAST_RESORT: The vehicle is not able to stop at red/yellow light nor is able to reach target speed at green. Attempting its best to pass through at green!&quot;</span>);</div>
<div class="line"><span class="lineno"> 1035</span>      </div>
<div class="line"><span class="lineno"> 1036</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89">handleFailureCase</a>(req, resp, current_state, current_state_speed, speed_limit, remaining_time, </div>
<div class="line"><span class="lineno"> 1037</span>                                    exit_lanelet.id(), traffic_light, traffic_light_down_track, ts_params);</div>
<div class="line"><span class="lineno"> 1038</span>      </div>
<div class="line"><span class="lineno"> 1039</span>      <span class="keywordflow">if</span> (resp-&gt;new_plan.maneuvers.empty())</div>
<div class="line"><span class="lineno"> 1040</span>      {</div>
<div class="line"><span class="lineno"> 1041</span>        RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>),<span class="stringliteral">&quot;HANDLE_SAFETY: Planning forced slow-down... last case:&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a>));</div>
<div class="line"><span class="lineno"> 1042</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">handleStopping</a>(req,resp, current_state, traffic_light, entry_lanelet, exit_lanelet, current_lanelet, traffic_light_down_track, <span class="keyword">true</span>); <span class="comment">//case_11 emergency case with twice the normal deceleration</span></div>
<div class="line"><span class="lineno"> 1043</span>      }</div>
<div class="line"><span class="lineno"> 1044</span>    }</div>
<div class="line"><span class="lineno"> 1045</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1046</span>    {</div>
<div class="line"><span class="lineno"> 1047</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;HANDLE_SAFETY: Planning to keep stopping now. last case:&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a>));</div>
<div class="line"><span class="lineno"> 1048</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">handleStopping</a>(req,resp, current_state, traffic_light, entry_lanelet, exit_lanelet, current_lanelet, traffic_light_down_track); <span class="comment">//case_9</span></div>
<div class="line"><span class="lineno"> 1049</span>    }</div>
<div class="line"><span class="lineno"> 1050</span>  }</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a041e1ecce80673108193c9ac0d9878d7"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7">lci_strategic_plugin::LCIStrategicPlugin::handleStopping</a></div><div class="ttdeci">void handleStopping(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const VehicleState &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet, double traffic_light_down_track, bool is_emergency=false)</div><div class="ttdoc">This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00359">lci_strategic_plugin.cpp:359</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a0cab8e3125da46e21b998c24d3747345"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345">lci_strategic_plugin::LCIStrategicPlugin::handleGreenSignalScenario</a></div><div class="ttdeci">void handleGreenSignalScenario(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const VehicleState &amp;current_state, double current_state_speed, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, double traffic_light_down_track, const TrajectoryParams &amp;ts_params, bool is_certainty_check_optional)</div><div class="ttdoc">This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00476">lci_strategic_plugin.cpp:476</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a14874ac18eac605f9285d965fee1e7d5"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5">lci_strategic_plugin::LCIStrategicPlugin::get_delta_x</a></div><div class="ttdeci">BoundaryDistances get_delta_x(double v0, double v1, double v_max, double v_min, double a_max, double a_min)</div><div class="ttdoc">Get boundary distances used to compare against current state in order to create trajectory smoothing ...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00407">lci_strategic_plugin_algo.cpp:407</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a3a26d736705389e017c4c41097806e90"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">lci_strategic_plugin::LCIStrategicPlugin::findSpeedLimit</a></div><div class="ttdeci">double findSpeedLimit(const lanelet::ConstLanelet &amp;llt) const</div><div class="ttdoc">Given a Lanelet, find it's associated Speed Limit.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00264">lci_strategic_plugin.cpp:264</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a427e5d35aec72d2c336b05cead63d666"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666">lci_strategic_plugin::LCIStrategicPlugin::get_earliest_entry_time</a></div><div class="ttdeci">rclcpp::Duration get_earliest_entry_time(double remaining_distance, double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</div><div class="ttdoc">Gets the earliest entry time into the intersection that is kinematically possible for the vehicle....</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00156">lci_strategic_plugin_algo.cpp:156</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a5b8c6ae95fa1264144bd62c5da27cc89"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89">lci_strategic_plugin::LCIStrategicPlugin::handleFailureCase</a></div><div class="ttdeci">void handleFailureCase(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const VehicleState &amp;current_state, double current_state_speed, double speed_limit, double remaining_time, lanelet::Id exit_lanelet_id, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double traffic_light_down_track, const TrajectoryParams &amp;ts_params)</div><div class="ttdoc">When the vehicle is not able to successfully run the algorithm or not able to stop,...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00394">lci_strategic_plugin.cpp:394</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a5dbeec90c35fb6b1fa37b637f83a406b"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b">lci_strategic_plugin::LCIStrategicPlugin::get_final_entry_time_and_conditions</a></div><div class="ttdeci">std::tuple&lt; rclcpp::Time, bool, bool &gt; get_final_entry_time_and_conditions(const VehicleState &amp;current_state, const rclcpp::Time &amp;earliest_entry_time, lanelet::CarmaTrafficSignalPtr traffic_light)</div><div class="ttdoc">Get the final entry time from either vehicle's own internal ET calculation (TSMO UC2) or from carma-s...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00218">lci_strategic_plugin_algo.cpp:218</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a8fb96553dc6acf995b4de2db46998856"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">lci_strategic_plugin::LCIStrategicPlugin::distance_remaining_to_tf_</a></div><div class="ttdeci">double distance_remaining_to_tf_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00228">lci_strategic_plugin.hpp:228</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a9f6b11b8d6c543e15eb501c90bb1d3c3"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3">lci_strategic_plugin::LCIStrategicPlugin::get_ts_case</a></div><div class="ttdeci">TrajectoryParams get_ts_case(double t, double et, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx, BoundaryDistances boundary_distances, std::vector&lt; TrajectoryParams &gt; params)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00534">lci_strategic_plugin_algo.cpp:534</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ac50d167a1d4974b30d836689d99a0970"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970">lci_strategic_plugin::LCIStrategicPlugin::handleCruisingUntilStop</a></div><div class="ttdeci">void handleCruisingUntilStop(carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr req, carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr resp, const VehicleState &amp;current_state, double current_state_speed, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double traffic_light_down_track, const TrajectoryParams &amp;ts_params)</div><div class="ttdoc">This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00433">lci_strategic_plugin.cpp:433</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad58c69bcf68ab67c8d15fd91d46fcb87"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad58c69bcf68ab67c8d15fd91d46fcb87">lci_strategic_plugin::LCIStrategicPlugin::earliest_entry_time_</a></div><div class="ttdeci">double earliest_entry_time_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00229">lci_strategic_plugin.hpp:229</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad63f61dae16c63a661de5cff883b6ee2"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2">lci_strategic_plugin::LCIStrategicPlugin::getTurnDirectionAtIntersection</a></div><div class="ttdeci">TurnDirection getTurnDirectionAtIntersection(std::vector&lt; lanelet::ConstLanelet &gt; lanelets_list)</div><div class="ttdoc">Determine the turn direction at intersection.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01222">lci_strategic_plugin.cpp:1222</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad8d7dbe5783d3b96fdc46a6f91cf6ae9"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">lci_strategic_plugin::LCIStrategicPlugin::scheduled_entry_time_</a></div><div class="ttdeci">double scheduled_entry_time_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00230">lci_strategic_plugin.hpp:230</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_adf303b014faf0df91b93e2a7a37df9a8"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8">lci_strategic_plugin::LCIStrategicPlugin::get_boundary_traj_params</a></div><div class="ttdeci">std::vector&lt; TrajectoryParams &gt; get_boundary_traj_params(double t, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx, BoundaryDistances boundary_distances)</div><div class="ttdoc">Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00459">lci_strategic_plugin_algo.cpp:459</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ae31009ebcfe2704b9ee0562e1b9fb2a0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0">lci_strategic_plugin::LCIStrategicPlugin::print_boundary_distances</a></div><div class="ttdeci">void print_boundary_distances(BoundaryDistances delta_xs)</div><div class="ttdoc">Helper method to print TrajectoryParams.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00449">lci_strategic_plugin_algo.cpp:449</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicStateTransitionTable_html_a6dc204c919a4df801ed0b5ff6e1486ea"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal</a></div><div class="ttdeci">void signal(TransitEvent signal)</div><div class="ttdoc">Trigger signal for the transition table.</div><div class="ttdef"><b>Definition:</b> <a href="lci__state__transition__table_8cpp_source.html#l00034">lci_state_transition_table.cpp:34</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08a09d4d696b4e935115b9313e3c412509a"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a09d4d696b4e935115b9313e3c412509a">lci_strategic_plugin::TransitEvent::STOPPED</a></div><div class="ttdeci">@ STOPPED</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb">lci_strategic_plugin::TransitEvent::CROSSED_STOP_BAR</a></div><div class="ttdeci">@ CROSSED_STOP_BAR</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">lci_strategic_plugin::UNAVAILABLE</a></div><div class="ttdeci">@ UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8hpp_source.html#l00071">lci_strategic_plugin.hpp:71</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00050">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00069">lci_strategic_plugin::CASE_8</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00098">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb">lci_strategic_plugin::CROSSED_STOP_BAR</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00054">lci_strategic_plugin::LCIStrategicPluginConfig::deceleration_fraction</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00057">lci_strategic_plugin::LCIStrategicPluginConfig::desired_distance_to_stop_buffer</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00228">distance_remaining_to_tf_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00229">earliest_entry_time_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00216">emergency_decel_norm_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00072">lci_strategic_plugin::EMERGENCY_STOPPING</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00264">findSpeedLimit()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00459">get_boundary_traj_params()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00407">get_delta_x()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00156">get_earliest_entry_time()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00218">get_final_entry_time_and_conditions()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01222">getTurnDirectionAtIntersection()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00433">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00476">handleGreenSignalScenario()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00359">handleStopping()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00243">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00242">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00232">intersection_turn_direction_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00097">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00227">last_case_num_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00213">max_comfort_accel_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00214">max_comfort_decel_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00215">max_comfort_decel_norm_</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00449">print_boundary_distances()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00424">print_params()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00230">scheduled_entry_time_</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00034">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00280">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a09d4d696b4e935115b9313e3c412509a">lci_strategic_plugin::STOPPED</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00070">lci_strategic_plugin::STOPPING</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00044">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00239">transition_table_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00071">lci_strategic_plugin::UNAVAILABLE</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00277">validLightState()</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00256">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad91f88df811c604adc00532d3a358ec3_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad91f88df811c604adc00532d3a358ec3_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad91f88df811c604adc00532d3a358ec3_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad91f88df811c604adc00532d3a358ec3_cgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="5,2155,188,2211"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90" title="Given a Lanelet, find it&#39;s associated Speed Limit." alt="" coords="269,535,407,591"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="248,615,428,671"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5" title="Get boundary distances used to compare against current state in order to create trajectory smoothing ..." alt="" coords="269,1238,407,1294"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a427e5d35aec72d2c336b05cead63d666" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="257,1318,419,1374"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b" title="Get the final entry time from either vehicle&#39;s own internal ET calculation (TSMO UC2) or from carma&#45;s..." alt="" coords="267,2060,409,2131"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="791,2275,929,2331"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="269,1769,407,1825"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2" title="Determine the turn direction at intersection." alt="" coords="236,2155,440,2211"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac50d167a1d4974b30d836689d99a0970" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="255,2315,421,2371"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="269,2483,407,2539"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1" title="Helper method to print TrajectoryParams." alt="" coords="791,2699,929,2755"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="244,2395,432,2451"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a041e1ecce80673108193c9ac0d9878d7" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="269,2235,407,2291"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0" title="Helper method to print TrajectoryParams." alt="" coords="251,2797,425,2853"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="243,2929,433,2985"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f" title=" " alt="" coords="523,560,683,631"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60" title=" " alt="" coords="515,655,690,725"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3" title=" " alt="" coords="515,749,690,820"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f" title=" " alt="" coords="515,844,690,915"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a" title=" " alt="" coords="515,939,690,1009"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72" title=" " alt="" coords="523,1033,683,1104"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208" title=" " alt="" coords="523,5,683,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090" title=" " alt="" coords="523,100,683,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496" title=" " alt="" coords="489,195,716,251"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d" title=" " alt="" coords="511,276,694,347"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c" title=" " alt="" coords="506,371,699,441"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2" title=" " alt="" coords="515,465,690,536"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d" title="Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa..." alt="" coords="523,1128,682,1199"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0" title="Get required distance to accel then decel, or vise versa &#45; each at least once &#45; to reach departure_sp..." alt="" coords="523,1223,682,1293"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c" title="Get the speed between the acceleration and deceleration pieces." alt="" coords="511,1318,695,1374"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acdc00ab83813bd7cbdf2061275a697ef" title="Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ..." alt="" coords="501,2089,704,2145"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="1003,2275,1148,2331"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a" title="Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations." alt="" coords="534,1609,671,1665"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0" title=" " alt="" coords="534,1689,671,1745"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d" title=" " alt="" coords="534,1769,671,1825"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a" title=" " alt="" coords="534,1849,671,1905"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e" title=" " alt="" coords="534,1929,671,1985"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f" title=" " alt="" coords="534,2009,671,2065"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2" title=" " alt="" coords="534,1449,671,1505"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c" title=" " alt="" coords="534,1529,671,1585"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f" title="Compose a stop and wait maneuver message based on input params." alt="" coords="495,2220,710,2291"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3b06a05a52140213d302eee42e11fe85" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="503,2476,703,2547"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="488,2315,717,2371"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063" title="Compose a intersection transit maneuver message based on input params." alt="" coords="508,2571,697,2641"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="516,2666,689,2722"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="499,2395,707,2451"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="490,2797,715,2853"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="501,2877,704,2933"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="493,2957,713,3013"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="508,3037,697,3093"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="765,2957,955,3013"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="765,2877,955,2933"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad91f88df811c604adc00532d3a358ec3_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad91f88df811c604adc00532d3a358ec3_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad91f88df811c604adc00532d3a358ec3_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad91f88df811c604adc00532d3a358ec3_icgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a4778775fa282372e99b562a78d1c505e" name="a4778775fa282372e99b562a78d1c505e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4778775fa282372e99b562a78d1c505e">&#9670;&nbsp;</a></span>planWhenDEPARTING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::planWhenDEPARTING </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>intersection_end_downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>intersection_speed_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">TransitState::DEPARTING</a> Therefor the planned maneuvers deal with the transit of the intersection once the stop bar has been crossed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>The current state of the vehicle at the start of planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">intersection_end_downtrack</td><td>The ending downtrack in meters of the current intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">intersection_speed_limit</td><td>The speed limit of the current intersection </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01122">1122</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1125</span>{</div>
<div class="line"><span class="lineno"> 1126</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">TSCase::UNAVAILABLE</a>;</div>
<div class="line"><span class="lineno"> 1127</span>  </div>
<div class="line"><span class="lineno"> 1128</span>  <span class="keywordflow">if</span> (current_state.downtrack &gt; intersection_end_downtrack)</div>
<div class="line"><span class="lineno"> 1129</span>  {</div>
<div class="line"><span class="lineno"> 1130</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08aa5fddee61ed85f2400edc4c31163624e">TransitEvent::INTERSECTION_EXIT</a>);  <span class="comment">// If we are past the most recent</span></div>
<div class="line"><span class="lineno"> 1131</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1132</span>  }</div>
<div class="line"><span class="lineno"> 1133</span> </div>
<div class="line"><span class="lineno"> 1134</span>  <span class="comment">// Calculate exit time assuming constant acceleration</span></div>
<div class="line"><span class="lineno"> 1135</span>  rclcpp::Time intersection_exit_time =</div>
<div class="line"><span class="lineno"> 1136</span>      current_state.stamp +</div>
<div class="line"><span class="lineno"> 1137</span>      rclcpp::Duration(2.0 * (intersection_end_downtrack - current_state.downtrack) / (current_state.speed + intersection_speed_limit) * 1e9);</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers lane follow maneuver</span></div>
<div class="line"><span class="lineno"> 1140</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno"> 1141</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(current_state.downtrack, intersection_end_downtrack, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1142</span> </div>
<div class="line"><span class="lineno"> 1143</span>  <span class="comment">// Compose intersection transit maneuver</span></div>
<div class="line"><span class="lineno"> 1144</span>  resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063">composeIntersectionTransitMessage</a>(</div>
<div class="line"><span class="lineno"> 1145</span>      current_state.downtrack, intersection_end_downtrack, current_state.speed, intersection_speed_limit,</div>
<div class="line"><span class="lineno"> 1146</span>      current_state.stamp, intersection_exit_time, crossed_lanelets.back().id(), crossed_lanelets.back().id()));</div>
<div class="line"><span class="lineno"> 1147</span>}</div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08aa5fddee61ed85f2400edc4c31163624e"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08aa5fddee61ed85f2400edc4c31163624e">lci_strategic_plugin::TransitEvent::INTERSECTION_EXIT</a></div><div class="ttdeci">@ INTERSECTION_EXIT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01498">composeIntersectionTransitMessage()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00341">getLaneletsBetweenWithException()</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08aa5fddee61ed85f2400edc4c31163624e">lci_strategic_plugin::INTERSECTION_EXIT</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00227">last_case_num_</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00034">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00280">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00239">transition_table_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00071">lci_strategic_plugin::UNAVAILABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a4778775fa282372e99b562a78d1c505e_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a4778775fa282372e99b562a78d1c505e_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a4778775fa282372e99b562a78d1c505e_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a4778775fa282372e99b562a78d1c505e_cgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="5,101,167,157"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afcdbaaaee6c9dff394d77acc09715063" title="Compose a intersection transit maneuver message based on input params." alt="" coords="235,5,424,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="215,101,444,157"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="235,205,424,261"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="492,205,717,261"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="503,285,706,341"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="495,365,715,421"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="510,125,699,181"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="765,205,955,261"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="765,285,955,341"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a4778775fa282372e99b562a78d1c505e_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a4778775fa282372e99b562a78d1c505e_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a4778775fa282372e99b562a78d1c505e_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a4778775fa282372e99b562a78d1c505e_icgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="232,5,393,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="aa093ee7a424c8aa3a15801e510795c54" name="aa093ee7a424c8aa3a15801e510795c54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa093ee7a424c8aa3a15801e510795c54">&#9670;&nbsp;</a></span>planWhenUNAVAILABLE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::planWhenUNAVAILABLE </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>current_lanelet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">TransitState::UNAVAILABLE</a> Therefor no maneuvers are planned but the system checks for the precense of traffic lights ahead of it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>The current state of the vehicle at the start of planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>The single traffic light along the vehicle's route in the intersection that is relevant and in front of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>The entry lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>The exit lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_lanelet</td><td>The current lanelet the vehicle's state is on </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">if</td><td>given entry_lanelet doesn't have stop_line NOTE: returns empty if the given traffic light is empty </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">742</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  745</span>{</div>
<div class="line"><span class="lineno">  746</span>  <span class="comment">// Reset intersection state since in this state we are not yet known to be in or approaching an intersection</span></div>
<div class="line"><span class="lineno">  747</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a> = boost::none;</div>
<div class="line"><span class="lineno">  748</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a> = boost::none;</div>
<div class="line"><span class="lineno">  749</span>  <span class="keywordtype">double</span> current_state_speed = std::max(current_state.speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a> * 1.001);</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>  <span class="keywordflow">if</span> (!traffic_light)</div>
<div class="line"><span class="lineno">  753</span>  {</div>
<div class="line"><span class="lineno">  754</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;No lights found along route. Returning maneuver plan unchanged&quot;</span>);</div>
<div class="line"><span class="lineno">  755</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  756</span>  }</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>  <span class="keywordtype">double</span> max_comfort_accel = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  759</span>  <span class="keywordtype">double</span> max_comfort_decel = -1.0 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>  <span class="keyword">auto</span> stop_line = traffic_light-&gt;getStopLine(entry_lanelet);</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>  <span class="keywordflow">if</span> (!stop_line)</div>
<div class="line"><span class="lineno">  764</span>  {</div>
<div class="line"><span class="lineno">  765</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Given entry lanelet doesn&#39;t have stop_line...&quot;</span>);</div>
<div class="line"><span class="lineno">  766</span>  }</div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span>  <span class="keywordtype">double</span> traffic_light_down_track =</div>
<div class="line"><span class="lineno">  769</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;routeTrackPos(stop_line.get().front().basicPoint2d()).downtrack;</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;traffic_light_down_track: &quot;</span> &lt;&lt; traffic_light_down_track);</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>  <span class="keywordtype">double</span> distance_remaining_to_traffic_light = traffic_light_down_track - current_state.downtrack;</div>
<div class="line"><span class="lineno">  774</span> </div>
<div class="line"><span class="lineno">  775</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;distance_remaining_to_traffic_light: &quot;</span> &lt;&lt; distance_remaining_to_traffic_light &lt;&lt;</div>
<div class="line"><span class="lineno">  776</span>                    <span class="stringliteral">&quot;, current_state.downtrack: &quot;</span> &lt;&lt; current_state.downtrack);</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">distance_remaining_to_tf_</a> = distance_remaining_to_traffic_light; <span class="comment">// performance metric</span></div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>  <span class="keyword">auto</span> speed_limit = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>(current_lanelet);</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>  current_state_speed = std::min(speed_limit, current_state_speed);</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;speed_limit (free flow speed): &quot;</span> &lt;&lt; speed_limit);</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;trajectory_smoothing_activation_distance: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">trajectory_smoothing_activation_distance</a>);</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>  <span class="keywordtype">double</span> stopping_dist = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a>(current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>  *</div>
<div class="line"><span class="lineno">  789</span>                                                                            <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a>); <span class="comment">//accepts positive decel</span></div>
<div class="line"><span class="lineno">  790</span> </div>
<div class="line"><span class="lineno">  791</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Stopping distance: &quot;</span> &lt;&lt; stopping_dist);</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>  <span class="keywordtype">double</span> plugin_activation_distance = std::max(stopping_dist, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a8a79158c6b90827592dbc7d6a2cb5d4a">min_approach_distance</a>);</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>  plugin_activation_distance = std::max(plugin_activation_distance, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">trajectory_smoothing_activation_distance</a>);</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;plugin_activation_distance: &quot;</span> &lt;&lt; plugin_activation_distance);</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>  <span class="keywordflow">if</span> (distance_remaining_to_traffic_light &lt;= plugin_activation_distance)</div>
<div class="line"><span class="lineno">  800</span>  {</div>
<div class="line"><span class="lineno">  801</span>    RCLCPP_INFO_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Within intersection range&quot;</span>);</div>
<div class="line"><span class="lineno">  802</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a569d8b96cd56030224add9e573729de8">TransitEvent::IN_STOPPING_RANGE</a>);  <span class="comment">// Evaluate Signal and Run Trajectory Smoothing Algorithm</span></div>
<div class="line"><span class="lineno">  803</span>  }</div>
<div class="line"><span class="lineno">  804</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  805</span>  {</div>
<div class="line"><span class="lineno">  806</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">TSCase::UNAVAILABLE</a>;</div>
<div class="line"><span class="lineno">  807</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Not within intersection range&quot;</span>);</div>
<div class="line"><span class="lineno">  808</span>  }</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ace9fb36575ef6b54f01291ef8cf1d697"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">lci_strategic_plugin::LCIStrategicPlugin::estimate_distance_to_stop</a></div><div class="ttdeci">double estimate_distance_to_stop(double v, double a) const</div><div class="ttdoc">Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00024">lci_strategic_plugin_algo.cpp:24</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08a569d8b96cd56030224add9e573729de8"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a569d8b96cd56030224add9e573729de8">lci_strategic_plugin::TransitEvent::IN_STOPPING_RANGE</a></div><div class="ttdeci">@ IN_STOPPING_RANGE</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00050">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00228">distance_remaining_to_tf_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00024">estimate_distance_to_stop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00264">findSpeedLimit()</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a569d8b96cd56030224add9e573729de8">lci_strategic_plugin::IN_STOPPING_RANGE</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00243">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00242">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00227">last_case_num_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00038">lci_strategic_plugin::LCIStrategicPluginConfig::min_approach_distance</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00034">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00280">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00041">lci_strategic_plugin::LCIStrategicPluginConfig::trajectory_smoothing_activation_distance</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00239">transition_table_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00071">lci_strategic_plugin::UNAVAILABLE</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00032">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00035">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00256">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa093ee7a424c8aa3a15801e510795c54_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa093ee7a424c8aa3a15801e510795c54_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa093ee7a424c8aa3a15801e510795c54_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa093ee7a424c8aa3a15801e510795c54_cgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="5,85,184,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697" title="Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs." alt="" coords="235,5,419,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90" title="Given a Lanelet, find it&#39;s associated Speed Limit." alt="" coords="258,85,395,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="232,189,421,245"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="469,189,695,245"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="481,269,683,325"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="472,349,692,405"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="487,109,677,165"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="743,189,932,245"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="743,269,932,325"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa093ee7a424c8aa3a15801e510795c54_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa093ee7a424c8aa3a15801e510795c54_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa093ee7a424c8aa3a15801e510795c54_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa093ee7a424c8aa3a15801e510795c54_icgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="232,5,411,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a87185f4914dd728a5792e30512a66509" name="a87185f4914dd728a5792e30512a66509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87185f4914dd728a5792e30512a66509">&#9670;&nbsp;</a></span>planWhenWAITING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::planWhenWAITING </td>
          <td>(</td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_planning_msgs::srv::PlanManeuvers::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>current_lanelet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">TransitState::WAITING</a> Therefor the planned maneuvers deal with waiting at a red light. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>The current state of the vehicle at the start of planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>The single traffic light along the vehicle's route in the intersection that is relevant and in front of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>The entry lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>The exit lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_lanelet</td><td>The current lanelet the vehicle's state is on NOTE: returns empty if the given traffic light is empty </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">1055</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1058</span>{</div>
<div class="line"><span class="lineno"> 1059</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>;</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>  <span class="keywordflow">if</span> (!traffic_light)</div>
<div class="line"><span class="lineno"> 1062</span>  {</div>
<div class="line"><span class="lineno"> 1063</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;While in WAITING state, the traffic lights disappeared.&quot;</span>);</div>
<div class="line"><span class="lineno"> 1064</span>  }</div>
<div class="line"><span class="lineno"> 1065</span> </div>
<div class="line"><span class="lineno"> 1066</span>  <span class="keyword">auto</span> stop_line = traffic_light-&gt;getStopLine(entry_lanelet);</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>  <span class="keywordflow">if</span> (!stop_line)</div>
<div class="line"><span class="lineno"> 1069</span>  {</div>
<div class="line"><span class="lineno"> 1070</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Given entry lanelet doesn&#39;t have stop_line...&quot;</span>);</div>
<div class="line"><span class="lineno"> 1071</span>  }</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>  <span class="keywordtype">double</span> traffic_light_down_track =</div>
<div class="line"><span class="lineno"> 1074</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;routeTrackPos(stop_line.get().front().basicPoint2d()).downtrack;</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;traffic_light_down_track: &quot;</span>&lt;&lt;  traffic_light_down_track);</div>
<div class="line"><span class="lineno"> 1077</span> </div>
<div class="line"><span class="lineno"> 1078</span>  <span class="keywordtype">double</span> entering_time = current_state.stamp.seconds();</div>
<div class="line"><span class="lineno"> 1079</span>  </div>
<div class="line"><span class="lineno"> 1080</span>  <span class="keyword">auto</span> current_light_state_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(entering_time));</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;WAITING STATE: requested time to rclcpp::Time(req-&gt;header.stamp, RCL_SYSTEM_TIME) check: &quot;</span> &lt;&lt; std::to_string(rclcpp::Time(req-&gt;header.stamp, RCL_SYSTEM_TIME).seconds()));</div>
<div class="line"><span class="lineno"> 1083</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;WAITING STATE: requested time to CURRENT STATE check: &quot;</span> &lt;&lt; std::to_string(entering_time));</div>
<div class="line"><span class="lineno"> 1084</span>  </div>
<div class="line"><span class="lineno"> 1085</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1">validLightState</a>(current_light_state_optional, rclcpp::Time(entering_time * 1e9)))</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>  <span class="keyword">auto</span> bool_optional_late_certainty = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4">canArriveAtGreenWithCertainty</a>(rclcpp::Time(entering_time * 1e9), traffic_light, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno"> 1089</span>  </div>
<div class="line"><span class="lineno"> 1090</span>  <span class="keywordflow">if</span> (!bool_optional_late_certainty)</div>
<div class="line"><span class="lineno"> 1091</span>  {</div>
<div class="line"><span class="lineno"> 1092</span>    RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;Unable to resolve green light...&quot;</span>);</div>
<div class="line"><span class="lineno"> 1093</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1094</span>  }</div>
<div class="line"><span class="lineno"> 1095</span> </div>
<div class="line"><span class="lineno"> 1096</span>  <span class="keywordtype">bool</span> should_enter = <span class="keyword">true</span>; <span class="comment">//uc2</span></div>
<div class="line"><span class="lineno"> 1097</span>  </div>
<div class="line"><span class="lineno"> 1098</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> &amp;&amp; entering_time &gt; current_state.stamp.seconds()) <span class="comment">//uc3</span></div>
<div class="line"><span class="lineno"> 1099</span>    should_enter = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keywordflow">if</span> (current_light_state_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED &amp;&amp;</div>
<div class="line"><span class="lineno"> 1102</span>        bool_optional_late_certainty.get() &amp;&amp; should_enter) <span class="comment">// if can make with certainty</span></div>
<div class="line"><span class="lineno"> 1103</span>  {</div>
<div class="line"><span class="lineno"> 1104</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a3f0df471a5fb3e6d42fda706dc896157">TransitEvent::RED_TO_GREEN_LIGHT</a>);  <span class="comment">// If the light is green send the light transition</span></div>
<div class="line"><span class="lineno"> 1105</span>                                                                 <span class="comment">// signal</span></div>
<div class="line"><span class="lineno"> 1106</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1107</span>  }</div>
<div class="line"><span class="lineno"> 1108</span> </div>
<div class="line"><span class="lineno"> 1109</span>  <span class="comment">// A fixed buffer to add to stopping maneuvers once the vehicle is already stopped to ensure that they can have their</span></div>
<div class="line"><span class="lineno"> 1110</span>  <span class="comment">// trajectory planned</span></div>
<div class="line"><span class="lineno"> 1111</span>  <span class="keyword">constexpr</span> <span class="keywordtype">double</span> stop_maneuver_buffer = 10.0;</div>
<div class="line"><span class="lineno"> 1112</span> </div>
<div class="line"><span class="lineno"> 1113</span>  <span class="comment">// If the light is not green then continue waiting by creating a stop and wait maneuver on top of the vehicle</span></div>
<div class="line"><span class="lineno"> 1114</span>  <span class="keywordtype">double</span> stopping_accel = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a>;</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>  resp-&gt;new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f">composeStopAndWaitManeuverMessage</a>(</div>
<div class="line"><span class="lineno"> 1117</span>      current_state.downtrack - stop_maneuver_buffer, traffic_light_down_track, current_state.speed,</div>
<div class="line"><span class="lineno"> 1118</span>      current_state.lane_id, current_state.lane_id, rclcpp::Time(entering_time * 1e9),</div>
<div class="line"><span class="lineno"> 1119</span>      rclcpp::Time(entering_time * 1e9) + rclcpp::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a> * 1e9), stopping_accel));</div>
<div class="line"><span class="lineno"> 1120</span>}</div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08a3f0df471a5fb3e6d42fda706dc896157"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a3f0df471a5fb3e6d42fda706dc896157">lci_strategic_plugin::TransitEvent::RED_TO_GREEN_LIGHT</a></div><div class="ttdeci">@ RED_TO_GREEN_LIGHT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00298">canArriveAtGreenWithCertainty()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01465">composeStopAndWaitManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">config_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00279">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00069">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00281">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::lane_id</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00227">last_case_num_</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00060">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a3f0df471a5fb3e6d42fda706dc896157">lci_strategic_plugin::RED_TO_GREEN_LIGHT</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00034">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal()</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00280">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00278">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00070">lci_strategic_plugin::STOPPING</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00239">transition_table_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00277">validLightState()</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8hpp_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00256">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a87185f4914dd728a5792e30512a66509_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a87185f4914dd728a5792e30512a66509_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a87185f4914dd728a5792e30512a66509_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a87185f4914dd728a5792e30512a66509_cgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="5,88,148,144"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="199,44,407,100"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="503,5,640,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab88c4508c987570d86191fdcc1128d1f" title="Compose a stop and wait maneuver message based on input params." alt="" coords="196,125,411,195"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="209,244,398,300"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="754,5,899,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="459,404,684,460"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="470,164,673,220"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="461,244,681,300"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="477,324,666,380"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="732,244,921,300"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="732,324,921,380"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a87185f4914dd728a5792e30512a66509_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a87185f4914dd728a5792e30512a66509_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a87185f4914dd728a5792e30512a66509_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a87185f4914dd728a5792e30512a66509_icgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="232,5,375,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="ae31009ebcfe2704b9ee0562e1b9fb2a0" name="ae31009ebcfe2704b9ee0562e1b9fb2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31009ebcfe2704b9ee0562e1b9fb2a0">&#9670;&nbsp;</a></span>print_boundary_distances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::print_boundary_distances </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a>&#160;</td>
          <td class="paramname"><em>delta_xs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to print <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00449">449</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  450</span>{</div>
<div class="line"><span class="lineno">  451</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  452</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;dx1: &quot;</span> &lt;&lt; delta_xs.dx1);</div>
<div class="line"><span class="lineno">  453</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;dx2: &quot;</span> &lt;&lt; delta_xs.dx2);</div>
<div class="line"><span class="lineno">  454</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;dx3: &quot;</span> &lt;&lt; delta_xs.dx3);</div>
<div class="line"><span class="lineno">  455</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;dx4: &quot;</span> &lt;&lt; delta_xs.dx4);</div>
<div class="line"><span class="lineno">  456</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;dx5: &quot;</span> &lt;&lt; delta_xs.dx5 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  457</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00105">lci_strategic_plugin::BoundaryDistances::dx1</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00106">lci_strategic_plugin::BoundaryDistances::dx2</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00107">lci_strategic_plugin::BoundaryDistances::dx3</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00108">lci_strategic_plugin::BoundaryDistances::dx4</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00109">lci_strategic_plugin::BoundaryDistances::dx5</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ae31009ebcfe2704b9ee0562e1b9fb2a0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae31009ebcfe2704b9ee0562e1b9fb2a0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae31009ebcfe2704b9ee0562e1b9fb2a0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae31009ebcfe2704b9ee0562e1b9fb2a0_icgraph">
<area shape="rect" title="Helper method to print TrajectoryParams." alt="" coords="463,5,637,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a90783dcf3764851270354a58d81c27c1" name="a90783dcf3764851270354a58d81c27c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90783dcf3764851270354a58d81c27c1">&#9670;&nbsp;</a></span>print_params()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::print_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to print <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00424">424</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  425</span>{</div>
<div class="line"><span class="lineno">  426</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  427</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;t0: &quot;</span> &lt;&lt; std::to_string(params.t0_));</div>
<div class="line"><span class="lineno">  428</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;v0: &quot;</span> &lt;&lt; params.v0_);</div>
<div class="line"><span class="lineno">  429</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;x0: &quot;</span> &lt;&lt; params.x0_);</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;t1: &quot;</span> &lt;&lt; std::to_string(params.t1_));</div>
<div class="line"><span class="lineno">  432</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;v1: &quot;</span> &lt;&lt; params.v1_);</div>
<div class="line"><span class="lineno">  433</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;x1: &quot;</span> &lt;&lt; params.x1_);</div>
<div class="line"><span class="lineno">  434</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;a1: &quot;</span> &lt;&lt; params.a1_);</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;t2: &quot;</span> &lt;&lt; std::to_string(params.t2_));</div>
<div class="line"><span class="lineno">  437</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;v2: &quot;</span> &lt;&lt; params.v2_);</div>
<div class="line"><span class="lineno">  438</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;x2: &quot;</span> &lt;&lt; params.x2_);</div>
<div class="line"><span class="lineno">  439</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;a2: &quot;</span> &lt;&lt; params.a2_);</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;t3: &quot;</span> &lt;&lt; std::to_string(params.t3_));</div>
<div class="line"><span class="lineno">  442</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;v3: &quot;</span> &lt;&lt; params.v3_);</div>
<div class="line"><span class="lineno">  443</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;x3: &quot;</span> &lt;&lt; params.x3_);</div>
<div class="line"><span class="lineno">  444</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;a3: &quot;</span> &lt;&lt; params.a3_);</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>  RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  447</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">handleFailureCaseHelper()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a90783dcf3764851270354a58d81c27c1_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a90783dcf3764851270354a58d81c27c1_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a90783dcf3764851270354a58d81c27c1_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a90783dcf3764851270354a58d81c27c1_icgraph">
<area shape="rect" title="Helper method to print TrajectoryParams." alt="" coords="869,39,1007,95"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="648,5,821,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,39,415,95"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,39,184,95"/>
</map>
</div>

</div>
</div>
<a id="ae96b9eee70bfce3c69fc192a0609140e" name="ae96b9eee70bfce3c69fc192a0609140e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96b9eee70bfce3c69fc192a0609140e">&#9670;&nbsp;</a></span>publishMobilityOperation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::publishMobilityOperation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish mobility operation at a fixed rate. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01251">1251</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1252</span>{</div>
<div class="line"><span class="lineno"> 1253</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a>)</div>
<div class="line"><span class="lineno"> 1254</span>  {</div>
<div class="line"><span class="lineno"> 1255</span>    carma_v2x_msgs::msg::MobilityOperation status_msg = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9965dbbfa665100a5e5bd4998fc59022">generateMobilityOperation</a>();</div>
<div class="line"><span class="lineno"> 1256</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab23ebcbc97a682edc25649c1c9bdf363">mobility_operation_pub_</a>-&gt;publish(status_msg);</div>
<div class="line"><span class="lineno"> 1257</span>  }</div>
<div class="line"><span class="lineno"> 1258</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a9965dbbfa665100a5e5bd4998fc59022"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9965dbbfa665100a5e5bd4998fc59022">lci_strategic_plugin::LCIStrategicPlugin::generateMobilityOperation</a></div><div class="ttdeci">carma_v2x_msgs::msg::MobilityOperation generateMobilityOperation()</div><div class="ttdoc">Generates Mobility Operation messages.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01197">lci_strategic_plugin.cpp:1197</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00233">approaching_light_controlled_intersection_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">generateMobilityOperation()</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00267">mobility_operation_pub_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00178">on_activate_plugin()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ae96b9eee70bfce3c69fc192a0609140e_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae96b9eee70bfce3c69fc192a0609140e_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae96b9eee70bfce3c69fc192a0609140e_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae96b9eee70bfce3c69fc192a0609140e_cgraph">
<area shape="rect" title="Publish mobility operation at a fixed rate." alt="" coords="5,5,175,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9965dbbfa665100a5e5bd4998fc59022" title="Generates Mobility Operation messages." alt="" coords="223,5,401,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ae96b9eee70bfce3c69fc192a0609140e_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae96b9eee70bfce3c69fc192a0609140e_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae96b9eee70bfce3c69fc192a0609140e_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae96b9eee70bfce3c69fc192a0609140e_icgraph">
<area shape="rect" title="Publish mobility operation at a fixed rate." alt="" coords="191,5,360,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1ae680ddca40a0ebb47c4102eab50ae4" title="Method which is triggered when this plugin is moved from the INACTIVE to ACTIVE states...." alt="" coords="5,5,143,61"/>
</map>
</div>

</div>
</div>
<a id="aadc4439e56b18101c15f0b2c6f5cc1f1" name="aadc4439e56b18101c15f0b2c6f5cc1f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadc4439e56b18101c15f0b2c6f5cc1f1">&#9670;&nbsp;</a></span>publishTrajectorySmoothingInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::publishTrajectorySmoothingInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publish trajectory smoothing info at a fixed rate. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">160</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>{</div>
<div class="line"><span class="lineno">  162</span>  std_msgs::msg::Int8 case_num_msg;</div>
<div class="line"><span class="lineno">  163</span>  std_msgs::msg::Float64 tf_distance;</div>
<div class="line"><span class="lineno">  164</span>  std_msgs::msg::Float64 earliest_et;</div>
<div class="line"><span class="lineno">  165</span>  std_msgs::msg::Float64 scheduled_et;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>  case_num_msg.data = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a>);</div>
<div class="line"><span class="lineno">  168</span>  tf_distance.data = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">distance_remaining_to_tf_</a>;</div>
<div class="line"><span class="lineno">  169</span>  earliest_et.data = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad58c69bcf68ab67c8d15fd91d46fcb87">earliest_entry_time_</a>;</div>
<div class="line"><span class="lineno">  170</span>  scheduled_et.data = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">scheduled_entry_time_</a>;</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58ba3ade1aeddc70fb7b28686c8d9327">case_pub_</a>-&gt;publish(case_num_msg);</div>
<div class="line"><span class="lineno">  173</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a349dad398fe3bdf131b6ee76581acf91">tf_distance_pub_</a>-&gt;publish(tf_distance);</div>
<div class="line"><span class="lineno">  174</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9e6f15522f37735866591ef88a56af63">earliest_et_pub_</a>-&gt;publish(earliest_et);</div>
<div class="line"><span class="lineno">  175</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af9e56d16a32e1a377f510e60cccff45a">et_pub_</a>-&gt;publish(scheduled_et);</div>
<div class="line"><span class="lineno">  176</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00268">case_pub_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00228">distance_remaining_to_tf_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00229">earliest_entry_time_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00270">earliest_et_pub_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00271">et_pub_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00227">last_case_num_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00230">scheduled_entry_time_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00269">tf_distance_pub_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00178">on_activate_plugin()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aadc4439e56b18101c15f0b2c6f5cc1f1_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aadc4439e56b18101c15f0b2c6f5cc1f1_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aadc4439e56b18101c15f0b2c6f5cc1f1_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aadc4439e56b18101c15f0b2c6f5cc1f1_icgraph">
<area shape="rect" title="Publish trajectory smoothing info at a fixed rate." alt="" coords="191,5,401,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1ae680ddca40a0ebb47c4102eab50ae4" title="Method which is triggered when this plugin is moved from the INACTIVE to ACTIVE states...." alt="" coords="5,5,143,61"/>
</map>
</div>

</div>
</div>
<a id="aedf733561a0ca72170d664f4414f624e" name="aedf733561a0ca72170d664f4414f624e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf733561a0ca72170d664f4414f624e">&#9670;&nbsp;</a></span>supportedLightState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::supportedLightState </td>
          <td>(</td>
          <td class="paramtype">lanelet::CarmaTrafficSignalState&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to evaluate if the given traffic light state is supported by this plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The state to evaluate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the state is supported, flase otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00191">191</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  192</span>{</div>
<div class="line"><span class="lineno">  193</span>  <span class="keywordflow">switch</span> (state)</div>
<div class="line"><span class="lineno">  194</span>  {</div>
<div class="line"><span class="lineno">  195</span>    <span class="comment">// NOTE: Following cases are intentional fall through.</span></div>
<div class="line"><span class="lineno">  196</span>    <span class="comment">// Supported light states</span></div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::STOP_AND_REMAIN:              <span class="comment">// Solid Red</span></div>
<div class="line"><span class="lineno">  198</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PROTECTED_CLEARANCE:          <span class="comment">// Yellow Solid no chance of conflicting traffic</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED:   <span class="comment">// Solid Green no chance of conflict traffic</span></div>
<div class="line"><span class="lineno">  200</span>                                                                        <span class="comment">// (normally used with arrows)</span></div>
<div class="line"><span class="lineno">  201</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    <span class="comment">// Unsupported light states</span></div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PERMISSIVE_MOVEMENT_ALLOWED:  <span class="comment">// Solid Green there could be conflict traffic</span></div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PERMISSIVE_CLEARANCE:         <span class="comment">// Yellow Solid there is a chance of conflicting</span></div>
<div class="line"><span class="lineno">  206</span>                                                                        <span class="comment">// traffic</span></div>
<div class="line"><span class="lineno">  207</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">lanelet::CarmaTrafficSignalState::UNAVAILABLE</a>:                  <span class="comment">// No data available</span></div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::DARK:                         <span class="comment">// Light is non-functional</span></div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::STOP_THEN_PROCEED:            <span class="comment">// Flashing Red</span></div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PRE_MOVEMENT:                 <span class="comment">// Yellow Red transition (Found only in the EU)</span></div>
<div class="line"><span class="lineno">  212</span>                                                                        <span class="comment">// (normally used with arrows)</span></div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::CAUTION_CONFLICTING_TRAFFIC:  <span class="comment">// Yellow Flashing</span></div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  215</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  216</span>  }</div>
<div class="line"><span class="lineno">  217</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00071">lci_strategic_plugin::UNAVAILABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00277">validLightState()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aedf733561a0ca72170d664f4414f624e_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aedf733561a0ca72170d664f4414f624e_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aedf733561a0ca72170d664f4414f624e_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aedf733561a0ca72170d664f4414f624e_icgraph">
<area shape="rect" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="1140,165,1285,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1e62889347161bab48ab4d28761044a1" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="955,165,1092,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="699,85,907,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,165,415,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="485,5,628,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b" title="Get the final entry time from either vehicle&#39;s own internal ET calculation (TSMO UC2) or from carma&#45;s..." alt="" coords="731,297,874,367"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="716,165,889,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,85,651,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,133,184,189"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="488,165,625,221"/>
</map>
</div>

</div>
</div>
<a id="a29c754a4e2f40fdd9170589087d3097a" name="a29c754a4e2f40fdd9170589087d3097a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c754a4e2f40fdd9170589087d3097a">&#9670;&nbsp;</a></span>ts_case1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case1 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00611">611</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  612</span>{ </div>
<div class="line"><span class="lineno">  613</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  616</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  617</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  620</span>  <span class="keywordtype">double</span> nom1 = 2 * dx * (((1 - (a_max / a_min)) * v_max) + ((a_max / a_min) * v1) - v0);</div>
<div class="line"><span class="lineno">  621</span>  <span class="keywordtype">double</span> nom2 = dt * (((1 - (a_max / a_min)) * pow(v_max, 2)) + ((a_max / a_min) * pow(v1, 2)) - pow(v0, 2));</div>
<div class="line"><span class="lineno">  622</span>  <span class="keywordtype">double</span> den = pow(v_max - v0, 2) - ((a_max / a_min) * pow(v_max - v1, 2));</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>  <span class="keywordflow">if</span> (den &lt;= epsilon_ &amp;&amp; den &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  625</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE1: Received den near zero...&quot;</span> + std::to_string(den));</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>  <span class="keywordtype">double</span> tc = (nom1 - nom2) / den;</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>  traj.v1_ = v_max;</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>  <span class="keywordflow">if</span> (dt - tc &lt;= epsilon_ &amp;&amp; dt - tc &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE1: Received dt - tc near zero...&quot;</span> + std::to_string(dt - tc));</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>  traj.a1_ = (((1 - (a_max / a_min)) * v_max) + ((a_max / a_min) * v1) - v0) / (dt - tc);</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  637</span>  {</div>
<div class="line"><span class="lineno">  638</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CASE1: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  639</span>    traj.t1_ = traj.t0_ + ((dt - tc) * (a_max / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  640</span>    traj.x1_ = traj.x0_ + (v_max * (traj.t1_ - traj.t0_));    </div>
<div class="line"><span class="lineno">  641</span>  }</div>
<div class="line"><span class="lineno">  642</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  643</span>  {</div>
<div class="line"><span class="lineno">  644</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  645</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  646</span>  }</div>
<div class="line"><span class="lineno">  647</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  648</span>  traj.v2_ = v_max;</div>
<div class="line"><span class="lineno">  649</span>  traj.t2_ = traj.t1_ + tc;</div>
<div class="line"><span class="lineno">  650</span>  traj.x2_ = traj.x1_ + (v_max * tc);</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>  traj.t3_ = et;</div>
<div class="line"><span class="lineno">  653</span>  traj.a3_ = traj.a1_ * (a_min / a_max);</div>
<div class="line"><span class="lineno">  654</span>  traj.v3_ = v1;</div>
<div class="line"><span class="lineno">  655</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00253">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a29c754a4e2f40fdd9170589087d3097a_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a29c754a4e2f40fdd9170589087d3097a_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a29c754a4e2f40fdd9170589087d3097a_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a29c754a4e2f40fdd9170589087d3097a_icgraph">
<area shape="rect" title="Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations." alt="" coords="648,5,785,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a9af907160a273b7f0dbca36dd5b332a0" name="a9af907160a273b7f0dbca36dd5b332a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af907160a273b7f0dbca36dd5b332a0">&#9670;&nbsp;</a></span>ts_case2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case2 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00660">660</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  661</span>{ </div>
<div class="line"><span class="lineno">  662</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  665</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  666</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>  <span class="keywordflow">if</span> (dt &lt;= epsilon_ &amp;&amp; dt &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  671</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE2: Received dt near zero...&quot;</span> + std::to_string(dt));</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>  <span class="keywordtype">double</span> sqr1 = pow(1 - (a_max / a_min), 2) * pow(dx / dt, 2);</div>
<div class="line"><span class="lineno">  674</span>  <span class="keywordtype">double</span> sqr2 = (1 - (a_max / a_min)) * (((a_max / a_min) * v1 * (v1 - (2 * dx / dt))) + (v0 * ((2 * dx / dt) - v0)));</div>
<div class="line"><span class="lineno">  675</span>  <span class="keywordtype">double</span> v_hat = (dx / dt) + (sqrt(sqr1 - sqr2) / (1 - (a_max / a_min)));</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  678</span>  traj.a1_ = (((1 - (a_max / a_min)) * v_hat) + ((a_max / a_min) * v1) - v0) / dt;</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  681</span>  {</div>
<div class="line"><span class="lineno">  682</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CASE2: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  683</span>    traj.t1_ = traj.t0_ + (dt * (a_max / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  684</span>    traj.x1_ = traj.x0_ + (v_hat * (traj.t1_ - traj.t0_));        </div>
<div class="line"><span class="lineno">  685</span>  }</div>
<div class="line"><span class="lineno">  686</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  687</span>  {</div>
<div class="line"><span class="lineno">  688</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  689</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  690</span>  }</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno">  693</span>  traj.a2_ = traj.a1_ * a_min / a_max;</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>  <span class="keywordflow">if</span> (traj.a2_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a2_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  696</span>  {</div>
<div class="line"><span class="lineno">  697</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CASE2: Received traj.a2_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  698</span>    traj.t2_ = traj.t1_ + (dt * (a_min / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  699</span>    traj.x2_ = traj.x1_ + (v_hat * (traj.t2_ - traj.t1_));    </div>
<div class="line"><span class="lineno">  700</span>  }</div>
<div class="line"><span class="lineno">  701</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  702</span>  {</div>
<div class="line"><span class="lineno">  703</span>    traj.t2_ = traj.t1_ + ((traj.v2_ - traj.v1_) / traj.a2_);</div>
<div class="line"><span class="lineno">  704</span>    traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  705</span>  }</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  708</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  709</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  710</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  713</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00253">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a9af907160a273b7f0dbca36dd5b332a0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9af907160a273b7f0dbca36dd5b332a0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9af907160a273b7f0dbca36dd5b332a0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9af907160a273b7f0dbca36dd5b332a0_icgraph">
<area shape="rect" title=" " alt="" coords="648,5,785,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="ace4317f84b933acb423175e215de351d" name="ace4317f84b933acb423175e215de351d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4317f84b933acb423175e215de351d">&#9670;&nbsp;</a></span>ts_case3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case3 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00714">714</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  715</span>{ </div>
<div class="line"><span class="lineno">  716</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  719</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  720</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  723</span>  </div>
<div class="line"><span class="lineno">  724</span>  <span class="keywordflow">if</span> (dt &lt;= epsilon_ &amp;&amp; dt &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  725</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE3: Received dt near zero...&quot;</span> + std::to_string(dt));</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>  <span class="keywordtype">double</span> sqr1 = pow((a_max / a_min) - 1, 2) * pow(dx / dt, 2);</div>
<div class="line"><span class="lineno">  728</span>  <span class="keywordtype">double</span> sqr2 = ((a_max / a_min) - 1) * ((v1 * (v1 - (2 * dx / dt))) + ((a_max / a_min) * v0 * ((2 * dx / dt) - v0)));</div>
<div class="line"><span class="lineno">  729</span>  <span class="keywordtype">double</span> v_hat = (dx / dt) + (sqrt(sqr1 - sqr2) / ((a_max / a_min) - 1));</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  732</span>  traj.a1_ = (((1 - (a_min / a_max)) * v_hat) + ((a_min / a_max) * v1) - v0) / dt;</div>
<div class="line"><span class="lineno">  733</span>  </div>
<div class="line"><span class="lineno">  734</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  735</span>  {</div>
<div class="line"><span class="lineno">  736</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CASE3: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  737</span>    traj.t1_ = traj.t0_ + (dt * (a_max / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  738</span>    traj.x1_ = traj.x0_ + (v_hat * (traj.t1_ - traj.t0_));    </div>
<div class="line"><span class="lineno">  739</span>  }</div>
<div class="line"><span class="lineno">  740</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  741</span>  {</div>
<div class="line"><span class="lineno">  742</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  743</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  744</span>  }</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno">  747</span>  traj.a2_ = traj.a1_ * a_max / a_min;</div>
<div class="line"><span class="lineno">  748</span>  traj.t2_ = traj.t1_ + ((traj.v2_ - traj.v1_) / traj.a2_);</div>
<div class="line"><span class="lineno">  749</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  752</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  753</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  754</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  757</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00253">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ace4317f84b933acb423175e215de351d_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace4317f84b933acb423175e215de351d_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace4317f84b933acb423175e215de351d_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace4317f84b933acb423175e215de351d_icgraph">
<area shape="rect" title=" " alt="" coords="648,5,785,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a820d938d83b16c8fc7cc3930a062212a" name="a820d938d83b16c8fc7cc3930a062212a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820d938d83b16c8fc7cc3930a062212a">&#9670;&nbsp;</a></span>ts_case4()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case4 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00758">758</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  759</span>{ </div>
<div class="line"><span class="lineno">  760</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  763</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  764</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  767</span>  <span class="keywordtype">double</span> nom1 = 2 * dx * ((((a_max / a_min) - 1) * v_min) + v1 - ((a_max / a_min) * v0));</div>
<div class="line"><span class="lineno">  768</span>  <span class="keywordtype">double</span> nom2 = dt * ((((a_max / a_min) - 1) * pow(v_min, 2)) + pow(v1, 2) - ((a_max / a_min) * pow(v0, 2)));</div>
<div class="line"><span class="lineno">  769</span>  <span class="keywordtype">double</span> den = ((a_max / a_min) * pow(v_min - v0, 2)) - pow(v_min - v1, 2);</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>  <span class="keywordflow">if</span> (den &lt;= epsilon_ &amp;&amp; den &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE4: Received den near zero...&quot;</span> + std::to_string(den));</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>  <span class="keywordtype">double</span> tc = (nom1 - nom2) / den;</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>  <span class="keywordflow">if</span> (dt - tc &lt;= epsilon_ &amp;&amp; dt - tc &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  779</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE4: Received dt - tc near zero...&quot;</span> + std::to_string(dt - tc));</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>  traj.a1_ = (((1 - (a_min / a_max)) * v_min) + ((a_min / a_max) * v1) - v0) / (dt - tc);</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  784</span>  {</div>
<div class="line"><span class="lineno">  785</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CASE4: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  786</span>    traj.t1_ = traj.t0_ + ((dt - tc) * (a_min / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  787</span>    traj.x1_ = traj.x0_ + (v_min * (traj.t1_ - traj.t0_));    </div>
<div class="line"><span class="lineno">  788</span>  }</div>
<div class="line"><span class="lineno">  789</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  790</span>  {</div>
<div class="line"><span class="lineno">  791</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  792</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  793</span>  }</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno">  796</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  797</span>  traj.t2_ = traj.t1_ + tc;</div>
<div class="line"><span class="lineno">  798</span>  traj.x2_ = traj.x1_ + (v_min * tc);</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>  traj.t3_ = et;</div>
<div class="line"><span class="lineno">  801</span>  traj.a3_ = traj.a1_ * a_max / a_min;</div>
<div class="line"><span class="lineno">  802</span>  traj.v3_ = v1;</div>
<div class="line"><span class="lineno">  803</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  806</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00253">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a820d938d83b16c8fc7cc3930a062212a_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a820d938d83b16c8fc7cc3930a062212a_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a820d938d83b16c8fc7cc3930a062212a_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a820d938d83b16c8fc7cc3930a062212a_icgraph">
<area shape="rect" title=" " alt="" coords="648,5,785,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="ada2f61d939ab8184e3eca056b46a8b2e" name="ada2f61d939ab8184e3eca056b46a8b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2f61d939ab8184e3eca056b46a8b2e">&#9670;&nbsp;</a></span>ts_case5()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case5 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00808">808</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  809</span>{ </div>
<div class="line"><span class="lineno">  810</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  813</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  814</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  817</span>  <span class="keywordtype">double</span> sqr = ((a_max / a_min) - 1) * ((2 * a_min * (dx - (v0 * dt))) - pow(a_min * dt, 2));</div>
<div class="line"><span class="lineno">  818</span>  <span class="keywordtype">double</span> v_hat = (v0 + (a_min * dt)) - (sqrt(sqr) / ((a_max / a_min) - 1));</div>
<div class="line"><span class="lineno">  819</span>  <span class="keywordtype">double</span> v_p = ((1 - (a_max / a_min)) * v_hat) + ((a_max / a_min) * v0) + (a_max * dt);</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  822</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  825</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>  traj.v2_ = v_p;</div>
<div class="line"><span class="lineno">  828</span>  traj.a2_ = a_max;</div>
<div class="line"><span class="lineno">  829</span>  traj.t2_ = traj.t1_ + ((traj.v2_ - traj.v1_) / traj.a2_);</div>
<div class="line"><span class="lineno">  830</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  831</span> </div>
<div class="line"><span class="lineno">  832</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  833</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  834</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  835</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  838</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ada2f61d939ab8184e3eca056b46a8b2e_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ada2f61d939ab8184e3eca056b46a8b2e_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ada2f61d939ab8184e3eca056b46a8b2e_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ada2f61d939ab8184e3eca056b46a8b2e_icgraph">
<area shape="rect" title=" " alt="" coords="648,5,785,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a7d9d856f7fa523b5b4266601f6c6154f" name="a7d9d856f7fa523b5b4266601f6c6154f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9d856f7fa523b5b4266601f6c6154f">&#9670;&nbsp;</a></span>ts_case6()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case6 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td>
          <td class="paramname"><em>traj6</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00840">840</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  841</span>{ </div>
<div class="line"><span class="lineno">  842</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  845</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  846</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  849</span> </div>
<div class="line"><span class="lineno">  850</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno">  851</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  852</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  853</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>  <span class="keywordtype">double</span> tc;</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>  <span class="keywordflow">if</span> (dx &lt;= dx3)</div>
<div class="line"><span class="lineno">  858</span>    tc = 0;</div>
<div class="line"><span class="lineno">  859</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  860</span>    tc = traj6.t2_ - traj6.t1_;</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno">  863</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  864</span>  traj.t2_ = traj.t1_ + tc;</div>
<div class="line"><span class="lineno">  865</span>  traj.x2_ = traj.x1_ + (v_min * tc);</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>  <span class="keywordtype">double</span> dt_p = dt - (traj.t1_ - traj.t0_) - tc;</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>  <span class="keywordflow">if</span> (dt_p &lt;= epsilon_ &amp;&amp; dt_p &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  870</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE6: Received dt_p near zero...&quot;</span> + std::to_string(dt_p));</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>  <span class="keywordtype">double</span> v_p = ((2 * a_min * (dx - (v_min * tc))) - (pow(v_min, 2) - pow(v0, 2)) - (v_min * dt_p * a_min)) / (dt_p * a_min);</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>  traj.v3_ = v_p;</div>
<div class="line"><span class="lineno">  875</span>  traj.a3_ = (v_p - v_min) / dt_p;</div>
<div class="line"><span class="lineno">  876</span>  traj.t3_ = et;</div>
<div class="line"><span class="lineno">  877</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  880</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a7d9d856f7fa523b5b4266601f6c6154f_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7d9d856f7fa523b5b4266601f6c6154f_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7d9d856f7fa523b5b4266601f6c6154f_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7d9d856f7fa523b5b4266601f6c6154f_icgraph">
<area shape="rect" title=" " alt="" coords="648,5,785,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a2382d4f0feb6c0ae9db91695f2b552d2" name="a2382d4f0feb6c0ae9db91695f2b552d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2382d4f0feb6c0ae9db91695f2b552d2">&#9670;&nbsp;</a></span>ts_case7()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case7 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00882">882</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  883</span>{ </div>
<div class="line"><span class="lineno">  884</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  887</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  888</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno">  891</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  892</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  893</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  896</span>  <span class="keywordtype">double</span> v_p = v_min - sqrt(pow(v_min - v0, 2) - (2 * a_min * ((v_min * dt) - dx)));</div>
<div class="line"><span class="lineno">  897</span>  <span class="keywordtype">double</span> dt_p = (v_p - v_min) / a_min;</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>  <span class="keywordflow">if</span> (dt_p &lt;= epsilon_ &amp;&amp; dt_p &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE7: Received dt_p near zero...&quot;</span> + std::to_string(dt_p));</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>  <span class="keywordtype">double</span> tc = dt - ((v_p - v0) / a_min);</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno">  905</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  906</span>  traj.t2_ = traj.t1_ + tc;</div>
<div class="line"><span class="lineno">  907</span>  traj.x2_ = traj.x1_ + (v_min * tc);</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>  traj.v3_ = v_p;</div>
<div class="line"><span class="lineno">  910</span>  traj.a3_ = (v_p - v_min) / dt_p;</div>
<div class="line"><span class="lineno">  911</span>  traj.t3_ = et;</div>
<div class="line"><span class="lineno">  912</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  915</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00082">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00087">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00092">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00078">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00083">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00088">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00093">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00079">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00084">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00089">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00094">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00080">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00085">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00090">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00095">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a2382d4f0feb6c0ae9db91695f2b552d2_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2382d4f0feb6c0ae9db91695f2b552d2_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2382d4f0feb6c0ae9db91695f2b552d2_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2382d4f0feb6c0ae9db91695f2b552d2_icgraph">
<area shape="rect" title=" " alt="" coords="648,5,785,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="abba844206be4f074096240f5d506aa8c" name="abba844206be4f074096240f5d506aa8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba844206be4f074096240f5d506aa8c">&#9670;&nbsp;</a></span>ts_case8()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case8 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td>
          <td class="paramname"><em>traj8</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00917">917</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  918</span>{ </div>
<div class="line"><span class="lineno">  919</span>  TrajectoryParams traj = traj8;</div>
<div class="line"><span class="lineno">  920</span>  <span class="keywordflow">if</span> (dx &lt; dx5)</div>
<div class="line"><span class="lineno">  921</span>  { </div>
<div class="line"><span class="lineno">  922</span>    traj.is_algorithm_successful = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  923</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;CASE8: Not within safe stopping distance originally planned!&quot;</span>);</div>
<div class="line"><span class="lineno">  924</span>  }</div>
<div class="line"><span class="lineno">  925</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  926</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00097">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00534">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_abba844206be4f074096240f5d506aa8c_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abba844206be4f074096240f5d506aa8c_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abba844206be4f074096240f5d506aa8c_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abba844206be4f074096240f5d506aa8c_icgraph">
<area shape="rect" title=" " alt="" coords="648,5,785,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="463,5,600,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,5,415,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a1e62889347161bab48ab4d28761044a1" name="a1e62889347161bab48ab4d28761044a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e62889347161bab48ab4d28761044a1">&#9670;&nbsp;</a></span>validLightState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::validLightState </td>
          <td>(</td>
          <td class="paramtype">const boost::optional&lt; std::pair&lt; boost::posix_time::ptime, lanelet::CarmaTrafficSignalState &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>optional_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const rclcpp::Time &amp;&#160;</td>
          <td class="paramname"><em>source_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method that checks both if the input optional light state is set and if the state it contains is supported via supportedLightState. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">optional_state</td><td>An optional light state and its min_end_time pair. If this is unset the method will return false </td></tr>
    <tr><td class="paramname">source_time</td><td>The time used to optain the optional light state. This is used for logging only</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the optional is set and the contained state signal is supported. False otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00277">277</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  279</span>{</div>
<div class="line"><span class="lineno">  280</span>  <span class="keywordflow">if</span> (!optional_state)</div>
<div class="line"><span class="lineno">  281</span>  {</div>
<div class="line"><span class="lineno">  282</span>    RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>),<span class="stringliteral">&quot;Traffic light data not available for source_time &quot;</span> &lt;&lt; std::to_string(source_time.seconds()));</div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  284</span>  }</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>  lanelet::CarmaTrafficSignalState light_state = optional_state.get().second;</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">supportedLightState</a>(light_state))</div>
<div class="line"><span class="lineno">  289</span>  {</div>
<div class="line"><span class="lineno">  290</span>    RCLCPP_ERROR_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lci_strategic_plugin&quot;</span>), <span class="stringliteral">&quot;LCIStrategic Plugin asked to handle CarmaTrafficSignalState: &quot;</span> &lt;&lt; light_state</div>
<div class="line"><span class="lineno">  291</span>                                                                                &lt;&lt; <span class="stringliteral">&quot; which is not supported.&quot;</span>);</div>
<div class="line"><span class="lineno">  292</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  293</span>  }</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  296</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aedf733561a0ca72170d664f4414f624e"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">lci_strategic_plugin::LCIStrategicPlugin::supportedLightState</a></div><div class="ttdeci">bool supportedLightState(lanelet::CarmaTrafficSignalState state) const</div><div class="ttdoc">Helper method to evaluate if the given traffic light state is supported by this plugin.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00191">lci_strategic_plugin.cpp:191</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00191">supportedLightState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00298">canArriveAtGreenWithCertainty()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00218">get_final_entry_time_and_conditions()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">handleFailureCaseHelper()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">planWhenWAITING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a1e62889347161bab48ab4d28761044a1_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1e62889347161bab48ab4d28761044a1_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1e62889347161bab48ab4d28761044a1_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1e62889347161bab48ab4d28761044a1_cgraph">
<area shape="rect" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="5,5,143,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="191,5,336,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a1e62889347161bab48ab4d28761044a1_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1e62889347161bab48ab4d28761044a1_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1e62889347161bab48ab4d28761044a1_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1e62889347161bab48ab4d28761044a1_icgraph">
<area shape="rect" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="955,165,1092,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1112baee4705e22ca2793e8caa98a7f4" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="699,85,907,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad91f88df811c604adc00532d3a358ec3" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="232,165,415,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a87185f4914dd728a5792e30512a66509" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="485,5,628,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbeec90c35fb6b1fa37b637f83a406b" title="Get the final entry time from either vehicle&#39;s own internal ET calculation (TSMO UC2) or from carma&#45;s..." alt="" coords="731,297,874,367"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23802c57f18da49875aaaebbca6adfdc" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="716,165,889,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0cab8e3125da46e21b998c24d3747345" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="463,85,651,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad65725dd343bd293e7f990818f4eca6d" title="Service callback for arbitrator maneuver planning." alt="" coords="5,133,184,189"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5b8c6ae95fa1264144bd62c5da27cc89" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="488,165,625,221"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a733ee3426af2de05ab01a787e6d7ab76" name="a733ee3426af2de05ab01a787e6d7ab76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a733ee3426af2de05ab01a787e6d7ab76">&#9670;&nbsp;</a></span>accel_epsilon_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::accel_epsilon_ = 0.0001</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00253">253</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01032">boundary_accel_nocruise_maxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00611">ts_case1()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00660">ts_case2()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00714">ts_case3()</a>, and <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00758">ts_case4()</a>.</p>

</div>
</div>
<a id="ab8247b29655ecc5f132e33c3cad8591d" name="ab8247b29655ecc5f132e33c3cad8591d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8247b29655ecc5f132e33c3cad8591d">&#9670;&nbsp;</a></span>approaching_light_controlled_intersection_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::approaching_light_controlled_intersection_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00233">233</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01151">mobilityOperationCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01251">publishMobilityOperation()</a>.</p>

</div>
</div>
<a id="aab8ebae22d31d704cdee82b3efcec263" name="aab8ebae22d31d704cdee82b3efcec263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8ebae22d31d704cdee82b3efcec263">&#9670;&nbsp;</a></span>bsm_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::bsm_id_ = &quot;default_bsm_id&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00208">208</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01170">BSMCb()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">generateMobilityOperation()</a>.</p>

</div>
</div>
<a id="a01df237e1b50c546b2088036c4a1b477" name="a01df237e1b50c546b2088036c4a1b477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01df237e1b50c546b2088036c4a1b477">&#9670;&nbsp;</a></span>bsm_msg_count_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> lci_strategic_plugin::LCIStrategicPlugin::bsm_msg_count_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00209">209</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01170">BSMCb()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">generateMobilityOperation()</a>.</p>

</div>
</div>
<a id="a21cb9188fd1f5f4330fdf8ef3e571a78" name="a21cb9188fd1f5f4330fdf8ef3e571a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21cb9188fd1f5f4330fdf8ef3e571a78">&#9670;&nbsp;</a></span>bsm_sec_mark_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> lci_strategic_plugin::LCIStrategicPlugin::bsm_sec_mark_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00210">210</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01170">BSMCb()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">generateMobilityOperation()</a>.</p>

</div>
</div>
<a id="a581d9ead8aaeaa3c039e96726e72de6f" name="a581d9ead8aaeaa3c039e96726e72de6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a581d9ead8aaeaa3c039e96726e72de6f">&#9670;&nbsp;</a></span>bsm_sub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::SubPtr&lt;carma_v2x_msgs::msg::BSM&gt; lci_strategic_plugin::LCIStrategicPlugin::bsm_sub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00264">264</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>.</p>

</div>
</div>
<a id="a58ba3ade1aeddc70fb7b28686c8d9327" name="a58ba3ade1aeddc70fb7b28686c8d9327"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58ba3ade1aeddc70fb7b28686c8d9327">&#9670;&nbsp;</a></span>case_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::PubPtr&lt;std_msgs::msg::Int8&gt; lci_strategic_plugin::LCIStrategicPlugin::case_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00268">268</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>.</p>

</div>
</div>
<a id="a0f8440a6d3bb9476a477961a2a9d1126" name="a0f8440a6d3bb9476a477961a2a9d1126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8440a6d3bb9476a477961a2a9d1126">&#9670;&nbsp;</a></span>config_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html">LCIStrategicPluginConfig</a> lci_strategic_plugin::LCIStrategicPlugin::config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Config containing configurable algorithm parameters. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00236">236</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00042">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00298">canArriveAtGreenWithCertainty()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01498">composeIntersectionTransitMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01465">composeStopAndWaitManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01414">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">generateMobilityOperation()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00156">get_earliest_entry_time()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00218">get_final_entry_time_and_conditions()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00433">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00359">handleStopping()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01151">mobilityOperationCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00178">on_activate_plugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00135">parameter_update_callback()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">planWhenWAITING()</a>.</p>

</div>
</div>
<a id="a8fb96553dc6acf995b4de2db46998856" name="a8fb96553dc6acf995b4de2db46998856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb96553dc6acf995b4de2db46998856">&#9670;&nbsp;</a></span>distance_remaining_to_tf_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::distance_remaining_to_tf_ = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00228">228</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>.</p>

</div>
</div>
<a id="ad58c69bcf68ab67c8d15fd91d46fcb87" name="ad58c69bcf68ab67c8d15fd91d46fcb87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad58c69bcf68ab67c8d15fd91d46fcb87">&#9670;&nbsp;</a></span>earliest_entry_time_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::earliest_entry_time_ = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00229">229</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>.</p>

</div>
</div>
<a id="a9e6f15522f37735866591ef88a56af63" name="a9e6f15522f37735866591ef88a56af63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e6f15522f37735866591ef88a56af63">&#9670;&nbsp;</a></span>earliest_et_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::PubPtr&lt;std_msgs::msg::Float64&gt; lci_strategic_plugin::LCIStrategicPlugin::earliest_et_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00270">270</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>.</p>

</div>
</div>
<a id="a357ad8adde3161651507d8e399431bfc" name="a357ad8adde3161651507d8e399431bfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a357ad8adde3161651507d8e399431bfc">&#9670;&nbsp;</a></span>emergency_decel_norm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::emergency_decel_norm_ = -2 * <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00216">216</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00042">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00359">handleStopping()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="a4c261bd6007106d5787469f4f0cc5482" name="a4c261bd6007106d5787469f4f0cc5482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c261bd6007106d5787469f4f0cc5482">&#9670;&nbsp;</a></span>epsilon_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::epsilon_ = 0.001</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00252">252</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01032">boundary_accel_nocruise_maxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01083">boundary_accel_or_decel_complete_upper()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00929">boundary_accel_or_decel_incomplete_upper()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01177">boundary_decel_nocruise_minspeed_accel_complete()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00040">get_distance_to_accel_or_decel_once()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00156">get_earliest_entry_time()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00122">get_trajectory_smoothing_activation_distance()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">handleFailureCaseHelper()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00611">ts_case1()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00660">ts_case2()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00714">ts_case3()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00758">ts_case4()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00840">ts_case6()</a>, and <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00882">ts_case7()</a>.</p>

</div>
</div>
<a id="af9e56d16a32e1a377f510e60cccff45a" name="af9e56d16a32e1a377f510e60cccff45a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9e56d16a32e1a377f510e60cccff45a">&#9670;&nbsp;</a></span>et_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::PubPtr&lt;std_msgs::msg::Float64&gt; lci_strategic_plugin::LCIStrategicPlugin::et_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00271">271</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>.</p>

</div>
</div>
<a id="a039753d101ec5ef40b4906f44a4a987f" name="a039753d101ec5ef40b4906f44a4a987f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a039753d101ec5ef40b4906f44a4a987f">&#9670;&nbsp;</a></span>frontbumper_transform_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tf2::Stamped&lt;tf2::Transform&gt; lci_strategic_plugin::LCIStrategicPlugin::frontbumper_transform_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00249">249</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

</div>
</div>
<a id="acd45a0e25b428eaed59668141c1a367a" name="acd45a0e25b428eaed59668141c1a367a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd45a0e25b428eaed59668141c1a367a">&#9670;&nbsp;</a></span>intersection_end_downtrack_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt;double&gt; lci_strategic_plugin::LCIStrategicPlugin::intersection_end_downtrack_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00243">243</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00476">handleGreenSignalScenario()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>.</p>

</div>
</div>
<a id="ae9380f01ef61988443a1229797af0bb6" name="ae9380f01ef61988443a1229797af0bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9380f01ef61988443a1229797af0bb6">&#9670;&nbsp;</a></span>intersection_speed_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt;double&gt; lci_strategic_plugin::LCIStrategicPlugin::intersection_speed_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache variables for storing the current intersection state between state machine transitions. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00242">242</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00476">handleGreenSignalScenario()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>.</p>

</div>
</div>
<a id="ab3b737710552367a21447be1918ca210" name="ab3b737710552367a21447be1918ca210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b737710552367a21447be1918ca210">&#9670;&nbsp;</a></span>intersection_turn_direction_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a> lci_strategic_plugin::LCIStrategicPlugin::intersection_turn_direction_ = <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00232">232</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">generateMobilityOperation()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="adf73e3ba365c4fa683912f0bf17143bc" name="adf73e3ba365c4fa683912f0bf17143bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf73e3ba365c4fa683912f0bf17143bc">&#9670;&nbsp;</a></span>last_case_num_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273b">TSCase</a> lci_strategic_plugin::LCIStrategicPlugin::last_case_num_ = TSCase::UNAVAILABLE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Useful metrics for LCI Plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">last_case_num_</td><td>Current speed profile case generated </td></tr>
    <tr><td class="paramname">distance_remaining_to_tf_</td><td>distance_remaining_to_traffic signal meters </td></tr>
    <tr><td class="paramname">earliest_entry_time_</td><td>earliest_entry_time in sec </td></tr>
    <tr><td class="paramname">scheduled_entry_time_</td><td>scheduled_entry_time in sec </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00227">227</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00394">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00359">handleStopping()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01122">planWhenDEPARTING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">planWhenWAITING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>.</p>

</div>
</div>
<a id="a65a82a5d5dae1cb9cc8e5f8913627dfa" name="a65a82a5d5dae1cb9cc8e5f8913627dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a82a5d5dae1cb9cc8e5f8913627dfa">&#9670;&nbsp;</a></span>length_to_front_bumper_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::length_to_front_bumper_ = 3.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00250">250</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00219">lookupFrontBumperTransform()</a>.</p>

</div>
</div>
<a id="abe899a1e3053d51bd163bda6b5bbd0b8" name="abe899a1e3053d51bd163bda6b5bbd0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe899a1e3053d51bd163bda6b5bbd0b8">&#9670;&nbsp;</a></span>light_controlled_intersection_strategy_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::light_controlled_intersection_strategy_ = &quot;Carma/signalized_intersection&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00244">244</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01414">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">generateMobilityOperation()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01151">mobilityOperationCb()</a>.</p>

</div>
</div>
<a id="a6f0f8f878a2a1cdaffa1f28ee20336d0" name="a6f0f8f878a2a1cdaffa1f28ee20336d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f0f8f878a2a1cdaffa1f28ee20336d0">&#9670;&nbsp;</a></span>max_comfort_accel_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::max_comfort_accel_ = 2.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00213">213</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00042">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">handleFailureCaseHelper()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="aa302a99c74e957f175bfcf2d30411612" name="aa302a99c74e957f175bfcf2d30411612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa302a99c74e957f175bfcf2d30411612">&#9670;&nbsp;</a></span>max_comfort_decel_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::max_comfort_decel_ = -2.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00214">214</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00042">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">handleFailureCaseHelper()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="a44fdab48c5bd34c844b45bb10702d985" name="a44fdab48c5bd34c844b45bb10702d985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44fdab48c5bd34c844b45bb10702d985">&#9670;&nbsp;</a></span>max_comfort_decel_norm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::max_comfort_decel_norm_ = -1 * <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00215">215</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00042">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00359">handleStopping()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="afcb5dbcd034ccaf299ad7d14a779df12" name="afcb5dbcd034ccaf299ad7d14a779df12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcb5dbcd034ccaf299ad7d14a779df12">&#9670;&nbsp;</a></span>mob_op_pub_timer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::TimerBase::SharedPtr lci_strategic_plugin::LCIStrategicPlugin::mob_op_pub_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00259">259</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00178">on_activate_plugin()</a>.</p>

</div>
</div>
<a id="a4a637e0c3989db0b62571b1fec3ad7fa" name="a4a637e0c3989db0b62571b1fec3ad7fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a637e0c3989db0b62571b1fec3ad7fa">&#9670;&nbsp;</a></span>mob_operation_sub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::SubPtr&lt;carma_v2x_msgs::msg::MobilityOperation&gt; lci_strategic_plugin::LCIStrategicPlugin::mob_operation_sub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00263">263</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>.</p>

</div>
</div>
<a id="ab23ebcbc97a682edc25649c1c9bdf363" name="ab23ebcbc97a682edc25649c1c9bdf363"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab23ebcbc97a682edc25649c1c9bdf363">&#9670;&nbsp;</a></span>mobility_operation_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::PubPtr&lt;carma_v2x_msgs::msg::MobilityOperation&gt; lci_strategic_plugin::LCIStrategicPlugin::mobility_operation_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00267">267</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01251">publishMobilityOperation()</a>.</p>

</div>
</div>
<a id="a27f805a687c1d09b8e21087c5b2ff0e8" name="a27f805a687c1d09b8e21087c5b2ff0e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27f805a687c1d09b8e21087c5b2ff0e8">&#9670;&nbsp;</a></span>nearest_green_entry_time_cached_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt;rclcpp::Time&gt; lci_strategic_plugin::LCIStrategicPlugin::nearest_green_entry_time_cached_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00218">218</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00218">get_final_entry_time_and_conditions()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01178">parseStrategyParams()</a>.</p>

</div>
</div>
<a id="ab7d33a0c85f6ba2d709d07a4526774aa" name="ab7d33a0c85f6ba2d709d07a4526774aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7d33a0c85f6ba2d709d07a4526774aa">&#9670;&nbsp;</a></span>previous_strategy_params_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::previous_strategy_params_ = &quot;&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00204">204</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01151">mobilityOperationCb()</a>.</p>

</div>
</div>
<a id="a387a881b43da465efca652474b390b97" name="a387a881b43da465efca652474b390b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387a881b43da465efca652474b390b97">&#9670;&nbsp;</a></span>scheduled_enter_time_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long lci_strategic_plugin::LCIStrategicPlugin::scheduled_enter_time_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00203">203</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00218">get_final_entry_time_and_conditions()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01178">parseStrategyParams()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>.</p>

</div>
</div>
<a id="ad8d7dbe5783d3b96fdc46a6f91cf6ae9" name="ad8d7dbe5783d3b96fdc46a6f91cf6ae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">&#9670;&nbsp;</a></span>scheduled_entry_time_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::scheduled_entry_time_ = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00230">230</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>.</p>

</div>
</div>
<a id="a63ee8ae7daaa5e8a4222a67dcf48366f" name="a63ee8ae7daaa5e8a4222a67dcf48366f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63ee8ae7daaa5e8a4222a67dcf48366f">&#9670;&nbsp;</a></span>street_msg_timestamp_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long lci_strategic_plugin::LCIStrategicPlugin::street_msg_timestamp_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00201">201</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01151">mobilityOperationCb()</a>.</p>

</div>
</div>
<a id="a4c5c4c4424dbe28de12ecc631c817daa" name="a4c5c4c4424dbe28de12ecc631c817daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c5c4c4424dbe28de12ecc631c817daa">&#9670;&nbsp;</a></span>tf2_buffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tf2_ros::Buffer lci_strategic_plugin::LCIStrategicPlugin::tf2_buffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00247">247</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00219">lookupFrontBumperTransform()</a>.</p>

</div>
</div>
<a id="aef286b3de570f73e947a6f2e223b0c90" name="aef286b3de570f73e947a6f2e223b0c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef286b3de570f73e947a6f2e223b0c90">&#9670;&nbsp;</a></span>tf2_listener_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;tf2_ros::TransformListener&gt; lci_strategic_plugin::LCIStrategicPlugin::tf2_listener_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00248">248</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00219">lookupFrontBumperTransform()</a>.</p>

</div>
</div>
<a id="a349dad398fe3bdf131b6ee76581acf91" name="a349dad398fe3bdf131b6ee76581acf91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a349dad398fe3bdf131b6ee76581acf91">&#9670;&nbsp;</a></span>tf_distance_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::PubPtr&lt;std_msgs::msg::Float64&gt; lci_strategic_plugin::LCIStrategicPlugin::tf_distance_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00269">269</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00160">publishTrajectorySmoothingInfo()</a>.</p>

</div>
</div>
<a id="ada2e0860177c4a9126e3f7469a555124" name="ada2e0860177c4a9126e3f7469a555124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2e0860177c4a9126e3f7469a555124">&#9670;&nbsp;</a></span>transition_table_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html">LCIStrategicStateTransitionTable</a> lci_strategic_plugin::LCIStrategicPlugin::transition_table_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State Machine Transition table. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00239">239</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01122">planWhenDEPARTING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">planWhenWAITING()</a>.</p>

</div>
</div>
<a id="af99e2eaee092170741adcafd27fc7f4b" name="af99e2eaee092170741adcafd27fc7f4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af99e2eaee092170741adcafd27fc7f4b">&#9670;&nbsp;</a></span>ts_info_pub_timer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::TimerBase::SharedPtr lci_strategic_plugin::LCIStrategicPlugin::ts_info_pub_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00260">260</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00178">on_activate_plugin()</a>.</p>

</div>
</div>
<a id="a31499f8e464eedc17d071335fb9ce1ad" name="a31499f8e464eedc17d071335fb9ce1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31499f8e464eedc17d071335fb9ce1ad">&#9670;&nbsp;</a></span>upcoming_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::upcoming_id_ = &quot;&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00205">205</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01197">generateMobilityOperation()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>.</p>

</div>
</div>
<a id="a2962a4cd6062a6c5b0191b574fbaa8cf" name="a2962a4cd6062a6c5b0191b574fbaa8cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2962a4cd6062a6c5b0191b574fbaa8cf">&#9670;&nbsp;</a></span>wm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecarma__wm.html#a3ac653959e0b6198cae274d68b343228">carma_wm::WorldModelConstPtr</a> lci_strategic_plugin::LCIStrategicPlugin::wm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>World Model pointer. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8hpp_source.html#l00256">256</a> of file <a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00264">findSpeedLimit()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00341">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00073">on_configure_plugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01262">plan_maneuvers_callback()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00812">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00742">planWhenUNAVAILABLE()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01055">planWhenWAITING()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lci_strategic_plugin/include/lci_strategic_plugin/<a class="el" href="lci__strategic__plugin_8hpp_source.html">lci_strategic_plugin.hpp</a></li>
<li>lci_strategic_plugin/src/<a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a></li>
<li>lci_strategic_plugin/src/<a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelci__strategic__plugin.html">lci_strategic_plugin</a></li><li class="navelem"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html">LCIStrategicPlugin</a></li>
    <li class="footer">Generated on Wed Aug 30 2023 16:07:27 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
