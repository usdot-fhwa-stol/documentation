<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: readme</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_carma_cloud_client_launch_scripts_readme.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">readme </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >sudo tcpdump -i lo -s0 -A dst port 33333</p>
<h3><a class="anchor" id="autotoc_md7"></a>
After the tunnel is open, open a browser in local and type in: localhost:33333</h3>
<p >It should display carma-cloud login page.</p>
<h3><a class="anchor" id="autotoc_md8"></a>
get a process PID</h3>
<p >sudo lsof -t -i:33333</p>
<h3><a class="anchor" id="autotoc_md9"></a>
kill a process by using PID</h3>
<p >sudo kill -9 $(sudo lsof -t -i:33333)</p>
<h3><a class="anchor" id="autotoc_md10"></a>
shell into carma cloud EC2 server</h3>
<p >ssh -i carma-cloud-test-1-1.pem <a href="#" onclick="location.href='mai'+'lto:'+'ubu'+'nt'+'u@w'+'ww'+'.ca'+'rm'+'a-c'+'lo'+'ud.'+'co'+'m'; return false;">ubunt<span class="obfuscator">.nosp@m.</span>u@ww<span class="obfuscator">.nosp@m.</span>w.car<span class="obfuscator">.nosp@m.</span>ma-c<span class="obfuscator">.nosp@m.</span>loud.<span class="obfuscator">.nosp@m.</span>com</a></p>
<h3><a class="anchor" id="autotoc_md11"></a>
after ssh into carma-cloud server, use below command to login as sudo user</h3>
<p >sudo -i</p>
<h3><a class="anchor" id="autotoc_md12"></a>
get a process PID</h3>
<p >sudo lsof -t -i:10001</p>
<h3><a class="anchor" id="autotoc_md13"></a>
kill a process by using PID</h3>
<div class="fragment"><div class="line">### exit sudo user and exit  carma-cloud server</div>
<div class="line">```exit</div>
</div><!-- fragment --> <div class="fragment"><div class="line"> {exit```}</div>
<div class="line"> </div>
<div class="line">### open a forward tunnel to connect localhost to carma-cloud EC2 server via ports</div>
<div class="line">```ssh -4 -f -i carma-cloud-test-1.pem -L 33333:localhost:8080 -N -o StrictHostKeyChecking=no -o UserKnownHostsFile=/dev/null ubuntu@www.carma-cloud.com</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md14"></a>
forward tunnel</h3>
<p >sudo ./forward_tunnel.sh -u ubuntu -a www.carma-cloud.com -r 33333 -k carma-cloud-1.pem</p>
<h3><a class="anchor" id="autotoc_md15"></a>
open a reverse tunnel to connect carma-cloud EC2 server to localhost via ports</h3>
<div class="fragment"><div class="line">### stop v2xhub app</div>
<div class="line">sudo service tmxcore stop</div>
<div class="line"> </div>
<div class="line">### start v2xhub app</div>
<div class="line">`sudo /usr/local/bin/tmxcore` (this will start V2X Hub in verbose for debugging, the terminal needs to stay open for V2X Hub to be accessible)</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">### At this point, V2X Hub GUI will be accessible - (username: v2xadmin, password: V2xHub#321)</div>
<div class="line"> </div>
<div class="line">## Automated scripts</div>
<div class="line">Port Forwarding from source to destination.</div>
<div class="line">```./open_tunnels.sh</div>
</div><!-- fragment --><table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Source Server   </th><th class="markdownTableHeadCenter">Source Port   </th><th class="markdownTableHeadRight">Destination port   </th><th class="markdownTableHeadRight">Destination Server    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">V2xHub   </td><td class="markdownTableBodyCenter">33333 --&gt;   </td><td class="markdownTableBodyRight">8080   </td><td class="markdownTableBodyRight">CARMA Cloud    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">CARMA Cloud   </td><td class="markdownTableBodyCenter">10001 --&gt;   </td><td class="markdownTableBodyRight">22222   </td><td class="markdownTableBodyRight">V2xHub   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jan 26 2023 14:31:48 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
