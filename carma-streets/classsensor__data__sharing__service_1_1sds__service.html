<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-streets: sensor_data_sharing_service::sds_service Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-streets<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Streets is a component of CARMA ecosystem that improves the efficiency and performance of the Transportation Systems Management and Operations (TSMO) strategies.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classsensor__data__sharing__service_1_1sds__service.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classsensor__data__sharing__service_1_1sds__service-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sensor_data_sharing_service::sds_service Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for sensor_data_sharing_service::sds_service:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service__inherit__graph.png" border="0" usemap="#asensor__data__sharing__service_1_1sds__service_inherit__map" alt="Inheritance graph"/></div>
<map name="asensor__data__sharing__service_1_1sds__service_inherit__map" id="asensor__data__sharing__service_1_1sds__service_inherit__map">
<area shape="rect" title=" " alt="" coords="22,571,207,956"/>
<area shape="rect" href="classstreets__service_1_1streets__service.html" title="Streets Service is a base class for CARMA&#45;Streets services. It initializes the streets_clock_singleto..." alt="" coords="5,5,224,523"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for sensor_data_sharing_service::sds_service:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service__coll__graph.png" border="0" usemap="#asensor__data__sharing__service_1_1sds__service_coll__map" alt="Collaboration graph"/></div>
<map name="asensor__data__sharing__service_1_1sds__service_coll__map" id="asensor__data__sharing__service_1_1sds__service_coll__map">
<area shape="rect" title=" " alt="" coords="1000,696,1185,964"/>
<area shape="rect" href="classstreets__service_1_1streets__service.html" title="Streets Service is a base class for CARMA&#45;Streets services. It initializes the streets_clock_singleto..." alt="" coords="223,175,442,633"/>
<area shape="rect" title=" " alt="" coords="15,13,69,90"/>
<area shape="rect" title=" " alt="" coords="165,13,212,90"/>
<area shape="rect" title=" " alt="" coords="247,5,418,97"/>
<area shape="rect" title=" " alt="" coords="462,5,643,97"/>
<area shape="rect" title=" " alt="" coords="723,358,897,450"/>
<area shape="rect" title=" " alt="" coords="922,351,1125,457"/>
<area shape="rect" title=" " alt="" coords="1149,365,1252,443"/>
<area shape="rect" title=" " alt="" coords="1277,365,1383,443"/>
<area shape="rect" title=" " alt="" coords="1408,358,1631,450"/>
<area shape="rect" title=" " alt="" coords="1655,365,1735,443"/>
<area shape="rect" title=" " alt="" coords="1803,365,1865,443"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a896861250c577bb35f8b2ccebd31835c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a896861250c577bb35f8b2ccebd31835c">sds_service</a> ()=default</td></tr>
<tr class="separator:a896861250c577bb35f8b2ccebd31835c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dccc7d7cc7292c2c660949221fc802c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a1dccc7d7cc7292c2c660949221fc802c">~sds_service</a> ()</td></tr>
<tr class="separator:a1dccc7d7cc7292c2c660949221fc802c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad049a28687f840e20c26913d4ad7e053"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#ad049a28687f840e20c26913d4ad7e053">initialize</a> () override</td></tr>
<tr class="memdesc:ad049a28687f840e20c26913d4ad7e053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to initialize the <a class="el" href="classsensor__data__sharing__service_1_1sds__service.html">sds_service</a>.  <a href="classsensor__data__sharing__service_1_1sds__service.html#ad049a28687f840e20c26913d4ad7e053">More...</a><br /></td></tr>
<tr class="separator:ad049a28687f840e20c26913d4ad7e053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee2b8ce146ec179703350d609652785"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a9ee2b8ce146ec179703350d609652785">start</a> () override</td></tr>
<tr class="memdesc:a9ee2b8ce146ec179703350d609652785"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to start all threads included in the tsc_service.  <a href="classsensor__data__sharing__service_1_1sds__service.html#a9ee2b8ce146ec179703350d609652785">More...</a><br /></td></tr>
<tr class="separator:a9ee2b8ce146ec179703350d609652785"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35b63304067097dc9c8fd5b899e0bec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#ac35b63304067097dc9c8fd5b899e0bec">FRIEND_TEST</a> (sensorDataSharingServiceTest, consumeDetections)</td></tr>
<tr class="separator:ac35b63304067097dc9c8fd5b899e0bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40cd3ba86ed749bf232ca58b0c666f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a40cd3ba86ed749bf232ca58b0c666f5c">FRIEND_TEST</a> (sensorDataSharingServiceTest, produceSdsms)</td></tr>
<tr class="separator:a40cd3ba86ed749bf232ca58b0c666f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeaab9da17c70f90357a6168eb4121ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#adeaab9da17c70f90357a6168eb4121ee">FRIEND_TEST</a> (sensorDataSharingServiceTest, readLanelet2Map)</td></tr>
<tr class="separator:adeaab9da17c70f90357a6168eb4121ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classstreets__service_1_1streets__service"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classstreets__service_1_1streets__service')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classstreets__service_1_1streets__service.html">streets_service::streets_service</a></td></tr>
<tr class="memitem:a4f8c1a1894494d3b0f3204feef422f19 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a4f8c1a1894494d3b0f3204feef422f19">streets_service</a> ()=default</td></tr>
<tr class="memdesc:a4f8c1a1894494d3b0f3204feef422f19 inherit pub_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classstreets__service_1_1streets__service.html#a4f8c1a1894494d3b0f3204feef422f19">More...</a><br /></td></tr>
<tr class="separator:a4f8c1a1894494d3b0f3204feef422f19 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20694030798b876b9ef036a546bc560 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#ae20694030798b876b9ef036a546bc560">~streets_service</a> ()</td></tr>
<tr class="memdesc:ae20694030798b876b9ef036a546bc560 inherit pub_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor stop time_consumer kafka producer if not null.  <a href="classstreets__service_1_1streets__service.html#ae20694030798b876b9ef036a546bc560">More...</a><br /></td></tr>
<tr class="separator:ae20694030798b876b9ef036a546bc560 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d9e60feaa48f9b122cdd238de25224a inherit pub_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a2d9e60feaa48f9b122cdd238de25224a">streets_service</a> (const <a class="el" href="classstreets__service_1_1streets__service.html">streets_service</a> &amp;)=delete</td></tr>
<tr class="separator:a2d9e60feaa48f9b122cdd238de25224a inherit pub_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5feb24ff7c195740049989ac4f5bd270 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a5feb24ff7c195740049989ac4f5bd270">streets_service</a> (<a class="el" href="classstreets__service_1_1streets__service.html">streets_service</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a5feb24ff7c195740049989ac4f5bd270 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11845d5f1691f80860f8fdfac6f54dd3 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstreets__service_1_1streets__service.html">streets_service</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a11845d5f1691f80860f8fdfac6f54dd3">operator=</a> (const <a class="el" href="classstreets__service_1_1streets__service.html">streets_service</a> &amp;)=delete</td></tr>
<tr class="separator:a11845d5f1691f80860f8fdfac6f54dd3 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbcbf07ceab854f963f5050169ed8725 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classstreets__service_1_1streets__service.html">streets_service</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#afbcbf07ceab854f963f5050169ed8725">operator=</a> (const <a class="el" href="classstreets__service_1_1streets__service.html">streets_service</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:afbcbf07ceab854f963f5050169ed8725 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fb893726747c22c954ff42d4ff873a inherit pub_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a52fb893726747c22c954ff42d4ff873a">initialize</a> ()</td></tr>
<tr class="memdesc:a52fb893726747c22c954ff42d4ff873a inherit pub_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to initialize services members, singletons, kafka consumers and producers and any other connections required for service. Classes that extend this <a class="el" href="classstreets__service_1_1streets__service.html" title="Streets Service is a base class for CARMA-Streets services. It initializes the streets_clock_singleto...">streets_service</a> need to override this method and call the streets_service::initialize() in the override method.  <a href="classstreets__service_1_1streets__service.html#a52fb893726747c22c954ff42d4ff873a">More...</a><br /></td></tr>
<tr class="separator:a52fb893726747c22c954ff42d4ff873a inherit pub_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6754199ebc7f244293b496a2fffd548 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#ac6754199ebc7f244293b496a2fffd548">start</a> ()</td></tr>
<tr class="memdesc:ac6754199ebc7f244293b496a2fffd548 inherit pub_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to start all threads needed for the Streets Service. This includes but is not limited to any threads to consume/produce message to kafka, or poll internal/external resources. Classes that extend this <a class="el" href="classstreets__service_1_1streets__service.html" title="Streets Service is a base class for CARMA-Streets services. It initializes the streets_clock_singleto...">streets_service</a> need to override this method and call the <a class="el" href="namespacesimulate__timestep.html#a8e36b14ddff8cbf3161ee536e30711f5">streets_service::start()</a> in the override method.  <a href="classstreets__service_1_1streets__service.html#ac6754199ebc7f244293b496a2fffd548">More...</a><br /></td></tr>
<tr class="separator:ac6754199ebc7f244293b496a2fffd548 inherit pub_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aff46f0180d74caaaeb9986b3735ee4cc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#aff46f0180d74caaaeb9986b3735ee4cc">initialize_kafka_consumers_producers</a> ()</td></tr>
<tr class="memdesc:aff46f0180d74caaaeb9986b3735ee4cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize Kafka consumers and producers for sensor data sharing service.  <a href="classsensor__data__sharing__service_1_1sds__service.html#aff46f0180d74caaaeb9986b3735ee4cc">More...</a><br /></td></tr>
<tr class="separator:aff46f0180d74caaaeb9986b3735ee4cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1c6b5529f6d39f6baebe028179cb3b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#ae1c6b5529f6d39f6baebe028179cb3b2">consume_detections</a> ()</td></tr>
<tr class="memdesc:ae1c6b5529f6d39f6baebe028179cb3b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop to consume detections from kafka detection consumer. Will terminate if kafka consumer is no longer running.  <a href="classsensor__data__sharing__service_1_1sds__service.html#ae1c6b5529f6d39f6baebe028179cb3b2">More...</a><br /></td></tr>
<tr class="separator:ae1c6b5529f6d39f6baebe028179cb3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784bcc97ce58546f2d5a172c96ba7e8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a784bcc97ce58546f2d5a172c96ba7e8f">produce_sdsms</a> ()</td></tr>
<tr class="memdesc:a784bcc97ce58546f2d5a172c96ba7e8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loop to produce sensor data sharing messages from detected_objects. Loop will populate sensor data sharing message with most recent detection information, publish message and clear detected object map. Will terminate if kafka producer is no longer running.  <a href="classsensor__data__sharing__service_1_1sds__service.html#a784bcc97ce58546f2d5a172c96ba7e8f">More...</a><br /></td></tr>
<tr class="separator:a784bcc97ce58546f2d5a172c96ba7e8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa703c397e3098d818fd148b6b40cea4a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#aa703c397e3098d818fd148b6b40cea4a">read_lanelet_map</a> (const std::string &amp;filepath)</td></tr>
<tr class="memdesc:aa703c397e3098d818fd148b6b40cea4a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to read lanelet2 map.  <a href="classsensor__data__sharing__service_1_1sds__service.html#aa703c397e3098d818fd148b6b40cea4a">More...</a><br /></td></tr>
<tr class="separator:aa703c397e3098d818fd148b6b40cea4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49b81dd177ed2ea506fac8f3a9a7b273"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html">streets_utils::messages::sdsm::sensor_data_sharing_msg</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a49b81dd177ed2ea506fac8f3a9a7b273">create_sdsm</a> ()</td></tr>
<tr class="memdesc:a49b81dd177ed2ea506fac8f3a9a7b273"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to create SDSM from detected objects.  <a href="classsensor__data__sharing__service_1_1sds__service.html#a49b81dd177ed2ea506fac8f3a9a7b273">More...</a><br /></td></tr>
<tr class="separator:a49b81dd177ed2ea506fac8f3a9a7b273"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a6c2c34e0d39eb800c1d1e2ba8785a226"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__producer__worker.html">kafka_clients::kafka_producer_worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">sdsm_producer</a></td></tr>
<tr class="memdesc:a6c2c34e0d39eb800c1d1e2ba8785a226"><td class="mdescLeft">&#160;</td><td class="mdescRight">Kafka producer for SDSM JSON.  <a href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">More...</a><br /></td></tr>
<tr class="separator:a6c2c34e0d39eb800c1d1e2ba8785a226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ef1019adaccf1a536736e395fee1b76"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">detection_consumer</a></td></tr>
<tr class="separator:a8ef1019adaccf1a536736e395fee1b76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2027fade87b66fafa401d7ec0ef2cbc6"><td class="memItemLeft" align="right" valign="top">std::map&lt; int, <a class="el" href="structstreets__utils_1_1messages_1_1detected__objects__msg_1_1detected__objects__msg.html">streets_utils::messages::detected_objects_msg::detected_objects_msg</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a2027fade87b66fafa401d7ec0ef2cbc6">detected_objects</a></td></tr>
<tr class="memdesc:a2027fade87b66fafa401d7ec0ef2cbc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of detected objects. New detections of existing objects will replace old detections.  <a href="classsensor__data__sharing__service_1_1sds__service.html#a2027fade87b66fafa401d7ec0ef2cbc6">More...</a><br /></td></tr>
<tr class="separator:a2027fade87b66fafa401d7ec0ef2cbc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002cd2d22aad2d3c69a996042b5d0f44"><td class="memItemLeft" align="right" valign="top">std::shared_mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a002cd2d22aad2d3c69a996042b5d0f44">detected_objects_lock</a></td></tr>
<tr class="memdesc:a002cd2d22aad2d3c69a996042b5d0f44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex for thread safe operations on detected objects map.  <a href="classsensor__data__sharing__service_1_1sds__service.html#a002cd2d22aad2d3c69a996042b5d0f44">More...</a><br /></td></tr>
<tr class="separator:a002cd2d22aad2d3c69a996042b5d0f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8996a7e3638762a746ba3ce727cb1cb2"><td class="memItemLeft" align="right" valign="top">lanelet::LaneletMapPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a8996a7e3638762a746ba3ce727cb1cb2">map_ptr</a></td></tr>
<tr class="memdesc:a8996a7e3638762a746ba3ce727cb1cb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lanelet2 Map pointer.  <a href="classsensor__data__sharing__service_1_1sds__service.html#a8996a7e3638762a746ba3ce727cb1cb2">More...</a><br /></td></tr>
<tr class="separator:a8996a7e3638762a746ba3ce727cb1cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa65d437c629584aa6f71b455de086c31"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; lanelet::projection::LocalFrameProjector &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#aa65d437c629584aa6f71b455de086c31">map_projector</a></td></tr>
<tr class="memdesc:aa65d437c629584aa6f71b455de086c31"><td class="mdescLeft">&#160;</td><td class="mdescRight">WSG84 Map projection.  <a href="classsensor__data__sharing__service_1_1sds__service.html#aa65d437c629584aa6f71b455de086c31">More...</a><br /></td></tr>
<tr class="separator:aa65d437c629584aa6f71b455de086c31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac38765b8e19f2b229de8ae70c022aa90"><td class="memItemLeft" align="right" valign="top">lanelet::GPSPoint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#ac38765b8e19f2b229de8ae70c022aa90">sdsm_reference_point</a></td></tr>
<tr class="memdesc:ac38765b8e19f2b229de8ae70c022aa90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Location of sensor.This is also the sensor's coordinate frame orignin meaning all offsets are interpreted relative to this location.  <a href="classsensor__data__sharing__service_1_1sds__service.html#ac38765b8e19f2b229de8ae70c022aa90">More...</a><br /></td></tr>
<tr class="separator:ac38765b8e19f2b229de8ae70c022aa90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f08026097619c3bf16559d3a27bd618"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#a2f08026097619c3bf16559d3a27bd618">_infrastructure_id</a></td></tr>
<tr class="memdesc:a2f08026097619c3bf16559d3a27bd618"><td class="mdescLeft">&#160;</td><td class="mdescRight">Infrastructure ID used as source ID for SDSM broadcast.  <a href="classsensor__data__sharing__service_1_1sds__service.html#a2f08026097619c3bf16559d3a27bd618">More...</a><br /></td></tr>
<tr class="separator:a2f08026097619c3bf16559d3a27bd618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb45be20aa336a614493a0f543b5fb52"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html#afb45be20aa336a614493a0f543b5fb52">_message_count</a> = 0</td></tr>
<tr class="memdesc:afb45be20aa336a614493a0f543b5fb52"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message count for SDSM.  <a href="classsensor__data__sharing__service_1_1sds__service.html#afb45be20aa336a614493a0f543b5fb52">More...</a><br /></td></tr>
<tr class="separator:afb45be20aa336a614493a0f543b5fb52"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classstreets__service_1_1streets__service"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classstreets__service_1_1streets__service')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classstreets__service_1_1streets__service.html">streets_service::streets_service</a></td></tr>
<tr class="memitem:aa7f21b164ca06dae441ecb4293ab8728 inherit pro_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#aa7f21b164ca06dae441ecb4293ab8728">initialize_kafka_producer</a> (const std::string &amp;producer_topic, std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__producer__worker.html">kafka_clients::kafka_producer_worker</a> &gt; &amp;producer)</td></tr>
<tr class="memdesc:aa7f21b164ca06dae441ecb4293ab8728 inherit pro_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to initialize Kafka producer for a given topic.  <a href="classstreets__service_1_1streets__service.html#aa7f21b164ca06dae441ecb4293ab8728">More...</a><br /></td></tr>
<tr class="separator:aa7f21b164ca06dae441ecb4293ab8728 inherit pro_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4cb4106faf5524004ba6a19d110acc inherit pro_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#aab4cb4106faf5524004ba6a19d110acc">initialize_kafka_consumer</a> (const std::string &amp;consumer_topic, std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt; &amp;consumer)</td></tr>
<tr class="memdesc:aab4cb4106faf5524004ba6a19d110acc inherit pro_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to initialise Kafka consumer. NOTE: Will assign consumer group id as service_name.  <a href="classstreets__service_1_1streets__service.html#aab4cb4106faf5524004ba6a19d110acc">More...</a><br /></td></tr>
<tr class="separator:aab4cb4106faf5524004ba6a19d110acc inherit pro_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0882928966e40628bccfc9504be441f4 inherit pro_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a0882928966e40628bccfc9504be441f4">get_system_config</a> (const char *config_name, const std::string &amp;default_val) const noexcept</td></tr>
<tr class="memdesc:a0882928966e40628bccfc9504be441f4 inherit pro_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns string value of environment variable with given name. If no value is found, returns default.  <a href="classstreets__service_1_1streets__service.html#a0882928966e40628bccfc9504be441f4">More...</a><br /></td></tr>
<tr class="separator:a0882928966e40628bccfc9504be441f4 inherit pro_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504f1c93ede0e4a77bf104f0a13c502f inherit pro_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a504f1c93ede0e4a77bf104f0a13c502f">consume_time_sync_message</a> () const</td></tr>
<tr class="memdesc:a504f1c93ede0e4a77bf104f0a13c502f inherit pro_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to consume continously consume time sync messages from Kafka topic and update <a class="el" href="classstreets__service_1_1streets__clock__singleton.html" title="Streets Clock Singleton is a singleton that manages a CarmaClock object. The CarmaClock object is cre...">streets_clock_singleton</a> with received data.  <a href="classstreets__service_1_1streets__service.html#a504f1c93ede0e4a77bf104f0a13c502f">More...</a><br /></td></tr>
<tr class="separator:a504f1c93ede0e4a77bf104f0a13c502f inherit pro_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1e19b04345061118af95882b2a468be inherit pro_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#ab1e19b04345061118af95882b2a468be">get_service_name</a> () const</td></tr>
<tr class="memdesc:ab1e19b04345061118af95882b2a468be inherit pro_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns service name set in configuration file.  <a href="classstreets__service_1_1streets__service.html#ab1e19b04345061118af95882b2a468be">More...</a><br /></td></tr>
<tr class="separator:ab1e19b04345061118af95882b2a468be inherit pro_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a545456534674e7026082f1585391bc7e inherit pro_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a545456534674e7026082f1585391bc7e">is_simulation_mode</a> () const</td></tr>
<tr class="memdesc:a545456534674e7026082f1585391bc7e inherit pro_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns boolean if service is currently configured to be in simulation_mode. This corresponsds to the value of the environment variable SIMULATION_MODE. Simulation mode indicates whether the <a class="el" href="classstreets__service_1_1streets__clock__singleton.html" title="Streets Clock Singleton is a singleton that manages a CarmaClock object. The CarmaClock object is cre...">streets_clock_singleton</a> uses simulation time for kafka or system time.  <a href="classstreets__service_1_1streets__service.html#a545456534674e7026082f1585391bc7e">More...</a><br /></td></tr>
<tr class="separator:a545456534674e7026082f1585391bc7e inherit pro_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a711844530be77c0a19b9cfd999d3cadd inherit pro_methods_classstreets__service_1_1streets__service"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; spdlog::logger &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classstreets__service_1_1streets__service.html#a711844530be77c0a19b9cfd999d3cadd">create_daily_logger</a> (const std::string &amp;name, const std::string &amp;extension=&quot;.log&quot;, const std::string &amp;pattern=&quot;[%Y-%m-%d %H:%M:%S.%e] %v&quot;, const spdlog::level::level_enum &amp;level=spdlog::level::info) const</td></tr>
<tr class="memdesc:a711844530be77c0a19b9cfd999d3cadd inherit pro_methods_classstreets__service_1_1streets__service"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to create SPDLOG Daily rotating file logger. The logger is accessible by calling spdlog::get(name). The log files created by this logger will include data and time in name and will be stored in the LOGS_DIRECTORY set path.  <a href="classstreets__service_1_1streets__service.html#a711844530be77c0a19b9cfd999d3cadd">More...</a><br /></td></tr>
<tr class="separator:a711844530be77c0a19b9cfd999d3cadd inherit pro_methods_classstreets__service_1_1streets__service"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00053">53</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a896861250c577bb35f8b2ccebd31835c" name="a896861250c577bb35f8b2ccebd31835c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a896861250c577bb35f8b2ccebd31835c">&#9670;&nbsp;</a></span>sds_service()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sensor_data_sharing_service::sds_service::sds_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1dccc7d7cc7292c2c660949221fc802c" name="a1dccc7d7cc7292c2c660949221fc802c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dccc7d7cc7292c2c660949221fc802c">&#9670;&nbsp;</a></span>~sds_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sensor_data_sharing_service::sds_service::~sds_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00021">21</a> of file <a class="el" href="sensor__data__sharing__service_8cpp_source.html">sensor_data_sharing_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   21</span>                              {</div>
<div class="line"><span class="lineno">   22</span> </div>
<div class="line"><span class="lineno">   23</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">sdsm_producer</a>)</div>
<div class="line"><span class="lineno">   24</span>        {</div>
<div class="line"><span class="lineno">   25</span>            SPDLOG_WARN(<span class="stringliteral">&quot;Stopping SDSM producer!&quot;</span>);</div>
<div class="line"><span class="lineno">   26</span>            <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">sdsm_producer</a>-&gt;stop();</div>
<div class="line"><span class="lineno">   27</span>        }</div>
<div class="line"><span class="lineno">   28</span> </div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">detection_consumer</a>)</div>
<div class="line"><span class="lineno">   30</span>        {</div>
<div class="line"><span class="lineno">   31</span>            SPDLOG_WARN(<span class="stringliteral">&quot;Stopping Detection consumer!&quot;</span>);</div>
<div class="line"><span class="lineno">   32</span>            <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">detection_consumer</a>-&gt;stop();</div>
<div class="line"><span class="lineno">   33</span>        }</div>
<div class="line"><span class="lineno">   34</span>    }</div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_a6c2c34e0d39eb800c1d1e2ba8785a226"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">sensor_data_sharing_service::sds_service::sdsm_producer</a></div><div class="ttdeci">std::shared_ptr&lt; kafka_clients::kafka_producer_worker &gt; sdsm_producer</div><div class="ttdoc">Kafka producer for SDSM JSON.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00058">sensor_data_sharing_service.hpp:58</a></div></div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_a8ef1019adaccf1a536736e395fee1b76"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">sensor_data_sharing_service::sds_service::detection_consumer</a></div><div class="ttdeci">std::shared_ptr&lt; kafka_clients::kafka_consumer_worker &gt; detection_consumer</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00062">sensor_data_sharing_service.hpp:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00062">detection_consumer</a>, and <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00058">sdsm_producer</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae1c6b5529f6d39f6baebe028179cb3b2" name="ae1c6b5529f6d39f6baebe028179cb3b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1c6b5529f6d39f6baebe028179cb3b2">&#9670;&nbsp;</a></span>consume_detections()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_data_sharing_service::sds_service::consume_detections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loop to consume detections from kafka detection consumer. Will terminate if kafka consumer is no longer running. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime</td><td>exception if detection_consumer == nullptr </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00087">87</a> of file <a class="el" href="sensor__data__sharing__service_8cpp_source.html">sensor_data_sharing_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   87</span>                                        {</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">if</span> ( !<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">detection_consumer</a> ) {</div>
<div class="line"><span class="lineno">   89</span>            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;Detection consumer is null!&quot;</span>);</div>
<div class="line"><span class="lineno">   90</span>        }</div>
<div class="line"><span class="lineno">   91</span>        SPDLOG_DEBUG(<span class="stringliteral">&quot;Attempting to consume detections ...&quot;</span>);</div>
<div class="line"><span class="lineno">   92</span>        <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">detection_consumer</a>-&gt;subscribe();</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">while</span> ( <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">detection_consumer</a>-&gt;is_running() ) {</div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordflow">try</span>{</div>
<div class="line"><span class="lineno">   95</span>                <span class="keyword">const</span> std::string payload = <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">detection_consumer</a>-&gt;consume(1000);</div>
<div class="line"><span class="lineno">   96</span>                <span class="keywordflow">if</span> (payload.length() != 0)</div>
<div class="line"><span class="lineno">   97</span>                {</div>
<div class="line"><span class="lineno">   98</span>                    <span class="keyword">auto</span> detected_object = <a class="code hl_function" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a172f1bb91dcbc257a72f2b0e59986bde">streets_utils::messages::detected_objects_msg::from_json</a>(payload);</div>
<div class="line"><span class="lineno">   99</span>                    <span class="comment">// Get delay of detected object</span></div>
<div class="line"><span class="lineno">  100</span>                    <span class="keyword">auto</span> delay = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">ss::streets_clock_singleton::time_in_ms</a>()) - <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(detected_object._timestamp);</div>
<div class="line"><span class="lineno">  101</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Detection Delay : {0}ms!&quot;</span>, delay);</div>
<div class="line"><span class="lineno">  102</span>                    <span class="comment">// if delay is greater than 500 ms skip detection to get more recent data</span></div>
<div class="line"><span class="lineno">  103</span>                    <span class="keywordflow">if</span> ( delay &gt;= 500 ) {</div>
<div class="line"><span class="lineno">  104</span>                        SPDLOG_WARN(<span class="stringliteral">&quot;Skipping incoming detection at {0}ms is not current or has invalid timestamp of {1}ms!&quot;</span> , <a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">ss::streets_clock_singleton::time_in_ms</a>(), detected_object._timestamp );</div>
<div class="line"><span class="lineno">  105</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  106</span>                    }</div>
<div class="line"><span class="lineno">  107</span>                    <span class="comment">// if delay is negative, and service is in simulation mode</span></div>
<div class="line"><span class="lineno">  108</span>                    <span class="comment">// the detection message was processed before time sync message. Wait on time sync message</span></div>
<div class="line"><span class="lineno">  109</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classstreets__service_1_1streets__service.html#a545456534674e7026082f1585391bc7e">is_simulation_mode</a>() &amp;&amp; delay &lt; 0 ) {</div>
<div class="line"><span class="lineno">  110</span>                        SPDLOG_WARN(<span class="stringliteral">&quot;Current sim time {0} waiting for sim time {1}ms from detection ...&quot;</span>,<a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">ss::streets_clock_singleton::time_in_ms</a>(), detected_object._timestamp );</div>
<div class="line"><span class="lineno">  111</span>                        <a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#a56bd3e7391e279f8a5dc62d2eb6319fa">ss::streets_clock_singleton::sleep_for</a>(abs(delay));</div>
<div class="line"><span class="lineno">  112</span>                    }</div>
<div class="line"><span class="lineno">  113</span>                    <span class="comment">// If delay is negative and service is not in simulation mode</span></div>
<div class="line"><span class="lineno">  114</span>                    <span class="comment">// indicates sensor and service are not time sychronized.</span></div>
<div class="line"><span class="lineno">  115</span>                    <span class="keywordflow">else</span> <span class="keywordflow">if</span>( delay &lt; 0 ) {</div>
<div class="line"><span class="lineno">  116</span>                        SPDLOG_WARN(</div>
<div class="line"><span class="lineno">  117</span>                            R<span class="stringliteral">&quot;(Current time is {0}ms and detection time stamp is {1}ms. Sensor Data Sharing Service and sensor producing detections to not appear to be time synchronized)&quot;,</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">                            <a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">ss::streets_clock_singleton::time_in_ms</a>(), </span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">                            detected_object._timestamp );</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">                    }</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">                    </span><span class="comment">// Write Lock</span></div>
<div class="line"><span class="lineno">  124</span>                    std::unique_lock lock(<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a002cd2d22aad2d3c69a996042b5d0f44">detected_objects_lock</a>);</div>
<div class="line"><span class="lineno">  125</span>                    <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a2027fade87b66fafa401d7ec0ef2cbc6">detected_objects</a>[detected_object._object_id] = detected_object;</div>
<div class="line"><span class="lineno">  126</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Detected Object List Size {0} after consumed: {1}&quot;</span>, <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a2027fade87b66fafa401d7ec0ef2cbc6">detected_objects</a>.size(), payload);</div>
<div class="line"><span class="lineno">  127</span>                    </div>
<div class="line"><span class="lineno">  128</span>                }</div>
<div class="line"><span class="lineno">  129</span>            }</div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classstreets__utils_1_1json__utils_1_1json__parse__exception.html">streets_utils::json_utils::json_parse_exception</a> &amp;e) {</div>
<div class="line"><span class="lineno">  131</span>                SPDLOG_ERROR(<span class="stringliteral">&quot;Exception occured consuming detection message : {0}&quot;</span>, e.what());</div>
<div class="line"><span class="lineno">  132</span>            }</div>
<div class="line"><span class="lineno">  133</span>        }</div>
<div class="line"><span class="lineno">  134</span>        SPDLOG_ERROR(<span class="stringliteral">&quot;Something went wrong, no longer consuming detections.&quot;</span> );</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    }</div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_a002cd2d22aad2d3c69a996042b5d0f44"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#a002cd2d22aad2d3c69a996042b5d0f44">sensor_data_sharing_service::sds_service::detected_objects_lock</a></div><div class="ttdeci">std::shared_mutex detected_objects_lock</div><div class="ttdoc">Mutex for thread safe operations on detected objects map.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00070">sensor_data_sharing_service.hpp:70</a></div></div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_a2027fade87b66fafa401d7ec0ef2cbc6"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#a2027fade87b66fafa401d7ec0ef2cbc6">sensor_data_sharing_service::sds_service::detected_objects</a></div><div class="ttdeci">std::map&lt; int, streets_utils::messages::detected_objects_msg::detected_objects_msg &gt; detected_objects</div><div class="ttdoc">Map of detected objects. New detections of existing objects will replace old detections.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00066">sensor_data_sharing_service.hpp:66</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__clock__singleton_html_a56bd3e7391e279f8a5dc62d2eb6319fa"><div class="ttname"><a href="classstreets__service_1_1streets__clock__singleton.html#a56bd3e7391e279f8a5dc62d2eb6319fa">streets_service::streets_clock_singleton::sleep_for</a></div><div class="ttdeci">static void sleep_for(uint64_t ms)</div><div class="ttdoc">Sleep/block calling thread for provided duration in milliseconds. TODO: Add this functionality to the...</div><div class="ttdef"><b>Definition:</b> <a href="streets__clock__singleton_8cpp_source.html#l00019">streets_clock_singleton.cpp:19</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__clock__singleton_html_ace444a4a74b0cea211bf89ed89371bae"><div class="ttname"><a href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">streets_service::streets_clock_singleton::time_in_ms</a></div><div class="ttdeci">static uint64_t time_in_ms()</div><div class="ttdoc">Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot-fhwa-stol/car...</div><div class="ttdef"><b>Definition:</b> <a href="streets__clock__singleton_8cpp_source.html#l00011">streets_clock_singleton.cpp:11</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__service_html_a545456534674e7026082f1585391bc7e"><div class="ttname"><a href="classstreets__service_1_1streets__service.html#a545456534674e7026082f1585391bc7e">streets_service::streets_service::is_simulation_mode</a></div><div class="ttdeci">bool is_simulation_mode() const</div><div class="ttdoc">Returns boolean if service is currently configured to be in simulation_mode. This corresponsds to the...</div><div class="ttdef"><b>Definition:</b> <a href="streets__service_8cpp_source.html#l00150">streets_service.cpp:150</a></div></div>
<div class="ttc" id="aclassstreets__utils_1_1json__utils_1_1json__parse__exception_html"><div class="ttname"><a href="classstreets__utils_1_1json__utils_1_1json__parse__exception.html">streets_utils::json_utils::json_parse_exception</a></div><div class="ttdoc">Runtime exception related to json_utils functions. Thrown when :</div><div class="ttdef"><b>Definition:</b> <a href="json__utils__exception_8hpp_source.html#l00016">json_utils_exception.hpp:16</a></div></div>
<div class="ttc" id="anamespacestreets__utils_1_1messages_1_1detected__objects__msg_html_a172f1bb91dcbc257a72f2b0e59986bde"><div class="ttname"><a href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a172f1bb91dcbc257a72f2b0e59986bde">streets_utils::messages::detected_objects_msg::from_json</a></div><div class="ttdeci">detected_objects_msg from_json(const std::string &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="detected__obj__msg__deserializer_8cpp_source.html#l00020">detected_obj_msg_deserializer.cpp:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00066">detected_objects</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00070">detected_objects_lock</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00062">detection_consumer</a>, <a class="el" href="detected__obj__msg__deserializer_8cpp_source.html#l00020">streets_utils::messages::detected_objects_msg::from_json()</a>, <a class="el" href="streets__service_8cpp_source.html#l00150">streets_service::streets_service::is_simulation_mode()</a>, <a class="el" href="streets__clock__singleton_8cpp_source.html#l00019">streets_service::streets_clock_singleton::sleep_for()</a>, and <a class="el" href="streets__clock__singleton_8cpp_source.html#l00011">streets_service::streets_clock_singleton::time_in_ms()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00196">start()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_ae1c6b5529f6d39f6baebe028179cb3b2_cgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_ae1c6b5529f6d39f6baebe028179cb3b2_cgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_ae1c6b5529f6d39f6baebe028179cb3b2_cgraph" id="aclasssensor__data__sharing__service_1_1sds__service_ae1c6b5529f6d39f6baebe028179cb3b2_cgraph">
<area shape="rect" title="Loop to consume detections from kafka detection consumer. Will terminate if kafka consumer is no long..." alt="" coords="5,639,153,695"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a172f1bb91dcbc257a72f2b0e59986bde" title=" " alt="" coords="218,360,377,416"/>
<area shape="rect" href="classstreets__service_1_1streets__service.html#a545456534674e7026082f1585391bc7e" title="Returns boolean if service is currently configured to be in simulation_mode. This corresponsds to the..." alt="" coords="201,613,393,654"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a56bd3e7391e279f8a5dc62d2eb6319fa" title="Sleep/block calling thread for provided duration in milliseconds. TODO: Add this functionality to the..." alt="" coords="208,678,387,719"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="201,743,393,785"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#a94d60893e0b853e625137ea44814146e" title="Functions to retrieve array member values from JSON object RapidJSON with DOM parsing...." alt="" coords="479,5,606,61"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#aedb08d56471129d869d8abae469a1a8e" title=" " alt="" coords="463,85,622,141"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#a1f5a6f364873fe3359cfa449a4009e05" title="Functions to retrieve double member values from JSON object RapidJSON with DOM parsing...." alt="" coords="692,296,828,352"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a6fd980d8b7bb4ee26d2d616907da2b06" title=" " alt="" coords="463,216,622,272"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#a335001d2292296212bfffd23f6975a19" title="Function to parse std::string JSON with RapidJSON with DOM parsing. Throws json_parse_exception if st..." alt="" coords="481,295,604,337"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#ac675baaea86ecc126f2e57727aa7d386" title="Functions to retrieve object member values from JSON object RapidJSON with DOM parsing...." alt="" coords="476,360,609,416"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a2d55e3c4d1987281c47166e465114453" title=" " alt="" coords="463,440,622,496"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#ae0e4ff2f10a0b2acd2ff600ecfc2b73b" title="Functions to retrieve std::string member values from JSON object RapidJSON with DOM parsing...." alt="" coords="477,520,608,576"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#ac69527db262595b9d8c0a8c6a476d53e" title="Functions to retrieve uint member values from JSON object RapidJSON with DOM parsing...." alt="" coords="456,599,629,641"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a6ba899bb0be5d4d2df7c00b3d5e7c54d" title=" " alt="" coords="463,664,622,720"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="441,743,644,785"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_ae1c6b5529f6d39f6baebe028179cb3b2_icgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_ae1c6b5529f6d39f6baebe028179cb3b2_icgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_ae1c6b5529f6d39f6baebe028179cb3b2_icgraph" id="aclasssensor__data__sharing__service_1_1sds__service_ae1c6b5529f6d39f6baebe028179cb3b2_icgraph">
<area shape="rect" title="Loop to consume detections from kafka detection consumer. Will terminate if kafka consumer is no long..." alt="" coords="299,5,447,61"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#a9ee2b8ce146ec179703350d609652785" title="Method to start all threads included in the tsc_service." alt="" coords="104,5,251,61"/>
<area shape="rect" href="sensor__data__sharing__service_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a49b81dd177ed2ea506fac8f3a9a7b273" name="a49b81dd177ed2ea506fac8f3a9a7b273"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49b81dd177ed2ea506fac8f3a9a7b273">&#9670;&nbsp;</a></span>create_sdsm()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html">streets_utils::messages::sdsm::sensor_data_sharing_msg</a> sensor_data_sharing_service::sds_service::create_sdsm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method to create SDSM from detected objects. </p>
<dl class="section return"><dt>Returns</dt><dd>sensor_data_sharing_msg created from detected objects. </dd></dl>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00171">171</a> of file <a class="el" href="sensor__data__sharing__service_8cpp_source.html">sensor_data_sharing_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  171</span>                                                                              {</div>
<div class="line"><span class="lineno">  172</span>        <a class="code hl_struct" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html">streets_utils::messages::sdsm::sensor_data_sharing_msg</a> msg;</div>
<div class="line"><span class="lineno">  173</span>        <span class="comment">// Read lock</span></div>
<div class="line"><span class="lineno">  174</span>        uint64_t <a class="code hl_variable" href="namespacesimulate__mobilityoperation.html#a53dff21a6d447ca660693de3432b79d0">timestamp</a> = <a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">ss::streets_clock_singleton::time_in_ms</a>();</div>
<div class="line"><span class="lineno">  175</span>        msg.<a class="code hl_variable" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#aa778afb4681eecf0449a8454befa640d">_time_stamp</a> = <a class="code hl_function" href="namespacesensor__data__sharing__service.html#a7e0352682211a7cc66a62cc93274a82a">to_sdsm_timestamp</a>(<a class="code hl_variable" href="namespacesimulate__mobilityoperation.html#a53dff21a6d447ca660693de3432b79d0">timestamp</a>);</div>
<div class="line"><span class="lineno">  176</span>        <span class="comment">// Populate with rolling counter</span></div>
<div class="line"><span class="lineno">  177</span>        msg.<a class="code hl_variable" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a3960ee9ea4815ead06b3f1a013488f50">_msg_count</a> = this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#afb45be20aa336a614493a0f543b5fb52">_message_count</a>;</div>
<div class="line"><span class="lineno">  178</span>        <span class="comment">// Populate with infrastructure id</span></div>
<div class="line"><span class="lineno">  179</span>        msg.<a class="code hl_variable" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a5d0f66d8e0027000428c1e6268ad7167">_source_id</a> = this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a2f08026097619c3bf16559d3a27bd618">_infrastructure_id</a>;</div>
<div class="line"><span class="lineno">  180</span>        <span class="comment">// Populate equipement type</span></div>
<div class="line"><span class="lineno">  181</span>        msg.<a class="code hl_variable" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a6be6260b071fd1d64ddc46201901be7b">_equipment_type</a> = sdsm::equipment_type::RSU;</div>
<div class="line"><span class="lineno">  182</span>        <span class="comment">// Polulate ref position</span></div>
<div class="line"><span class="lineno">  183</span>        msg.<a class="code hl_variable" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a80cff3abd07f4573d79a846146dde167">_ref_positon</a> = <a class="code hl_function" href="namespacesensor__data__sharing__service.html#a657d68b2284fbd94b8dfc151e5e6c9b1">to_position_3d</a>(this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#ac38765b8e19f2b229de8ae70c022aa90">sdsm_reference_point</a>);</div>
<div class="line"><span class="lineno">  184</span>        std::shared_lock lock(<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a002cd2d22aad2d3c69a996042b5d0f44">detected_objects_lock</a>);</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;[object_id, <span class="keywordtype">object</span>] : <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a2027fade87b66fafa401d7ec0ef2cbc6">detected_objects</a>){</div>
<div class="line"><span class="lineno">  186</span>            <span class="keyword">auto</span> ned_object = <a class="code hl_function" href="namespacesensor__data__sharing__service.html#a536a528bd908691171dcb85db713fb7a">detected_object_enu_to_ned</a>(<span class="keywordtype">object</span>);</div>
<div class="line"><span class="lineno">  187</span>            <span class="keyword">auto</span> detected_object_data = <a class="code hl_function" href="namespacesensor__data__sharing__service.html#ac7883e0c836f56838d524ba13cbea5e7">to_detected_object_data</a>(ned_object,<a class="code hl_variable" href="namespacesimulate__mobilityoperation.html#a53dff21a6d447ca660693de3432b79d0">timestamp</a>);</div>
<div class="line"><span class="lineno">  188</span>            <span class="comment">// TODO: Update time offset. Currently CARMA-Streets detected object message does not support timestamp</span></div>
<div class="line"><span class="lineno">  189</span>            <span class="comment">// This is a bug and needs to be addressed.</span></div>
<div class="line"><span class="lineno">  190</span>            msg.<a class="code hl_variable" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a9d5c56891d87dfdd49b17c381b9dd7a5">_objects</a>.push_back(detected_object_data);</div>
<div class="line"><span class="lineno">  191</span>        }</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">return</span> msg;</div>
<div class="line"><span class="lineno">  193</span>    }</div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_a2f08026097619c3bf16559d3a27bd618"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#a2f08026097619c3bf16559d3a27bd618">sensor_data_sharing_service::sds_service::_infrastructure_id</a></div><div class="ttdeci">std::string _infrastructure_id</div><div class="ttdoc">Infrastructure ID used as source ID for SDSM broadcast.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00090">sensor_data_sharing_service.hpp:90</a></div></div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_ac38765b8e19f2b229de8ae70c022aa90"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#ac38765b8e19f2b229de8ae70c022aa90">sensor_data_sharing_service::sds_service::sdsm_reference_point</a></div><div class="ttdeci">lanelet::GPSPoint sdsm_reference_point</div><div class="ttdoc">Location of sensor.This is also the sensor's coordinate frame orignin meaning all offsets are interpr...</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00085">sensor_data_sharing_service.hpp:85</a></div></div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_afb45be20aa336a614493a0f543b5fb52"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#afb45be20aa336a614493a0f543b5fb52">sensor_data_sharing_service::sds_service::_message_count</a></div><div class="ttdeci">uint8_t _message_count</div><div class="ttdoc">Message count for SDSM.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00095">sensor_data_sharing_service.hpp:95</a></div></div>
<div class="ttc" id="anamespacesensor__data__sharing__service_html_a536a528bd908691171dcb85db713fb7a"><div class="ttname"><a href="namespacesensor__data__sharing__service.html#a536a528bd908691171dcb85db713fb7a">sensor_data_sharing_service::detected_object_enu_to_ned</a></div><div class="ttdeci">streets_utils::messages::detected_objects_msg::detected_objects_msg detected_object_enu_to_ned(const streets_utils::messages::detected_objects_msg::detected_objects_msg &amp;msg)</div><div class="ttdoc">Converts detected_objects_msg from ENU coordinate frame to NED.</div><div class="ttdef"><b>Definition:</b> <a href="detected__object__enu__to__ned__converter_8cpp_source.html#l00018">detected_object_enu_to_ned_converter.cpp:18</a></div></div>
<div class="ttc" id="anamespacesensor__data__sharing__service_html_a657d68b2284fbd94b8dfc151e5e6c9b1"><div class="ttname"><a href="namespacesensor__data__sharing__service.html#a657d68b2284fbd94b8dfc151e5e6c9b1">sensor_data_sharing_service::to_position_3d</a></div><div class="ttdeci">streets_utils::messages::sdsm::position_3d to_position_3d(const lanelet::GPSPoint &amp;ref_position)</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8cpp_source.html#l00205">sensor_data_sharing_service.cpp:205</a></div></div>
<div class="ttc" id="anamespacesensor__data__sharing__service_html_a7e0352682211a7cc66a62cc93274a82a"><div class="ttname"><a href="namespacesensor__data__sharing__service.html#a7e0352682211a7cc66a62cc93274a82a">sensor_data_sharing_service::to_sdsm_timestamp</a></div><div class="ttdeci">streets_utils::messages::sdsm::time_stamp to_sdsm_timestamp(const uint64_t _epoch_time_ms)</div><div class="ttdoc">convert epoch millisecond timestamp to sdsm timestamp object</div><div class="ttdef"><b>Definition:</b> <a href="detected__object__to__sdsm__converter_8cpp_source.html#l00018">detected_object_to_sdsm_converter.cpp:18</a></div></div>
<div class="ttc" id="anamespacesensor__data__sharing__service_html_ac7883e0c836f56838d524ba13cbea5e7"><div class="ttname"><a href="namespacesensor__data__sharing__service.html#ac7883e0c836f56838d524ba13cbea5e7">sensor_data_sharing_service::to_detected_object_data</a></div><div class="ttdeci">streets_utils::messages::sdsm::detected_object_data to_detected_object_data(const streets_utils::messages::detected_objects_msg::detected_objects_msg &amp;msg, uint64_t sdsm_message_timestamp)</div><div class="ttdoc">convert detected_object_msg to sdsm detection_object_data.</div><div class="ttdef"><b>Definition:</b> <a href="detected__object__to__sdsm__converter_8cpp_source.html#l00036">detected_object_to_sdsm_converter.cpp:36</a></div></div>
<div class="ttc" id="anamespacesimulate__mobilityoperation_html_a53dff21a6d447ca660693de3432b79d0"><div class="ttname"><a href="namespacesimulate__mobilityoperation.html#a53dff21a6d447ca660693de3432b79d0">simulate_mobilityoperation.timestamp</a></div><div class="ttdeci">int timestamp</div><div class="ttdef"><b>Definition:</b> <a href="simulate__mobilityoperation_8py_source.html#l00026">simulate_mobilityoperation.py:26</a></div></div>
<div class="ttc" id="astructstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg_html"><div class="ttname"><a href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html">streets_utils::messages::sdsm::sensor_data_sharing_msg</a></div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__msg_8hpp_source.html#l00032">sensor_data_sharing_msg.hpp:32</a></div></div>
<div class="ttc" id="astructstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg_html_a3960ee9ea4815ead06b3f1a013488f50"><div class="ttname"><a href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a3960ee9ea4815ead06b3f1a013488f50">streets_utils::messages::sdsm::sensor_data_sharing_msg::_msg_count</a></div><div class="ttdeci">std::size_t _msg_count</div><div class="ttdoc"> a count value which is incremented with each use [0,255] the next value after 255 shall be one valu...</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__msg_8hpp_source.html#l00038">sensor_data_sharing_msg.hpp:38</a></div></div>
<div class="ttc" id="astructstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg_html_a5d0f66d8e0027000428c1e6268ad7167"><div class="ttname"><a href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a5d0f66d8e0027000428c1e6268ad7167">streets_utils::messages::sdsm::sensor_data_sharing_msg::_source_id</a></div><div class="ttdeci">std::string _source_id</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__msg_8hpp_source.html#l00044">sensor_data_sharing_msg.hpp:44</a></div></div>
<div class="ttc" id="astructstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg_html_a6be6260b071fd1d64ddc46201901be7b"><div class="ttname"><a href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a6be6260b071fd1d64ddc46201901be7b">streets_utils::messages::sdsm::sensor_data_sharing_msg::_equipment_type</a></div><div class="ttdeci">equipment_type _equipment_type</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__msg_8hpp_source.html#l00039">sensor_data_sharing_msg.hpp:39</a></div></div>
<div class="ttc" id="astructstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg_html_a80cff3abd07f4573d79a846146dde167"><div class="ttname"><a href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a80cff3abd07f4573d79a846146dde167">streets_utils::messages::sdsm::sensor_data_sharing_msg::_ref_positon</a></div><div class="ttdeci">position_3d _ref_positon</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__msg_8hpp_source.html#l00040">sensor_data_sharing_msg.hpp:40</a></div></div>
<div class="ttc" id="astructstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg_html_a9d5c56891d87dfdd49b17c381b9dd7a5"><div class="ttname"><a href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#a9d5c56891d87dfdd49b17c381b9dd7a5">streets_utils::messages::sdsm::sensor_data_sharing_msg::_objects</a></div><div class="ttdeci">std::vector&lt; detected_object_data &gt; _objects</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__msg_8hpp_source.html#l00045">sensor_data_sharing_msg.hpp:45</a></div></div>
<div class="ttc" id="astructstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg_html_aa778afb4681eecf0449a8454befa640d"><div class="ttname"><a href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html#aa778afb4681eecf0449a8454befa640d">streets_utils::messages::sdsm::sensor_data_sharing_msg::_time_stamp</a></div><div class="ttdeci">time_stamp _time_stamp</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__msg_8hpp_source.html#l00043">sensor_data_sharing_msg.hpp:43</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sensor__data__sharing__msg_8hpp_source.html#l00039">streets_utils::messages::sdsm::sensor_data_sharing_msg::_equipment_type</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00090">_infrastructure_id</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00095">_message_count</a>, <a class="el" href="sensor__data__sharing__msg_8hpp_source.html#l00038">streets_utils::messages::sdsm::sensor_data_sharing_msg::_msg_count</a>, <a class="el" href="sensor__data__sharing__msg_8hpp_source.html#l00045">streets_utils::messages::sdsm::sensor_data_sharing_msg::_objects</a>, <a class="el" href="sensor__data__sharing__msg_8hpp_source.html#l00040">streets_utils::messages::sdsm::sensor_data_sharing_msg::_ref_positon</a>, <a class="el" href="sensor__data__sharing__msg_8hpp_source.html#l00044">streets_utils::messages::sdsm::sensor_data_sharing_msg::_source_id</a>, <a class="el" href="sensor__data__sharing__msg_8hpp_source.html#l00043">streets_utils::messages::sdsm::sensor_data_sharing_msg::_time_stamp</a>, <a class="el" href="detected__object__enu__to__ned__converter_8cpp_source.html#l00018">sensor_data_sharing_service::detected_object_enu_to_ned()</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00066">detected_objects</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00070">detected_objects_lock</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00085">sdsm_reference_point</a>, <a class="el" href="streets__clock__singleton_8cpp_source.html#l00011">streets_service::streets_clock_singleton::time_in_ms()</a>, <a class="el" href="simulate__mobilityoperation_8py_source.html#l00026">simulate_mobilityoperation::timestamp</a>, <a class="el" href="detected__object__to__sdsm__converter_8cpp_source.html#l00036">sensor_data_sharing_service::to_detected_object_data()</a>, <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00205">sensor_data_sharing_service::to_position_3d()</a>, and <a class="el" href="detected__object__to__sdsm__converter_8cpp_source.html#l00018">sensor_data_sharing_service::to_sdsm_timestamp()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00138">produce_sdsms()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_a49b81dd177ed2ea506fac8f3a9a7b273_cgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_a49b81dd177ed2ea506fac8f3a9a7b273_cgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_a49b81dd177ed2ea506fac8f3a9a7b273_cgraph" id="aclasssensor__data__sharing__service_1_1sds__service_a49b81dd177ed2ea506fac8f3a9a7b273_cgraph">
<area shape="rect" title="Method to create SDSM from detected objects." alt="" coords="5,241,152,297"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a536a528bd908691171dcb85db713fb7a" title="Converts detected_objects_msg from ENU coordinate frame to NED." alt="" coords="213,97,382,153"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="201,176,393,217"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ac7883e0c836f56838d524ba13cbea5e7" title="convert detected_object_msg to sdsm detection_object_data." alt="" coords="225,241,370,297"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a657d68b2284fbd94b8dfc151e5e6c9b1" title=" " alt="" coords="217,320,378,361"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a7e0352682211a7cc66a62cc93274a82a" title="convert epoch millisecond timestamp to sdsm timestamp object" alt="" coords="200,385,395,427"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="443,5,645,47"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a69f88b750e17c2825a61d30f1adb6539" title="Convert XY velocity into 2 dimensional heading measured in 0.0125 degree units." alt="" coords="473,71,615,112"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a5038fb2ec7890722ef91b8c4c31c5f56" title="convert string detection type to sdsm object_type." alt="" coords="463,136,625,177"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a5a0bdc838c1fb4813d401db5e7e73958" title="Convert position covariance to position confidence set which includes positionXY confidence and posit..." alt="" coords="473,201,615,257"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#af4edf7e04d51a4282ef50c46fe63d333" title="Convert velocity covariance to xy speed confidence." alt="" coords="469,281,619,337"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ad4afd762d6cef868ee908cae565d49c6" title="Convert yaw rate in radians per second to 100ths of a degree per second." alt="" coords="471,360,617,401"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ac39f27a9a718d07aca61164fc4f15bdd" title="Convert angular velocity covariance to angular velocity confidence." alt="" coords="471,505,617,561"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a3dab2d908c31f73d1355dbe869283ef4" title="Convert velocity covariance to z speed confidence." alt="" coords="473,425,615,481"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a763a8955d99dac5e8b3b10c2b449c73b" title="Convert accuracy value to position confidence enumeration. To minimize error in conversion,..." alt="" coords="721,201,864,257"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a871215bcc690afd8f8415575ce417a47" title="Convert accuracy value to speed confidence enumeration. To minimize error in conversion,..." alt="" coords="693,360,892,401"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a45b012119c686e006cfb3330ea6e0a69" title="Convert accuracy value to angular velocity confidence enumeration. To minimize error in conversion,..." alt="" coords="721,505,864,561"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_a49b81dd177ed2ea506fac8f3a9a7b273_icgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_a49b81dd177ed2ea506fac8f3a9a7b273_icgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_a49b81dd177ed2ea506fac8f3a9a7b273_icgraph" id="aclasssensor__data__sharing__service_1_1sds__service_a49b81dd177ed2ea506fac8f3a9a7b273_icgraph">
<area shape="rect" title="Method to create SDSM from detected objects." alt="" coords="493,5,640,61"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#a784bcc97ce58546f2d5a172c96ba7e8f" title="Loop to produce sensor data sharing messages from detected_objects. Loop will populate sensor data sh..." alt="" coords="299,5,445,61"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#a9ee2b8ce146ec179703350d609652785" title="Method to start all threads included in the tsc_service." alt="" coords="104,5,251,61"/>
<area shape="rect" href="sensor__data__sharing__service_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="ac35b63304067097dc9c8fd5b899e0bec" name="ac35b63304067097dc9c8fd5b899e0bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35b63304067097dc9c8fd5b899e0bec">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sensor_data_sharing_service::sds_service::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">sensorDataSharingServiceTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">consumeDetections&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a40cd3ba86ed749bf232ca58b0c666f5c" name="a40cd3ba86ed749bf232ca58b0c666f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40cd3ba86ed749bf232ca58b0c666f5c">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sensor_data_sharing_service::sds_service::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">sensorDataSharingServiceTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">produceSdsms&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adeaab9da17c70f90357a6168eb4121ee" name="adeaab9da17c70f90357a6168eb4121ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adeaab9da17c70f90357a6168eb4121ee">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sensor_data_sharing_service::sds_service::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">sensorDataSharingServiceTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">readLanelet2Map&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad049a28687f840e20c26913d4ad7e053" name="ad049a28687f840e20c26913d4ad7e053"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad049a28687f840e20c26913d4ad7e053">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sensor_data_sharing_service::sds_service::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method to initialize the <a class="el" href="classsensor__data__sharing__service_1_1sds__service.html">sds_service</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>true if successful. </dd>
<dd>
false if not successful. </dd></dl>

<p>Reimplemented from <a class="el" href="classstreets__service_1_1streets__service.html#a52fb893726747c22c954ff42d4ff873a">streets_service::streets_service</a>.</p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00036">36</a> of file <a class="el" href="sensor__data__sharing__service_8cpp_source.html">sensor_data_sharing_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>                                 {</div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordflow">if</span> (!streets_service::initialize() ) {</div>
<div class="line"><span class="lineno">   38</span>            SPDLOG_ERROR(<span class="stringliteral">&quot;Failed to initialize streets service base!&quot;</span>);</div>
<div class="line"><span class="lineno">   39</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   40</span>        }</div>
<div class="line"><span class="lineno">   41</span>        SPDLOG_DEBUG(<span class="stringliteral">&quot;Intializing Sensor Data Sharing Service&quot;</span>);</div>
<div class="line"><span class="lineno">   42</span>        <span class="keyword">const</span> std::string lanlet2_map =  streets_service::get_system_config(<span class="stringliteral">&quot;LANELET2_MAP&quot;</span>, <span class="stringliteral">&quot;/home/carma-streets/MAP/Intersection.osm&quot;</span>);</div>
<div class="line"><span class="lineno">   43</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classsensor__data__sharing__service_1_1sds__service.html#aa703c397e3098d818fd148b6b40cea4a">read_lanelet_map</a>(lanlet2_map)){</div>
<div class="line"><span class="lineno">   44</span>            SPDLOG_ERROR(<span class="stringliteral">&quot;Failed to read lanlet2 map {0} !&quot;</span>, lanlet2_map);</div>
<div class="line"><span class="lineno">   45</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   46</span>        }</div>
<div class="line"><span class="lineno">   47</span>        <span class="comment">// Read sensor configuration file and get WSG84 location/origin reference frame.</span></div>
<div class="line"><span class="lineno">   48</span>        <span class="keyword">const</span> std::string sensor_config_file = streets_service::get_system_config(<span class="stringliteral">&quot;SENSOR_JSON_FILE_PATH&quot;</span>, <span class="stringliteral">&quot;/home/carma-streets/sensor_configurations/sensors.json&quot;</span>);</div>
<div class="line"><span class="lineno">   49</span>        <span class="keyword">const</span> std::string sensor_id = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">ss::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;sensor_id&quot;</span>);</div>
<div class="line"><span class="lineno">   50</span>        <span class="keyword">const</span> lanelet::BasicPoint3d pose = <a class="code hl_function" href="namespacesensor__data__sharing__service.html#ad7f7b7b70fe0f7b7357aa4cae820ff5f">parse_sensor_location</a>(sensor_config_file, sensor_id);</div>
<div class="line"><span class="lineno">   51</span>        this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#ac38765b8e19f2b229de8ae70c022aa90">sdsm_reference_point</a> =  this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#aa65d437c629584aa6f71b455de086c31">map_projector</a>-&gt;reverse(pose);</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>        <span class="comment">// Initialize SDSM Kafka producer</span></div>
<div class="line"><span class="lineno">   54</span>        <span class="keyword">const</span> std::string sdsm_topic = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">ss::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;sdsm_producer_topic&quot;</span>);</div>
<div class="line"><span class="lineno">   55</span>        <span class="keyword">const</span> std::string detection_topic = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">ss::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;detection_consumer_topic&quot;</span>);</div>
<div class="line"><span class="lineno">   56</span>        <span class="keyword">const</span> std::string sdsm_geo_reference = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">ss::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;sdsm_geo_reference&quot;</span>);</div>
<div class="line"><span class="lineno">   57</span>        <span class="comment">// Get Infrastructure ID for SDSM messages</span></div>
<div class="line"><span class="lineno">   58</span>        this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a2f08026097619c3bf16559d3a27bd618">_infrastructure_id</a> =  streets_service::get_system_config(<span class="stringliteral">&quot;INFRASTRUCTURE_ID&quot;</span>, <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classstreets__service_1_1streets__service.html#aa7f21b164ca06dae441ecb4293ab8728">initialize_kafka_producer</a>(sdsm_topic, <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">sdsm_producer</a>) &amp;&amp; <a class="code hl_function" href="classstreets__service_1_1streets__service.html#aab4cb4106faf5524004ba6a19d110acc">initialize_kafka_consumer</a>(detection_topic, <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8ef1019adaccf1a536736e395fee1b76">detection_consumer</a>);</div>
<div class="line"><span class="lineno">   60</span>    }</div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_aa65d437c629584aa6f71b455de086c31"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#aa65d437c629584aa6f71b455de086c31">sensor_data_sharing_service::sds_service::map_projector</a></div><div class="ttdeci">std::unique_ptr&lt; lanelet::projection::LocalFrameProjector &gt; map_projector</div><div class="ttdoc">WSG84 Map projection.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00079">sensor_data_sharing_service.hpp:79</a></div></div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_aa703c397e3098d818fd148b6b40cea4a"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#aa703c397e3098d818fd148b6b40cea4a">sensor_data_sharing_service::sds_service::read_lanelet_map</a></div><div class="ttdeci">bool read_lanelet_map(const std::string &amp;filepath)</div><div class="ttdoc">Method to read lanelet2 map.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8cpp_source.html#l00062">sensor_data_sharing_service.cpp:62</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__configuration_html_a03603871626201e07690effb9f2440bf"><div class="ttname"><a href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a></div><div class="ttdeci">static std::string get_string_config(const std::string &amp;config_param_name)</div><div class="ttdoc">Retreive configuration parameter string value with provided name.</div><div class="ttdef"><b>Definition:</b> <a href="streets__configuration_8cpp_source.html#l00104">streets_configuration.cpp:104</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__service_html_aa7f21b164ca06dae441ecb4293ab8728"><div class="ttname"><a href="classstreets__service_1_1streets__service.html#aa7f21b164ca06dae441ecb4293ab8728">streets_service::streets_service::initialize_kafka_producer</a></div><div class="ttdeci">bool initialize_kafka_producer(const std::string &amp;producer_topic, std::shared_ptr&lt; kafka_clients::kafka_producer_worker &gt; &amp;producer)</div><div class="ttdoc">Helper method to initialize Kafka producer for a given topic.</div><div class="ttdef"><b>Definition:</b> <a href="streets__service_8cpp_source.html#l00056">streets_service.cpp:56</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__service_html_aab4cb4106faf5524004ba6a19d110acc"><div class="ttname"><a href="classstreets__service_1_1streets__service.html#aab4cb4106faf5524004ba6a19d110acc">streets_service::streets_service::initialize_kafka_consumer</a></div><div class="ttdeci">bool initialize_kafka_consumer(const std::string &amp;consumer_topic, std::shared_ptr&lt; kafka_clients::kafka_consumer_worker &gt; &amp;consumer)</div><div class="ttdoc">Helper method to initialise Kafka consumer. NOTE: Will assign consumer group id as service_name.</div><div class="ttdef"><b>Definition:</b> <a href="streets__service_8cpp_source.html#l00073">streets_service.cpp:73</a></div></div>
<div class="ttc" id="anamespacesensor__data__sharing__service_html_ad7f7b7b70fe0f7b7357aa4cae820ff5f"><div class="ttname"><a href="namespacesensor__data__sharing__service.html#ad7f7b7b70fe0f7b7357aa4cae820ff5f">sensor_data_sharing_service::parse_sensor_location</a></div><div class="ttdeci">lanelet::BasicPoint3d parse_sensor_location(const std::string &amp;filepath, const std::string &amp;sensor_id)</div><div class="ttdoc">Method to parse sensor configuration json file.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__configuration__parser_8cpp_source.html#l00018">sensor_configuration_parser.cpp:18</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00090">_infrastructure_id</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00062">detection_consumer</a>, <a class="el" href="streets__configuration_8cpp_source.html#l00104">streets_service::streets_configuration::get_string_config()</a>, <a class="el" href="streets__service_8cpp_source.html#l00073">streets_service::streets_service::initialize_kafka_consumer()</a>, <a class="el" href="streets__service_8cpp_source.html#l00056">streets_service::streets_service::initialize_kafka_producer()</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00079">map_projector</a>, <a class="el" href="sensor__configuration__parser_8cpp_source.html#l00018">sensor_data_sharing_service::parse_sensor_location()</a>, <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00062">read_lanelet_map()</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00058">sdsm_producer</a>, and <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00085">sdsm_reference_point</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_2src_2main_8cpp_source.html#l00020">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_ad049a28687f840e20c26913d4ad7e053_cgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_ad049a28687f840e20c26913d4ad7e053_cgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_ad049a28687f840e20c26913d4ad7e053_cgraph" id="aclasssensor__data__sharing__service_1_1sds__service_ad049a28687f840e20c26913d4ad7e053_cgraph">
<area shape="rect" title="Method to initialize the sds_service." alt="" coords="5,115,152,171"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf" title="Retreive configuration parameter string value with provided name." alt="" coords="411,42,617,83"/>
<area shape="rect" href="classstreets__service_1_1streets__service.html#aab4cb4106faf5524004ba6a19d110acc" title="Helper method to initialise Kafka consumer. NOTE: Will assign consumer group id as service_name." alt="" coords="200,35,363,91"/>
<area shape="rect" href="classstreets__service_1_1streets__service.html#aa7f21b164ca06dae441ecb4293ab8728" title="Helper method to initialize Kafka producer for a given topic." alt="" coords="200,115,363,171"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ad7f7b7b70fe0f7b7357aa4cae820ff5f" title="Method to parse sensor configuration json file." alt="" coords="204,195,359,251"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#aa703c397e3098d818fd148b6b40cea4a" title="Method to read lanelet2 map." alt="" coords="208,275,355,331"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="665,42,851,83"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#a1f5a6f364873fe3359cfa449a4009e05" title="Functions to retrieve double member values from JSON object RapidJSON with DOM parsing...." alt="" coords="446,115,582,171"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#a165a7a77f0cb0c5699eeeb6194a7afec" title="Function to parse file containing JSON with RapidJSON with DOM parsing. Throws json_parse_exception i..." alt="" coords="441,194,587,235"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#ac675baaea86ecc126f2e57727aa7d386" title="Functions to retrieve object member values from JSON object RapidJSON with DOM parsing...." alt="" coords="447,259,581,315"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#ae0e4ff2f10a0b2acd2ff600ecfc2b73b" title="Functions to retrieve std::string member values from JSON object RapidJSON with DOM parsing...." alt="" coords="449,339,579,395"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_ad049a28687f840e20c26913d4ad7e053_icgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_ad049a28687f840e20c26913d4ad7e053_icgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_ad049a28687f840e20c26913d4ad7e053_icgraph" id="aclasssensor__data__sharing__service_1_1sds__service_ad049a28687f840e20c26913d4ad7e053_icgraph">
<area shape="rect" title="Method to initialize the sds_service." alt="" coords="104,5,251,61"/>
<area shape="rect" href="sensor__data__sharing__service_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="aff46f0180d74caaaeb9986b3735ee4cc" name="aff46f0180d74caaaeb9986b3735ee4cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff46f0180d74caaaeb9986b3735ee4cc">&#9670;&nbsp;</a></span>initialize_kafka_consumers_producers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sensor_data_sharing_service::sds_service::initialize_kafka_consumers_producers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize Kafka consumers and producers for sensor data sharing service. </p>
<dl class="section return"><dt>Returns</dt><dd>true if successful and false if unsuccessful. </dd></dl>

</div>
</div>
<a id="a784bcc97ce58546f2d5a172c96ba7e8f" name="a784bcc97ce58546f2d5a172c96ba7e8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a784bcc97ce58546f2d5a172c96ba7e8f">&#9670;&nbsp;</a></span>produce_sdsms()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_data_sharing_service::sds_service::produce_sdsms </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Loop to produce sensor data sharing messages from detected_objects. Loop will populate sensor data sharing message with most recent detection information, publish message and clear detected object map. Will terminate if kafka producer is no longer running. </p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::runtime</td><td>exception if sdsm_producer == nullptr </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00138">138</a> of file <a class="el" href="sensor__data__sharing__service_8cpp_source.html">sensor_data_sharing_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  138</span>                                    {</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">if</span> ( !<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">sdsm_producer</a> )  {</div>
<div class="line"><span class="lineno">  140</span>            <span class="keywordflow">throw</span> std::runtime_error(<span class="stringliteral">&quot;SDSM consumer is null!&quot;</span>);</div>
<div class="line"><span class="lineno">  141</span>        }</div>
<div class="line"><span class="lineno">  142</span>        SPDLOG_INFO(<span class="stringliteral">&quot;Starting SDSM Producer!&quot;</span>);</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">while</span> ( <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">sdsm_producer</a>-&gt;is_running() ) {</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordflow">try</span>{</div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">if</span> ( !<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a2027fade87b66fafa401d7ec0ef2cbc6">detected_objects</a>.empty() ) {</div>
<div class="line"><span class="lineno">  146</span>                    <a class="code hl_struct" href="structstreets__utils_1_1messages_1_1sdsm_1_1sensor__data__sharing__msg.html">streets_utils::messages::sdsm::sensor_data_sharing_msg</a> msg = <a class="code hl_function" href="classsensor__data__sharing__service_1_1sds__service.html#a49b81dd177ed2ea506fac8f3a9a7b273">create_sdsm</a>();</div>
<div class="line"><span class="lineno">  147</span>                    <span class="keyword">const</span> std::string json_msg = <a class="code hl_function" href="namespacestreets__utils_1_1messages_1_1sdsm.html#adc633a14b3b5d78e9a8e7a477f80867b">streets_utils::messages::sdsm::to_json</a>(msg);</div>
<div class="line"><span class="lineno">  148</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Sending SDSM : {0}&quot;</span>, json_msg);</div>
<div class="line"><span class="lineno">  149</span>                    <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a6c2c34e0d39eb800c1d1e2ba8785a226">sdsm_producer</a>-&gt;send(json_msg);</div>
<div class="line"><span class="lineno">  150</span>                    <span class="comment">// Message Count max is 127, reset after max value</span></div>
<div class="line"><span class="lineno">  151</span>                    <span class="keywordflow">if</span> ( this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#afb45be20aa336a614493a0f543b5fb52">_message_count</a> &lt;= 127) {</div>
<div class="line"><span class="lineno">  152</span>                        this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#afb45be20aa336a614493a0f543b5fb52">_message_count</a>++;</div>
<div class="line"><span class="lineno">  153</span>                    }<span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  154</span>                        this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#afb45be20aa336a614493a0f543b5fb52">_message_count</a> = 0;</div>
<div class="line"><span class="lineno">  155</span>                    }</div>
<div class="line"><span class="lineno">  156</span>                    <span class="comment">// Write Lock </span></div>
<div class="line"><span class="lineno">  157</span>                    std::unique_lock lock(<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a002cd2d22aad2d3c69a996042b5d0f44">detected_objects_lock</a>);</div>
<div class="line"><span class="lineno">  158</span>                    <span class="comment">// Clear detected object</span></div>
<div class="line"><span class="lineno">  159</span>                    <a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a2027fade87b66fafa401d7ec0ef2cbc6">detected_objects</a>.clear();</div>
<div class="line"><span class="lineno">  160</span>                }</div>
<div class="line"><span class="lineno">  161</span>            }</div>
<div class="line"><span class="lineno">  162</span>            <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classstreets__utils_1_1json__utils_1_1json__parse__exception.html">streets_utils::json_utils::json_parse_exception</a> &amp;e) {</div>
<div class="line"><span class="lineno">  163</span>                SPDLOG_ERROR(<span class="stringliteral">&quot;Exception occurred producing SDSM : {0}&quot;</span>, e.what());</div>
<div class="line"><span class="lineno">  164</span>            }         </div>
<div class="line"><span class="lineno">  165</span>            <a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#a56bd3e7391e279f8a5dc62d2eb6319fa">ss::streets_clock_singleton::sleep_for</a>(100); <span class="comment">// Sleep for 100 ms between publish  </span></div>
<div class="line"><span class="lineno">  166</span>        }</div>
<div class="line"><span class="lineno">  167</span>        SPDLOG_CRITICAL(<span class="stringliteral">&quot;SDSM Producers no longer running.&quot;</span>);</div>
<div class="line"><span class="lineno">  168</span>       </div>
<div class="line"><span class="lineno">  169</span>    }</div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_a49b81dd177ed2ea506fac8f3a9a7b273"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#a49b81dd177ed2ea506fac8f3a9a7b273">sensor_data_sharing_service::sds_service::create_sdsm</a></div><div class="ttdeci">streets_utils::messages::sdsm::sensor_data_sharing_msg create_sdsm()</div><div class="ttdoc">Method to create SDSM from detected objects.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8cpp_source.html#l00171">sensor_data_sharing_service.cpp:171</a></div></div>
<div class="ttc" id="anamespacestreets__utils_1_1messages_1_1sdsm_html_adc633a14b3b5d78e9a8e7a477f80867b"><div class="ttname"><a href="namespacestreets__utils_1_1messages_1_1sdsm.html#adc633a14b3b5d78e9a8e7a477f80867b">streets_utils::messages::sdsm::to_json</a></div><div class="ttdeci">std::string to_json(const sensor_data_sharing_msg &amp;val)</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__msg__json__serializer_8cpp_source.html#l00018">sensor_data_sharing_msg_json_serializer.cpp:18</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00095">_message_count</a>, <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00171">create_sdsm()</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00066">detected_objects</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00070">detected_objects_lock</a>, <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00058">sdsm_producer</a>, <a class="el" href="streets__clock__singleton_8cpp_source.html#l00019">streets_service::streets_clock_singleton::sleep_for()</a>, and <a class="el" href="sensor__data__sharing__msg__json__serializer_8cpp_source.html#l00018">streets_utils::messages::sdsm::to_json()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00196">start()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_a784bcc97ce58546f2d5a172c96ba7e8f_cgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_a784bcc97ce58546f2d5a172c96ba7e8f_cgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_a784bcc97ce58546f2d5a172c96ba7e8f_cgraph" id="aclasssensor__data__sharing__service_1_1sds__service_a784bcc97ce58546f2d5a172c96ba7e8f_cgraph">
<area shape="rect" title="Loop to produce sensor data sharing messages from detected_objects. Loop will populate sensor data sh..." alt="" coords="5,245,152,301"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#a49b81dd177ed2ea506fac8f3a9a7b273" title="Method to create SDSM from detected objects." alt="" coords="216,245,363,301"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a56bd3e7391e279f8a5dc62d2eb6319fa" title="Sleep/block calling thread for provided duration in milliseconds. TODO: Add this functionality to the..." alt="" coords="200,75,379,116"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#adc633a14b3b5d78e9a8e7a477f80867b" title=" " alt="" coords="210,657,369,699"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a536a528bd908691171dcb85db713fb7a" title="Converts detected_objects_msg from ENU coordinate frame to NED." alt="" coords="439,101,609,157"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="428,180,620,221"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ac7883e0c836f56838d524ba13cbea5e7" title="convert detected_object_msg to sdsm detection_object_data." alt="" coords="451,245,597,301"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a657d68b2284fbd94b8dfc151e5e6c9b1" title=" " alt="" coords="443,324,605,365"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a7e0352682211a7cc66a62cc93274a82a" title="convert epoch millisecond timestamp to sdsm timestamp object" alt="" coords="427,389,621,431"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="669,5,872,47"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a69f88b750e17c2825a61d30f1adb6539" title="Convert XY velocity into 2 dimensional heading measured in 0.0125 degree units." alt="" coords="699,71,842,112"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a5038fb2ec7890722ef91b8c4c31c5f56" title="convert string detection type to sdsm object_type." alt="" coords="690,136,851,177"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a5a0bdc838c1fb4813d401db5e7e73958" title="Convert position covariance to position confidence set which includes positionXY confidence and posit..." alt="" coords="699,201,842,257"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#af4edf7e04d51a4282ef50c46fe63d333" title="Convert velocity covariance to xy speed confidence." alt="" coords="696,281,845,337"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ad4afd762d6cef868ee908cae565d49c6" title="Convert yaw rate in radians per second to 100ths of a degree per second." alt="" coords="697,440,844,481"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ac39f27a9a718d07aca61164fc4f15bdd" title="Convert angular velocity covariance to angular velocity confidence." alt="" coords="697,505,844,561"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a3dab2d908c31f73d1355dbe869283ef4" title="Convert velocity covariance to z speed confidence." alt="" coords="699,361,842,417"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a763a8955d99dac5e8b3b10c2b449c73b" title="Convert accuracy value to position confidence enumeration. To minimize error in conversion,..." alt="" coords="948,201,1091,257"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a871215bcc690afd8f8415575ce417a47" title="Convert accuracy value to speed confidence enumeration. To minimize error in conversion,..." alt="" coords="920,328,1119,369"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a45b012119c686e006cfb3330ea6e0a69" title="Convert accuracy value to angular velocity confidence enumeration. To minimize error in conversion,..." alt="" coords="948,505,1091,561"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a518bb49ce8721d49686b71e27a7ab099" title=" " alt="" coords="445,585,603,641"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a65a47983020142404df78ce214593ac0" title=" " alt="" coords="1169,657,1343,699"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a7d75a6e200bc175dffa56f5b08ed6b4d" title=" " alt="" coords="442,715,606,771"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a4e5fc2c9ece166505763f19614585a8a" title=" " alt="" coords="439,795,609,836"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a5dc1c9342161707541d4a72a213e949c" title=" " alt="" coords="691,585,850,641"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a9da255eef6436c51ae63107e87d53dd9" title=" " alt="" coords="940,585,1099,641"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a8aea59400fc6271642852a09668805ca" title=" " alt="" coords="940,802,1099,858"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a3197a25fd36741a2335d72b6118b5f7a" title=" " alt="" coords="1167,498,1345,554"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a6078076bbfaeffb2588fb214367bdc75" title=" " alt="" coords="1177,578,1335,634"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a7a756bd97d39b653122d4397aad8bfa6" title=" " alt="" coords="1177,722,1335,778"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#ae421ddac4283edf1ca6d29eea997e5c6" title=" " alt="" coords="1177,882,1335,938"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a1db3cf6fe7d1abdd041d697d0af22190" title=" " alt="" coords="1177,1074,1335,1130"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a75cfe5232616c7f2c1059d34c38d104d" title=" " alt="" coords="1393,577,1581,619"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a0840f5055a324d71eb4aed56759812c9" title=" " alt="" coords="1408,642,1567,698"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a61f659f4674f9eb60a1ecccafa2d89ca" title=" " alt="" coords="1408,722,1567,778"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a2ef94b3171f50a8f6963e66219ad9add" title=" " alt="" coords="1408,802,1567,858"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#af8c116c5818eba2449172a04101a9e23" title=" " alt="" coords="1408,882,1567,938"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#afe828eca4450448b351274998527c652" title=" " alt="" coords="1408,962,1567,1018"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a9a6dcd538b64fe39e6d86e243ac51b1f" title=" " alt="" coords="1397,1041,1577,1083"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a55383d660e6ff664bc2c642bfc915840" title=" " alt="" coords="1408,1106,1567,1162"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#ac14d03be53738f7ea5292823d26c989d" title=" " alt="" coords="1407,1186,1568,1242"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_a784bcc97ce58546f2d5a172c96ba7e8f_icgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_a784bcc97ce58546f2d5a172c96ba7e8f_icgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_a784bcc97ce58546f2d5a172c96ba7e8f_icgraph" id="aclasssensor__data__sharing__service_1_1sds__service_a784bcc97ce58546f2d5a172c96ba7e8f_icgraph">
<area shape="rect" title="Loop to produce sensor data sharing messages from detected_objects. Loop will populate sensor data sh..." alt="" coords="299,5,445,61"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#a9ee2b8ce146ec179703350d609652785" title="Method to start all threads included in the tsc_service." alt="" coords="104,5,251,61"/>
<area shape="rect" href="sensor__data__sharing__service_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="aa703c397e3098d818fd148b6b40cea4a" name="aa703c397e3098d818fd148b6b40cea4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa703c397e3098d818fd148b6b40cea4a">&#9670;&nbsp;</a></span>read_lanelet_map()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool sensor_data_sharing_service::sds_service::read_lanelet_map </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>filepath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method to read lanelet2 map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filepath</td><td>to lanelet2 osm file. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if successful. </dd></dl>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00062">62</a> of file <a class="el" href="sensor__data__sharing__service_8cpp_source.html">sensor_data_sharing_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   62</span>                                                                {</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">   65</span>        {</div>
<div class="line"><span class="lineno">   66</span>            <span class="keywordtype">int</span> projector_type = 1;</div>
<div class="line"><span class="lineno">   67</span>            std::string target_frame;</div>
<div class="line"><span class="lineno">   68</span>            lanelet::ErrorMessages errors;</div>
<div class="line"><span class="lineno">   69</span>            <span class="comment">// Parse geo reference info from the lanelet map (.osm)</span></div>
<div class="line"><span class="lineno">   70</span>            lanelet::io_handlers::AutowareOsmParser::parseMapParams(filepath, &amp;projector_type, &amp;target_frame);</div>
<div class="line"><span class="lineno">   71</span>            this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#aa65d437c629584aa6f71b455de086c31">map_projector</a> = std::make_unique&lt;lanelet::projection::LocalFrameProjector&gt;(target_frame.c_str());</div>
<div class="line"><span class="lineno">   72</span>            this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8996a7e3638762a746ba3ce727cb1cb2">map_ptr</a> = lanelet::load(filepath, *<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#aa65d437c629584aa6f71b455de086c31">map_projector</a>.get(), &amp;errors);</div>
<div class="line"><span class="lineno">   73</span>            <span class="comment">// </span></div>
<div class="line"><span class="lineno">   74</span>            </div>
<div class="line"><span class="lineno">   75</span>            <span class="keywordflow">if</span> (!this-&gt;<a class="code hl_variable" href="classsensor__data__sharing__service_1_1sds__service.html#a8996a7e3638762a746ba3ce727cb1cb2">map_ptr</a>-&gt;empty())</div>
<div class="line"><span class="lineno">   76</span>            {</div>
<div class="line"><span class="lineno">   77</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   78</span>            }</div>
<div class="line"><span class="lineno">   79</span>        }</div>
<div class="line"><span class="lineno">   80</span>        <span class="keywordflow">catch</span> (<span class="keyword">const</span> lanelet::ParseError &amp;ex)</div>
<div class="line"><span class="lineno">   81</span>        {</div>
<div class="line"><span class="lineno">   82</span>            SPDLOG_ERROR(<span class="stringliteral">&quot;Cannot read osm file {0}. Error message: {1} .&quot;</span>, filepath, ex.what());</div>
<div class="line"><span class="lineno">   83</span>        }</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   85</span>    }</div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_a8996a7e3638762a746ba3ce727cb1cb2"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#a8996a7e3638762a746ba3ce727cb1cb2">sensor_data_sharing_service::sds_service::map_ptr</a></div><div class="ttdeci">lanelet::LaneletMapPtr map_ptr</div><div class="ttdoc">Lanelet2 Map pointer.</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8hpp_source.html#l00074">sensor_data_sharing_service.hpp:74</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00079">map_projector</a>, and <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00074">map_ptr</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00036">initialize()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_aa703c397e3098d818fd148b6b40cea4a_icgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_aa703c397e3098d818fd148b6b40cea4a_icgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_aa703c397e3098d818fd148b6b40cea4a_icgraph" id="aclasssensor__data__sharing__service_1_1sds__service_aa703c397e3098d818fd148b6b40cea4a_icgraph">
<area shape="rect" title="Method to read lanelet2 map." alt="" coords="299,5,445,61"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#ad049a28687f840e20c26913d4ad7e053" title="Method to initialize the sds_service." alt="" coords="104,5,251,61"/>
<area shape="rect" href="sensor__data__sharing__service_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a9ee2b8ce146ec179703350d609652785" name="a9ee2b8ce146ec179703350d609652785"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ee2b8ce146ec179703350d609652785">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void sensor_data_sharing_service::sds_service::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method to start all threads included in the tsc_service. </p>

<p>Reimplemented from <a class="el" href="classstreets__service_1_1streets__service.html#ac6754199ebc7f244293b496a2fffd548">streets_service::streets_service</a>.</p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00196">196</a> of file <a class="el" href="sensor__data__sharing__service_8cpp_source.html">sensor_data_sharing_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  196</span>                            {</div>
<div class="line"><span class="lineno">  197</span>        SPDLOG_DEBUG(<span class="stringliteral">&quot;Starting Sensor Data Sharing Service&quot;</span>);</div>
<div class="line"><span class="lineno">  198</span>        <a class="code hl_variable" href="namespacesimulate__timestep.html#a8e36b14ddff8cbf3161ee536e30711f5">streets_service::start</a>();</div>
<div class="line"><span class="lineno">  199</span>        std::thread detection_thread(&amp;<a class="code hl_function" href="classsensor__data__sharing__service_1_1sds__service.html#ae1c6b5529f6d39f6baebe028179cb3b2">sds_service::consume_detections</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  200</span>        std::thread sdsm_thread(&amp;<a class="code hl_function" href="classsensor__data__sharing__service_1_1sds__service.html#a784bcc97ce58546f2d5a172c96ba7e8f">sds_service::produce_sdsms</a>, <span class="keyword">this</span>);</div>
<div class="line"><span class="lineno">  201</span>        detection_thread.join();</div>
<div class="line"><span class="lineno">  202</span>        sdsm_thread.join();</div>
<div class="line"><span class="lineno">  203</span>    }</div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_a784bcc97ce58546f2d5a172c96ba7e8f"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#a784bcc97ce58546f2d5a172c96ba7e8f">sensor_data_sharing_service::sds_service::produce_sdsms</a></div><div class="ttdeci">void produce_sdsms()</div><div class="ttdoc">Loop to produce sensor data sharing messages from detected_objects. Loop will populate sensor data sh...</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8cpp_source.html#l00138">sensor_data_sharing_service.cpp:138</a></div></div>
<div class="ttc" id="aclasssensor__data__sharing__service_1_1sds__service_html_ae1c6b5529f6d39f6baebe028179cb3b2"><div class="ttname"><a href="classsensor__data__sharing__service_1_1sds__service.html#ae1c6b5529f6d39f6baebe028179cb3b2">sensor_data_sharing_service::sds_service::consume_detections</a></div><div class="ttdeci">void consume_detections()</div><div class="ttdoc">Loop to consume detections from kafka detection consumer. Will terminate if kafka consumer is no long...</div><div class="ttdef"><b>Definition:</b> <a href="sensor__data__sharing__service_8cpp_source.html#l00087">sensor_data_sharing_service.cpp:87</a></div></div>
<div class="ttc" id="anamespacesimulate__timestep_html_a8e36b14ddff8cbf3161ee536e30711f5"><div class="ttname"><a href="namespacesimulate__timestep.html#a8e36b14ddff8cbf3161ee536e30711f5">simulate_timestep.start</a></div><div class="ttdeci">int start</div><div class="ttdef"><b>Definition:</b> <a href="simulate__timestep_8py_source.html#l00015">simulate_timestep.py:15</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00087">consume_detections()</a>, <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00138">produce_sdsms()</a>, and <a class="el" href="simulate__timestep_8py_source.html#l00015">simulate_timestep::start</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_2src_2main_8cpp_source.html#l00020">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_a9ee2b8ce146ec179703350d609652785_cgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_a9ee2b8ce146ec179703350d609652785_cgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_a9ee2b8ce146ec179703350d609652785_cgraph" id="aclasssensor__data__sharing__service_1_1sds__service_a9ee2b8ce146ec179703350d609652785_cgraph">
<area shape="rect" title="Method to start all threads included in the tsc_service." alt="" coords="5,836,152,892"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#ae1c6b5529f6d39f6baebe028179cb3b2" title="Loop to consume detections from kafka detection consumer. Will terminate if kafka consumer is no long..." alt="" coords="200,731,348,787"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#a784bcc97ce58546f2d5a172c96ba7e8f" title="Loop to produce sensor data sharing messages from detected_objects. Loop will populate sensor data sh..." alt="" coords="201,876,347,932"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a172f1bb91dcbc257a72f2b0e59986bde" title=" " alt="" coords="413,376,571,432"/>
<area shape="rect" href="classstreets__service_1_1streets__service.html#a545456534674e7026082f1585391bc7e" title="Returns boolean if service is currently configured to be in simulation_mode. This corresponsds to the..." alt="" coords="396,673,588,714"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a56bd3e7391e279f8a5dc62d2eb6319fa" title="Sleep/block calling thread for provided duration in milliseconds. TODO: Add this functionality to the..." alt="" coords="403,738,581,779"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="637,797,829,838"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#a94d60893e0b853e625137ea44814146e" title="Functions to retrieve array member values from JSON object RapidJSON with DOM parsing...." alt="" coords="670,5,797,61"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#aedb08d56471129d869d8abae469a1a8e" title=" " alt="" coords="654,136,813,192"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#a1f5a6f364873fe3359cfa449a4009e05" title="Functions to retrieve double member values from JSON object RapidJSON with DOM parsing...." alt="" coords="912,176,1048,232"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a6fd980d8b7bb4ee26d2d616907da2b06" title=" " alt="" coords="654,376,813,432"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#a335001d2292296212bfffd23f6975a19" title="Function to parse std::string JSON with RapidJSON with DOM parsing. Throws json_parse_exception if st..." alt="" coords="672,455,795,497"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#ac675baaea86ecc126f2e57727aa7d386" title="Functions to retrieve object member values from JSON object RapidJSON with DOM parsing...." alt="" coords="667,520,800,576"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a2d55e3c4d1987281c47166e465114453" title=" " alt="" coords="654,216,813,272"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#ae0e4ff2f10a0b2acd2ff600ecfc2b73b" title="Functions to retrieve std::string member values from JSON object RapidJSON with DOM parsing...." alt="" coords="668,600,799,656"/>
<area shape="rect" href="namespacestreets__utils_1_1json__utils.html#ac69527db262595b9d8c0a8c6a476d53e" title="Functions to retrieve uint member values from JSON object RapidJSON with DOM parsing...." alt="" coords="647,679,820,721"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1detected__objects__msg.html#a6ba899bb0be5d4d2df7c00b3d5e7c54d" title=" " alt="" coords="654,296,813,352"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="879,702,1081,743"/>
<area shape="rect" href="classsensor__data__sharing__service_1_1sds__service.html#a49b81dd177ed2ea506fac8f3a9a7b273" title="Method to create SDSM from detected objects." alt="" coords="419,909,565,965"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#adc633a14b3b5d78e9a8e7a477f80867b" title=" " alt="" coords="413,1354,571,1395"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a536a528bd908691171dcb85db713fb7a" title="Converts detected_objects_msg from ENU coordinate frame to NED." alt="" coords="649,861,818,917"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ac7883e0c836f56838d524ba13cbea5e7" title="convert detected_object_msg to sdsm detection_object_data." alt="" coords="661,941,806,997"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a657d68b2284fbd94b8dfc151e5e6c9b1" title=" " alt="" coords="653,1021,814,1062"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a7e0352682211a7cc66a62cc93274a82a" title="convert epoch millisecond timestamp to sdsm timestamp object" alt="" coords="636,1086,831,1127"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a69f88b750e17c2825a61d30f1adb6539" title="Convert XY velocity into 2 dimensional heading measured in 0.0125 degree units." alt="" coords="909,767,1051,809"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a5038fb2ec7890722ef91b8c4c31c5f56" title="convert string detection type to sdsm object_type." alt="" coords="899,833,1061,874"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a5a0bdc838c1fb4813d401db5e7e73958" title="Convert position covariance to position confidence set which includes positionXY confidence and posit..." alt="" coords="909,897,1051,953"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#af4edf7e04d51a4282ef50c46fe63d333" title="Convert velocity covariance to xy speed confidence." alt="" coords="905,977,1055,1033"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ad4afd762d6cef868ee908cae565d49c6" title="Convert yaw rate in radians per second to 100ths of a degree per second." alt="" coords="907,1137,1053,1178"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#ac39f27a9a718d07aca61164fc4f15bdd" title="Convert angular velocity covariance to angular velocity confidence." alt="" coords="907,1201,1053,1257"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a3dab2d908c31f73d1355dbe869283ef4" title="Convert velocity covariance to z speed confidence." alt="" coords="909,1057,1051,1113"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a763a8955d99dac5e8b3b10c2b449c73b" title="Convert accuracy value to position confidence enumeration. To minimize error in conversion,..." alt="" coords="1157,897,1300,953"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a871215bcc690afd8f8415575ce417a47" title="Convert accuracy value to speed confidence enumeration. To minimize error in conversion,..." alt="" coords="1129,1025,1328,1066"/>
<area shape="rect" href="namespacesensor__data__sharing__service.html#a45b012119c686e006cfb3330ea6e0a69" title="Convert accuracy value to angular velocity confidence enumeration. To minimize error in conversion,..." alt="" coords="1157,1201,1300,1257"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a518bb49ce8721d49686b71e27a7ab099" title=" " alt="" coords="654,1281,813,1337"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a65a47983020142404df78ce214593ac0" title=" " alt="" coords="1378,1354,1553,1395"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a7d75a6e200bc175dffa56f5b08ed6b4d" title=" " alt="" coords="651,1412,815,1468"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a4e5fc2c9ece166505763f19614585a8a" title=" " alt="" coords="648,1491,819,1533"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a5dc1c9342161707541d4a72a213e949c" title=" " alt="" coords="901,1281,1059,1337"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a9da255eef6436c51ae63107e87d53dd9" title=" " alt="" coords="1149,1281,1308,1337"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a8aea59400fc6271642852a09668805ca" title=" " alt="" coords="1149,1499,1308,1555"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a3197a25fd36741a2335d72b6118b5f7a" title=" " alt="" coords="1376,1195,1555,1251"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a6078076bbfaeffb2588fb214367bdc75" title=" " alt="" coords="1386,1275,1545,1331"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a7a756bd97d39b653122d4397aad8bfa6" title=" " alt="" coords="1386,1419,1545,1475"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#ae421ddac4283edf1ca6d29eea997e5c6" title=" " alt="" coords="1386,1579,1545,1635"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a1db3cf6fe7d1abdd041d697d0af22190" title=" " alt="" coords="1386,1771,1545,1827"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a75cfe5232616c7f2c1059d34c38d104d" title=" " alt="" coords="1603,1274,1791,1315"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a0840f5055a324d71eb4aed56759812c9" title=" " alt="" coords="1617,1339,1776,1395"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a61f659f4674f9eb60a1ecccafa2d89ca" title=" " alt="" coords="1617,1419,1776,1475"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a2ef94b3171f50a8f6963e66219ad9add" title=" " alt="" coords="1617,1499,1776,1555"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#af8c116c5818eba2449172a04101a9e23" title=" " alt="" coords="1617,1579,1776,1635"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#afe828eca4450448b351274998527c652" title=" " alt="" coords="1617,1659,1776,1715"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a9a6dcd538b64fe39e6d86e243ac51b1f" title=" " alt="" coords="1607,1738,1787,1779"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#a55383d660e6ff664bc2c642bfc915840" title=" " alt="" coords="1617,1803,1776,1859"/>
<area shape="rect" href="namespacestreets__utils_1_1messages_1_1sdsm.html#ac14d03be53738f7ea5292823d26c989d" title=" " alt="" coords="1616,1883,1777,1939"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsensor__data__sharing__service_1_1sds__service_a9ee2b8ce146ec179703350d609652785_icgraph.png" border="0" usemap="#aclasssensor__data__sharing__service_1_1sds__service_a9ee2b8ce146ec179703350d609652785_icgraph" alt=""/></div>
<map name="aclasssensor__data__sharing__service_1_1sds__service_a9ee2b8ce146ec179703350d609652785_icgraph" id="aclasssensor__data__sharing__service_1_1sds__service_a9ee2b8ce146ec179703350d609652785_icgraph">
<area shape="rect" title="Method to start all threads included in the tsc_service." alt="" coords="104,5,251,61"/>
<area shape="rect" href="sensor__data__sharing__service_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2f08026097619c3bf16559d3a27bd618" name="a2f08026097619c3bf16559d3a27bd618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f08026097619c3bf16559d3a27bd618">&#9670;&nbsp;</a></span>_infrastructure_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string sensor_data_sharing_service::sds_service::_infrastructure_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Infrastructure ID used as source ID for SDSM broadcast. </p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00090">90</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00171">create_sdsm()</a>, and <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00036">initialize()</a>.</p>

</div>
</div>
<a id="afb45be20aa336a614493a0f543b5fb52" name="afb45be20aa336a614493a0f543b5fb52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb45be20aa336a614493a0f543b5fb52">&#9670;&nbsp;</a></span>_message_count</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t sensor_data_sharing_service::sds_service::_message_count = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Message count for SDSM. </p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00095">95</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00171">create_sdsm()</a>, and <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00138">produce_sdsms()</a>.</p>

</div>
</div>
<a id="a2027fade87b66fafa401d7ec0ef2cbc6" name="a2027fade87b66fafa401d7ec0ef2cbc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2027fade87b66fafa401d7ec0ef2cbc6">&#9670;&nbsp;</a></span>detected_objects</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;int,<a class="el" href="structstreets__utils_1_1messages_1_1detected__objects__msg_1_1detected__objects__msg.html">streets_utils::messages::detected_objects_msg::detected_objects_msg</a>&gt; sensor_data_sharing_service::sds_service::detected_objects</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of detected objects. New detections of existing objects will replace old detections. </p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00066">66</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00087">consume_detections()</a>, <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00171">create_sdsm()</a>, and <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00138">produce_sdsms()</a>.</p>

</div>
</div>
<a id="a002cd2d22aad2d3c69a996042b5d0f44" name="a002cd2d22aad2d3c69a996042b5d0f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002cd2d22aad2d3c69a996042b5d0f44">&#9670;&nbsp;</a></span>detected_objects_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_mutex sensor_data_sharing_service::sds_service::detected_objects_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex for thread safe operations on detected objects map. </p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00070">70</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00087">consume_detections()</a>, <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00171">create_sdsm()</a>, and <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00138">produce_sdsms()</a>.</p>

</div>
</div>
<a id="a8ef1019adaccf1a536736e395fee1b76" name="a8ef1019adaccf1a536736e395fee1b76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ef1019adaccf1a536736e395fee1b76">&#9670;&nbsp;</a></span>detection_consumer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a>&gt; sensor_data_sharing_service::sds_service::detection_consumer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00062">62</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00021">~sds_service()</a>, <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00087">consume_detections()</a>, and <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00036">initialize()</a>.</p>

</div>
</div>
<a id="aa65d437c629584aa6f71b455de086c31" name="aa65d437c629584aa6f71b455de086c31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa65d437c629584aa6f71b455de086c31">&#9670;&nbsp;</a></span>map_projector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;lanelet::projection::LocalFrameProjector&gt; sensor_data_sharing_service::sds_service::map_projector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>WSG84 Map projection. </p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00079">79</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00036">initialize()</a>, and <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00062">read_lanelet_map()</a>.</p>

</div>
</div>
<a id="a8996a7e3638762a746ba3ce727cb1cb2" name="a8996a7e3638762a746ba3ce727cb1cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8996a7e3638762a746ba3ce727cb1cb2">&#9670;&nbsp;</a></span>map_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lanelet::LaneletMapPtr sensor_data_sharing_service::sds_service::map_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Lanelet2 Map pointer. </p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00074">74</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00062">read_lanelet_map()</a>.</p>

</div>
</div>
<a id="a6c2c34e0d39eb800c1d1e2ba8785a226" name="a6c2c34e0d39eb800c1d1e2ba8785a226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c2c34e0d39eb800c1d1e2ba8785a226">&#9670;&nbsp;</a></span>sdsm_producer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classkafka__clients_1_1kafka__producer__worker.html">kafka_clients::kafka_producer_worker</a>&gt; sensor_data_sharing_service::sds_service::sdsm_producer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Kafka producer for SDSM JSON. </p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00058">58</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00021">~sds_service()</a>, <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00036">initialize()</a>, and <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00138">produce_sdsms()</a>.</p>

</div>
</div>
<a id="ac38765b8e19f2b229de8ae70c022aa90" name="ac38765b8e19f2b229de8ae70c022aa90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac38765b8e19f2b229de8ae70c022aa90">&#9670;&nbsp;</a></span>sdsm_reference_point</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lanelet::GPSPoint sensor_data_sharing_service::sds_service::sdsm_reference_point</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Location of sensor.This is also the sensor's coordinate frame orignin meaning all offsets are interpreted relative to this location. </p>

<p class="definition">Definition at line <a class="el" href="sensor__data__sharing__service_8hpp_source.html#l00085">85</a> of file <a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00171">create_sdsm()</a>, and <a class="el" href="sensor__data__sharing__service_8cpp_source.html#l00036">initialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>sensor_data_sharing_service/include/<a class="el" href="sensor__data__sharing__service_8hpp_source.html">sensor_data_sharing_service.hpp</a></li>
<li>sensor_data_sharing_service/src/<a class="el" href="sensor__data__sharing__service_8cpp_source.html">sensor_data_sharing_service.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesensor__data__sharing__service.html">sensor_data_sharing_service</a></li><li class="navelem"><a class="el" href="classsensor__data__sharing__service_1_1sds__service.html">sds_service</a></li>
    <li class="footer">Generated on Wed Apr 24 2024 22:55:59 for Carma-streets by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
