<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Messenger will be a scaled down version of CARMA Platform for a non-automated vehicle to participate in Cooperative Driving Automation (CDA).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin__inherit__graph.png" border="0" usemap="#aemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_inherit__map" alt="Inheritance graph"/></div>
<map name="aemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_inherit__map" id="aemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_inherit__map">
<area shape="rect" title=" " alt="" coords="22,131,237,985"/>
<area shape="rect" title=" " alt="" coords="5,5,253,83"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin__coll__graph.png" border="0" usemap="#aemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_coll__map" alt="Collaboration graph"/></div>
<map name="aemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_coll__map" id="aemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_coll__map">
<area shape="rect" title=" " alt="" coords="1851,359,2066,847"/>
<area shape="rect" title=" " alt="" coords="5,189,253,267"/>
<area shape="rect" title=" " alt="" coords="277,182,512,274"/>
<area shape="rect" title=" " alt="" coords="537,182,701,274"/>
<area shape="rect" title=" " alt="" coords="725,182,891,274"/>
<area shape="rect" title=" " alt="" coords="915,182,1090,274"/>
<area shape="rect" title=" " alt="" coords="1115,182,1315,274"/>
<area shape="rect" title=" " alt="" coords="1339,182,1491,274"/>
<area shape="rect" title=" " alt="" coords="1515,182,1659,274"/>
<area shape="rect" href="structemergency__response__vehicle__plugin_1_1Config.html" title="Struct containing the algorithm configuration values for emergency_response_vehicle_plugin." alt="" coords="1882,182,2035,274"/>
<area shape="rect" title=" " alt="" coords="1531,5,1578,83"/>
<area shape="rect" title=" " alt="" coords="2191,5,2251,83"/>
<area shape="rect" title=" " alt="" coords="1979,5,2034,83"/>
<area shape="rect" title=" " alt="" coords="1767,5,1806,83"/>
<area shape="rect" title=" " alt="" coords="2356,189,2436,267"/>
<area shape="rect" title=" " alt="" coords="2460,182,2631,274"/>
<area shape="rect" title=" " alt="" coords="2655,189,2716,267"/>
<area shape="rect" title=" " alt="" coords="2741,182,2897,274"/>
<area shape="rect" title=" " alt="" coords="2921,189,3087,267"/>
<area shape="rect" title=" " alt="" coords="3111,182,3241,274"/>
<area shape="rect" title=" " alt="" coords="3265,175,3436,281"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af54c14629330c8510baa30615bf9ca13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#af54c14629330c8510baa30615bf9ca13">EmergencyResponseVehiclePlugin</a> (const rclcpp::NodeOptions &amp;)</td></tr>
<tr class="memdesc:af54c14629330c8510baa30615bf9ca13"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html">EmergencyResponseVehiclePlugin</a> constructor.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#af54c14629330c8510baa30615bf9ca13">More...</a><br /></td></tr>
<tr class="separator:af54c14629330c8510baa30615bf9ca13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e7323804bb12d6f9b1b5cba4b0446b"><td class="memItemLeft" align="right" valign="top">rcl_interfaces::msg::SetParametersResult&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae5e7323804bb12d6f9b1b5cba4b0446b">parameter_update_callback</a> (const std::vector&lt; rclcpp::Parameter &gt; &amp;parameters)</td></tr>
<tr class="memdesc:ae5e7323804bb12d6f9b1b5cba4b0446b"><td class="mdescLeft">&#160;</td><td class="mdescRight">callback for dynamic parameter updates  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae5e7323804bb12d6f9b1b5cba4b0446b">More...</a><br /></td></tr>
<tr class="separator:ae5e7323804bb12d6f9b1b5cba4b0446b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4529044ec54ef618ec2904b84732658"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac4529044ec54ef618ec2904b84732658">connect</a> (unsigned short local_port)</td></tr>
<tr class="memdesc:ac4529044ec54ef618ec2904b84732658"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for connecting the udp_listener_ member object to a local port to enable it to process incoming UDP packets from a device that provides the activation status of the Emergency Response Vehicle's emergency lights and emergency sirens. A warning statement is logged if an error occurs while building and running the udp_listener_.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac4529044ec54ef618ec2904b84732658">More...</a><br /></td></tr>
<tr class="separator:ac4529044ec54ef618ec2904b84732658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf71faaab4d03dbd40d94934a16a9d0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a7cf71faaab4d03dbd40d94934a16a9d0">processIncomingUdpBinary</a> (const std::shared_ptr&lt; const std::vector&lt; uint8_t &gt; &gt; &amp;data)</td></tr>
<tr class="memdesc:a7cf71faaab4d03dbd40d94934a16a9d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to process the incoming UDP packet binary data from the device that provides the activation status of the Emergency Response Vehicle's emergency lights and emergency sirens. UDP packets are received by the udp_listener_ object and the binary data is passed to this function.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a7cf71faaab4d03dbd40d94934a16a9d0">More...</a><br /></td></tr>
<tr class="separator:a7cf71faaab4d03dbd40d94934a16a9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad69ae398640343488bdfe4ad9ebc60f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad69ae398640343488bdfe4ad9ebc60f7">loadRouteDestinationPointsFromFile</a> (const std::string &amp;route_file_path)</td></tr>
<tr class="memdesc:ad69ae398640343488bdfe4ad9ebc60f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to extract the route destination points from a .csv file stored on the Host PC at the file path provided in the route_file_path argument. Route destination points are stored sequentially within the plugin's route_destination_points_ member object.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad69ae398640343488bdfe4ad9ebc60f7">More...</a><br /></td></tr>
<tr class="separator:ad69ae398640343488bdfe4ad9ebc60f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6f1819b3be8fefbd093d04e5cb715a"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1c6f1819b3be8fefbd093d04e5cb715a">getNextMsgCount</a> (uint8_t old_msg_count)</td></tr>
<tr class="memdesc:a1c6f1819b3be8fefbd093d04e5cb715a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to get the next value associated with a generated BSM's 'msgcount' field based on the provided msgcount of the previously generated BSM.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1c6f1819b3be8fefbd093d04e5cb715a">More...</a><br /></td></tr>
<tr class="separator:a1c6f1819b3be8fefbd093d04e5cb715a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a799090d050825e0ebf281570faaf1383"><td class="memItemLeft" align="right" valign="top">carma_v2x_msgs::msg::BSM&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383">generateBSM</a> ()</td></tr>
<tr class="memdesc:a799090d050825e0ebf281570faaf1383"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this object's member variables. This function also updates the value of prev_msg_count_.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383">More...</a><br /></td></tr>
<tr class="separator:a799090d050825e0ebf281570faaf1383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade9f37261c47832d51ad57934f8092bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ade9f37261c47832d51ad57934f8092bf">publishBSM</a> ()</td></tr>
<tr class="memdesc:ade9f37261c47832d51ad57934f8092bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function for publishing a BSM for the Emergency Response Vehicle. Makes a call to <a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o...">generateBSM()</a> to obtain the BSM that will be published.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ade9f37261c47832d51ad57934f8092bf">More...</a><br /></td></tr>
<tr class="separator:ade9f37261c47832d51ad57934f8092bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab150d0d01c03970ce4d77b55268bbff5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ab150d0d01c03970ce4d77b55268bbff5">arrivedAtEmergencyDestinationCallback</a> (std::shared_ptr&lt; rmw_request_id_t &gt;, std_srvs::srv::Trigger::Request::SharedPtr req, std_srvs::srv::Trigger::Response::SharedPtr resp)</td></tr>
<tr class="memdesc:ab150d0d01c03970ce4d77b55268bbff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service callback for a service call that indicates the Emergency Response Vehicle has arrived at its destination. Service is called by the Emergency Response Web UI Widget, and results in this plugin clearing its route_destination_points_ so that future route destination points will not be included in regional extension of the BSMs generated within <a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o...">generateBSM()</a>.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ab150d0d01c03970ce4d77b55268bbff5">More...</a><br /></td></tr>
<tr class="separator:ab150d0d01c03970ce4d77b55268bbff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895f80339a3bed97417df7f4d64ed028"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a895f80339a3bed97417df7f4d64ed028">incomingEmergencyVehicleResponseCallback</a> (carma_v2x_msgs::msg::EmergencyVehicleResponse::UniquePtr msg)</td></tr>
<tr class="memdesc:a895f80339a3bed97417df7f4d64ed028"><td class="mdescLeft">&#160;</td><td class="mdescRight">A callback to process a received <a class="el" href="structEmergencyVehicleResponse.html">EmergencyVehicleResponse</a> message, which indicates that a CDA vehicle is unable to change lanes out of the path of an approaching Emergency Response Vehicle. If the message is intended for the ego Emergency Response Vehicle, then a call to <a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0f4217007231d59bd9458a9e7a8ce75" title="A function for publishing an outgoing EmergencyVehicleAck message in response to the CDA vehicle that...">broadcastEmergencyVehicleAck()</a> will be made, and message will be published using emergency_vehicle_ui_warnings_pub_ to provide the Emergency Response Web UI widget with information to display in a warning message to the user.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a895f80339a3bed97417df7f4d64ed028">More...</a><br /></td></tr>
<tr class="separator:a895f80339a3bed97417df7f4d64ed028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f4217007231d59bd9458a9e7a8ce75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0f4217007231d59bd9458a9e7a8ce75">broadcastEmergencyVehicleAck</a> (const std::string &amp;recipient_id)</td></tr>
<tr class="memdesc:ae0f4217007231d59bd9458a9e7a8ce75"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function for publishing an outgoing <a class="el" href="structEmergencyVehicleAck.html">EmergencyVehicleAck</a> message in response to the CDA vehicle that broadcasted an <a class="el" href="structEmergencyVehicleResponse.html">EmergencyVehicleResponse</a> message to this Emergency Resposne Vehicle.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0f4217007231d59bd9458a9e7a8ce75">More...</a><br /></td></tr>
<tr class="separator:ae0f4217007231d59bd9458a9e7a8ce75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ceec14aa51f981f3cd9e8a08e804fe7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9ceec14aa51f981f3cd9e8a08e804fe7">getDistanceBetween</a> (const double &amp;lat_1_deg, const double &amp;lon_1_deg, const double &amp;lat_2_deg, const double &amp;lon_2_deg)</td></tr>
<tr class="memdesc:a9ceec14aa51f981f3cd9e8a08e804fe7"><td class="mdescLeft">&#160;</td><td class="mdescRight">A helpfer function to approximate the distance (in meters) between two pairs of latitude/longitude coordinates. This function uses the Haversine Formula and assumes Earth as a spherical shape to approximate this measurement.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9ceec14aa51f981f3cd9e8a08e804fe7">More...</a><br /></td></tr>
<tr class="separator:a9ceec14aa51f981f3cd9e8a08e804fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfc866f92781a25cf12f10df5c4d62a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#abfc866f92781a25cf12f10df5c4d62a0">poseCallback</a> (gps_msgs::msg::GPSFix::UniquePtr msg)</td></tr>
<tr class="memdesc:abfc866f92781a25cf12f10df5c4d62a0"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> callback for the Emergency Response Vehicle's current latitude and longitude.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#abfc866f92781a25cf12f10df5c4d62a0">More...</a><br /></td></tr>
<tr class="separator:abfc866f92781a25cf12f10df5c4d62a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c95d8b788aeddf1b3b1f0498dcf5c76"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c95d8b788aeddf1b3b1f0498dcf5c76">twistCallback</a> (geometry_msgs::msg::TwistStamped::UniquePtr msg)</td></tr>
<tr class="memdesc:a5c95d8b788aeddf1b3b1f0498dcf5c76"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> callback for the Emergency Response Vehicle's current velocity.  <a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c95d8b788aeddf1b3b1f0498dcf5c76">More...</a><br /></td></tr>
<tr class="separator:a5c95d8b788aeddf1b3b1f0498dcf5c76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35cdb6f84b872aff64b6cfc3803a1cbd"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a35cdb6f84b872aff64b6cfc3803a1cbd">handle_on_configure</a> (const rclcpp_lifecycle::State &amp;)</td></tr>
<tr class="separator:a35cdb6f84b872aff64b6cfc3803a1cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a910b6eb8776913e472c319ccabdea4de"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::CallbackReturn&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a910b6eb8776913e472c319ccabdea4de">handle_on_activate</a> (const rclcpp_lifecycle::State &amp;)</td></tr>
<tr class="separator:a910b6eb8776913e472c319ccabdea4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8ea99592510263fd2c28a8b0fc2738"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aef8ea99592510263fd2c28a8b0fc2738">handle_on_shutdown</a> ()</td></tr>
<tr class="separator:aef8ea99592510263fd2c28a8b0fc2738"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ac5bbdd6214e33a7e23a45eb97c781998"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac5bbdd6214e33a7e23a45eb97c781998">FRIEND_TEST</a> (EmergencyResponseVehiclePluginTest, testGetDistanceBetween)</td></tr>
<tr class="separator:ac5bbdd6214e33a7e23a45eb97c781998"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8032cc2764a17cbf670cc440ec068de7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a8032cc2764a17cbf670cc440ec068de7">FRIEND_TEST</a> (EmergencyResponseVehiclePluginTest, testRemoveRouteDestinationPoint)</td></tr>
<tr class="separator:a8032cc2764a17cbf670cc440ec068de7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0091548705a738c84726e9209297c2e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0091548705a738c84726e9209297c2e2">FRIEND_TEST</a> (EmergencyResponseVehiclePluginTest, testGenerateBsm)</td></tr>
<tr class="separator:a0091548705a738c84726e9209297c2e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0ad997715b7683ff4a780b3d81e393c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0ad997715b7683ff4a780b3d81e393c">FRIEND_TEST</a> (EmergencyResponseVehiclePluginTest, testLoadRouteDestinationPointsFromFile)</td></tr>
<tr class="separator:ae0ad997715b7683ff4a780b3d81e393c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14eed55c067c9ed009c932b72ff0e30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac14eed55c067c9ed009c932b72ff0e30">FRIEND_TEST</a> (EmergencyResponseVehiclePluginTest, testProcessIncomingUdpBinary)</td></tr>
<tr class="separator:ac14eed55c067c9ed009c932b72ff0e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a9095e584ac66e886475dae4ab02d728a"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::SubPtr&lt; carma_v2x_msgs::msg::EmergencyVehicleResponse &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9095e584ac66e886475dae4ab02d728a">incoming_emergency_vehicle_response_sub_</a></td></tr>
<tr class="separator:a9095e584ac66e886475dae4ab02d728a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48fd74a1232b8030fce5f4fa26c48a31"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::SubPtr&lt; gps_msgs::msg::GPSFix &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a48fd74a1232b8030fce5f4fa26c48a31">pose_sub_</a></td></tr>
<tr class="separator:a48fd74a1232b8030fce5f4fa26c48a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a83f65e24b1574225333e541bc4791"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::SubPtr&lt; geometry_msgs::msg::TwistStamped &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad2a83f65e24b1574225333e541bc4791">twist_sub_</a></td></tr>
<tr class="separator:ad2a83f65e24b1574225333e541bc4791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8367454c11cc1ab6d02e68db22c77a94"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::PubPtr&lt; carma_v2x_msgs::msg::BSM &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a8367454c11cc1ab6d02e68db22c77a94">outgoing_bsm_pub_</a></td></tr>
<tr class="separator:a8367454c11cc1ab6d02e68db22c77a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11fcdbb3f4ccac67a320628abadc97c7"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::PubPtr&lt; carma_v2x_msgs::msg::EmergencyVehicleAck &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a11fcdbb3f4ccac67a320628abadc97c7">outgoing_emergency_vehicle_ack_pub_</a></td></tr>
<tr class="separator:a11fcdbb3f4ccac67a320628abadc97c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b01453eb517f54fddd7ccdc1942b92"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::PubPtr&lt; carma_msgs::msg::UIInstructions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a07b01453eb517f54fddd7ccdc1942b92">emergency_vehicle_ui_warnings_pub_</a></td></tr>
<tr class="separator:a07b01453eb517f54fddd7ccdc1942b92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8443ffaf18f687401961f4c3e6e98b2"><td class="memItemLeft" align="right" valign="top">carma_ros2_utils::ServicePtr&lt; std_srvs::srv::Trigger &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac8443ffaf18f687401961f4c3e6e98b2">arrived_at_emergency_destination_server_</a></td></tr>
<tr class="separator:ac8443ffaf18f687401961f4c3e6e98b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9a457d3497ae0f97995e1b784077446"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structemergency__response__vehicle__plugin_1_1Config.html">Config</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a></td></tr>
<tr class="separator:aa9a457d3497ae0f97995e1b784077446"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f26e3ff5fcad04dff68dc607735f3a9"><td class="memItemLeft" align="right" valign="top">rclcpp::TimerBase::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a3f26e3ff5fcad04dff68dc607735f3a9">bsm_generation_timer_</a></td></tr>
<tr class="separator:a3f26e3ff5fcad04dff68dc607735f3a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4414e1e62c3f0b3b6d9cf5d4556e64a6"><td class="memItemLeft" align="right" valign="top">std::vector&lt; carma_v2x_msgs::msg::Position3D &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a></td></tr>
<tr class="separator:a4414e1e62c3f0b3b6d9cf5d4556e64a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3504e49a2358c08c8dfeaafca914db72"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a3504e49a2358c08c8dfeaafca914db72">bsm_id_string_</a></td></tr>
<tr class="separator:a3504e49a2358c08c8dfeaafca914db72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933d82171c4614166abe8a1fde84cd11"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a933d82171c4614166abe8a1fde84cd11">prev_msg_count_</a> = 0</td></tr>
<tr class="separator:a933d82171c4614166abe8a1fde84cd11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1facfef14ae58b8966b3e5fe299149"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1a1facfef14ae58b8966b3e5fe299149">current_latitude_</a></td></tr>
<tr class="separator:a1a1facfef14ae58b8966b3e5fe299149"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a397cf371c3acf405990028fcec8d1f0a"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a397cf371c3acf405990028fcec8d1f0a">current_longitude_</a></td></tr>
<tr class="separator:a397cf371c3acf405990028fcec8d1f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39d439daf57143d9a4bbbe20789ba36"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac39d439daf57143d9a4bbbe20789ba36">current_velocity_</a></td></tr>
<tr class="separator:ac39d439daf57143d9a4bbbe20789ba36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c127acc975fce2de781a65ead627ec3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_lights_active_</a> = false</td></tr>
<tr class="separator:a5c127acc975fce2de781a65ead627ec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b5578caec4cb13ef18e210d14a7a93"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_sirens_active_</a> = false</td></tr>
<tr class="separator:a01b5578caec4cb13ef18e210d14a7a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0039b201dd29ea8c1620a78a0801f88"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a> = &quot;emergency_response_vehicle_plugin_node&quot;</td></tr>
<tr class="separator:ae0039b201dd29ea8c1620a78a0801f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d7792256033992791d5d9093dbec7fd"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; boost::asio::io_service::work &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0d7792256033992791d5d9093dbec7fd">work_</a></td></tr>
<tr class="separator:a0d7792256033992791d5d9093dbec7fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc5b02be33dc5bc9aa3aad7d50f0c348"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; std::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#adc5b02be33dc5bc9aa3aad7d50f0c348">io_thread_</a></td></tr>
<tr class="separator:adc5b02be33dc5bc9aa3aad7d50f0c348"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad25ac29a67f86a15051fc280cf968080"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; boost::asio::io_service &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad25ac29a67f86a15051fc280cf968080">io_</a></td></tr>
<tr class="separator:ad25ac29a67f86a15051fc280cf968080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0da9d85bb40af0c8f8147649e45172e1"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="classemergency__response__vehicle__plugin_1_1UDPListener.html">UDPListener</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0da9d85bb40af0c8f8147649e45172e1">udp_listener_</a></td></tr>
<tr class="separator:a0da9d85bb40af0c8f8147649e45172e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00058">58</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="af54c14629330c8510baa30615bf9ca13" name="af54c14629330c8510baa30615bf9ca13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af54c14629330c8510baa30615bf9ca13">&#9670;&nbsp;</a></span>EmergencyResponseVehiclePlugin()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::EmergencyResponseVehiclePlugin </td>
          <td>(</td>
          <td class="paramtype">const rclcpp::NodeOptions &amp;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html">EmergencyResponseVehiclePlugin</a> constructor. </p>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00022">22</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span>      : carma_ros2_utils::CarmaLifecycleNode(options)</div>
<div class="line"><span class="lineno">   24</span>  {</div>
<div class="line"><span class="lineno">   25</span>    <span class="comment">// Create initial config</span></div>
<div class="line"><span class="lineno">   26</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a> = Config();</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>    <span class="comment">// Declare parameters</span></div>
<div class="line"><span class="lineno">   29</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6c315c9499cc51d1f46be6f62f1b3efc">enable_emergency_response_vehicle_plugin</a> = declare_parameter&lt;bool&gt;(<span class="stringliteral">&quot;enable_emergency_response_vehicle_plugin&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6c315c9499cc51d1f46be6f62f1b3efc">enable_emergency_response_vehicle_plugin</a>);</div>
<div class="line"><span class="lineno">   30</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5910623f110e63598925c93b4d188e0f">bsm_generation_frequency</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;bsm_generation_frequency&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5910623f110e63598925c93b4d188e0f">bsm_generation_frequency</a>);</div>
<div class="line"><span class="lineno">   31</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6ca666827ab660ce8145523092edc05c">min_distance_to_next_destination_point</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;min_distance_to_next_destination_point&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6ca666827ab660ce8145523092edc05c">min_distance_to_next_destination_point</a>);</div>
<div class="line"><span class="lineno">   32</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#ab0ad7d4825d0896508b09561f6454507">emergency_route_file_name</a> = declare_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;emergency_route_file_name&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#ab0ad7d4825d0896508b09561f6454507">emergency_route_file_name</a>);</div>
<div class="line"><span class="lineno">   33</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#af375e999851c7c8977b9ba32c42f0753">route_file_folder</a> = declare_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;route_file_folder&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#af375e999851c7c8977b9ba32c42f0753">route_file_folder</a>);</div>
<div class="line"><span class="lineno">   34</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ed3c679b3b15ee3fa014dc4a8973e5f">listening_port</a> = declare_parameter&lt;int&gt;(<span class="stringliteral">&quot;listening_port&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ed3c679b3b15ee3fa014dc4a8973e5f">listening_port</a>);</div>
<div class="line"><span class="lineno">   35</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ebd8f07abde46a3585029dfc05d2c80">bsm_message_id</a> = declare_parameter&lt;int&gt;(<span class="stringliteral">&quot;bsm_message_id&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ebd8f07abde46a3585029dfc05d2c80">bsm_message_id</a>);</div>
<div class="line"><span class="lineno">   36</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_aa9a457d3497ae0f97995e1b784077446"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::config_</a></div><div class="ttdeci">Config config_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00076">emergency_response_vehicle_plugin_node.hpp:76</a></div></div>
<div class="ttc" id="astructemergency__response__vehicle__plugin_1_1Config_html_a5910623f110e63598925c93b4d188e0f"><div class="ttname"><a href="structemergency__response__vehicle__plugin_1_1Config.html#a5910623f110e63598925c93b4d188e0f">emergency_response_vehicle_plugin::Config::bsm_generation_frequency</a></div><div class="ttdeci">double bsm_generation_frequency</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00034">emergency_response_vehicle_plugin_config.hpp:34</a></div></div>
<div class="ttc" id="astructemergency__response__vehicle__plugin_1_1Config_html_a5ebd8f07abde46a3585029dfc05d2c80"><div class="ttname"><a href="structemergency__response__vehicle__plugin_1_1Config.html#a5ebd8f07abde46a3585029dfc05d2c80">emergency_response_vehicle_plugin::Config::bsm_message_id</a></div><div class="ttdeci">int bsm_message_id</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00046">emergency_response_vehicle_plugin_config.hpp:46</a></div></div>
<div class="ttc" id="astructemergency__response__vehicle__plugin_1_1Config_html_a5ed3c679b3b15ee3fa014dc4a8973e5f"><div class="ttname"><a href="structemergency__response__vehicle__plugin_1_1Config.html#a5ed3c679b3b15ee3fa014dc4a8973e5f">emergency_response_vehicle_plugin::Config::listening_port</a></div><div class="ttdeci">int listening_port</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00043">emergency_response_vehicle_plugin_config.hpp:43</a></div></div>
<div class="ttc" id="astructemergency__response__vehicle__plugin_1_1Config_html_a6c315c9499cc51d1f46be6f62f1b3efc"><div class="ttname"><a href="structemergency__response__vehicle__plugin_1_1Config.html#a6c315c9499cc51d1f46be6f62f1b3efc">emergency_response_vehicle_plugin::Config::enable_emergency_response_vehicle_plugin</a></div><div class="ttdeci">bool enable_emergency_response_vehicle_plugin</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00030">emergency_response_vehicle_plugin_config.hpp:30</a></div></div>
<div class="ttc" id="astructemergency__response__vehicle__plugin_1_1Config_html_a6ca666827ab660ce8145523092edc05c"><div class="ttname"><a href="structemergency__response__vehicle__plugin_1_1Config.html#a6ca666827ab660ce8145523092edc05c">emergency_response_vehicle_plugin::Config::min_distance_to_next_destination_point</a></div><div class="ttdeci">double min_distance_to_next_destination_point</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00036">emergency_response_vehicle_plugin_config.hpp:36</a></div></div>
<div class="ttc" id="astructemergency__response__vehicle__plugin_1_1Config_html_ab0ad7d4825d0896508b09561f6454507"><div class="ttname"><a href="structemergency__response__vehicle__plugin_1_1Config.html#ab0ad7d4825d0896508b09561f6454507">emergency_response_vehicle_plugin::Config::emergency_route_file_name</a></div><div class="ttdeci">std::string emergency_route_file_name</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00039">emergency_response_vehicle_plugin_config.hpp:39</a></div></div>
<div class="ttc" id="astructemergency__response__vehicle__plugin_1_1Config_html_af375e999851c7c8977b9ba32c42f0753"><div class="ttname"><a href="structemergency__response__vehicle__plugin_1_1Config.html#af375e999851c7c8977b9ba32c42f0753">emergency_response_vehicle_plugin::Config::route_file_folder</a></div><div class="ttdeci">std::string route_file_folder</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00041">emergency_response_vehicle_plugin_config.hpp:41</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00034">emergency_response_vehicle_plugin::Config::bsm_generation_frequency</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00046">emergency_response_vehicle_plugin::Config::bsm_message_id</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00076">config_</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00039">emergency_response_vehicle_plugin::Config::emergency_route_file_name</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00030">emergency_response_vehicle_plugin::Config::enable_emergency_response_vehicle_plugin</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00043">emergency_response_vehicle_plugin::Config::listening_port</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00036">emergency_response_vehicle_plugin::Config::min_distance_to_next_destination_point</a>, and <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00041">emergency_response_vehicle_plugin::Config::route_file_folder</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab150d0d01c03970ce4d77b55268bbff5" name="ab150d0d01c03970ce4d77b55268bbff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab150d0d01c03970ce4d77b55268bbff5">&#9670;&nbsp;</a></span>arrivedAtEmergencyDestinationCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::arrivedAtEmergencyDestinationCallback </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; rmw_request_id_t &gt;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std_srvs::srv::Trigger::Request::SharedPtr&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std_srvs::srv::Trigger::Response::SharedPtr&#160;</td>
          <td class="paramname"><em>resp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Service callback for a service call that indicates the Emergency Response Vehicle has arrived at its destination. Service is called by the Emergency Response Web UI Widget, and results in this plugin clearing its route_destination_points_ so that future route destination points will not be included in regional extension of the BSMs generated within <a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o...">generateBSM()</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>An empty std_srvs::srv::Trigger::Request. </td></tr>
    <tr><td class="paramname">resp</td><td>A std_srvs::srv::Trigger::Response with the 'success' field set to true. Emergency Resonse Vehicle's route. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00353">353</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  357</span>  {</div>
<div class="line"><span class="lineno">  358</span>    RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;ERV has arrived destination. Removing &quot;</span> &lt;&lt; <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.size() &lt;&lt; <span class="stringliteral">&quot; route destination points from plugin.&quot;</span>);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <span class="comment">// Clear plugin&#39;s route member objects</span></div>
<div class="line"><span class="lineno">  361</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.clear();</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    resp-&gt;success = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  364</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a4414e1e62c3f0b3b6d9cf5d4556e64a6"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::route_destination_points_</a></div><div class="ttdeci">std::vector&lt; carma_v2x_msgs::msg::Position3D &gt; route_destination_points_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00082">emergency_response_vehicle_plugin_node.hpp:82</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ae0039b201dd29ea8c1620a78a0801f88"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::logger_name_</a></div><div class="ttdeci">std::string logger_name_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">emergency_response_vehicle_plugin_node.hpp:100</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">logger_name_</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00082">route_destination_points_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ab150d0d01c03970ce4d77b55268bbff5_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ab150d0d01c03970ce4d77b55268bbff5_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ab150d0d01c03970ce4d77b55268bbff5_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ab150d0d01c03970ce4d77b55268bbff5_icgraph">
<area shape="rect" title="Service callback for a service call that indicates the Emergency Response Vehicle has arrived at its ..." alt="" coords="256,5,473,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a35cdb6f84b872aff64b6cfc3803a1cbd" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="ae0f4217007231d59bd9458a9e7a8ce75" name="ae0f4217007231d59bd9458a9e7a8ce75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f4217007231d59bd9458a9e7a8ce75">&#9670;&nbsp;</a></span>broadcastEmergencyVehicleAck()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::broadcastEmergencyVehicleAck </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>recipient_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A function for publishing an outgoing <a class="el" href="structEmergencyVehicleAck.html">EmergencyVehicleAck</a> message in response to the CDA vehicle that broadcasted an <a class="el" href="structEmergencyVehicleResponse.html">EmergencyVehicleResponse</a> message to this Emergency Resposne Vehicle. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">recipient_id</td><td>The vehicle id of the CDA vehicle that this <a class="el" href="structEmergencyVehicleAck.html">EmergencyVehicleAck</a> message is intended for. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00384">384</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  385</span>  {</div>
<div class="line"><span class="lineno">  386</span>    carma_v2x_msgs::msg::EmergencyVehicleAck ack_msg;</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    ack_msg.m_header.sender_id = <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a3504e49a2358c08c8dfeaafca914db72">bsm_id_string_</a>;</div>
<div class="line"><span class="lineno">  389</span>    ack_msg.m_header.recipient_id = recipient_id;</div>
<div class="line"><span class="lineno">  390</span>    ack_msg.acknowledgement = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a11fcdbb3f4ccac67a320628abadc97c7">outgoing_emergency_vehicle_ack_pub_</a>-&gt;publish(ack_msg);</div>
<div class="line"><span class="lineno">  393</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a11fcdbb3f4ccac67a320628abadc97c7"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a11fcdbb3f4ccac67a320628abadc97c7">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::outgoing_emergency_vehicle_ack_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; carma_v2x_msgs::msg::EmergencyVehicleAck &gt; outgoing_emergency_vehicle_ack_pub_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00069">emergency_response_vehicle_plugin_node.hpp:69</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a3504e49a2358c08c8dfeaafca914db72"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a3504e49a2358c08c8dfeaafca914db72">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::bsm_id_string_</a></div><div class="ttdeci">std::string bsm_id_string_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00085">emergency_response_vehicle_plugin_node.hpp:85</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00085">bsm_id_string_</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00069">outgoing_emergency_vehicle_ack_pub_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00366">incomingEmergencyVehicleResponseCallback()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ae0f4217007231d59bd9458a9e7a8ce75_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ae0f4217007231d59bd9458a9e7a8ce75_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ae0f4217007231d59bd9458a9e7a8ce75_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ae0f4217007231d59bd9458a9e7a8ce75_icgraph">
<area shape="rect" title="A function for publishing an outgoing EmergencyVehicleAck message in response to the CDA vehicle that..." alt="" coords="541,5,764,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a895f80339a3bed97417df7f4d64ed028" title="A callback to process a received EmergencyVehicleResponse message, which indicates that a CDA vehicle..." alt="" coords="256,5,493,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a35cdb6f84b872aff64b6cfc3803a1cbd" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="ac4529044ec54ef618ec2904b84732658" name="ac4529044ec54ef618ec2904b84732658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4529044ec54ef618ec2904b84732658">&#9670;&nbsp;</a></span>connect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::connect </td>
          <td>(</td>
          <td class="paramtype">unsigned short&#160;</td>
          <td class="paramname"><em>local_port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for connecting the udp_listener_ member object to a local port to enable it to process incoming UDP packets from a device that provides the activation status of the Emergency Response Vehicle's emergency lights and emergency sirens. A warning statement is logged if an error occurs while building and running the udp_listener_. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">local_port</td><td>The local port that udp_listener_ will listen to UDP packets on. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">135</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>  {</div>
<div class="line"><span class="lineno">  137</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad25ac29a67f86a15051fc280cf968080">io_</a>.reset(<span class="keyword">new</span> boost::asio::io_service());</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    <span class="comment">// Build UDPListener object, which listens to UDP packets on local port defined by local_port</span></div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">try</span>{</div>
<div class="line"><span class="lineno">  141</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0da9d85bb40af0c8f8147649e45172e1">udp_listener_</a>){</div>
<div class="line"><span class="lineno">  142</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0da9d85bb40af0c8f8147649e45172e1">udp_listener_</a>.reset(<span class="keyword">nullptr</span>);</div>
<div class="line"><span class="lineno">  143</span>      }</div>
<div class="line"><span class="lineno">  144</span>      <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0da9d85bb40af0c8f8147649e45172e1">udp_listener_</a>.reset(<span class="keyword">new</span> UDPListener(*<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad25ac29a67f86a15051fc280cf968080">io_</a>, local_port));</div>
<div class="line"><span class="lineno">  145</span>    }</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">catch</span>(boost::system::system_error e){</div>
<div class="line"><span class="lineno">  147</span>      RCLCPP_WARN_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Error occurred when building UDPListener!&quot;</span>);</div>
<div class="line"><span class="lineno">  148</span>    }</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">catch</span>(std::exception e){</div>
<div class="line"><span class="lineno">  150</span>      RCLCPP_WARN_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Exception thrown when building UDPListener: &quot;</span> &lt;&lt; e.what());</div>
<div class="line"><span class="lineno">  151</span>    };</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <span class="comment">// Connect udp_listener_&#39;s onReceive() to this object&#39;s processIncomingUdpBinary() function</span></div>
<div class="line"><span class="lineno">  154</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0da9d85bb40af0c8f8147649e45172e1">udp_listener_</a>-&gt;onReceive.connect([<span class="keyword">this</span>](<span class="keyword">const</span> std::shared_ptr&lt;<span class="keyword">const</span> std::vector&lt;uint8_t&gt;&gt;&amp; data){<a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a7cf71faaab4d03dbd40d94934a16a9d0">processIncomingUdpBinary</a>(data);});</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <span class="comment">// Called to enable asynchronous processing of UDP packets when io-&gt;run is called</span></div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0d7792256033992791d5d9093dbec7fd">work_</a>.reset(<span class="keyword">new</span> boost::asio::io_service::work(*<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad25ac29a67f86a15051fc280cf968080">io_</a>));</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0da9d85bb40af0c8f8147649e45172e1">udp_listener_</a>-&gt;start();</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">// Run the io service</span></div>
<div class="line"><span class="lineno">  162</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#adc5b02be33dc5bc9aa3aad7d50f0c348">io_thread_</a>.reset(<span class="keyword">new</span> std::thread([<span class="keyword">this</span>](){</div>
<div class="line"><span class="lineno">  163</span>      boost::system::error_code error;</div>
<div class="line"><span class="lineno">  164</span>      <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad25ac29a67f86a15051fc280cf968080">io_</a>-&gt;run(error);</div>
<div class="line"><span class="lineno">  165</span>      <span class="keywordflow">if</span>(error)</div>
<div class="line"><span class="lineno">  166</span>      {</div>
<div class="line"><span class="lineno">  167</span>        RCLCPP_WARN_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Error occurred when running io service. UDPListener will not be functional!&quot;</span>);</div>
<div class="line"><span class="lineno">  168</span>      }</div>
<div class="line"><span class="lineno">  169</span>    }));</div>
<div class="line"><span class="lineno">  170</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a0d7792256033992791d5d9093dbec7fd"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0d7792256033992791d5d9093dbec7fd">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::work_</a></div><div class="ttdeci">std::shared_ptr&lt; boost::asio::io_service::work &gt; work_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00103">emergency_response_vehicle_plugin_node.hpp:103</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a0da9d85bb40af0c8f8147649e45172e1"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0da9d85bb40af0c8f8147649e45172e1">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::udp_listener_</a></div><div class="ttdeci">std::unique_ptr&lt; UDPListener &gt; udp_listener_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00108">emergency_response_vehicle_plugin_node.hpp:108</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a7cf71faaab4d03dbd40d94934a16a9d0"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a7cf71faaab4d03dbd40d94934a16a9d0">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::processIncomingUdpBinary</a></div><div class="ttdeci">void processIncomingUdpBinary(const std::shared_ptr&lt; const std::vector&lt; uint8_t &gt; &gt; &amp;data)</div><div class="ttdoc">Function to process the incoming UDP packet binary data from the device that provides the activation ...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00179">emergency_response_vehicle_plugin_node.cpp:179</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ad25ac29a67f86a15051fc280cf968080"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad25ac29a67f86a15051fc280cf968080">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::io_</a></div><div class="ttdeci">std::unique_ptr&lt; boost::asio::io_service &gt; io_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00105">emergency_response_vehicle_plugin_node.hpp:105</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_adc5b02be33dc5bc9aa3aad7d50f0c348"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#adc5b02be33dc5bc9aa3aad7d50f0c348">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::io_thread_</a></div><div class="ttdeci">std::shared_ptr&lt; std::thread &gt; io_thread_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00104">emergency_response_vehicle_plugin_node.hpp:104</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00105">io_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00104">io_thread_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">logger_name_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00179">processIncomingUdpBinary()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00108">udp_listener_</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00103">work_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00109">handle_on_activate()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ac4529044ec54ef618ec2904b84732658_cgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ac4529044ec54ef618ec2904b84732658_cgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ac4529044ec54ef618ec2904b84732658_cgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ac4529044ec54ef618ec2904b84732658_cgraph">
<area shape="rect" title="Function for connecting the udp_listener_ member object to a local port to enable it to process incom..." alt="" coords="5,13,216,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a7cf71faaab4d03dbd40d94934a16a9d0" title="Function to process the incoming UDP packet binary data from the device that provides the activation ..." alt="" coords="264,5,528,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ac4529044ec54ef618ec2904b84732658_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ac4529044ec54ef618ec2904b84732658_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ac4529044ec54ef618ec2904b84732658_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ac4529044ec54ef618ec2904b84732658_icgraph">
<area shape="rect" title="Function for connecting the udp_listener_ member object to a local port to enable it to process incom..." alt="" coords="256,13,467,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a910b6eb8776913e472c319ccabdea4de" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="a0091548705a738c84726e9209297c2e2" name="a0091548705a738c84726e9209297c2e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0091548705a738c84726e9209297c2e2">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[1/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">EmergencyResponseVehiclePluginTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testGenerateBsm&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac5bbdd6214e33a7e23a45eb97c781998" name="ac5bbdd6214e33a7e23a45eb97c781998"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5bbdd6214e33a7e23a45eb97c781998">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[2/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">EmergencyResponseVehiclePluginTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testGetDistanceBetween&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae0ad997715b7683ff4a780b3d81e393c" name="ae0ad997715b7683ff4a780b3d81e393c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0ad997715b7683ff4a780b3d81e393c">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[3/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">EmergencyResponseVehiclePluginTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testLoadRouteDestinationPointsFromFile&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac14eed55c067c9ed009c932b72ff0e30" name="ac14eed55c067c9ed009c932b72ff0e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac14eed55c067c9ed009c932b72ff0e30">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[4/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">EmergencyResponseVehiclePluginTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testProcessIncomingUdpBinary&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8032cc2764a17cbf670cc440ec068de7" name="a8032cc2764a17cbf670cc440ec068de7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8032cc2764a17cbf670cc440ec068de7">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[5/5]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">EmergencyResponseVehiclePluginTest&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">testRemoveRouteDestinationPoint&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a799090d050825e0ebf281570faaf1383" name="a799090d050825e0ebf281570faaf1383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a799090d050825e0ebf281570faaf1383">&#9670;&nbsp;</a></span>generateBSM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">carma_v2x_msgs::msg::BSM emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::generateBSM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this object's member variables. This function also updates the value of prev_msg_count_. </p>
<dl class="section return"><dt>Returns</dt><dd>The generated carma_v2x_msgs::msg::BSM message. </dd></dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">271</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  272</span>  {</div>
<div class="line"><span class="lineno">  273</span>    carma_v2x_msgs::msg::BSM bsm_msg;</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    bsm_msg.header.stamp = this-&gt;now();</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    <span class="comment">// Set msg_count</span></div>
<div class="line"><span class="lineno">  278</span>    uint8_t new_msg_count = <a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1c6f1819b3be8fefbd093d04e5cb715a">getNextMsgCount</a>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a933d82171c4614166abe8a1fde84cd11">prev_msg_count_</a>);</div>
<div class="line"><span class="lineno">  279</span>    bsm_msg.core_data.msg_count = new_msg_count;</div>
<div class="line"><span class="lineno">  280</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a933d82171c4614166abe8a1fde84cd11">prev_msg_count_</a> = new_msg_count;</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    <span class="comment">// Set BSM ID</span></div>
<div class="line"><span class="lineno">  283</span>    std::vector&lt;uint8_t&gt; id(4);</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; <span class="keywordtype">id</span>.size(); ++i){</div>
<div class="line"><span class="lineno">  285</span>      <span class="keywordtype">id</span>[i] = <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ebd8f07abde46a3585029dfc05d2c80">bsm_message_id</a> &gt;&gt; (8 * i);</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="line"><span class="lineno">  287</span>    bsm_msg.core_data.id = id;</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    <span class="comment">// Store string representation of BSM ID</span></div>
<div class="line"><span class="lineno">  290</span>    std::stringstream ss;</div>
<div class="line"><span class="lineno">  291</span>    <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; bsm_msg.core_data.id.size(); ++i){</div>
<div class="line"><span class="lineno">  292</span>      ss &lt;&lt; std::setfill(<span class="charliteral">&#39;0&#39;</span>) &lt;&lt; std::setw(2) &lt;&lt; std::hex &lt;&lt; (unsigned)bsm_msg.core_data.id.at(i);</div>
<div class="line"><span class="lineno">  293</span>    }</div>
<div class="line"><span class="lineno">  294</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a3504e49a2358c08c8dfeaafca914db72">bsm_id_string_</a> = ss.str();</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="comment">// Set current latitude, longitude, and velocity</span></div>
<div class="line"><span class="lineno">  297</span>    bsm_msg.core_data.presence_vector |= carma_v2x_msgs::msg::BSMCoreData::LATITUDE_AVAILABLE;</div>
<div class="line"><span class="lineno">  298</span>    bsm_msg.core_data.latitude = <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1a1facfef14ae58b8966b3e5fe299149">current_latitude_</a>;</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    bsm_msg.core_data.presence_vector |= carma_v2x_msgs::msg::BSMCoreData::LONGITUDE_AVAILABLE;</div>
<div class="line"><span class="lineno">  301</span>    bsm_msg.core_data.longitude = <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a397cf371c3acf405990028fcec8d1f0a">current_longitude_</a>;</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    bsm_msg.core_data.presence_vector |= carma_v2x_msgs::msg::BSMCoreData::SPEED_AVAILABLE;</div>
<div class="line"><span class="lineno">  304</span>    bsm_msg.core_data.speed = <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac39d439daf57143d9a4bbbe20789ba36">current_velocity_</a>;</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <span class="comment">// Set lights status, siren status, and emergency response type as necessary</span></div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_lights_active_</a> || <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_sirens_active_</a>){</div>
<div class="line"><span class="lineno">  308</span>      bsm_msg.presence_vector |= carma_v2x_msgs::msg::BSM::HAS_PART_II;</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>      <span class="comment">// BSMPartIIExtension.special_vehicle_extensions</span></div>
<div class="line"><span class="lineno">  311</span>      carma_v2x_msgs::msg::BSMPartIIExtension part_ii_special;</div>
<div class="line"><span class="lineno">  312</span>      part_ii_special.part_ii_id = carma_v2x_msgs::msg::BSMPartIIExtension::SPECIAL_VEHICLE_EXT;</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>      <span class="comment">// BSMPartIIExtension.special_vehicle_extensions.vehicle_alerts</span></div>
<div class="line"><span class="lineno">  315</span>      part_ii_special.special_vehicle_extensions.presence_vector |= j2735_v2x_msgs::msg::SpecialVehicleExtensions::HAS_VEHICLE_ALERTS;</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_sirens_active_</a>){</div>
<div class="line"><span class="lineno">  318</span>        part_ii_special.special_vehicle_extensions.vehicle_alerts.siren_use.siren_in_use = j2735_v2x_msgs::msg::SirenInUse::IN_USE;</div>
<div class="line"><span class="lineno">  319</span>      }</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_lights_active_</a>){</div>
<div class="line"><span class="lineno">  322</span>        part_ii_special.special_vehicle_extensions.vehicle_alerts.lights_use.lightbar_in_use = j2735_v2x_msgs::msg::LightbarInUse::IN_USE;</div>
<div class="line"><span class="lineno">  323</span>      }</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>      <span class="comment">// Update BSM to indicate that ERV is actively responding to an emergency if sirens and lights are active and at least one future route destination point exists</span></div>
<div class="line"><span class="lineno">  326</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_sirens_active_</a> &amp;&amp; <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_lights_active_</a> &amp;&amp; !<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.empty()){</div>
<div class="line"><span class="lineno">  327</span>        part_ii_special.special_vehicle_extensions.vehicle_alerts.presence_vector |= j2735_v2x_msgs::msg::EmergencyDetails::HAS_RESPONSE_TYPE;</div>
<div class="line"><span class="lineno">  328</span>        part_ii_special.special_vehicle_extensions.vehicle_alerts.response_type.response_type = j2735_v2x_msgs::msg::ResponseType::EMERGENCY;</div>
<div class="line"><span class="lineno">  329</span>      }</div>
<div class="line"><span class="lineno">  330</span> </div>
<div class="line"><span class="lineno">  331</span>      bsm_msg.part_ii.push_back(part_ii_special);</div>
<div class="line"><span class="lineno">  332</span>    }</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>    <span class="comment">// Set route destination points</span></div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.empty()){</div>
<div class="line"><span class="lineno">  336</span>      bsm_msg.presence_vector |= carma_v2x_msgs::msg::BSM::HAS_REGIONAL;</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>      <span class="comment">// Create BSM regional extension that ERV&#39;s route destination points will be added to</span></div>
<div class="line"><span class="lineno">  339</span>      carma_v2x_msgs::msg::BSMRegionalExtension regional_ext;</div>
<div class="line"><span class="lineno">  340</span>      regional_ext.regional_extension_id = carma_v2x_msgs::msg::BSMRegionalExtension::ROUTE_DESTINATIONS;</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>      <span class="comment">// Add route destination points to regional extension</span></div>
<div class="line"><span class="lineno">  343</span>      <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.size(); ++i){</div>
<div class="line"><span class="lineno">  344</span>          regional_ext.route_destination_points.push_back(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>[i]);</div>
<div class="line"><span class="lineno">  345</span>      }</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>      bsm_msg.regional.push_back(regional_ext);</div>
<div class="line"><span class="lineno">  348</span>    }</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    <span class="keywordflow">return</span> bsm_msg;</div>
<div class="line"><span class="lineno">  351</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a01b5578caec4cb13ef18e210d14a7a93"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::emergency_sirens_active_</a></div><div class="ttdeci">bool emergency_sirens_active_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00097">emergency_response_vehicle_plugin_node.hpp:97</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a1a1facfef14ae58b8966b3e5fe299149"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1a1facfef14ae58b8966b3e5fe299149">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::current_latitude_</a></div><div class="ttdeci">double current_latitude_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00091">emergency_response_vehicle_plugin_node.hpp:91</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a1c6f1819b3be8fefbd093d04e5cb715a"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1c6f1819b3be8fefbd093d04e5cb715a">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::getNextMsgCount</a></div><div class="ttdeci">uint8_t getNextMsgCount(uint8_t old_msg_count)</div><div class="ttdoc">Helper function to get the next value associated with a generated BSM's 'msgcount' field based on the...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00254">emergency_response_vehicle_plugin_node.cpp:254</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a397cf371c3acf405990028fcec8d1f0a"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a397cf371c3acf405990028fcec8d1f0a">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::current_longitude_</a></div><div class="ttdeci">double current_longitude_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00092">emergency_response_vehicle_plugin_node.hpp:92</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a5c127acc975fce2de781a65ead627ec3"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::emergency_lights_active_</a></div><div class="ttdeci">bool emergency_lights_active_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00096">emergency_response_vehicle_plugin_node.hpp:96</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a933d82171c4614166abe8a1fde84cd11"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a933d82171c4614166abe8a1fde84cd11">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::prev_msg_count_</a></div><div class="ttdeci">uint8_t prev_msg_count_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00088">emergency_response_vehicle_plugin_node.hpp:88</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ac39d439daf57143d9a4bbbe20789ba36"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac39d439daf57143d9a4bbbe20789ba36">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::current_velocity_</a></div><div class="ttdeci">double current_velocity_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00093">emergency_response_vehicle_plugin_node.hpp:93</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00085">bsm_id_string_</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00046">emergency_response_vehicle_plugin::Config::bsm_message_id</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00076">config_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00091">current_latitude_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00092">current_longitude_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00093">current_velocity_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00096">emergency_lights_active_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00097">emergency_sirens_active_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00254">getNextMsgCount()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00088">prev_msg_count_</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00082">route_destination_points_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00263">publishBSM()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a799090d050825e0ebf281570faaf1383_cgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a799090d050825e0ebf281570faaf1383_cgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a799090d050825e0ebf281570faaf1383_cgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a799090d050825e0ebf281570faaf1383_cgraph">
<area shape="rect" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o..." alt="" coords="5,5,249,61"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1c6f1819b3be8fefbd093d04e5cb715a" title="Helper function to get the next value associated with a generated BSM&#39;s &#39;msgcount&#39; field based on the..." alt="" coords="297,5,567,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a799090d050825e0ebf281570faaf1383_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a799090d050825e0ebf281570faaf1383_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a799090d050825e0ebf281570faaf1383_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a799090d050825e0ebf281570faaf1383_icgraph">
<area shape="rect" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o..." alt="" coords="539,13,783,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ade9f37261c47832d51ad57934f8092bf" title="Function for publishing a BSM for the Emergency Response Vehicle. Makes a call to generateBSM() to ob..." alt="" coords="256,13,491,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a910b6eb8776913e472c319ccabdea4de" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="a9ceec14aa51f981f3cd9e8a08e804fe7" name="a9ceec14aa51f981f3cd9e8a08e804fe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ceec14aa51f981f3cd9e8a08e804fe7">&#9670;&nbsp;</a></span>getDistanceBetween()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::getDistanceBetween </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>lat_1_deg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>lon_1_deg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>lat_2_deg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>lon_2_deg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A helpfer function to approximate the distance (in meters) between two pairs of latitude/longitude coordinates. This function uses the Haversine Formula and assumes Earth as a spherical shape to approximate this measurement. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lat_1_deg</td><td>The latitude (in degrees) of the first coordinate pair. </td></tr>
    <tr><td class="paramname">lon_1_deg</td><td>The longitude (in degrees) of the first coordinate pair. </td></tr>
    <tr><td class="paramname">lat_2_deg</td><td>The latitude (in degrees) of the second coordinate pair. </td></tr>
    <tr><td class="paramname">lon_2_deg</td><td>The longitude (in degrees) of the second coordinate pair. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The approximate distance (in meters) between the two provided latitude/longitude coordinate pairs. </dd></dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00395">395</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  397</span>  {</div>
<div class="line"><span class="lineno">  398</span>    <span class="comment">// Convert latitude and longitude values from degrees to radians for point 1</span></div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordtype">double</span> lat_1_rad = lat_1_deg * (M_PI / 180.0);</div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordtype">double</span> lon_1_rad = lon_1_deg * (M_PI / 180.0);</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    <span class="comment">// Convert latitude and longitude values from degrees to radians for point 2</span></div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordtype">double</span> lat_2_rad = lat_2_deg * (M_PI / 180.0);</div>
<div class="line"><span class="lineno">  404</span>    <span class="keywordtype">double</span> lon_2_rad = lon_2_deg * (M_PI / 180.0);</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    <span class="comment">// Calculate deltas for inputted latitude and longitude values</span></div>
<div class="line"><span class="lineno">  407</span>    <span class="keywordtype">double</span> delta_lat_rad = lat_2_rad - lat_1_rad;</div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordtype">double</span> delta_lon_rad = lon_2_rad - lon_1_rad;</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="comment">// Split calculation into two steps for readability</span></div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordtype">double</span> a = std::pow(std::sin(delta_lat_rad / 2.0), 2) + std::pow(std::sin(delta_lon_rad / 2.0), 2) * std::cos(lat_1_rad) * std::cos(lat_2_rad);</div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordtype">double</span> distance = <a class="code hl_variable" href="namespaceemergency__response__vehicle__plugin.html#a6c42f4da2712bc09d41d49d5d0136b86">EARTH_RADIUS_METERS</a> * 2.0 * std::asin(sqrt(a));</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>    <span class="comment">// Return distance between (lat_1, lon_1) and (lat_2, lon_2) in meters</span></div>
<div class="line"><span class="lineno">  415</span>    <span class="keywordflow">return</span> distance;</div>
<div class="line"><span class="lineno">  416</span>  }</div>
<div class="ttc" id="anamespaceemergency__response__vehicle__plugin_html_a6c42f4da2712bc09d41d49d5d0136b86"><div class="ttname"><a href="namespaceemergency__response__vehicle__plugin.html#a6c42f4da2712bc09d41d49d5d0136b86">emergency_response_vehicle_plugin::EARTH_RADIUS_METERS</a></div><div class="ttdeci">constexpr double EARTH_RADIUS_METERS</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00046">emergency_response_vehicle_plugin_node.hpp:46</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00046">emergency_response_vehicle_plugin::EARTH_RADIUS_METERS</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">poseCallback()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a9ceec14aa51f981f3cd9e8a08e804fe7_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a9ceec14aa51f981f3cd9e8a08e804fe7_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a9ceec14aa51f981f3cd9e8a08e804fe7_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a9ceec14aa51f981f3cd9e8a08e804fe7_icgraph">
<area shape="rect" title="A helpfer function to approximate the distance (in meters) between two pairs of latitude/longitude co..." alt="" coords="547,5,781,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#abfc866f92781a25cf12f10df5c4d62a0" title="Message callback for the Emergency Response Vehicle&#39;s current latitude and longitude." alt="" coords="256,13,499,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a35cdb6f84b872aff64b6cfc3803a1cbd" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="a1c6f1819b3be8fefbd093d04e5cb715a" name="a1c6f1819b3be8fefbd093d04e5cb715a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c6f1819b3be8fefbd093d04e5cb715a">&#9670;&nbsp;</a></span>getNextMsgCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::getNextMsgCount </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>old_msg_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function to get the next value associated with a generated BSM's 'msgcount' field based on the provided msgcount of the previously generated BSM. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">old_msg_count</td><td>The value of the previously generated BSM's 'msgcount' field. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value to be used for the next generated BSM's 'msgcount' field. </dd></dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00254">254</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  254</span>                                                                              {</div>
<div class="line"><span class="lineno">  255</span>    old_msg_count++;</div>
<div class="line"><span class="lineno">  256</span>    <span class="keywordflow">if</span>(old_msg_count &gt; carma_v2x_msgs::msg::BSMCoreData::MSG_COUNT_MAX)</div>
<div class="line"><span class="lineno">  257</span>    {</div>
<div class="line"><span class="lineno">  258</span>        old_msg_count = 0;</div>
<div class="line"><span class="lineno">  259</span>    }</div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">return</span> old_msg_count;</div>
<div class="line"><span class="lineno">  261</span>  }</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a1c6f1819b3be8fefbd093d04e5cb715a_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a1c6f1819b3be8fefbd093d04e5cb715a_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a1c6f1819b3be8fefbd093d04e5cb715a_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a1c6f1819b3be8fefbd093d04e5cb715a_icgraph">
<area shape="rect" title="Helper function to get the next value associated with a generated BSM&#39;s &#39;msgcount&#39; field based on the..." alt="" coords="831,13,1100,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o..." alt="" coords="539,13,783,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ade9f37261c47832d51ad57934f8092bf" title="Function for publishing a BSM for the Emergency Response Vehicle. Makes a call to generateBSM() to ob..." alt="" coords="256,13,491,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a910b6eb8776913e472c319ccabdea4de" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="a910b6eb8776913e472c319ccabdea4de" name="a910b6eb8776913e472c319ccabdea4de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a910b6eb8776913e472c319ccabdea4de">&#9670;&nbsp;</a></span>handle_on_activate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::CallbackReturn emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::handle_on_activate </td>
          <td>(</td>
          <td class="paramtype">const rclcpp_lifecycle::State &amp;&#160;</td>
          <td class="paramname"><em>prev_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00109">109</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  110</span>  {</div>
<div class="line"><span class="lineno">  111</span>    <span class="comment">// Enable BSM generation, UDP listener, etc. based on the setting of config_.enable_emergency_response_vehicle_plugin</span></div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">if</span>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6c315c9499cc51d1f46be6f62f1b3efc">enable_emergency_response_vehicle_plugin</a>){</div>
<div class="line"><span class="lineno">  113</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Plugin has been enabled by its configuration parameter settings.&quot;</span>);</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>      <span class="comment">// Create timer for plugin to generate and publish a new BSM</span></div>
<div class="line"><span class="lineno">  116</span>      <span class="keywordtype">int</span> bsm_generation_period_ms = (1 / <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5910623f110e63598925c93b4d188e0f">bsm_generation_frequency</a>) * 1000; <span class="comment">// Conversion from frequency (Hz) to milliseconds time period</span></div>
<div class="line"><span class="lineno">  117</span>      <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a3f26e3ff5fcad04dff68dc607735f3a9">bsm_generation_timer_</a> = create_timer(get_clock(),</div>
<div class="line"><span class="lineno">  118</span>                            std::chrono::milliseconds(bsm_generation_period_ms),</div>
<div class="line"><span class="lineno">  119</span>                            std::bind(&amp;<a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ade9f37261c47832d51ad57934f8092bf">EmergencyResponseVehiclePlugin::publishBSM</a>, <span class="keyword">this</span>));</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>      <span class="comment">// Load route destination points from file path provided by the configuration parameters</span></div>
<div class="line"><span class="lineno">  122</span>      std::string emergency_route_file_path = <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#af375e999851c7c8977b9ba32c42f0753">route_file_folder</a> + <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#ab0ad7d4825d0896508b09561f6454507">emergency_route_file_name</a>;</div>
<div class="line"><span class="lineno">  123</span>      <a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad69ae398640343488bdfe4ad9ebc60f7">loadRouteDestinationPointsFromFile</a>(emergency_route_file_path);</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>      <span class="comment">// Connect udp_listener_ to process incoming UDP packets that provide the status of this ERV&#39;s emergency lights and sirens</span></div>
<div class="line"><span class="lineno">  126</span>      <a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac4529044ec54ef618ec2904b84732658">connect</a>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ed3c679b3b15ee3fa014dc4a8973e5f">listening_port</a>);</div>
<div class="line"><span class="lineno">  127</span>    }</div>
<div class="line"><span class="lineno">  128</span>    <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  129</span>      RCLCPP_WARN_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Plugin has been disabled by its configuration parameter settings.&quot;</span>);</div>
<div class="line"><span class="lineno">  130</span>    }</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">return</span> CallbackReturn::SUCCESS;</div>
<div class="line"><span class="lineno">  133</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a3f26e3ff5fcad04dff68dc607735f3a9"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a3f26e3ff5fcad04dff68dc607735f3a9">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::bsm_generation_timer_</a></div><div class="ttdeci">rclcpp::TimerBase::SharedPtr bsm_generation_timer_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00079">emergency_response_vehicle_plugin_node.hpp:79</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ac4529044ec54ef618ec2904b84732658"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac4529044ec54ef618ec2904b84732658">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::connect</a></div><div class="ttdeci">void connect(unsigned short local_port)</div><div class="ttdoc">Function for connecting the udp_listener_ member object to a local port to enable it to process incom...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">emergency_response_vehicle_plugin_node.cpp:135</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ad69ae398640343488bdfe4ad9ebc60f7"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad69ae398640343488bdfe4ad9ebc60f7">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::loadRouteDestinationPointsFromFile</a></div><div class="ttdeci">void loadRouteDestinationPointsFromFile(const std::string &amp;route_file_path)</div><div class="ttdoc">Function to extract the route destination points from a .csv file stored on the Host PC at the file p...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00213">emergency_response_vehicle_plugin_node.cpp:213</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ade9f37261c47832d51ad57934f8092bf"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ade9f37261c47832d51ad57934f8092bf">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::publishBSM</a></div><div class="ttdeci">void publishBSM()</div><div class="ttdoc">Function for publishing a BSM for the Emergency Response Vehicle. Makes a call to generateBSM() to ob...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00263">emergency_response_vehicle_plugin_node.cpp:263</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00034">emergency_response_vehicle_plugin::Config::bsm_generation_frequency</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00079">bsm_generation_timer_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00076">config_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">connect()</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00039">emergency_response_vehicle_plugin::Config::emergency_route_file_name</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00030">emergency_response_vehicle_plugin::Config::enable_emergency_response_vehicle_plugin</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00043">emergency_response_vehicle_plugin::Config::listening_port</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00213">loadRouteDestinationPointsFromFile()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">logger_name_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00263">publishBSM()</a>, and <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00041">emergency_response_vehicle_plugin::Config::route_file_folder</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a910b6eb8776913e472c319ccabdea4de_cgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a910b6eb8776913e472c319ccabdea4de_cgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a910b6eb8776913e472c319ccabdea4de_cgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a910b6eb8776913e472c319ccabdea4de_cgraph">
<area shape="rect" title=" " alt="" coords="5,93,208,164"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac4529044ec54ef618ec2904b84732658" title="Function for connecting the udp_listener_ member object to a local port to enable it to process incom..." alt="" coords="268,13,479,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad69ae398640343488bdfe4ad9ebc60f7" title="Function to extract the route destination points from a .csv file stored on the Host PC at the file p..." alt="" coords="262,93,485,164"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ade9f37261c47832d51ad57934f8092bf" title="Function for publishing a BSM for the Emergency Response Vehicle. Makes a call to generateBSM() to ob..." alt="" coords="256,189,491,245"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a7cf71faaab4d03dbd40d94934a16a9d0" title="Function to process the incoming UDP packet binary data from the device that provides the activation ..." alt="" coords="539,5,803,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o..." alt="" coords="549,189,793,245"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1c6f1819b3be8fefbd093d04e5cb715a" title="Helper function to get the next value associated with a generated BSM&#39;s &#39;msgcount&#39; field based on the..." alt="" coords="851,189,1120,245"/>
</map>
</div>

</div>
</div>
<a id="a35cdb6f84b872aff64b6cfc3803a1cbd" name="a35cdb6f84b872aff64b6cfc3803a1cbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35cdb6f84b872aff64b6cfc3803a1cbd">&#9670;&nbsp;</a></span>handle_on_configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::CallbackReturn emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::handle_on_configure </td>
          <td>(</td>
          <td class="paramtype">const rclcpp_lifecycle::State &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">63</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>  {</div>
<div class="line"><span class="lineno">   65</span>    RCLCPP_INFO_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;EmergencyResponseVehiclePlugin trying to configure&quot;</span>);</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    <span class="comment">// Reset config</span></div>
<div class="line"><span class="lineno">   68</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a> = Config();</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="comment">// Load parameters</span></div>
<div class="line"><span class="lineno">   71</span>    get_parameter&lt;bool&gt;(<span class="stringliteral">&quot;enable_emergency_response_vehicle_plugin&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6c315c9499cc51d1f46be6f62f1b3efc">enable_emergency_response_vehicle_plugin</a>);</div>
<div class="line"><span class="lineno">   72</span>    get_parameter&lt;double&gt;(<span class="stringliteral">&quot;bsm_generation_frequency&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5910623f110e63598925c93b4d188e0f">bsm_generation_frequency</a>);</div>
<div class="line"><span class="lineno">   73</span>    get_parameter&lt;double&gt;(<span class="stringliteral">&quot;min_distance_to_next_destination_point&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6ca666827ab660ce8145523092edc05c">min_distance_to_next_destination_point</a>);</div>
<div class="line"><span class="lineno">   74</span>    get_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;emergency_route_file_name&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#ab0ad7d4825d0896508b09561f6454507">emergency_route_file_name</a>);</div>
<div class="line"><span class="lineno">   75</span>    get_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;route_file_folder&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#af375e999851c7c8977b9ba32c42f0753">route_file_folder</a>);</div>
<div class="line"><span class="lineno">   76</span>    get_parameter&lt;int&gt;(<span class="stringliteral">&quot;listening_port&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ed3c679b3b15ee3fa014dc4a8973e5f">listening_port</a>);</div>
<div class="line"><span class="lineno">   77</span>    get_parameter&lt;int&gt;(<span class="stringliteral">&quot;bsm_message_id&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ebd8f07abde46a3585029dfc05d2c80">bsm_message_id</a>);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    RCLCPP_INFO_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Loaded params: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>);</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <span class="comment">// Register runtime parameter update callback</span></div>
<div class="line"><span class="lineno">   82</span>    add_on_set_parameters_callback(std::bind(&amp;<a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae5e7323804bb12d6f9b1b5cba4b0446b">EmergencyResponseVehiclePlugin::parameter_update_callback</a>, <span class="keyword">this</span>, std_ph::_1));</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="comment">// Setup subscribers</span></div>
<div class="line"><span class="lineno">   85</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9095e584ac66e886475dae4ab02d728a">incoming_emergency_vehicle_response_sub_</a> = create_subscription&lt;carma_v2x_msgs::msg::EmergencyVehicleResponse&gt;(<span class="stringliteral">&quot;incoming_emergency_vehicle_response&quot;</span>, 5,</div>
<div class="line"><span class="lineno">   86</span>                                                              std::bind(&amp;<a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a895f80339a3bed97417df7f4d64ed028">EmergencyResponseVehiclePlugin::incomingEmergencyVehicleResponseCallback</a>, <span class="keyword">this</span>, std_ph::_1));</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a48fd74a1232b8030fce5f4fa26c48a31">pose_sub_</a> = create_subscription&lt;gps_msgs::msg::GPSFix&gt;(<span class="stringliteral">&quot;vehicle_pose&quot;</span>, 5,</div>
<div class="line"><span class="lineno">   89</span>                                                              std::bind(&amp;<a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#abfc866f92781a25cf12f10df5c4d62a0">EmergencyResponseVehiclePlugin::poseCallback</a>, <span class="keyword">this</span>, std_ph::_1));</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad2a83f65e24b1574225333e541bc4791">twist_sub_</a> = create_subscription&lt;geometry_msgs::msg::TwistStamped&gt;(<span class="stringliteral">&quot;velocity&quot;</span>, 5,</div>
<div class="line"><span class="lineno">   92</span>                                                              std::bind(&amp;<a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c95d8b788aeddf1b3b1f0498dcf5c76">EmergencyResponseVehiclePlugin::twistCallback</a>, <span class="keyword">this</span>, std_ph::_1));</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    <span class="comment">// Setup publishers</span></div>
<div class="line"><span class="lineno">   95</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a8367454c11cc1ab6d02e68db22c77a94">outgoing_bsm_pub_</a> = create_publisher&lt;carma_v2x_msgs::msg::BSM&gt;(<span class="stringliteral">&quot;outgoing_bsm&quot;</span>, 5);</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a11fcdbb3f4ccac67a320628abadc97c7">outgoing_emergency_vehicle_ack_pub_</a> = create_publisher&lt;carma_v2x_msgs::msg::EmergencyVehicleAck&gt;(<span class="stringliteral">&quot;outgoing_emergency_vehicle_ack&quot;</span>, 5);</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a07b01453eb517f54fddd7ccdc1942b92">emergency_vehicle_ui_warnings_pub_</a> = create_publisher&lt;carma_msgs::msg::UIInstructions&gt;(<span class="stringliteral">&quot;emergency_vehicle_ui_warning&quot;</span>, 5);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="comment">// Setup service servers</span></div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac8443ffaf18f687401961f4c3e6e98b2">arrived_at_emergency_destination_server_</a> = create_service&lt;std_srvs::srv::Trigger&gt;(<span class="stringliteral">&quot;arrived_at_emergency_destination&quot;</span>,</div>
<div class="line"><span class="lineno">  103</span>                                                              std::bind(&amp;<a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ab150d0d01c03970ce4d77b55268bbff5">EmergencyResponseVehiclePlugin::arrivedAtEmergencyDestinationCallback</a>, <span class="keyword">this</span>, std_ph::_1, std_ph::_2, std_ph::_3));</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>    <span class="comment">// Return success if everthing initialized successfully</span></div>
<div class="line"><span class="lineno">  106</span>    <span class="keywordflow">return</span> CallbackReturn::SUCCESS;</div>
<div class="line"><span class="lineno">  107</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a07b01453eb517f54fddd7ccdc1942b92"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a07b01453eb517f54fddd7ccdc1942b92">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::emergency_vehicle_ui_warnings_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; carma_msgs::msg::UIInstructions &gt; emergency_vehicle_ui_warnings_pub_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00070">emergency_response_vehicle_plugin_node.hpp:70</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a48fd74a1232b8030fce5f4fa26c48a31"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a48fd74a1232b8030fce5f4fa26c48a31">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::pose_sub_</a></div><div class="ttdeci">carma_ros2_utils::SubPtr&lt; gps_msgs::msg::GPSFix &gt; pose_sub_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00064">emergency_response_vehicle_plugin_node.hpp:64</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a5c95d8b788aeddf1b3b1f0498dcf5c76"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c95d8b788aeddf1b3b1f0498dcf5c76">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::twistCallback</a></div><div class="ttdeci">void twistCallback(geometry_msgs::msg::TwistStamped::UniquePtr msg)</div><div class="ttdoc">Message callback for the Emergency Response Vehicle's current velocity.</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00435">emergency_response_vehicle_plugin_node.cpp:435</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a8367454c11cc1ab6d02e68db22c77a94"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a8367454c11cc1ab6d02e68db22c77a94">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::outgoing_bsm_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; carma_v2x_msgs::msg::BSM &gt; outgoing_bsm_pub_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00068">emergency_response_vehicle_plugin_node.hpp:68</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a895f80339a3bed97417df7f4d64ed028"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a895f80339a3bed97417df7f4d64ed028">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::incomingEmergencyVehicleResponseCallback</a></div><div class="ttdeci">void incomingEmergencyVehicleResponseCallback(carma_v2x_msgs::msg::EmergencyVehicleResponse::UniquePtr msg)</div><div class="ttdoc">A callback to process a received EmergencyVehicleResponse message, which indicates that a CDA vehicle...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00366">emergency_response_vehicle_plugin_node.cpp:366</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a9095e584ac66e886475dae4ab02d728a"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9095e584ac66e886475dae4ab02d728a">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::incoming_emergency_vehicle_response_sub_</a></div><div class="ttdeci">carma_ros2_utils::SubPtr&lt; carma_v2x_msgs::msg::EmergencyVehicleResponse &gt; incoming_emergency_vehicle_response_sub_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00063">emergency_response_vehicle_plugin_node.hpp:63</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ab150d0d01c03970ce4d77b55268bbff5"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ab150d0d01c03970ce4d77b55268bbff5">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::arrivedAtEmergencyDestinationCallback</a></div><div class="ttdeci">void arrivedAtEmergencyDestinationCallback(std::shared_ptr&lt; rmw_request_id_t &gt;, std_srvs::srv::Trigger::Request::SharedPtr req, std_srvs::srv::Trigger::Response::SharedPtr resp)</div><div class="ttdoc">Service callback for a service call that indicates the Emergency Response Vehicle has arrived at its ...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00353">emergency_response_vehicle_plugin_node.cpp:353</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_abfc866f92781a25cf12f10df5c4d62a0"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#abfc866f92781a25cf12f10df5c4d62a0">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::poseCallback</a></div><div class="ttdeci">void poseCallback(gps_msgs::msg::GPSFix::UniquePtr msg)</div><div class="ttdoc">Message callback for the Emergency Response Vehicle's current latitude and longitude.</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">emergency_response_vehicle_plugin_node.cpp:418</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ac8443ffaf18f687401961f4c3e6e98b2"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac8443ffaf18f687401961f4c3e6e98b2">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::arrived_at_emergency_destination_server_</a></div><div class="ttdeci">carma_ros2_utils::ServicePtr&lt; std_srvs::srv::Trigger &gt; arrived_at_emergency_destination_server_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00073">emergency_response_vehicle_plugin_node.hpp:73</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ad2a83f65e24b1574225333e541bc4791"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad2a83f65e24b1574225333e541bc4791">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::twist_sub_</a></div><div class="ttdeci">carma_ros2_utils::SubPtr&lt; geometry_msgs::msg::TwistStamped &gt; twist_sub_</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00065">emergency_response_vehicle_plugin_node.hpp:65</a></div></div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ae5e7323804bb12d6f9b1b5cba4b0446b"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae5e7323804bb12d6f9b1b5cba4b0446b">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::parameter_update_callback</a></div><div class="ttdeci">rcl_interfaces::msg::SetParametersResult parameter_update_callback(const std::vector&lt; rclcpp::Parameter &gt; &amp;parameters)</div><div class="ttdoc">callback for dynamic parameter updates</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00038">emergency_response_vehicle_plugin_node.cpp:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00073">arrived_at_emergency_destination_server_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00353">arrivedAtEmergencyDestinationCallback()</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00034">emergency_response_vehicle_plugin::Config::bsm_generation_frequency</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00046">emergency_response_vehicle_plugin::Config::bsm_message_id</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00076">config_</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00039">emergency_response_vehicle_plugin::Config::emergency_route_file_name</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00070">emergency_vehicle_ui_warnings_pub_</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00030">emergency_response_vehicle_plugin::Config::enable_emergency_response_vehicle_plugin</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00063">incoming_emergency_vehicle_response_sub_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00366">incomingEmergencyVehicleResponseCallback()</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00043">emergency_response_vehicle_plugin::Config::listening_port</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">logger_name_</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00036">emergency_response_vehicle_plugin::Config::min_distance_to_next_destination_point</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00068">outgoing_bsm_pub_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00069">outgoing_emergency_vehicle_ack_pub_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00038">parameter_update_callback()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00064">pose_sub_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">poseCallback()</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00041">emergency_response_vehicle_plugin::Config::route_file_folder</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00065">twist_sub_</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00435">twistCallback()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a35cdb6f84b872aff64b6cfc3803a1cbd_cgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a35cdb6f84b872aff64b6cfc3803a1cbd_cgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a35cdb6f84b872aff64b6cfc3803a1cbd_cgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a35cdb6f84b872aff64b6cfc3803a1cbd_cgraph">
<area shape="rect" title=" " alt="" coords="5,195,208,265"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ab150d0d01c03970ce4d77b55268bbff5" title="Service callback for a service call that indicates the Emergency Response Vehicle has arrived at its ..." alt="" coords="269,5,486,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a895f80339a3bed97417df7f4d64ed028" title="A callback to process a received EmergencyVehicleResponse message, which indicates that a CDA vehicle..." alt="" coords="259,100,496,171"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae5e7323804bb12d6f9b1b5cba4b0446b" title="callback for dynamic parameter updates" alt="" coords="266,195,489,265"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#abfc866f92781a25cf12f10df5c4d62a0" title="Message callback for the Emergency Response Vehicle&#39;s current latitude and longitude." alt="" coords="256,290,499,346"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c95d8b788aeddf1b3b1f0498dcf5c76" title="Message callback for the Emergency Response Vehicle&#39;s current velocity." alt="" coords="256,370,499,426"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0f4217007231d59bd9458a9e7a8ce75" title="A function for publishing an outgoing EmergencyVehicleAck message in response to the CDA vehicle that..." alt="" coords="553,100,775,171"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9ceec14aa51f981f3cd9e8a08e804fe7" title="A helpfer function to approximate the distance (in meters) between two pairs of latitude/longitude co..." alt="" coords="547,283,781,353"/>
</map>
</div>

</div>
</div>
<a id="aef8ea99592510263fd2c28a8b0fc2738" name="aef8ea99592510263fd2c28a8b0fc2738"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8ea99592510263fd2c28a8b0fc2738">&#9670;&nbsp;</a></span>handle_on_shutdown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::handle_on_shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00172">172</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  173</span>  {</div>
<div class="line"><span class="lineno">  174</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a0d7792256033992791d5d9093dbec7fd">work_</a>.reset();</div>
<div class="line"><span class="lineno">  175</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ad25ac29a67f86a15051fc280cf968080">io_</a>-&gt;stop();</div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#adc5b02be33dc5bc9aa3aad7d50f0c348">io_thread_</a>-&gt;join();</div>
<div class="line"><span class="lineno">  177</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00105">io_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00104">io_thread_</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00103">work_</a>.</p>

</div>
</div>
<a id="a895f80339a3bed97417df7f4d64ed028" name="a895f80339a3bed97417df7f4d64ed028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895f80339a3bed97417df7f4d64ed028">&#9670;&nbsp;</a></span>incomingEmergencyVehicleResponseCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::incomingEmergencyVehicleResponseCallback </td>
          <td>(</td>
          <td class="paramtype">carma_v2x_msgs::msg::EmergencyVehicleResponse::UniquePtr&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A callback to process a received <a class="el" href="structEmergencyVehicleResponse.html">EmergencyVehicleResponse</a> message, which indicates that a CDA vehicle is unable to change lanes out of the path of an approaching Emergency Response Vehicle. If the message is intended for the ego Emergency Response Vehicle, then a call to <a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0f4217007231d59bd9458a9e7a8ce75" title="A function for publishing an outgoing EmergencyVehicleAck message in response to the CDA vehicle that...">broadcastEmergencyVehicleAck()</a> will be made, and message will be published using emergency_vehicle_ui_warnings_pub_ to provide the Emergency Response Web UI widget with information to display in a warning message to the user. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The incoming <a class="el" href="structEmergencyVehicleResponse.html">EmergencyVehicleResponse</a> message. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00366">366</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  367</span>  {</div>
<div class="line"><span class="lineno">  368</span>    <span class="comment">// Only process message if it is intended for the ego vehicle and the sending vehicle is unable to change lanes</span></div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">if</span>((msg-&gt;m_header.recipient_id == <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a3504e49a2358c08c8dfeaafca914db72">bsm_id_string_</a>) &amp;&amp; !msg-&gt;can_change_lanes){</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>      <span class="comment">// Generate warning message and send to UI so the UI can display an alert for the user</span></div>
<div class="line"><span class="lineno">  372</span>      carma_msgs::msg::UIInstructions ui_warning_msg;</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>      ui_warning_msg.msg = <span class="stringliteral">&quot;Downstream vehicle &quot;</span> + msg-&gt;m_header.sender_id + <span class="stringliteral">&quot; is unable to change lanes!&quot;</span>;</div>
<div class="line"><span class="lineno">  375</span>      ui_warning_msg.type = carma_msgs::msg::UIInstructions::INFO;</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>      <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a07b01453eb517f54fddd7ccdc1942b92">emergency_vehicle_ui_warnings_pub_</a>-&gt;publish(ui_warning_msg);</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>      <span class="comment">// Trigger publication of EmergencyVehicleAck to indicate ERV has received the EmergencyVehicleResponse message</span></div>
<div class="line"><span class="lineno">  380</span>      <a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0f4217007231d59bd9458a9e7a8ce75">broadcastEmergencyVehicleAck</a>(msg-&gt;m_header.sender_id);</div>
<div class="line"><span class="lineno">  381</span>    }</div>
<div class="line"><span class="lineno">  382</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_ae0f4217007231d59bd9458a9e7a8ce75"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0f4217007231d59bd9458a9e7a8ce75">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::broadcastEmergencyVehicleAck</a></div><div class="ttdeci">void broadcastEmergencyVehicleAck(const std::string &amp;recipient_id)</div><div class="ttdoc">A function for publishing an outgoing EmergencyVehicleAck message in response to the CDA vehicle that...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00384">emergency_response_vehicle_plugin_node.cpp:384</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00384">broadcastEmergencyVehicleAck()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00085">bsm_id_string_</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00070">emergency_vehicle_ui_warnings_pub_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a895f80339a3bed97417df7f4d64ed028_cgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a895f80339a3bed97417df7f4d64ed028_cgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a895f80339a3bed97417df7f4d64ed028_cgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a895f80339a3bed97417df7f4d64ed028_cgraph">
<area shape="rect" title="A callback to process a received EmergencyVehicleResponse message, which indicates that a CDA vehicle..." alt="" coords="5,5,243,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0f4217007231d59bd9458a9e7a8ce75" title="A function for publishing an outgoing EmergencyVehicleAck message in response to the CDA vehicle that..." alt="" coords="291,5,513,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a895f80339a3bed97417df7f4d64ed028_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a895f80339a3bed97417df7f4d64ed028_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a895f80339a3bed97417df7f4d64ed028_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a895f80339a3bed97417df7f4d64ed028_icgraph">
<area shape="rect" title="A callback to process a received EmergencyVehicleResponse message, which indicates that a CDA vehicle..." alt="" coords="256,5,493,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a35cdb6f84b872aff64b6cfc3803a1cbd" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="ad69ae398640343488bdfe4ad9ebc60f7" name="ad69ae398640343488bdfe4ad9ebc60f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad69ae398640343488bdfe4ad9ebc60f7">&#9670;&nbsp;</a></span>loadRouteDestinationPointsFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::loadRouteDestinationPointsFromFile </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>route_file_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to extract the route destination points from a .csv file stored on the Host PC at the file path provided in the route_file_path argument. Route destination points are stored sequentially within the plugin's route_destination_points_ member object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">route_file_path</td><td>The file path on the Host PC that contains the .csv file for the Emergency Response Vehicle's route destination points. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector containing the sequential route destination points that describe the Emergency Response Vehicle's route at startup. </dd></dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00213">213</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>  {   </div>
<div class="line"><span class="lineno">  215</span>    <span class="comment">// Only load destination points if the file is a .csv; assumes file name ends with &quot;.csv&quot;</span></div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">if</span>(route_file_path.find(<span class="stringliteral">&quot;.csv&quot;</span>) == std::string::npos){</div>
<div class="line"><span class="lineno">  217</span>      RCLCPP_WARN_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Route file located at &quot;</span> &lt;&lt; route_file_path &lt;&lt; <span class="stringliteral">&quot; is not a .csv, destination points will not be loaded&quot;</span>);</div>
<div class="line"><span class="lineno">  218</span>    }</div>
<div class="line"><span class="lineno">  219</span>    <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  220</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Loading route destination points from &quot;</span> &lt;&lt; route_file_path);</div>
<div class="line"><span class="lineno">  221</span>      std::ifstream fs(route_file_path);</div>
<div class="line"><span class="lineno">  222</span>      std::string line;</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>      <span class="comment">// Read each line in route file (if any) and generate a route destination point</span></div>
<div class="line"><span class="lineno">  225</span>      <span class="comment">// NOTE: Each line of the .csv follows the format &quot;LONGITUDE&lt;float&gt;,LATITUDE&lt;float&gt;,ELEVATION&lt;float&gt;,DESTINATION-NAME&lt;string&gt;&quot;</span></div>
<div class="line"><span class="lineno">  226</span>      <span class="keywordflow">while</span>(std::getline(fs, line)){</div>
<div class="line"><span class="lineno">  227</span>        carma_v2x_msgs::msg::Position3D destination_point;</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>        <span class="comment">// lat lon and elev is seperated by comma</span></div>
<div class="line"><span class="lineno">  230</span>        <span class="keyword">auto</span> comma = line.find(<span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><span class="lineno">  231</span>        <span class="comment">// convert lon value in degrees from string</span></div>
<div class="line"><span class="lineno">  232</span>        destination_point.longitude = std::stof(line.substr(0, comma));</div>
<div class="line"><span class="lineno">  233</span>        line.erase(0, comma + 1);</div>
<div class="line"><span class="lineno">  234</span>        comma = line.find(<span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><span class="lineno">  235</span>        <span class="comment">// convert lat value in degrees from string</span></div>
<div class="line"><span class="lineno">  236</span>        destination_point.latitude = std::stof(line.substr(0, comma));</div>
<div class="line"><span class="lineno">  237</span>        <span class="comment">// elevation is in meters</span></div>
<div class="line"><span class="lineno">  238</span>        line.erase(0, comma + 1);</div>
<div class="line"><span class="lineno">  239</span>        comma = line.find(<span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><span class="lineno">  240</span>        destination_point.elevation = std::stof(line.substr(0, comma));</div>
<div class="line"><span class="lineno">  241</span>        destination_point.elevation_exists = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.push_back(destination_point);</div>
<div class="line"><span class="lineno">  244</span>      }</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>      RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Number of route destination points loaded: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.size());</div>
<div class="line"><span class="lineno">  247</span> </div>
<div class="line"><span class="lineno">  248</span>      <span class="keywordflow">if</span>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.empty()){</div>
<div class="line"><span class="lineno">  249</span>        RCLCPP_WARN_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;No route destination points were loaded by plugin!&quot;</span>);</div>
<div class="line"><span class="lineno">  250</span>      }</div>
<div class="line"><span class="lineno">  251</span>    }</div>
<div class="line"><span class="lineno">  252</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">logger_name_</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00082">route_destination_points_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00109">handle_on_activate()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ad69ae398640343488bdfe4ad9ebc60f7_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ad69ae398640343488bdfe4ad9ebc60f7_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ad69ae398640343488bdfe4ad9ebc60f7_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ad69ae398640343488bdfe4ad9ebc60f7_icgraph">
<area shape="rect" title="Function to extract the route destination points from a .csv file stored on the Host PC at the file p..." alt="" coords="256,5,479,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a910b6eb8776913e472c319ccabdea4de" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="ae5e7323804bb12d6f9b1b5cba4b0446b" name="ae5e7323804bb12d6f9b1b5cba4b0446b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e7323804bb12d6f9b1b5cba4b0446b">&#9670;&nbsp;</a></span>parameter_update_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rcl_interfaces::msg::SetParametersResult emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::parameter_update_callback </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; rclcpp::Parameter &gt; &amp;&#160;</td>
          <td class="paramname"><em>parameters</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>callback for dynamic parameter updates </p>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00038">38</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>  {</div>
<div class="line"><span class="lineno">   40</span>    <span class="keyword">auto</span> error_1 = update_params&lt;bool&gt;({{<span class="stringliteral">&quot;enable_emergency_response_vehicle_plugin&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6c315c9499cc51d1f46be6f62f1b3efc">enable_emergency_response_vehicle_plugin</a>}}, parameters);</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="keyword">auto</span> error_2 = update_params&lt;double&gt;({</div>
<div class="line"><span class="lineno">   43</span>        {<span class="stringliteral">&quot;bsm_generation_frequency&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5910623f110e63598925c93b4d188e0f">bsm_generation_frequency</a>},</div>
<div class="line"><span class="lineno">   44</span>        {<span class="stringliteral">&quot;min_distance_to_next_destination_point&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6ca666827ab660ce8145523092edc05c">min_distance_to_next_destination_point</a>},</div>
<div class="line"><span class="lineno">   45</span>    }, parameters);</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span>    <span class="keyword">auto</span> error_3 = update_params&lt;std::string&gt;({</div>
<div class="line"><span class="lineno">   48</span>        {<span class="stringliteral">&quot;emergency_route_file_name&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#ab0ad7d4825d0896508b09561f6454507">emergency_route_file_name</a>},</div>
<div class="line"><span class="lineno">   49</span>        {<span class="stringliteral">&quot;route_file_folder&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#af375e999851c7c8977b9ba32c42f0753">route_file_folder</a>}</div>
<div class="line"><span class="lineno">   50</span>    }, parameters);</div>
<div class="line"><span class="lineno">   51</span>    rcl_interfaces::msg::SetParametersResult result;</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    <span class="keyword">auto</span> error_4 = update_params&lt;int&gt;({</div>
<div class="line"><span class="lineno">   54</span>        {<span class="stringliteral">&quot;listening_port&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ed3c679b3b15ee3fa014dc4a8973e5f">listening_port</a>},</div>
<div class="line"><span class="lineno">   55</span>        {<span class="stringliteral">&quot;bsm_message_id&quot;</span>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a5ebd8f07abde46a3585029dfc05d2c80">bsm_message_id</a>},</div>
<div class="line"><span class="lineno">   56</span>    }, parameters);</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span>    result.successful = !error_1 &amp;&amp; !error_2 &amp;&amp; !error_3 &amp;&amp; !error_4;</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">return</span> result;</div>
<div class="line"><span class="lineno">   61</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00034">emergency_response_vehicle_plugin::Config::bsm_generation_frequency</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00046">emergency_response_vehicle_plugin::Config::bsm_message_id</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00076">config_</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00039">emergency_response_vehicle_plugin::Config::emergency_route_file_name</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00030">emergency_response_vehicle_plugin::Config::enable_emergency_response_vehicle_plugin</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00043">emergency_response_vehicle_plugin::Config::listening_port</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00036">emergency_response_vehicle_plugin::Config::min_distance_to_next_destination_point</a>, and <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00041">emergency_response_vehicle_plugin::Config::route_file_folder</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ae5e7323804bb12d6f9b1b5cba4b0446b_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ae5e7323804bb12d6f9b1b5cba4b0446b_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ae5e7323804bb12d6f9b1b5cba4b0446b_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ae5e7323804bb12d6f9b1b5cba4b0446b_icgraph">
<area shape="rect" title="callback for dynamic parameter updates" alt="" coords="256,5,479,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a35cdb6f84b872aff64b6cfc3803a1cbd" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="abfc866f92781a25cf12f10df5c4d62a0" name="abfc866f92781a25cf12f10df5c4d62a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfc866f92781a25cf12f10df5c4d62a0">&#9670;&nbsp;</a></span>poseCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::poseCallback </td>
          <td>(</td>
          <td class="paramtype">gps_msgs::msg::GPSFix::UniquePtr&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> callback for the Emergency Response Vehicle's current latitude and longitude. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The incoming gps_msgs::msg::GPSFix message. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">418</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  419</span>  {</div>
<div class="line"><span class="lineno">  420</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1a1facfef14ae58b8966b3e5fe299149">current_latitude_</a> = msg-&gt;latitude;</div>
<div class="line"><span class="lineno">  421</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a397cf371c3acf405990028fcec8d1f0a">current_longitude_</a> = msg-&gt;longitude;</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.empty()){</div>
<div class="line"><span class="lineno">  424</span>      <span class="comment">// Get distance between current ERV location and first destination point</span></div>
<div class="line"><span class="lineno">  425</span>      <span class="keywordtype">double</span> distance_to_next_destination_point = <a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9ceec14aa51f981f3cd9e8a08e804fe7">getDistanceBetween</a>(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1a1facfef14ae58b8966b3e5fe299149">current_latitude_</a>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a397cf371c3acf405990028fcec8d1f0a">current_longitude_</a>, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>[0].latitude, <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>[0].longitude);</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>      <span class="comment">// Remove first destination point if ERV is within configurable distance of that point</span></div>
<div class="line"><span class="lineno">  428</span>      <span class="keywordflow">if</span>(distance_to_next_destination_point &lt;= <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#aa9a457d3497ae0f97995e1b784077446">config_</a>.<a class="code hl_variable" href="structemergency__response__vehicle__plugin_1_1Config.html#a6ca666827ab660ce8145523092edc05c">min_distance_to_next_destination_point</a>){</div>
<div class="line"><span class="lineno">  429</span>        RCLCPP_DEBUG_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;ERV is &quot;</span> &lt;&lt; distance_to_next_destination_point &lt;&lt; <span class="stringliteral">&quot; meters from next destination point. Point will be removed.&quot;</span>);</div>
<div class="line"><span class="lineno">  430</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.erase(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a4414e1e62c3f0b3b6d9cf5d4556e64a6">route_destination_points_</a>.begin());</div>
<div class="line"><span class="lineno">  431</span>      }</div>
<div class="line"><span class="lineno">  432</span>    }</div>
<div class="line"><span class="lineno">  433</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a9ceec14aa51f981f3cd9e8a08e804fe7"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9ceec14aa51f981f3cd9e8a08e804fe7">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::getDistanceBetween</a></div><div class="ttdeci">double getDistanceBetween(const double &amp;lat_1_deg, const double &amp;lon_1_deg, const double &amp;lat_2_deg, const double &amp;lon_2_deg)</div><div class="ttdoc">A helpfer function to approximate the distance (in meters) between two pairs of latitude/longitude co...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00395">emergency_response_vehicle_plugin_node.cpp:395</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00076">config_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00091">current_latitude_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00092">current_longitude_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00395">getDistanceBetween()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">logger_name_</a>, <a class="el" href="emergency__response__vehicle__plugin__config_8hpp_source.html#l00036">emergency_response_vehicle_plugin::Config::min_distance_to_next_destination_point</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00082">route_destination_points_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_abfc866f92781a25cf12f10df5c4d62a0_cgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_abfc866f92781a25cf12f10df5c4d62a0_cgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_abfc866f92781a25cf12f10df5c4d62a0_cgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_abfc866f92781a25cf12f10df5c4d62a0_cgraph">
<area shape="rect" title="Message callback for the Emergency Response Vehicle&#39;s current latitude and longitude." alt="" coords="5,13,248,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a9ceec14aa51f981f3cd9e8a08e804fe7" title="A helpfer function to approximate the distance (in meters) between two pairs of latitude/longitude co..." alt="" coords="296,5,531,76"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_abfc866f92781a25cf12f10df5c4d62a0_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_abfc866f92781a25cf12f10df5c4d62a0_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_abfc866f92781a25cf12f10df5c4d62a0_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_abfc866f92781a25cf12f10df5c4d62a0_icgraph">
<area shape="rect" title="Message callback for the Emergency Response Vehicle&#39;s current latitude and longitude." alt="" coords="256,13,499,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a35cdb6f84b872aff64b6cfc3803a1cbd" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="a7cf71faaab4d03dbd40d94934a16a9d0" name="a7cf71faaab4d03dbd40d94934a16a9d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cf71faaab4d03dbd40d94934a16a9d0">&#9670;&nbsp;</a></span>processIncomingUdpBinary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::processIncomingUdpBinary </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; const std::vector&lt; uint8_t &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to process the incoming UDP packet binary data from the device that provides the activation status of the Emergency Response Vehicle's emergency lights and emergency sirens. UDP packets are received by the udp_listener_ object and the binary data is passed to this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The binary data associated with the received UDP packet. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00179">179</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  180</span>  {</div>
<div class="line"><span class="lineno">  181</span>    <span class="keyword">auto</span> data_vector = *data;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">if</span>(!data_vector.empty())</div>
<div class="line"><span class="lineno">  184</span>    {</div>
<div class="line"><span class="lineno">  185</span>      <span class="comment">// Extract the first byte of the received UDP binary since this describes the status of the emergency response vehicle&#39;s sirens and lights</span></div>
<div class="line"><span class="lineno">  186</span>      uint8_t value = data_vector[0];</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>      <span class="keywordflow">if</span>(value == <a class="code hl_enumvalue" href="namespaceemergency__response__vehicle__plugin.html#a7764c335c72b45601ba9b3d5a9627588a3dbbea008e041bbc797c149c3057672c">SirensAndLightsStatus::SIRENS_AND_LIGHTS_INACTIVE</a>){</div>
<div class="line"><span class="lineno">  189</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_sirens_active_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  190</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_lights_active_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  191</span>      }</div>
<div class="line"><span class="lineno">  192</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(value == <a class="code hl_enumvalue" href="namespaceemergency__response__vehicle__plugin.html#a7764c335c72b45601ba9b3d5a9627588aac1e66bb97a2c9923d19222f19b2a2d2">SirensAndLightsStatus::ONLY_SIRENS_ACTIVE</a>){</div>
<div class="line"><span class="lineno">  193</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_sirens_active_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  194</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_lights_active_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  195</span>      }</div>
<div class="line"><span class="lineno">  196</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(value == <a class="code hl_enumvalue" href="namespaceemergency__response__vehicle__plugin.html#a7764c335c72b45601ba9b3d5a9627588affb55e0fe2bc8281c233b0d93f16f23f">SirensAndLightsStatus::ONLY_LIGHTS_ACTIVE</a>){</div>
<div class="line"><span class="lineno">  197</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_sirens_active_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  198</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_lights_active_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  199</span>      }</div>
<div class="line"><span class="lineno">  200</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span>(value == <a class="code hl_enumvalue" href="namespaceemergency__response__vehicle__plugin.html#a7764c335c72b45601ba9b3d5a9627588ae7c23bbc4681c14bcdfe5a59621727bc">SirensAndLightsStatus::SIRENS_AND_LIGHTS_ACTIVE</a>){</div>
<div class="line"><span class="lineno">  201</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a01b5578caec4cb13ef18e210d14a7a93">emergency_sirens_active_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  202</span>        <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a5c127acc975fce2de781a65ead627ec3">emergency_lights_active_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  203</span>      }</div>
<div class="line"><span class="lineno">  204</span>      <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  205</span>        RCLCPP_WARN_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Unsupported initial UDP byte of &quot;</span> &lt;&lt; value &lt;&lt; <span class="stringliteral">&quot; received; packet will not be processed&quot;</span>);</div>
<div class="line"><span class="lineno">  206</span>      }</div>
<div class="line"><span class="lineno">  207</span>    }</div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">else</span>{</div>
<div class="line"><span class="lineno">  209</span>      RCLCPP_WARN_STREAM(rclcpp::get_logger(<a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ae0039b201dd29ea8c1620a78a0801f88">logger_name_</a>), <span class="stringliteral">&quot;Empty UDP payload received; packet will not be processed&quot;</span>);</div>
<div class="line"><span class="lineno">  210</span>    }</div>
<div class="line"><span class="lineno">  211</span>  }</div>
<div class="ttc" id="anamespaceemergency__response__vehicle__plugin_html_a7764c335c72b45601ba9b3d5a9627588a3dbbea008e041bbc797c149c3057672c"><div class="ttname"><a href="namespaceemergency__response__vehicle__plugin.html#a7764c335c72b45601ba9b3d5a9627588a3dbbea008e041bbc797c149c3057672c">emergency_response_vehicle_plugin::SIRENS_AND_LIGHTS_INACTIVE</a></div><div class="ttdeci">@ SIRENS_AND_LIGHTS_INACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00052">emergency_response_vehicle_plugin_node.hpp:52</a></div></div>
<div class="ttc" id="anamespaceemergency__response__vehicle__plugin_html_a7764c335c72b45601ba9b3d5a9627588aac1e66bb97a2c9923d19222f19b2a2d2"><div class="ttname"><a href="namespaceemergency__response__vehicle__plugin.html#a7764c335c72b45601ba9b3d5a9627588aac1e66bb97a2c9923d19222f19b2a2d2">emergency_response_vehicle_plugin::ONLY_SIRENS_ACTIVE</a></div><div class="ttdeci">@ ONLY_SIRENS_ACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00053">emergency_response_vehicle_plugin_node.hpp:53</a></div></div>
<div class="ttc" id="anamespaceemergency__response__vehicle__plugin_html_a7764c335c72b45601ba9b3d5a9627588ae7c23bbc4681c14bcdfe5a59621727bc"><div class="ttname"><a href="namespaceemergency__response__vehicle__plugin.html#a7764c335c72b45601ba9b3d5a9627588ae7c23bbc4681c14bcdfe5a59621727bc">emergency_response_vehicle_plugin::SIRENS_AND_LIGHTS_ACTIVE</a></div><div class="ttdeci">@ SIRENS_AND_LIGHTS_ACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00056">emergency_response_vehicle_plugin_node.hpp:55</a></div></div>
<div class="ttc" id="anamespaceemergency__response__vehicle__plugin_html_a7764c335c72b45601ba9b3d5a9627588affb55e0fe2bc8281c233b0d93f16f23f"><div class="ttname"><a href="namespaceemergency__response__vehicle__plugin.html#a7764c335c72b45601ba9b3d5a9627588affb55e0fe2bc8281c233b0d93f16f23f">emergency_response_vehicle_plugin::ONLY_LIGHTS_ACTIVE</a></div><div class="ttdeci">@ ONLY_LIGHTS_ACTIVE</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00054">emergency_response_vehicle_plugin_node.hpp:54</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00096">emergency_lights_active_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00097">emergency_sirens_active_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">logger_name_</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00054">emergency_response_vehicle_plugin::ONLY_LIGHTS_ACTIVE</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00053">emergency_response_vehicle_plugin::ONLY_SIRENS_ACTIVE</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00055">emergency_response_vehicle_plugin::SIRENS_AND_LIGHTS_ACTIVE</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00052">emergency_response_vehicle_plugin::SIRENS_AND_LIGHTS_INACTIVE</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">connect()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a7cf71faaab4d03dbd40d94934a16a9d0_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a7cf71faaab4d03dbd40d94934a16a9d0_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a7cf71faaab4d03dbd40d94934a16a9d0_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a7cf71faaab4d03dbd40d94934a16a9d0_icgraph">
<area shape="rect" title="Function to process the incoming UDP packet binary data from the device that provides the activation ..." alt="" coords="515,5,779,76"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac4529044ec54ef618ec2904b84732658" title="Function for connecting the udp_listener_ member object to a local port to enable it to process incom..." alt="" coords="256,13,467,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a910b6eb8776913e472c319ccabdea4de" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="ade9f37261c47832d51ad57934f8092bf" name="ade9f37261c47832d51ad57934f8092bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade9f37261c47832d51ad57934f8092bf">&#9670;&nbsp;</a></span>publishBSM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::publishBSM </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function for publishing a BSM for the Emergency Response Vehicle. Makes a call to <a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o...">generateBSM()</a> to obtain the BSM that will be published. </p>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00263">263</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  264</span>  {</div>
<div class="line"><span class="lineno">  265</span>    carma_v2x_msgs::msg::BSM outgoing_bsm_msg = <a class="code hl_function" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383">generateBSM</a>();</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    <span class="comment">// Publish BSM</span></div>
<div class="line"><span class="lineno">  268</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a8367454c11cc1ab6d02e68db22c77a94">outgoing_bsm_pub_</a>-&gt;publish(outgoing_bsm_msg);</div>
<div class="line"><span class="lineno">  269</span>  }</div>
<div class="ttc" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_html_a799090d050825e0ebf281570faaf1383"><div class="ttname"><a href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383">emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::generateBSM</a></div><div class="ttdeci">carma_v2x_msgs::msg::BSM generateBSM()</div><div class="ttdoc">Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o...</div><div class="ttdef"><b>Definition:</b> <a href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">emergency_response_vehicle_plugin_node.cpp:271</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00068">outgoing_bsm_pub_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00109">handle_on_activate()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ade9f37261c47832d51ad57934f8092bf_cgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ade9f37261c47832d51ad57934f8092bf_cgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ade9f37261c47832d51ad57934f8092bf_cgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ade9f37261c47832d51ad57934f8092bf_cgraph">
<area shape="rect" title="Function for publishing a BSM for the Emergency Response Vehicle. Makes a call to generateBSM() to ob..." alt="" coords="5,5,240,61"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a799090d050825e0ebf281570faaf1383" title="Function for generating a BSM for the Emergency Response Vehicle based on the latest status of this o..." alt="" coords="288,5,532,61"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a1c6f1819b3be8fefbd093d04e5cb715a" title="Helper function to get the next value associated with a generated BSM&#39;s &#39;msgcount&#39; field based on the..." alt="" coords="580,5,849,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ade9f37261c47832d51ad57934f8092bf_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ade9f37261c47832d51ad57934f8092bf_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ade9f37261c47832d51ad57934f8092bf_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_ade9f37261c47832d51ad57934f8092bf_icgraph">
<area shape="rect" title="Function for publishing a BSM for the Emergency Response Vehicle. Makes a call to generateBSM() to ob..." alt="" coords="256,13,491,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a910b6eb8776913e472c319ccabdea4de" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<a id="a5c95d8b788aeddf1b3b1f0498dcf5c76" name="a5c95d8b788aeddf1b3b1f0498dcf5c76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c95d8b788aeddf1b3b1f0498dcf5c76">&#9670;&nbsp;</a></span>twistCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::twistCallback </td>
          <td>(</td>
          <td class="paramtype">geometry_msgs::msg::TwistStamped::UniquePtr&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classMessage.html" title="Is the class responsible for DSRC message encoding and decoding.">Message</a> callback for the Emergency Response Vehicle's current velocity. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The incoming geometry_msgs::msg::TwistStamped message. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00435">435</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  436</span>  {</div>
<div class="line"><span class="lineno">  437</span>    <a class="code hl_variable" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#ac39d439daf57143d9a4bbbe20789ba36">current_velocity_</a> = msg-&gt;twist.linear.x;</div>
<div class="line"><span class="lineno">  438</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00093">current_velocity_</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a5c95d8b788aeddf1b3b1f0498dcf5c76_icgraph.png" border="0" usemap="#aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a5c95d8b788aeddf1b3b1f0498dcf5c76_icgraph" alt=""/></div>
<map name="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a5c95d8b788aeddf1b3b1f0498dcf5c76_icgraph" id="aclassemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin_a5c95d8b788aeddf1b3b1f0498dcf5c76_icgraph">
<area shape="rect" title="Message callback for the Emergency Response Vehicle&#39;s current velocity." alt="" coords="256,13,499,69"/>
<area shape="rect" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html#a35cdb6f84b872aff64b6cfc3803a1cbd" title=" " alt="" coords="5,5,208,76"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac8443ffaf18f687401961f4c3e6e98b2" name="ac8443ffaf18f687401961f4c3e6e98b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8443ffaf18f687401961f4c3e6e98b2">&#9670;&nbsp;</a></span>arrived_at_emergency_destination_server_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::ServicePtr&lt;std_srvs::srv::Trigger&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::arrived_at_emergency_destination_server_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00073">73</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>

</div>
</div>
<a id="a3f26e3ff5fcad04dff68dc607735f3a9" name="a3f26e3ff5fcad04dff68dc607735f3a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f26e3ff5fcad04dff68dc607735f3a9">&#9670;&nbsp;</a></span>bsm_generation_timer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::TimerBase::SharedPtr emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::bsm_generation_timer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00079">79</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00109">handle_on_activate()</a>.</p>

</div>
</div>
<a id="a3504e49a2358c08c8dfeaafca914db72" name="a3504e49a2358c08c8dfeaafca914db72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3504e49a2358c08c8dfeaafca914db72">&#9670;&nbsp;</a></span>bsm_id_string_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::bsm_id_string_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00085">85</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00384">broadcastEmergencyVehicleAck()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00366">incomingEmergencyVehicleResponseCallback()</a>.</p>

</div>
</div>
<a id="aa9a457d3497ae0f97995e1b784077446" name="aa9a457d3497ae0f97995e1b784077446"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9a457d3497ae0f97995e1b784077446">&#9670;&nbsp;</a></span>config_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structemergency__response__vehicle__plugin_1_1Config.html">Config</a> emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00076">76</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00022">EmergencyResponseVehiclePlugin()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00109">handle_on_activate()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00038">parameter_update_callback()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">poseCallback()</a>.</p>

</div>
</div>
<a id="a1a1facfef14ae58b8966b3e5fe299149" name="a1a1facfef14ae58b8966b3e5fe299149"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a1facfef14ae58b8966b3e5fe299149">&#9670;&nbsp;</a></span>current_latitude_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::current_latitude_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00091">91</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">poseCallback()</a>.</p>

</div>
</div>
<a id="a397cf371c3acf405990028fcec8d1f0a" name="a397cf371c3acf405990028fcec8d1f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a397cf371c3acf405990028fcec8d1f0a">&#9670;&nbsp;</a></span>current_longitude_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::current_longitude_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00092">92</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">poseCallback()</a>.</p>

</div>
</div>
<a id="ac39d439daf57143d9a4bbbe20789ba36" name="ac39d439daf57143d9a4bbbe20789ba36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac39d439daf57143d9a4bbbe20789ba36">&#9670;&nbsp;</a></span>current_velocity_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::current_velocity_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00093">93</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00435">twistCallback()</a>.</p>

</div>
</div>
<a id="a5c127acc975fce2de781a65ead627ec3" name="a5c127acc975fce2de781a65ead627ec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c127acc975fce2de781a65ead627ec3">&#9670;&nbsp;</a></span>emergency_lights_active_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::emergency_lights_active_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00096">96</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00179">processIncomingUdpBinary()</a>.</p>

</div>
</div>
<a id="a01b5578caec4cb13ef18e210d14a7a93" name="a01b5578caec4cb13ef18e210d14a7a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b5578caec4cb13ef18e210d14a7a93">&#9670;&nbsp;</a></span>emergency_sirens_active_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::emergency_sirens_active_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00097">97</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00179">processIncomingUdpBinary()</a>.</p>

</div>
</div>
<a id="a07b01453eb517f54fddd7ccdc1942b92" name="a07b01453eb517f54fddd7ccdc1942b92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b01453eb517f54fddd7ccdc1942b92">&#9670;&nbsp;</a></span>emergency_vehicle_ui_warnings_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::PubPtr&lt;carma_msgs::msg::UIInstructions&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::emergency_vehicle_ui_warnings_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00070">70</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00366">incomingEmergencyVehicleResponseCallback()</a>.</p>

</div>
</div>
<a id="a9095e584ac66e886475dae4ab02d728a" name="a9095e584ac66e886475dae4ab02d728a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9095e584ac66e886475dae4ab02d728a">&#9670;&nbsp;</a></span>incoming_emergency_vehicle_response_sub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::SubPtr&lt;carma_v2x_msgs::msg::EmergencyVehicleResponse&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::incoming_emergency_vehicle_response_sub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00063">63</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>

</div>
</div>
<a id="ad25ac29a67f86a15051fc280cf968080" name="ad25ac29a67f86a15051fc280cf968080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad25ac29a67f86a15051fc280cf968080">&#9670;&nbsp;</a></span>io_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;boost::asio::io_service&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::io_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00105">105</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">connect()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00172">handle_on_shutdown()</a>.</p>

</div>
</div>
<a id="adc5b02be33dc5bc9aa3aad7d50f0c348" name="adc5b02be33dc5bc9aa3aad7d50f0c348"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc5b02be33dc5bc9aa3aad7d50f0c348">&#9670;&nbsp;</a></span>io_thread_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;std::thread&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::io_thread_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00104">104</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">connect()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00172">handle_on_shutdown()</a>.</p>

</div>
</div>
<a id="ae0039b201dd29ea8c1620a78a0801f88" name="ae0039b201dd29ea8c1620a78a0801f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0039b201dd29ea8c1620a78a0801f88">&#9670;&nbsp;</a></span>logger_name_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::logger_name_ = &quot;emergency_response_vehicle_plugin_node&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00100">100</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00353">arrivedAtEmergencyDestinationCallback()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">connect()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00109">handle_on_activate()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00213">loadRouteDestinationPointsFromFile()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">poseCallback()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00179">processIncomingUdpBinary()</a>.</p>

</div>
</div>
<a id="a8367454c11cc1ab6d02e68db22c77a94" name="a8367454c11cc1ab6d02e68db22c77a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8367454c11cc1ab6d02e68db22c77a94">&#9670;&nbsp;</a></span>outgoing_bsm_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::PubPtr&lt;carma_v2x_msgs::msg::BSM&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::outgoing_bsm_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00068">68</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00263">publishBSM()</a>.</p>

</div>
</div>
<a id="a11fcdbb3f4ccac67a320628abadc97c7" name="a11fcdbb3f4ccac67a320628abadc97c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11fcdbb3f4ccac67a320628abadc97c7">&#9670;&nbsp;</a></span>outgoing_emergency_vehicle_ack_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::PubPtr&lt;carma_v2x_msgs::msg::EmergencyVehicleAck&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::outgoing_emergency_vehicle_ack_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00069">69</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00384">broadcastEmergencyVehicleAck()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>

</div>
</div>
<a id="a48fd74a1232b8030fce5f4fa26c48a31" name="a48fd74a1232b8030fce5f4fa26c48a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48fd74a1232b8030fce5f4fa26c48a31">&#9670;&nbsp;</a></span>pose_sub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::SubPtr&lt;gps_msgs::msg::GPSFix&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::pose_sub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00064">64</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>

</div>
</div>
<a id="a933d82171c4614166abe8a1fde84cd11" name="a933d82171c4614166abe8a1fde84cd11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933d82171c4614166abe8a1fde84cd11">&#9670;&nbsp;</a></span>prev_msg_count_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::prev_msg_count_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00088">88</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>.</p>

</div>
</div>
<a id="a4414e1e62c3f0b3b6d9cf5d4556e64a6" name="a4414e1e62c3f0b3b6d9cf5d4556e64a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4414e1e62c3f0b3b6d9cf5d4556e64a6">&#9670;&nbsp;</a></span>route_destination_points_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;carma_v2x_msgs::msg::Position3D&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::route_destination_points_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00082">82</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00353">arrivedAtEmergencyDestinationCallback()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00271">generateBSM()</a>, <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00213">loadRouteDestinationPointsFromFile()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00418">poseCallback()</a>.</p>

</div>
</div>
<a id="ad2a83f65e24b1574225333e541bc4791" name="ad2a83f65e24b1574225333e541bc4791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a83f65e24b1574225333e541bc4791">&#9670;&nbsp;</a></span>twist_sub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">carma_ros2_utils::SubPtr&lt;geometry_msgs::msg::TwistStamped&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::twist_sub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00065">65</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00063">handle_on_configure()</a>.</p>

</div>
</div>
<a id="a0da9d85bb40af0c8f8147649e45172e1" name="a0da9d85bb40af0c8f8147649e45172e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0da9d85bb40af0c8f8147649e45172e1">&#9670;&nbsp;</a></span>udp_listener_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="classemergency__response__vehicle__plugin_1_1UDPListener.html">UDPListener</a>&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::udp_listener_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00108">108</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">connect()</a>.</p>

</div>
</div>
<a id="a0d7792256033992791d5d9093dbec7fd" name="a0d7792256033992791d5d9093dbec7fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d7792256033992791d5d9093dbec7fd">&#9670;&nbsp;</a></span>work_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;boost::asio::io_service::work&gt; emergency_response_vehicle_plugin::EmergencyResponseVehiclePlugin::work_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html#l00103">103</a> of file <a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00135">connect()</a>, and <a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html#l00172">handle_on_shutdown()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>carma-messenger-core/emergency_response_vehicle_plugin/include/emergency_response_vehicle_plugin/<a class="el" href="emergency__response__vehicle__plugin__node_8hpp_source.html">emergency_response_vehicle_plugin_node.hpp</a></li>
<li>carma-messenger-core/emergency_response_vehicle_plugin/src/<a class="el" href="emergency__response__vehicle__plugin__node_8cpp_source.html">emergency_response_vehicle_plugin_node.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceemergency__response__vehicle__plugin.html">emergency_response_vehicle_plugin</a></li><li class="navelem"><a class="el" href="classemergency__response__vehicle__plugin_1_1EmergencyResponseVehiclePlugin.html">EmergencyResponseVehiclePlugin</a></li>
    <li class="footer">Generated on Thu Sep 19 2024 20:11:48 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
