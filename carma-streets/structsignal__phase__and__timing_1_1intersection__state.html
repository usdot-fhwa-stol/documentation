<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-streets: signal_phase_and_timing::intersection_state Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-streets<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Streets is a component of CARMA ecosystem that improves the efficiency and performance of the Transportation Systems Management and Operations (TSMO) strategies.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structsignal__phase__and__timing_1_1intersection__state.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="structsignal__phase__and__timing_1_1intersection__state-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">signal_phase_and_timing::intersection_state Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for signal_phase_and_timing::intersection_state:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state__coll__graph.png" border="0" usemap="#asignal__phase__and__timing_1_1intersection__state_coll__map" alt="Collaboration graph"/></div>
<map name="asignal__phase__and__timing_1_1intersection__state_coll__map" id="asignal__phase__and__timing_1_1intersection__state_coll__map">
<area shape="rect" title=" " alt="" coords="379,189,585,501"/>
<area shape="rect" title=" " alt="" coords="5,20,44,97"/>
<area shape="rect" title=" " alt="" coords="220,20,275,97"/>
<area shape="rect" title=" " alt="" coords="299,20,367,97"/>
<area shape="rect" title=" " alt="" coords="406,20,467,97"/>
<area shape="rect" title=" " alt="" coords="492,20,560,97"/>
<area shape="rect" title=" " alt="" coords="585,20,659,97"/>
<area shape="rect" title=" " alt="" coords="684,5,843,112"/>
<area shape="rect" title=" " alt="" coords="867,5,1028,112"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae992920af2fdef8ffd0cf29da74e0ac9"><td class="memItemLeft" align="right" valign="top">rapidjson::Value&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#ae992920af2fdef8ffd0cf29da74e0ac9">toJson</a> (rapidjson::Document::AllocatorType &amp;allocator) const</td></tr>
<tr class="memdesc:ae992920af2fdef8ffd0cf29da74e0ac9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Serialize Intersection State object to rapidjson::Value for writing as JSON string.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#ae992920af2fdef8ffd0cf29da74e0ac9">More...</a><br /></td></tr>
<tr class="separator:ae992920af2fdef8ffd0cf29da74e0ac9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac73d712ab8edf86b8d9c892f6bdff5e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#ac73d712ab8edf86b8d9c892f6bdff5e0">fromJson</a> (const rapidjson::Value &amp;val)</td></tr>
<tr class="memdesc:ac73d712ab8edf86b8d9c892f6bdff5e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deserialize Intersection State JSON into Intersection State object.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#ac73d712ab8edf86b8d9c892f6bdff5e0">More...</a><br /></td></tr>
<tr class="separator:ac73d712ab8edf86b8d9c892f6bdff5e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42d471e1b9b4bf7924ffb93bd6892e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#ac42d471e1b9b4bf7924ffb93bd6892e9">operator==</a> (const <a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html">intersection_state</a> &amp;other) const</td></tr>
<tr class="memdesc:ac42d471e1b9b4bf7924ffb93bd6892e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Equals operator to asses whether two objects contain equivalent data.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#ac42d471e1b9b4bf7924ffb93bd6892e9">More...</a><br /></td></tr>
<tr class="separator:ac42d471e1b9b4bf7924ffb93bd6892e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19acfe5a1d6bdd80a61d086b52579f8b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a19acfe5a1d6bdd80a61d086b52579f8b">operator!=</a> (const <a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html">intersection_state</a> &amp;other) const</td></tr>
<tr class="memdesc:a19acfe5a1d6bdd80a61d086b52579f8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the inverse of equals operator.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a19acfe5a1d6bdd80a61d086b52579f8b">More...</a><br /></td></tr>
<tr class="separator:a19acfe5a1d6bdd80a61d086b52579f8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fde3ad2fb225f963f411ad66e72066f"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a4fde3ad2fb225f963f411ad66e72066f">convert_min_mills2epoch_ts</a> (uint32_t moy_ll, uint16_t min_mills_timestamp) const</td></tr>
<tr class="memdesc:a4fde3ad2fb225f963f411ad66e72066f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert current mimutes of the year and milliseconds of the current minute into epoch timestamp in milliseconds.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a4fde3ad2fb225f963f411ad66e72066f">More...</a><br /></td></tr>
<tr class="separator:a4fde3ad2fb225f963f411ad66e72066f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bc23ba89dd6c079735485173ba6d6d5"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a8bc23ba89dd6c079735485173ba6d6d5">get_epoch_timestamp</a> () const</td></tr>
<tr class="memdesc:a8bc23ba89dd6c079735485173ba6d6d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the epoch timestamp of the intersection state timestamp.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a8bc23ba89dd6c079735485173ba6d6d5">More...</a><br /></td></tr>
<tr class="separator:a8bc23ba89dd6c079735485173ba6d6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aa5329bedd738f5579cf045975d87a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a5aa5329bedd738f5579cf045975d87a9">set_timestamp_ntcip</a> (const uint32_t second_of_day, const uint16_t millisecond_of_second)</td></tr>
<tr class="memdesc:a5aa5329bedd738f5579cf045975d87a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set timestamp for intersection state based on NTCIP SPaT UDP message timestamp which is transmitted as second of the UTC day and millisecond of the UTC second. This information can be combined with the unix host time day of the year to get minute of the UTC year and millisecond of the UTC minute (J2735 Intersection State timeStamp units).  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a5aa5329bedd738f5579cf045975d87a9">More...</a><br /></td></tr>
<tr class="separator:a5aa5329bedd738f5579cf045975d87a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480dafe7aae5c872f14d1f60c8627636"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a480dafe7aae5c872f14d1f60c8627636">set_timestamp_local</a> ()</td></tr>
<tr class="memdesc:a480dafe7aae5c872f14d1f60c8627636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set timestamp for intersection state based on host machine unix time.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a480dafe7aae5c872f14d1f60c8627636">More...</a><br /></td></tr>
<tr class="separator:a480dafe7aae5c872f14d1f60c8627636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01285f8060241eec1adbaa0c5e97a1df"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a01285f8060241eec1adbaa0c5e97a1df">update_movement_state</a> (<a class="el" href="structntcip_1_1ntcip__1202__ext.html">ntcip::ntcip_1202_ext</a> &amp;spat_data, const int signal_group_id, const int <a class="el" href="ntcip__1202__ext__phasetime_8h.html#a818606b5263ca9418c2a574097a9503a">phase_number</a>)</td></tr>
<tr class="memdesc:a01285f8060241eec1adbaa0c5e97a1df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to update <a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a> with signal_group_id using ntcip spat data.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a01285f8060241eec1adbaa0c5e97a1df">More...</a><br /></td></tr>
<tr class="separator:a01285f8060241eec1adbaa0c5e97a1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb8a7d8693ba85ab08f3c0e31afe4935"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#adb8a7d8693ba85ab08f3c0e31afe4935">update_movements</a> (<a class="el" href="structntcip_1_1ntcip__1202__ext.html">ntcip::ntcip_1202_ext</a> &amp;spat_data, const std::unordered_map&lt; int, int &gt; &amp;phase_number_to_signal_group)</td></tr>
<tr class="memdesc:adb8a7d8693ba85ab08f3c0e31afe4935"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears old movement event data for all movement_states. Adds one <a class="el" href="structsignal__phase__and__timing_1_1movement__event.html">movement_event</a> to the state_time_speed list as the current event for each movement state. Then calls update_movement_state on every phase number/signal group mapping included in the phase_number to signal group map. This method is meant to be executed each time a nticp_1202_ext UDP packet is received to update the current movement event data of each phase with the timing information received.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#adb8a7d8693ba85ab08f3c0e31afe4935">More...</a><br /></td></tr>
<tr class="separator:adb8a7d8693ba85ab08f3c0e31afe4935"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3063027b0686bd2e01dc696a2974a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a1b3063027b0686bd2e01dc696a2974a9">clear_future_movement_events</a> ()</td></tr>
<tr class="memdesc:a1b3063027b0686bd2e01dc696a2974a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the future movement events for each movement state, and only leave the current movement events.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a1b3063027b0686bd2e01dc696a2974a9">More...</a><br /></td></tr>
<tr class="separator:a1b3063027b0686bd2e01dc696a2974a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0212a92fdea9a7f1f5959d002ba7dda9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a0212a92fdea9a7f1f5959d002ba7dda9">get_movement</a> (const int signal_group_id)</td></tr>
<tr class="memdesc:a0212a92fdea9a7f1f5959d002ba7dda9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return reference to <a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a> for signal group.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a0212a92fdea9a7f1f5959d002ba7dda9">More...</a><br /></td></tr>
<tr class="separator:a0212a92fdea9a7f1f5959d002ba7dda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7f3528dc9e42b152c0e4537468fd79"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#aca7f3528dc9e42b152c0e4537468fd79">initialize_movement_states</a> (const std::unordered_map&lt; int, int &gt; &amp;phase_number_to_signal_group)</td></tr>
<tr class="memdesc:aca7f3528dc9e42b152c0e4537468fd79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize list&lt;movement_state&gt; to include a movement for each phase_numer/signal_group entry in the phase number to signal group map. This method is meant to be run once, while initializing the spat object to contain movement states for all relevant signal groups.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#aca7f3528dc9e42b152c0e4537468fd79">More...</a><br /></td></tr>
<tr class="separator:aca7f3528dc9e42b152c0e4537468fd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3126c08963787918c8d007255b4193"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a> (const uint16_t offset_tenths_of_sec) const</td></tr>
<tr class="memdesc:a7f3126c08963787918c8d007255b4193"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert time offset (in tenths of seconds) from current time (NTCIP SPaT timing information units) to tenths of seconds from current hour (J2735 SPaT timing information units). For reference please see J2735 and NTCIP documentation.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">More...</a><br /></td></tr>
<tr class="separator:a7f3126c08963787918c8d007255b4193"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad71bed5c8cd56cac8dcd041c5fd5a83e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#ad71bed5c8cd56cac8dcd041c5fd5a83e">MIN_TO_SECONDS</a> = 60</td></tr>
<tr class="separator:ad71bed5c8cd56cac8dcd041c5fd5a83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebaed676aff07f126fe01e1319b4c605"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#aebaed676aff07f126fe01e1319b4c605">SECOND_TO_MILLISECONDS</a> = 1000</td></tr>
<tr class="separator:aebaed676aff07f126fe01e1319b4c605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6da9216f423d4fdb2d754ea68e276e73"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a6da9216f423d4fdb2d754ea68e276e73">name</a></td></tr>
<tr class="memdesc:a6da9216f423d4fdb2d754ea68e276e73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Descriptive name for this collection.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a6da9216f423d4fdb2d754ea68e276e73">More...</a><br /></td></tr>
<tr class="separator:a6da9216f423d4fdb2d754ea68e276e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada34bde87ec24eb85810d408cd13f69f"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#ada34bde87ec24eb85810d408cd13f69f">id</a> = 0</td></tr>
<tr class="memdesc:ada34bde87ec24eb85810d408cd13f69f"><td class="mdescLeft">&#160;</td><td class="mdescRight">A globally unique value set and consisting of regionID and intersection ID assignment. Provides unique mapping to the intersection MAP in question which provides complete location and approach/move/lane data.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#ada34bde87ec24eb85810d408cd13f69f">More...</a><br /></td></tr>
<tr class="separator:ada34bde87ec24eb85810d408cd13f69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec8a1a400233389a5640c48bda4d1e3"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ec8a1a400233389a5640c48bda4d1e3">revision</a> = 0</td></tr>
<tr class="separator:a7ec8a1a400233389a5640c48bda4d1e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd9ce5f7a9b4930e5cdfeaf84ddbe02"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#abbd9ce5f7a9b4930e5cdfeaf84ddbe02">status</a></td></tr>
<tr class="memdesc:abbd9ce5f7a9b4930e5cdfeaf84ddbe02"><td class="mdescLeft">&#160;</td><td class="mdescRight">BIT String of IntersectionStatusObject:  <a href="structsignal__phase__and__timing_1_1intersection__state.html#abbd9ce5f7a9b4930e5cdfeaf84ddbe02">More...</a><br /></td></tr>
<tr class="separator:abbd9ce5f7a9b4930e5cdfeaf84ddbe02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a0ee55cccc9fb11add9902564ad504e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">moy</a> = 0</td></tr>
<tr class="memdesc:a0a0ee55cccc9fb11add9902564ad504e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minute of current UTC year.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">More...</a><br /></td></tr>
<tr class="separator:a0a0ee55cccc9fb11add9902564ad504e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c19a8652fc7761cb9e632fc01a9dd2"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">time_stamp</a> = 0</td></tr>
<tr class="memdesc:a51c19a8652fc7761cb9e632fc01a9dd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Millisecond point in the current UTC minute that this message was created.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">More...</a><br /></td></tr>
<tr class="separator:a51c19a8652fc7761cb9e632fc01a9dd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c616e91f927f3803dcd2367e12a4eb9"><td class="memItemLeft" align="right" valign="top">std::list&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a8c616e91f927f3803dcd2367e12a4eb9">enabled_lanes</a></td></tr>
<tr class="memdesc:a8c616e91f927f3803dcd2367e12a4eb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">A list of unique lane ID for each lane object which is active. Refers to dynamic MAP contents.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a8c616e91f927f3803dcd2367e12a4eb9">More...</a><br /></td></tr>
<tr class="separator:a8c616e91f927f3803dcd2367e12a4eb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ede63a37705e6c5cdce68883fe78a7d"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a></td></tr>
<tr class="memdesc:a7ede63a37705e6c5cdce68883fe78a7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Each Movement is given in turn and contains its signal phase state, mapping to the lanes it applies to, and point in time it will and. It may contain both active and future states.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">More...</a><br /></td></tr>
<tr class="separator:a7ede63a37705e6c5cdce68883fe78a7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608bced258a6e40c5b975021b3a6bc02"><td class="memItemLeft" align="right" valign="top">std::list&lt; <a class="el" href="structsignal__phase__and__timing_1_1connection__maneuver__assist.html">connection_maneuver_assist</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html#a608bced258a6e40c5b975021b3a6bc02">maneuver_assist_list</a></td></tr>
<tr class="memdesc:a608bced258a6e40c5b975021b3a6bc02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assist Data.  <a href="structsignal__phase__and__timing_1_1intersection__state.html#a608bced258a6e40c5b975021b3a6bc02">More...</a><br /></td></tr>
<tr class="separator:a608bced258a6e40c5b975021b3a6bc02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00017">17</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a1b3063027b0686bd2e01dc696a2974a9" name="a1b3063027b0686bd2e01dc696a2974a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b3063027b0686bd2e01dc696a2974a9">&#9670;&nbsp;</a></span>clear_future_movement_events()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_phase_and_timing::intersection_state::clear_future_movement_events </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears the future movement events for each movement state, and only leave the current movement events. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00286">286</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  287</span>    {</div>
<div class="line"><span class="lineno">  288</span>         <span class="keywordflow">for</span> ( <span class="keyword">auto</span> &amp;move_state : <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a> ) {</div>
<div class="line"><span class="lineno">  289</span>            <span class="comment">// If movement event list is empty, create a current event.</span></div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">if</span> ( move_state.state_time_speed.empty()) {</div>
<div class="line"><span class="lineno">  291</span>                <span class="comment">// Add current movement_event</span></div>
<div class="line"><span class="lineno">  292</span>                movement_event cur_event;</div>
<div class="line"><span class="lineno">  293</span>                move_state.state_time_speed.push_front(cur_event);</div>
<div class="line"><span class="lineno">  294</span>            }</div>
<div class="line"><span class="lineno">  295</span>            <span class="comment">// If movement event list contains future events, clear future events.</span></div>
<div class="line"><span class="lineno">  296</span>            <span class="keywordflow">if</span> ( move_state.state_time_speed.size() &gt; 1) {</div>
<div class="line"><span class="lineno">  297</span>                <span class="comment">// Clear all movement events except current (front)</span></div>
<div class="line"><span class="lineno">  298</span>                movement_event cur_event = move_state.state_time_speed.front();</div>
<div class="line"><span class="lineno">  299</span>                move_state.state_time_speed.clear();</div>
<div class="line"><span class="lineno">  300</span>                move_state.state_time_speed.push_front(cur_event);</div>
<div class="line"><span class="lineno">  301</span>            }           </div>
<div class="line"><span class="lineno">  302</span>        }</div>
<div class="line"><span class="lineno">  303</span>    }</div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a7ede63a37705e6c5cdce68883fe78a7d"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">signal_phase_and_timing::intersection_state::states</a></div><div class="ttdeci">std::list&lt; movement_state &gt; states</div><div class="ttdoc">Each Movement is given in turn and contains its signal phase state, mapping to the lanes it applies t...</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00095">intersection_state.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00095">states</a>.</p>

</div>
</div>
<a id="a4fde3ad2fb225f963f411ad66e72066f" name="a4fde3ad2fb225f963f411ad66e72066f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fde3ad2fb225f963f411ad66e72066f">&#9670;&nbsp;</a></span>convert_min_mills2epoch_ts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t signal_phase_and_timing::intersection_state::convert_min_mills2epoch_ts </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>moy_ll</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>min_mills_timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert current mimutes of the year and milliseconds of the current minute into epoch timestamp in milliseconds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">moy_ll</td><td>The current minutes of the year </td></tr>
    <tr><td class="paramname">min_mills_timestamp</td><td>The milliseconds of the current minute </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint64_t epoch timestamp in milliseconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00136">136</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  136</span>                                                                                                               {</div>
<div class="line"><span class="lineno">  137</span>        <span class="comment">//Calculate timestamp for beginning of the year</span></div>
<div class="line"><span class="lineno">  138</span>        std::chrono::system_clock::time_point now{std::chrono::milliseconds(<a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">streets_service::streets_clock_singleton::time_in_ms</a>())};</div>
<div class="line"><span class="lineno">  139</span>        time_t tt = std::chrono::system_clock::to_time_t(now);</div>
<div class="line"><span class="lineno">  140</span>        tm utctime;</div>
<div class="line"><span class="lineno">  141</span>        gmtime_r(&amp;tt, &amp;utctime);</div>
<div class="line"><span class="lineno">  142</span>        <span class="keyword">auto</span> timeinfo = tm();</div>
<div class="line"><span class="lineno">  143</span>        timeinfo.tm_year = utctime.tm_year;</div>
<div class="line"><span class="lineno">  144</span>        timeinfo.tm_mon = 0; <span class="comment">//January</span></div>
<div class="line"><span class="lineno">  145</span>        timeinfo.tm_mday = 1; <span class="comment">//1st</span></div>
<div class="line"><span class="lineno">  146</span>        timeinfo.tm_hour = 0; <span class="comment">//00</span></div>
<div class="line"><span class="lineno">  147</span>        timeinfo.tm_min = 0; <span class="comment">//00</span></div>
<div class="line"><span class="lineno">  148</span>        timeinfo.tm_sec = 0; <span class="comment">//00</span></div>
<div class="line"><span class="lineno">  149</span>        time_t year_begin_utc_t = timegm(&amp;timeinfo);</div>
<div class="line"><span class="lineno">  150</span>        <span class="keyword">auto</span> year_begin_utc_tp = std::chrono::system_clock::from_time_t(year_begin_utc_t);</div>
<div class="line"><span class="lineno">  151</span>        <span class="keyword">auto</span> year_begin_utc_timestamp = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(year_begin_utc_tp.time_since_epoch()).count();</div>
<div class="line"><span class="lineno">  152</span>        <span class="keyword">auto</span> epoch_timestamp = year_begin_utc_timestamp + <span class="keyword">static_cast&lt;</span><span class="keywordtype">long</span><span class="keyword">&gt;</span>(moy_ll) * <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#ad71bed5c8cd56cac8dcd041c5fd5a83e">MIN_TO_SECONDS</a> * <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#aebaed676aff07f126fe01e1319b4c605">SECOND_TO_MILLISECONDS</a> + min_mills_timestamp;</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">return</span> epoch_timestamp;</div>
<div class="line"><span class="lineno">  154</span>    }</div>
<div class="ttc" id="aclassstreets__service_1_1streets__clock__singleton_html_ace444a4a74b0cea211bf89ed89371bae"><div class="ttname"><a href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">streets_service::streets_clock_singleton::time_in_ms</a></div><div class="ttdeci">static uint64_t time_in_ms()</div><div class="ttdoc">Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot-fhwa-stol/car...</div><div class="ttdef"><b>Definition:</b> <a href="streets__clock__singleton_8cpp_source.html#l00011">streets_clock_singleton.cpp:11</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_ad71bed5c8cd56cac8dcd041c5fd5a83e"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#ad71bed5c8cd56cac8dcd041c5fd5a83e">signal_phase_and_timing::intersection_state::MIN_TO_SECONDS</a></div><div class="ttdeci">int MIN_TO_SECONDS</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00019">intersection_state.h:19</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_aebaed676aff07f126fe01e1319b4c605"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#aebaed676aff07f126fe01e1319b4c605">signal_phase_and_timing::intersection_state::SECOND_TO_MILLISECONDS</a></div><div class="ttdeci">int SECOND_TO_MILLISECONDS</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00020">intersection_state.h:20</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00019">MIN_TO_SECONDS</a>, <a class="el" href="intersection__state_8h_source.html#l00020">SECOND_TO_MILLISECONDS</a>, and <a class="el" href="streets__clock__singleton_8cpp_source.html#l00011">streets_service::streets_clock_singleton::time_in_ms()</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00156">get_epoch_timestamp()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a4fde3ad2fb225f963f411ad66e72066f_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a4fde3ad2fb225f963f411ad66e72066f_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a4fde3ad2fb225f963f411ad66e72066f_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a4fde3ad2fb225f963f411ad66e72066f_cgraph">
<area shape="rect" title="Convert current mimutes of the year and milliseconds of the current minute into epoch timestamp in mi..." alt="" coords="5,5,192,61"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="240,13,432,54"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="480,13,683,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a4fde3ad2fb225f963f411ad66e72066f_icgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a4fde3ad2fb225f963f411ad66e72066f_icgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a4fde3ad2fb225f963f411ad66e72066f_icgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a4fde3ad2fb225f963f411ad66e72066f_icgraph">
<area shape="rect" title="Convert current mimutes of the year and milliseconds of the current minute into epoch timestamp in mi..." alt="" coords="221,5,408,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a8bc23ba89dd6c079735485173ba6d6d5" title="Get the epoch timestamp of the intersection state timestamp." alt="" coords="5,5,173,61"/>
</map>
</div>

</div>
</div>
<a id="a7f3126c08963787918c8d007255b4193" name="a7f3126c08963787918c8d007255b4193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3126c08963787918c8d007255b4193">&#9670;&nbsp;</a></span>convert_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t signal_phase_and_timing::intersection_state::convert_offset </td>
          <td>(</td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>offset_tenths_of_sec</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert time offset (in tenths of seconds) from current time (NTCIP SPaT timing information units) to tenths of seconds from current hour (J2735 SPaT timing information units). For reference please see J2735 and NTCIP documentation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset_tenths_of_sec</td><td>tenths of seconds from current time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>uint16_t tenths of seconds from current hour. </dd></dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00304">304</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  304</span>                                                                                              {</div>
<div class="line"><span class="lineno">  305</span>        <span class="comment">// Convert tenths of seconds to milliseconds</span></div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordtype">int</span> offset_ms = offset_tenths_of_seconds * 100;</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>        std::chrono::system_clock::time_point nowTimePoint {std::chrono::milliseconds(<a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">streets_service::streets_clock_singleton::time_in_ms</a>())};</div>
<div class="line"><span class="lineno">  309</span>        std::chrono::system_clock::time_point nowPlusOffsetTimePoint = nowTimePoint +  std::chrono::milliseconds(offset_ms);</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>        std::chrono::system_clock::duration tp = nowPlusOffsetTimePoint.time_since_epoch();</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>        std::chrono::hours h =  std::chrono::duration_cast&lt;std::chrono::hours&gt;(tp);</div>
<div class="line"><span class="lineno">  314</span>        tp -= h;</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>        std::chrono::minutes m =  std::chrono::duration_cast&lt;std::chrono::minutes&gt;(tp);</div>
<div class="line"><span class="lineno">  317</span>        tp -= m;</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>        std::chrono::seconds s =  std::chrono::duration_cast&lt;std::chrono::seconds&gt;(tp);</div>
<div class="line"><span class="lineno">  320</span>        tp -= s;</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>        std::chrono::milliseconds ms = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(tp);</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordtype">double</span> fractionSeconds = ((double)s.count()) + ((<span class="keywordtype">double</span>)ms.count()/1000.0);</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordtype">double</span> retTimeD = ((double)(m.count() * 60) + fractionSeconds) * 10.0;</div>
<div class="line"><span class="lineno">  326</span>        SPDLOG_TRACE(<span class="stringliteral">&quot;Converted offset {0} to {1}&quot;</span>, offset_tenths_of_seconds, retTimeD);</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">return</span> (uint16_t) retTimeD;</div>
<div class="line"><span class="lineno">  328</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="streets__clock__singleton_8cpp_source.html#l00011">streets_service::streets_clock_singleton::time_in_ms()</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00205">update_movement_state()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a7f3126c08963787918c8d007255b4193_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a7f3126c08963787918c8d007255b4193_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a7f3126c08963787918c8d007255b4193_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a7f3126c08963787918c8d007255b4193_cgraph">
<area shape="rect" title="Convert time offset (in tenths of seconds) from current time (NTCIP SPaT timing information units) to..." alt="" coords="5,5,173,61"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="221,13,413,54"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="461,13,664,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a7f3126c08963787918c8d007255b4193_icgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a7f3126c08963787918c8d007255b4193_icgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a7f3126c08963787918c8d007255b4193_icgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a7f3126c08963787918c8d007255b4193_icgraph">
<area shape="rect" title="Convert time offset (in tenths of seconds) from current time (NTCIP SPaT timing information units) to..." alt="" coords="437,5,605,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a01285f8060241eec1adbaa0c5e97a1df" title="Method to update movement_state with signal_group_id using ntcip spat data." alt="" coords="221,5,389,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#adb8a7d8693ba85ab08f3c0e31afe4935" title="Clears old movement event data for all movement_states. Adds one movement_event to the state_time_spe..." alt="" coords="5,5,173,61"/>
</map>
</div>

</div>
</div>
<a id="ac73d712ab8edf86b8d9c892f6bdff5e0" name="ac73d712ab8edf86b8d9c892f6bdff5e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac73d712ab8edf86b8d9c892f6bdff5e0">&#9670;&nbsp;</a></span>fromJson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_phase_and_timing::intersection_state::fromJson </td>
          <td>(</td>
          <td class="paramtype">const rapidjson::Value &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deserialize Intersection State JSON into Intersection State object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>Intersection State JSON. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00054">54</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>                                                               {</div>
<div class="line"><span class="lineno">   55</span>        <span class="keywordflow">if</span> ( val.IsObject() ) {</div>
<div class="line"><span class="lineno">   56</span>            <span class="keywordflow">if</span> ( val.FindMember(<span class="stringliteral">&quot;name&quot;</span>)-&gt;value.IsString() ) {</div>
<div class="line"><span class="lineno">   57</span>                <span class="comment">// OPTIONAL see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   58</span>                <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a6da9216f423d4fdb2d754ea68e276e73">name</a> =  val[<span class="stringliteral">&quot;name&quot;</span>].GetString();</div>
<div class="line"><span class="lineno">   59</span>            } </div>
<div class="line"><span class="lineno">   60</span>            <span class="keywordflow">if</span> ( val.HasMember(<span class="stringliteral">&quot;id&quot;</span>) &amp;&amp; val[<span class="stringliteral">&quot;id&quot;</span>].IsUint()) {</div>
<div class="line"><span class="lineno">   61</span>                <span class="comment">// REQUIRED see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   62</span>                <span class="keywordtype">id</span> =  <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(val[<span class="stringliteral">&quot;id&quot;</span>].GetUint());</div>
<div class="line"><span class="lineno">   63</span>            }</div>
<div class="line"><span class="lineno">   64</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   65</span>               <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;IntersectionState is missing required id property!&quot;</span>);</div>
<div class="line"><span class="lineno">   66</span>            }</div>
<div class="line"><span class="lineno">   67</span>            <span class="keywordflow">if</span> ( val.HasMember(<span class="stringliteral">&quot;revision&quot;</span>) &amp;&amp; val[<span class="stringliteral">&quot;revision&quot;</span>].IsUint()) {</div>
<div class="line"><span class="lineno">   68</span>                <span class="comment">// REQUIRED see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   69</span>                <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ec8a1a400233389a5640c48bda4d1e3">revision</a> =  <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(val[<span class="stringliteral">&quot;revision&quot;</span>].GetUint());</div>
<div class="line"><span class="lineno">   70</span>            }</div>
<div class="line"><span class="lineno">   71</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   72</span>               <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;IntersectionState is missing required revision property!&quot;</span>);</div>
<div class="line"><span class="lineno">   73</span>            }</div>
<div class="line"><span class="lineno">   74</span>            <span class="keywordflow">if</span> ( val.FindMember(<span class="stringliteral">&quot;status&quot;</span>)-&gt;value.IsUint()) {</div>
<div class="line"><span class="lineno">   75</span>                <span class="comment">// REQUIRED see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   76</span>                <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#abbd9ce5f7a9b4930e5cdfeaf84ddbe02">status</a> =  (uint8_t) val[<span class="stringliteral">&quot;status&quot;</span>].GetUint();</div>
<div class="line"><span class="lineno">   77</span>            }</div>
<div class="line"><span class="lineno">   78</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   79</span>               <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;IntersectionState is missing required status property!&quot;</span>);</div>
<div class="line"><span class="lineno">   80</span>            }</div>
<div class="line"><span class="lineno">   81</span>            <span class="keywordflow">if</span> ( val.HasMember(<span class="stringliteral">&quot;moy&quot;</span>) &amp;&amp;  val[<span class="stringliteral">&quot;moy&quot;</span>].IsUint()) {</div>
<div class="line"><span class="lineno">   82</span>                <span class="comment">// OPTIONAL see J2735 IntersectionState definition but required for CARMA-Streets</span></div>
<div class="line"><span class="lineno">   83</span>                <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">moy</a> = val[<span class="stringliteral">&quot;moy&quot;</span>].GetUint();</div>
<div class="line"><span class="lineno">   84</span>            }</div>
<div class="line"><span class="lineno">   85</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   86</span>               <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;IntersectionState is missing required moy property!&quot;</span>);</div>
<div class="line"><span class="lineno">   87</span>            }</div>
<div class="line"><span class="lineno">   88</span>            <span class="keywordflow">if</span> ( val.HasMember(<span class="stringliteral">&quot;time_stamp&quot;</span>) &amp;&amp; val[<span class="stringliteral">&quot;time_stamp&quot;</span>].IsUint()) {</div>
<div class="line"><span class="lineno">   89</span>                <span class="comment">// OPTIONAL see J2735 IntersectionState definition but required for CARMA-Streets</span></div>
<div class="line"><span class="lineno">   90</span>                <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">time_stamp</a> =  <span class="keyword">static_cast&lt;</span>uint16_t<span class="keyword">&gt;</span>(val[<span class="stringliteral">&quot;time_stamp&quot;</span>].GetUint());</div>
<div class="line"><span class="lineno">   91</span>            }</div>
<div class="line"><span class="lineno">   92</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   93</span>               <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;IntersectionState is missing required time_stamp property!&quot;</span>);</div>
<div class="line"><span class="lineno">   94</span>            }</div>
<div class="line"><span class="lineno">   95</span>            <span class="keywordflow">if</span> ( val.FindMember(<span class="stringliteral">&quot;enabled_lanes&quot;</span>)-&gt;value.IsArray() ) {</div>
<div class="line"><span class="lineno">   96</span>                <span class="comment">// OPTIONAL see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   97</span>                <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a8c616e91f927f3803dcd2367e12a4eb9">enabled_lanes</a>.clear();</div>
<div class="line"><span class="lineno">   98</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;lane: val[<span class="stringliteral">&quot;enabled_lanes&quot;</span>].GetArray()) {</div>
<div class="line"><span class="lineno">   99</span>                    <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a8c616e91f927f3803dcd2367e12a4eb9">enabled_lanes</a>.push_back(lane.GetInt());</div>
<div class="line"><span class="lineno">  100</span>                }</div>
<div class="line"><span class="lineno">  101</span>            }</div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">if</span> ( val.FindMember(<span class="stringliteral">&quot;states&quot;</span>)-&gt;value.IsArray() ) {</div>
<div class="line"><span class="lineno">  103</span>                <span class="comment">// REQUIRED see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">  104</span>                <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>.clear();</div>
<div class="line"><span class="lineno">  105</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;movement_st: val[<span class="stringliteral">&quot;states&quot;</span>].GetArray()) {</div>
<div class="line"><span class="lineno">  106</span>                    movement_state move_state;</div>
<div class="line"><span class="lineno">  107</span>                    move_state.fromJson( movement_st );</div>
<div class="line"><span class="lineno">  108</span>                    <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>.push_back( move_state);</div>
<div class="line"><span class="lineno">  109</span>                }</div>
<div class="line"><span class="lineno">  110</span>            }</div>
<div class="line"><span class="lineno">  111</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  112</span>               <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;IntersectionState is missing required states property!&quot;</span>);</div>
<div class="line"><span class="lineno">  113</span>            }</div>
<div class="line"><span class="lineno">  114</span>            <span class="keywordflow">if</span> ( val.FindMember(<span class="stringliteral">&quot;maneuver_assist_list&quot;</span>)-&gt;value.IsArray() ) {</div>
<div class="line"><span class="lineno">  115</span>                <span class="comment">// OPTIONAL see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">  116</span>                <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a608bced258a6e40c5b975021b3a6bc02">maneuver_assist_list</a>.clear();</div>
<div class="line"><span class="lineno">  117</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;state: val[<span class="stringliteral">&quot;maneuver_assist_list&quot;</span>].GetArray()) {</div>
<div class="line"><span class="lineno">  118</span>                    connection_maneuver_assist maneuver;</div>
<div class="line"><span class="lineno">  119</span>                    maneuver.fromJson( state );</div>
<div class="line"><span class="lineno">  120</span>                    <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a608bced258a6e40c5b975021b3a6bc02">maneuver_assist_list</a>.push_back( maneuver);</div>
<div class="line"><span class="lineno">  121</span>                }</div>
<div class="line"><span class="lineno">  122</span>            }</div>
<div class="line"><span class="lineno">  123</span>        }</div>
<div class="line"><span class="lineno">  124</span>    }</div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a0a0ee55cccc9fb11add9902564ad504e"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">signal_phase_and_timing::intersection_state::moy</a></div><div class="ttdeci">uint32_t moy</div><div class="ttdoc">Minute of current UTC year.</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00081">intersection_state.h:81</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a51c19a8652fc7761cb9e632fc01a9dd2"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">signal_phase_and_timing::intersection_state::time_stamp</a></div><div class="ttdeci">uint16_t time_stamp</div><div class="ttdoc">Millisecond point in the current UTC minute that this message was created.</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00085">intersection_state.h:85</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a608bced258a6e40c5b975021b3a6bc02"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a608bced258a6e40c5b975021b3a6bc02">signal_phase_and_timing::intersection_state::maneuver_assist_list</a></div><div class="ttdeci">std::list&lt; connection_maneuver_assist &gt; maneuver_assist_list</div><div class="ttdoc">Assist Data.</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00100">intersection_state.h:100</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a6da9216f423d4fdb2d754ea68e276e73"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a6da9216f423d4fdb2d754ea68e276e73">signal_phase_and_timing::intersection_state::name</a></div><div class="ttdeci">std::string name</div><div class="ttdoc">Descriptive name for this collection.</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00025">intersection_state.h:25</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a7ec8a1a400233389a5640c48bda4d1e3"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a7ec8a1a400233389a5640c48bda4d1e3">signal_phase_and_timing::intersection_state::revision</a></div><div class="ttdeci">uint8_t revision</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00034">intersection_state.h:34</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a8c616e91f927f3803dcd2367e12a4eb9"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a8c616e91f927f3803dcd2367e12a4eb9">signal_phase_and_timing::intersection_state::enabled_lanes</a></div><div class="ttdeci">std::list&lt; int &gt; enabled_lanes</div><div class="ttdoc">A list of unique lane ID for each lane object which is active. Refers to dynamic MAP contents.</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00089">intersection_state.h:89</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_abbd9ce5f7a9b4930e5cdfeaf84ddbe02"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#abbd9ce5f7a9b4930e5cdfeaf84ddbe02">signal_phase_and_timing::intersection_state::status</a></div><div class="ttdeci">uint8_t status</div><div class="ttdoc">BIT String of IntersectionStatusObject:</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8h_source.html#l00077">intersection_state.h:77</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00089">enabled_lanes</a>, <a class="el" href="connection__maneuver__assist_8cpp_source.html#l00020">signal_phase_and_timing::connection_maneuver_assist::fromJson()</a>, <a class="el" href="movement__state_8cpp_source.html#l00031">signal_phase_and_timing::movement_state::fromJson()</a>, <a class="el" href="intersection__state_8h_source.html#l00100">maneuver_assist_list</a>, <a class="el" href="intersection__state_8h_source.html#l00081">moy</a>, <a class="el" href="intersection__state_8h_source.html#l00025">name</a>, <a class="el" href="intersection__state_8h_source.html#l00034">revision</a>, <a class="el" href="intersection__state_8h_source.html#l00095">states</a>, <a class="el" href="intersection__state_8h_source.html#l00077">status</a>, and <a class="el" href="intersection__state_8h_source.html#l00085">time_stamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="spat_8cpp_source.html#l00035">signal_phase_and_timing::spat::fromJson()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_ac73d712ab8edf86b8d9c892f6bdff5e0_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_ac73d712ab8edf86b8d9c892f6bdff5e0_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_ac73d712ab8edf86b8d9c892f6bdff5e0_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_ac73d712ab8edf86b8d9c892f6bdff5e0_cgraph">
<area shape="rect" title="Deserialize Intersection State JSON into Intersection State object." alt="" coords="5,35,173,91"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1connection__maneuver__assist.html#a0a1eb4c8b7054414b2a771d67d78404e" title="Deserialize Connection Maneuver Assist JSON into Connection Maneuver Assist object." alt="" coords="465,5,633,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1movement__state.html#add078711d1cf73ce1f433c4b34532fcc" title="Deserialize Movement State JSON into Movement State object." alt="" coords="221,71,407,113"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1movement__event.html#a9e78abda6f76b9e03a27859d4003fbb6" title="Deserialize Movement Event JSON into Movement Event object." alt="" coords="455,85,643,126"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1advisory__speed.html#ab065b8b1df30b02ea1cddeae8ca6bab6" title="Deserialize Advisory Speed JSON into Advisory Speed object." alt="" coords="691,49,869,90"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1time__change__details.html#ae11ac44a006b7b7d43c64b764d8ede52" title="Deserialize Time Change Details JSON into Time Change Details object." alt="" coords="696,113,864,169"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_ac73d712ab8edf86b8d9c892f6bdff5e0_icgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_ac73d712ab8edf86b8d9c892f6bdff5e0_icgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_ac73d712ab8edf86b8d9c892f6bdff5e0_icgraph" id="astructsignal__phase__and__timing_1_1intersection__state_ac73d712ab8edf86b8d9c892f6bdff5e0_icgraph">
<area shape="rect" title="Deserialize Intersection State JSON into Intersection State object." alt="" coords="221,5,389,61"/>
<area shape="rect" href="classsignal__phase__and__timing_1_1spat.html#a034410d8e6254100552d88d21ca5bedd" title="Deserialize SPaT JSON into SPaT object (Thread Safe)." alt="" coords="5,13,173,54"/>
</map>
</div>

</div>
</div>
<a id="a8bc23ba89dd6c079735485173ba6d6d5" name="a8bc23ba89dd6c079735485173ba6d6d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bc23ba89dd6c079735485173ba6d6d5">&#9670;&nbsp;</a></span>get_epoch_timestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t signal_phase_and_timing::intersection_state::get_epoch_timestamp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the epoch timestamp of the intersection state timestamp. </p>
<dl class="section return"><dt>Returns</dt><dd>** uint64_t epoch timestamp in unit of milliseconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00156">156</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>                                                          {</div>
<div class="line"><span class="lineno">  157</span>       <span class="keyword">auto</span> epoch_timestamp = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a4fde3ad2fb225f963f411ad66e72066f">convert_min_mills2epoch_ts</a>(<a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">moy</a>, <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">time_stamp</a>);</div>
<div class="line"><span class="lineno">  158</span>       <span class="keywordflow">return</span> epoch_timestamp;</div>
<div class="line"><span class="lineno">  159</span>    }</div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a4fde3ad2fb225f963f411ad66e72066f"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a4fde3ad2fb225f963f411ad66e72066f">signal_phase_and_timing::intersection_state::convert_min_mills2epoch_ts</a></div><div class="ttdeci">uint64_t convert_min_mills2epoch_ts(uint32_t moy_ll, uint16_t min_mills_timestamp) const</div><div class="ttdoc">Convert current mimutes of the year and milliseconds of the current minute into epoch timestamp in mi...</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8cpp_source.html#l00136">intersection_state.cpp:136</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8cpp_source.html#l00136">convert_min_mills2epoch_ts()</a>, <a class="el" href="intersection__state_8h_source.html#l00081">moy</a>, and <a class="el" href="intersection__state_8h_source.html#l00085">time_stamp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a8bc23ba89dd6c079735485173ba6d6d5_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a8bc23ba89dd6c079735485173ba6d6d5_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a8bc23ba89dd6c079735485173ba6d6d5_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a8bc23ba89dd6c079735485173ba6d6d5_cgraph">
<area shape="rect" title="Get the epoch timestamp of the intersection state timestamp." alt="" coords="5,5,173,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a4fde3ad2fb225f963f411ad66e72066f" title="Convert current mimutes of the year and milliseconds of the current minute into epoch timestamp in mi..." alt="" coords="221,5,408,61"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="456,13,648,54"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="696,13,899,54"/>
</map>
</div>

</div>
</div>
<a id="a0212a92fdea9a7f1f5959d002ba7dda9" name="a0212a92fdea9a7f1f5959d002ba7dda9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0212a92fdea9a7f1f5959d002ba7dda9">&#9670;&nbsp;</a></span>get_movement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a> &amp; signal_phase_and_timing::intersection_state::get_movement </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>signal_group_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return reference to <a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a> for signal group. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">signal_group_id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a>&amp; </dd></dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00185">185</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span>                                                                               {</div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordflow">for</span> ( <span class="keyword">auto</span> it = <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>.begin(); it != <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>.end(); it++) {</div>
<div class="line"><span class="lineno">  187</span>            <span class="keywordflow">if</span> ( it-&gt;signal_group ==  signal_group_id ) {</div>
<div class="line"><span class="lineno">  188</span>                <span class="keywordflow">return</span> *it;</div>
<div class="line"><span class="lineno">  189</span>            }</div>
<div class="line"><span class="lineno">  190</span>        }</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;No movement_state found for movement with signal group id &quot;</span> + <a class="code hl_function" href="ntcip__1202__ext_8h.html#a576de7b60eacee3f1a70393a005502cd">std::to_string</a>(signal_group_id) + <span class="stringliteral">&quot;!&quot;</span>);   </div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="ttc" id="antcip__1202__ext_8h_html_a576de7b60eacee3f1a70393a005502cd"><div class="ttname"><a href="ntcip__1202__ext_8h.html#a576de7b60eacee3f1a70393a005502cd">to_string</a></div><div class="ttdeci">std::string to_string() const</div><div class="ttdoc">Returns std::string representation of ntcip_1202_ext message including phase_times array.</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00095">states</a>, and <a class="el" href="ntcip__1202__ext_8h.html#a576de7b60eacee3f1a70393a005502cd">to_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="streets__desired__phase__plan__generator_8cpp_source.html#l00156">streets_signal_optimization::streets_desired_phase_plan_generator::convert_spat_to_dpp()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00205">update_movement_state()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a0212a92fdea9a7f1f5959d002ba7dda9_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a0212a92fdea9a7f1f5959d002ba7dda9_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a0212a92fdea9a7f1f5959d002ba7dda9_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a0212a92fdea9a7f1f5959d002ba7dda9_cgraph">
<area shape="rect" title="Return reference to movement_state for signal group." alt="" coords="5,5,173,61"/>
<area shape="rect" href="ntcip__1202__ext_8h.html#a576de7b60eacee3f1a70393a005502cd" title="Returns std::string representation of ntcip_1202_ext message including phase_times array." alt="" coords="221,20,293,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a0212a92fdea9a7f1f5959d002ba7dda9_icgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a0212a92fdea9a7f1f5959d002ba7dda9_icgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a0212a92fdea9a7f1f5959d002ba7dda9_icgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a0212a92fdea9a7f1f5959d002ba7dda9_icgraph">
<area shape="rect" title="Return reference to movement_state for signal group." alt="" coords="459,57,627,113"/>
<area shape="rect" href="classstreets__signal__optimization_1_1streets__desired__phase__plan__generator.html#af80ed21716db2df155ff2d939bc12fae" title="Convert the provided intersection_state to a desired phase plan. The number of fixed future movement ..." alt="" coords="232,5,411,76"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a01285f8060241eec1adbaa0c5e97a1df" title="Method to update movement_state with signal_group_id using ntcip spat data." alt="" coords="237,101,405,157"/>
<area shape="rect" href="classstreets__signal__optimization_1_1streets__desired__phase__plan__generator.html#abb2ec72377cdaeac42cb8406046516fa" title="Generate a list of desired phase plans. Each desired phase plan in the list includes the existing fix..." alt="" coords="5,5,184,76"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#adb8a7d8693ba85ab08f3c0e31afe4935" title="Clears old movement event data for all movement_states. Adds one movement_event to the state_time_spe..." alt="" coords="11,101,179,157"/>
</map>
</div>

</div>
</div>
<a id="aca7f3528dc9e42b152c0e4537468fd79" name="aca7f3528dc9e42b152c0e4537468fd79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca7f3528dc9e42b152c0e4537468fd79">&#9670;&nbsp;</a></span>initialize_movement_states()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_phase_and_timing::intersection_state::initialize_movement_states </td>
          <td>(</td>
          <td class="paramtype">const std::unordered_map&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>phase_number_to_signal_group</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize list&lt;movement_state&gt; to include a movement for each phase_numer/signal_group entry in the phase number to signal group map. This method is meant to be run once, while initializing the spat object to contain movement states for all relevant signal groups. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase_number_to_signal_group</td><td>std::unordered_map&lt;int,int&gt; of phase number (keys) to signal group (values). Map used to translate phase_number (NTCIP) to signal group (J2735). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00194">194</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  194</span>                                                                                                                      {</div>
<div class="line"><span class="lineno">  195</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>.empty()) {</div>
<div class="line"><span class="lineno">  196</span>            <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>.clear();</div>
<div class="line"><span class="lineno">  197</span>        }</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;phase_2_sig_group : phase_number_to_signal_group) {</div>
<div class="line"><span class="lineno">  199</span>            movement_state state;</div>
<div class="line"><span class="lineno">  200</span>            state.signal_group = (uint8_t) phase_2_sig_group.second;</div>
<div class="line"><span class="lineno">  201</span>            <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>.push_back(state);</div>
<div class="line"><span class="lineno">  202</span>        }</div>
<div class="line"><span class="lineno">  203</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="movement__state_8h_source.html#l00025">signal_phase_and_timing::movement_state::signal_group</a>, and <a class="el" href="intersection__state_8h_source.html#l00095">states</a>.</p>

<p class="reference">Referenced by <a class="el" href="spat_8cpp_source.html#l00084">signal_phase_and_timing::spat::initialize_intersection()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_aca7f3528dc9e42b152c0e4537468fd79_icgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_aca7f3528dc9e42b152c0e4537468fd79_icgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_aca7f3528dc9e42b152c0e4537468fd79_icgraph" id="astructsignal__phase__and__timing_1_1intersection__state_aca7f3528dc9e42b152c0e4537468fd79_icgraph">
<area shape="rect" title="Initialize list&lt;movement_state&gt; to include a movement for each phase_numer/signal_group entry in the ..." alt="" coords="232,5,411,61"/>
<area shape="rect" href="classsignal__phase__and__timing_1_1spat.html#a8225fc5b13a6faaf4d1e309dadd76858" title="Method to initialize intersection information not provided in the ntcip SPaT UDP message but necessar..." alt="" coords="5,13,184,54"/>
</map>
</div>

</div>
</div>
<a id="a19acfe5a1d6bdd80a61d086b52579f8b" name="a19acfe5a1d6bdd80a61d086b52579f8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19acfe5a1d6bdd80a61d086b52579f8b">&#9670;&nbsp;</a></span>operator!=()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool signal_phase_and_timing::intersection_state::operator!= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html">intersection_state</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the inverse of equals operator. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">other</td><td>second object to compare current object with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if both objects do not contain equivalent data. </dd>
<dd>
false if both objects do contain equivalent data. </dd></dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00132">132</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  132</span>                                                                              {</div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordflow">return</span> !<a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#ac42d471e1b9b4bf7924ffb93bd6892e9">operator==</a>(compare);</div>
<div class="line"><span class="lineno">  134</span>    }</div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_ac42d471e1b9b4bf7924ffb93bd6892e9"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#ac42d471e1b9b4bf7924ffb93bd6892e9">signal_phase_and_timing::intersection_state::operator==</a></div><div class="ttdeci">bool operator==(const intersection_state &amp;other) const</div><div class="ttdoc">Equals operator to asses whether two objects contain equivalent data.</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8cpp_source.html#l00126">intersection_state.cpp:126</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a19acfe5a1d6bdd80a61d086b52579f8b_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a19acfe5a1d6bdd80a61d086b52579f8b_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a19acfe5a1d6bdd80a61d086b52579f8b_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a19acfe5a1d6bdd80a61d086b52579f8b_cgraph">
<area shape="rect" title="Returns the inverse of equals operator." alt="" coords="5,5,173,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#ac42d471e1b9b4bf7924ffb93bd6892e9" title="Equals operator to asses whether two objects contain equivalent data." alt="" coords="221,5,389,61"/>
</map>
</div>

</div>
</div>
<a id="ac42d471e1b9b4bf7924ffb93bd6892e9" name="ac42d471e1b9b4bf7924ffb93bd6892e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac42d471e1b9b4bf7924ffb93bd6892e9">&#9670;&nbsp;</a></span>operator==()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool signal_phase_and_timing::intersection_state::operator== </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html">intersection_state</a> &amp;&#160;</td>
          <td class="paramname"><em>other</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Equals operator to asses whether two objects contain equivalent data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">compare</td><td>second object to compare current object with. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if both object contain equivalent data. </dd>
<dd>
false if not. </dd></dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00126">126</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  126</span>                                                                            {</div>
<div class="line"><span class="lineno">  127</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a6da9216f423d4fdb2d754ea68e276e73">name</a> == other.name &amp;&amp; <span class="keywordtype">id</span> == other.id &amp;&amp; <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ec8a1a400233389a5640c48bda4d1e3">revision</a> == other.revision &amp;&amp; <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#abbd9ce5f7a9b4930e5cdfeaf84ddbe02">status</a> == other.status &amp;&amp;</div>
<div class="line"><span class="lineno">  128</span>            <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">moy</a> &amp;&amp; other.moy &amp;&amp; <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">time_stamp</a> == other.time_stamp &amp;&amp; <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a8c616e91f927f3803dcd2367e12a4eb9">enabled_lanes</a> == other.enabled_lanes</div>
<div class="line"><span class="lineno">  129</span>            &amp;&amp; <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a> == other.states &amp;&amp; <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a608bced258a6e40c5b975021b3a6bc02">maneuver_assist_list</a> == other.maneuver_assist_list;</div>
<div class="line"><span class="lineno">  130</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00089">enabled_lanes</a>, <a class="el" href="intersection__state_8h_source.html#l00032">id</a>, <a class="el" href="intersection__state_8h_source.html#l00100">maneuver_assist_list</a>, <a class="el" href="intersection__state_8h_source.html#l00081">moy</a>, <a class="el" href="intersection__state_8h_source.html#l00025">name</a>, <a class="el" href="intersection__state_8h_source.html#l00034">revision</a>, <a class="el" href="intersection__state_8h_source.html#l00095">states</a>, <a class="el" href="intersection__state_8h_source.html#l00077">status</a>, and <a class="el" href="intersection__state_8h_source.html#l00085">time_stamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00132">operator!=()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_ac42d471e1b9b4bf7924ffb93bd6892e9_icgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_ac42d471e1b9b4bf7924ffb93bd6892e9_icgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_ac42d471e1b9b4bf7924ffb93bd6892e9_icgraph" id="astructsignal__phase__and__timing_1_1intersection__state_ac42d471e1b9b4bf7924ffb93bd6892e9_icgraph">
<area shape="rect" title="Equals operator to asses whether two objects contain equivalent data." alt="" coords="221,5,389,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a19acfe5a1d6bdd80a61d086b52579f8b" title="Returns the inverse of equals operator." alt="" coords="5,5,173,61"/>
</map>
</div>

</div>
</div>
<a id="a480dafe7aae5c872f14d1f60c8627636" name="a480dafe7aae5c872f14d1f60c8627636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480dafe7aae5c872f14d1f60c8627636">&#9670;&nbsp;</a></span>set_timestamp_local()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_phase_and_timing::intersection_state::set_timestamp_local </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set timestamp for intersection state based on host machine unix time. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00173">173</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  173</span>                                                 {</div>
<div class="line"><span class="lineno">  174</span>        std::chrono::system_clock::time_point now {std::chrono::milliseconds(<a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">streets_service::streets_clock_singleton::time_in_ms</a>())};</div>
<div class="line"><span class="lineno">  175</span>        time_t tt = std::chrono::system_clock::to_time_t(now);</div>
<div class="line"><span class="lineno">  176</span>        tm utc_tm;</div>
<div class="line"><span class="lineno">  177</span>        gmtime_r(&amp;tt, &amp;utc_tm);</div>
<div class="line"><span class="lineno">  178</span>        <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">moy</a> = (uint32_t)(utc_tm.tm_yday*60*24 + utc_tm.tm_hour*60 + utc_tm.tm_min);</div>
<div class="line"><span class="lineno">  179</span>        <span class="keyword">auto</span> millisecond_of_second = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(now.time_since_epoch()).count() % 1000;</div>
<div class="line"><span class="lineno">  180</span>        <span class="comment">// Millisecond of second + second of minute * 1000</span></div>
<div class="line"><span class="lineno">  181</span>        <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">time_stamp</a> = (uint16_t)(millisecond_of_second + utc_tm.tm_sec*1000);</div>
<div class="line"><span class="lineno">  182</span>       </div>
<div class="line"><span class="lineno">  183</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00081">moy</a>, <a class="el" href="streets__clock__singleton_8cpp_source.html#l00011">streets_service::streets_clock_singleton::time_in_ms()</a>, and <a class="el" href="intersection__state_8h_source.html#l00085">time_stamp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a480dafe7aae5c872f14d1f60c8627636_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a480dafe7aae5c872f14d1f60c8627636_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a480dafe7aae5c872f14d1f60c8627636_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a480dafe7aae5c872f14d1f60c8627636_cgraph">
<area shape="rect" title="Set timestamp for intersection state based on host machine unix time." alt="" coords="5,5,173,61"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="221,13,413,54"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="461,13,664,54"/>
</map>
</div>

</div>
</div>
<a id="a5aa5329bedd738f5579cf045975d87a9" name="a5aa5329bedd738f5579cf045975d87a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aa5329bedd738f5579cf045975d87a9">&#9670;&nbsp;</a></span>set_timestamp_ntcip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_phase_and_timing::intersection_state::set_timestamp_ntcip </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>second_of_day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&#160;</td>
          <td class="paramname"><em>millisecond_of_second</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set timestamp for intersection state based on NTCIP SPaT UDP message timestamp which is transmitted as second of the UTC day and millisecond of the UTC second. This information can be combined with the unix host time day of the year to get minute of the UTC year and millisecond of the UTC minute (J2735 Intersection State timeStamp units). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">second_of_day</td><td>second of the UTC year. </td></tr>
    <tr><td class="paramname">millisecond_of_second</td><td>millisecond of the UTC second. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00161">161</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>                                                                                                                    {</div>
<div class="line"><span class="lineno">  162</span>        std::chrono::system_clock::time_point now {std::chrono::milliseconds(<a class="code hl_function" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae">streets_service::streets_clock_singleton::time_in_ms</a>())};</div>
<div class="line"><span class="lineno">  163</span>        time_t tt = std::chrono::system_clock::to_time_t(now);</div>
<div class="line"><span class="lineno">  164</span>        tm utc_tm;</div>
<div class="line"><span class="lineno">  165</span>        gmtime_r(&amp;tt, &amp;utc_tm);</div>
<div class="line"><span class="lineno">  166</span>        <span class="comment">// Day of the year * 24 hours * 60 minutes + second of the day / 60 = minute of the year</span></div>
<div class="line"><span class="lineno">  167</span>        <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">moy</a> = (uint32_t)(utc_tm.tm_yday*24*60+ trunc(second_of_day/ 60)); </div>
<div class="line"><span class="lineno">  168</span>        <span class="comment">// Remaineder of (second of the day/ 60 ) * 1000 + millisecond of the current second</span></div>
<div class="line"><span class="lineno">  169</span>        <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">time_stamp</a> = ((second_of_day%60)*1000) + millisecond_of_second;</div>
<div class="line"><span class="lineno">  170</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00081">moy</a>, <a class="el" href="streets__clock__singleton_8cpp_source.html#l00011">streets_service::streets_clock_singleton::time_in_ms()</a>, and <a class="el" href="intersection__state_8h_source.html#l00085">time_stamp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a5aa5329bedd738f5579cf045975d87a9_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a5aa5329bedd738f5579cf045975d87a9_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a5aa5329bedd738f5579cf045975d87a9_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a5aa5329bedd738f5579cf045975d87a9_cgraph">
<area shape="rect" title="Set timestamp for intersection state based on NTCIP SPaT UDP message timestamp which is transmitted a..." alt="" coords="5,5,173,61"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="221,13,413,54"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="461,13,664,54"/>
</map>
</div>

</div>
</div>
<a id="ae992920af2fdef8ffd0cf29da74e0ac9" name="ae992920af2fdef8ffd0cf29da74e0ac9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae992920af2fdef8ffd0cf29da74e0ac9">&#9670;&nbsp;</a></span>toJson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rapidjson::Value signal_phase_and_timing::intersection_state::toJson </td>
          <td>(</td>
          <td class="paramtype">rapidjson::Document::AllocatorType &amp;&#160;</td>
          <td class="paramname"><em>allocator</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Serialize Intersection State object to rapidjson::Value for writing as JSON string. </p>
<dl class="section return"><dt>Returns</dt><dd>rapidjson::Value serialize Intersection State object </dd></dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00005">5</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    5</span>                                                                                             {</div>
<div class="line"><span class="lineno">    6</span>        <span class="comment">// Create intersection state JSON value</span></div>
<div class="line"><span class="lineno">    7</span>        rapidjson::Value state(rapidjson::kObjectType);</div>
<div class="line"><span class="lineno">    8</span>        <span class="comment">// Populate</span></div>
<div class="line"><span class="lineno">    9</span>        <span class="comment">// OPTIONAL see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   10</span>        state.AddMember(<span class="stringliteral">&quot;name&quot;</span>, <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a6da9216f423d4fdb2d754ea68e276e73">name</a>, allocator);</div>
<div class="line"><span class="lineno">   11</span>        <span class="comment">// REQUIRED see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   12</span>        <span class="keywordflow">if</span> (<span class="keywordtype">id</span> == 0 ) {</div>
<div class="line"><span class="lineno">   13</span>            <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;IntersectionState is missing required id property!&quot;</span>);  </div>
<div class="line"><span class="lineno">   14</span>        }</div>
<div class="line"><span class="lineno">   15</span>        state.AddMember(<span class="stringliteral">&quot;id&quot;</span>, <span class="keywordtype">id</span>, allocator);</div>
<div class="line"><span class="lineno">   16</span>        state.AddMember(<span class="stringliteral">&quot;revision&quot;</span>, <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ec8a1a400233389a5640c48bda4d1e3">revision</a>, allocator);</div>
<div class="line"><span class="lineno">   17</span>        <span class="comment">// REQUIRED see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   18</span>        state.AddMember(<span class="stringliteral">&quot;status&quot;</span>, <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#abbd9ce5f7a9b4930e5cdfeaf84ddbe02">status</a>, allocator);</div>
<div class="line"><span class="lineno">   19</span>        <span class="comment">// OPTIONAL see J2735 IntersectionState definition but required for CARMA-Streets</span></div>
<div class="line"><span class="lineno">   20</span>        state.AddMember(<span class="stringliteral">&quot;moy&quot;</span>, <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a0a0ee55cccc9fb11add9902564ad504e">moy</a>, allocator);</div>
<div class="line"><span class="lineno">   21</span>        <span class="comment">// OPTIONAL see J2735 IntersectionState definition but required for CARMA-Streets</span></div>
<div class="line"><span class="lineno">   22</span>        state.AddMember(<span class="stringliteral">&quot;time_stamp&quot;</span>, <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a51c19a8652fc7761cb9e632fc01a9dd2">time_stamp</a>, allocator);</div>
<div class="line"><span class="lineno">   23</span>        <span class="comment">// OPTIONAL see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   24</span>        <span class="keywordflow">if</span> ( !<a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a8c616e91f927f3803dcd2367e12a4eb9">enabled_lanes</a>.empty() ) {</div>
<div class="line"><span class="lineno">   25</span>            rapidjson::Value lane_list(rapidjson::kArrayType);</div>
<div class="line"><span class="lineno">   26</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;lane_id : <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a8c616e91f927f3803dcd2367e12a4eb9">enabled_lanes</a>) {</div>
<div class="line"><span class="lineno">   27</span>                lane_list.PushBack(lane_id, allocator);</div>
<div class="line"><span class="lineno">   28</span>            }</div>
<div class="line"><span class="lineno">   29</span>            state.AddMember(<span class="stringliteral">&quot;enabled_lanes&quot;</span>, lane_list, allocator);</div>
<div class="line"><span class="lineno">   30</span>        }</div>
<div class="line"><span class="lineno">   31</span>        <span class="comment">// REQUIRED see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   32</span>        <span class="keywordflow">if</span> ( !<a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>.empty() ) {</div>
<div class="line"><span class="lineno">   33</span>            rapidjson::Value states_list(rapidjson::kArrayType);</div>
<div class="line"><span class="lineno">   34</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;move_state : <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a>) {</div>
<div class="line"><span class="lineno">   35</span>                states_list.PushBack(move_state.toJson(allocator), allocator);</div>
<div class="line"><span class="lineno">   36</span>            }</div>
<div class="line"><span class="lineno">   37</span>            state.AddMember(<span class="stringliteral">&quot;states&quot;</span>, states_list, allocator);</div>
<div class="line"><span class="lineno">   38</span>        }</div>
<div class="line"><span class="lineno">   39</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   40</span>               <span class="keywordflow">throw</span> signal_phase_and_timing_exception(<span class="stringliteral">&quot;IntersectionState is missing required states property!&quot;</span>);</div>
<div class="line"><span class="lineno">   41</span>        }</div>
<div class="line"><span class="lineno">   42</span>        <span class="comment">// OPTIONAL see J2735 IntersectionState definition</span></div>
<div class="line"><span class="lineno">   43</span>        <span class="keywordflow">if</span> ( !<a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a608bced258a6e40c5b975021b3a6bc02">maneuver_assist_list</a>.empty() ) {</div>
<div class="line"><span class="lineno">   44</span>            rapidjson::Value maneuver_list(rapidjson::kArrayType);</div>
<div class="line"><span class="lineno">   45</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;maneuver : <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a608bced258a6e40c5b975021b3a6bc02">maneuver_assist_list</a>) {</div>
<div class="line"><span class="lineno">   46</span>                maneuver_list.PushBack(maneuver.toJson(allocator), allocator);</div>
<div class="line"><span class="lineno">   47</span>            }</div>
<div class="line"><span class="lineno">   48</span>            state.AddMember(<span class="stringliteral">&quot;maneuver_assist_list&quot;</span>, maneuver_list, allocator);</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>        }</div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordflow">return</span> state;</div>
<div class="line"><span class="lineno">   52</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00089">enabled_lanes</a>, <a class="el" href="intersection__state_8h_source.html#l00100">maneuver_assist_list</a>, <a class="el" href="intersection__state_8h_source.html#l00081">moy</a>, <a class="el" href="intersection__state_8h_source.html#l00025">name</a>, <a class="el" href="intersection__state_8h_source.html#l00034">revision</a>, <a class="el" href="intersection__state_8h_source.html#l00095">states</a>, <a class="el" href="intersection__state_8h_source.html#l00077">status</a>, and <a class="el" href="intersection__state_8h_source.html#l00085">time_stamp</a>.</p>

</div>
</div>
<a id="a01285f8060241eec1adbaa0c5e97a1df" name="a01285f8060241eec1adbaa0c5e97a1df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01285f8060241eec1adbaa0c5e97a1df">&#9670;&nbsp;</a></span>update_movement_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_phase_and_timing::intersection_state::update_movement_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structntcip_1_1ntcip__1202__ext.html">ntcip::ntcip_1202_ext</a> &amp;&#160;</td>
          <td class="paramname"><em>spat_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>signal_group_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>phase_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to update <a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a> with signal_group_id using ntcip spat data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spat_data</td><td>NTCIP SPaT data. </td></tr>
    <tr><td class="paramname">signal_group_id</td><td>signal group id of movement to update. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00205">205</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  205</span>                                                                                                                                      {</div>
<div class="line"><span class="lineno">  206</span>        movement_state &amp;movement = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a0212a92fdea9a7f1f5959d002ba7dda9">get_movement</a>(signal_group_id);</div>
<div class="line"><span class="lineno">  207</span>        <span class="comment">// Get current movement_event</span></div>
<div class="line"><span class="lineno">  208</span>        movement_event &amp;cur_event = movement.state_time_speed.front();</div>
<div class="line"><span class="lineno">  209</span>        <span class="comment">// Set event state </span></div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordtype">bool</span> is_flashing = spat_data.<a class="code hl_function" href="structntcip_1_1ntcip__1202__ext.html#a5f5f247af2e7d5c7a2e196c9125907ea">get_phase_flashing_status</a>( <a class="code hl_variable" href="ntcip__1202__ext__phasetime_8h.html#a818606b5263ca9418c2a574097a9503a">phase_number</a> );</div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">if</span> ( spat_data.<a class="code hl_function" href="structntcip_1_1ntcip__1202__ext.html#adfbdd4d01e9825dc3e1e674473c56171">get_phase_red_status</a>(<a class="code hl_variable" href="ntcip__1202__ext__phasetime_8h.html#a818606b5263ca9418c2a574097a9503a">phase_number</a>) ) {</div>
<div class="line"><span class="lineno">  212</span>            <span class="keywordflow">if</span> (is_flashing) {</div>
<div class="line"><span class="lineno">  213</span>                <span class="keywordflow">if</span> ( cur_event.event_state !=  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a82f58c8125d6f043623349cf7330ef62">movement_phase_state::stop_then_proceed</a> ) {</div>
<div class="line"><span class="lineno">  214</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Setting start time to current time&quot;</span>);</div>
<div class="line"><span class="lineno">  215</span>                    cur_event.timing.start_time = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a>(0);</div>
<div class="line"><span class="lineno">  216</span>                }</div>
<div class="line"><span class="lineno">  217</span>                cur_event.event_state = <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a82f58c8125d6f043623349cf7330ef62">movement_phase_state::stop_then_proceed</a>; </div>
<div class="line"><span class="lineno">  218</span>            }<span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  219</span>                <span class="keywordflow">if</span> ( cur_event.event_state !=  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa">movement_phase_state::stop_and_remain</a> ) {</div>
<div class="line"><span class="lineno">  220</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Setting start time to current time&quot;</span>);</div>
<div class="line"><span class="lineno">  221</span>                    cur_event.timing.start_time = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a>(0);</div>
<div class="line"><span class="lineno">  222</span>                }</div>
<div class="line"><span class="lineno">  223</span>                cur_event.event_state =  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa">movement_phase_state::stop_and_remain</a>;</div>
<div class="line"><span class="lineno">  224</span>            }</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>        }</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( spat_data.<a class="code hl_function" href="structntcip_1_1ntcip__1202__ext.html#aa5fef8a2a7ce6499bb545e4e1b343b8e">get_phase_yellow_status</a>( <a class="code hl_variable" href="ntcip__1202__ext__phasetime_8h.html#a818606b5263ca9418c2a574097a9503a">phase_number</a> ) ) {</div>
<div class="line"><span class="lineno">  228</span>            <span class="keywordflow">if</span> ( is_flashing ) {</div>
<div class="line"><span class="lineno">  229</span>                <span class="keywordflow">if</span> ( cur_event.event_state !=  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14ae7bfb5169b6040cc3adbcaa21dd1bc38">movement_phase_state::caution_conflicting_traffic</a> ) {</div>
<div class="line"><span class="lineno">  230</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Setting start time to current time&quot;</span>);</div>
<div class="line"><span class="lineno">  231</span>                    cur_event.timing.start_time = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a>(0);</div>
<div class="line"><span class="lineno">  232</span>                }</div>
<div class="line"><span class="lineno">  233</span>                cur_event.event_state =  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14ae7bfb5169b6040cc3adbcaa21dd1bc38">movement_phase_state::caution_conflicting_traffic</a>;</div>
<div class="line"><span class="lineno">  234</span>            }<span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  235</span>                <span class="keywordflow">if</span> ( cur_event.event_state !=  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc">movement_phase_state::protected_clearance</a> ) {</div>
<div class="line"><span class="lineno">  236</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Setting start time to current time&quot;</span>);</div>
<div class="line"><span class="lineno">  237</span>                    cur_event.timing.start_time = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a>(0);</div>
<div class="line"><span class="lineno">  238</span>                }</div>
<div class="line"><span class="lineno">  239</span>                cur_event.event_state =  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc">movement_phase_state::protected_clearance</a>;</div>
<div class="line"><span class="lineno">  240</span>            }</div>
<div class="line"><span class="lineno">  241</span>        }</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( spat_data.<a class="code hl_function" href="structntcip_1_1ntcip__1202__ext.html#ac8e0437aeac4c314b2f682f57a6c47c9">get_phase_green_status</a>(<a class="code hl_variable" href="ntcip__1202__ext__phasetime_8h.html#a818606b5263ca9418c2a574097a9503a">phase_number</a>)) {</div>
<div class="line"><span class="lineno">  243</span>            <span class="comment">// TODO: Add Support Permissive Green Phase</span></div>
<div class="line"><span class="lineno">  244</span>            <span class="keywordflow">if</span> ( cur_event.event_state !=  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b">movement_phase_state::protected_movement_allowed</a> ) {</div>
<div class="line"><span class="lineno">  245</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Setting start time to current time&quot;</span>);</div>
<div class="line"><span class="lineno">  246</span>                    cur_event.timing.start_time = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a>(0);</div>
<div class="line"><span class="lineno">  247</span>            }</div>
<div class="line"><span class="lineno">  248</span>            cur_event.event_state = <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b">movement_phase_state::protected_movement_allowed</a>;</div>
<div class="line"><span class="lineno">  249</span>        }</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordflow">if</span> ( cur_event.event_state !=  <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14aa82fd95db10ff25dfad39f07372ebe37">movement_phase_state::dark</a> ) {</div>
<div class="line"><span class="lineno">  252</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Setting start time to current time&quot;</span>);</div>
<div class="line"><span class="lineno">  253</span>                    cur_event.timing.start_time = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a>(0);</div>
<div class="line"><span class="lineno">  254</span>            }</div>
<div class="line"><span class="lineno">  255</span>            cur_event.event_state = <a class="code hl_enumvalue" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14aa82fd95db10ff25dfad39f07372ebe37">movement_phase_state::dark</a>;</div>
<div class="line"><span class="lineno">  256</span>        }</div>
<div class="line"><span class="lineno">  257</span>        <span class="comment">// Set event timing</span></div>
<div class="line"><span class="lineno">  258</span>        cur_event.timing.max_end_time = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a>(spat_data.<a class="code hl_function" href="structntcip_1_1ntcip__1202__ext.html#a0cbc4b96d4191b8cc8834cf06f7a810b">get_phasetime</a>(<a class="code hl_variable" href="ntcip__1202__ext__phasetime_8h.html#a818606b5263ca9418c2a574097a9503a">phase_number</a>).<a class="code hl_function" href="structntcip_1_1ntcip__1202__ext__phasetime.html#ac2bd3254673a1650bbb1481bd15d627b">get_spat_veh_max_time_to_change</a>());</div>
<div class="line"><span class="lineno">  259</span>        cur_event.timing.min_end_time = <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">convert_offset</a>(spat_data.<a class="code hl_function" href="structntcip_1_1ntcip__1202__ext.html#a0cbc4b96d4191b8cc8834cf06f7a810b">get_phasetime</a>(<a class="code hl_variable" href="ntcip__1202__ext__phasetime_8h.html#a818606b5263ca9418c2a574097a9503a">phase_number</a>).<a class="code hl_function" href="structntcip_1_1ntcip__1202__ext__phasetime.html#ac4be29069aab2d1659df59c7e3a92dc7">get_spat_veh_min_time_to_change</a>());</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>    }</div>
<div class="ttc" id="anamespacesignal__phase__and__timing_html_a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa"><div class="ttname"><a href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa">signal_phase_and_timing::movement_phase_state::stop_and_remain</a></div><div class="ttdeci">@ stop_and_remain</div><div class="ttdoc">e.g. called 'red light' in US. Driver Action: Stop vehicle at stop line. Do not proceed....</div></div>
<div class="ttc" id="anamespacesignal__phase__and__timing_html_a89bd5b280352669f719b2c36a9dc2a14a82f58c8125d6f043623349cf7330ef62"><div class="ttname"><a href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a82f58c8125d6f043623349cf7330ef62">signal_phase_and_timing::movement_phase_state::stop_then_proceed</a></div><div class="ttdeci">@ stop_then_proceed</div><div class="ttdoc">Often called 'flashing red' in US. Driver Action: Stop vehicle at stope line. Do not proceed unless i...</div></div>
<div class="ttc" id="anamespacesignal__phase__and__timing_html_a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc"><div class="ttname"><a href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc">signal_phase_and_timing::movement_phase_state::protected_clearance</a></div><div class="ttdeci">@ protected_clearance</div><div class="ttdoc">Often called 'protected yellow' in US Driver Action: Prepare to stop. Proceed if unable,...</div></div>
<div class="ttc" id="anamespacesignal__phase__and__timing_html_a89bd5b280352669f719b2c36a9dc2a14aa82fd95db10ff25dfad39f07372ebe37"><div class="ttname"><a href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14aa82fd95db10ff25dfad39f07372ebe37">signal_phase_and_timing::movement_phase_state::dark</a></div><div class="ttdeci">@ dark</div><div class="ttdoc">The signal head is dark(unlit).</div></div>
<div class="ttc" id="anamespacesignal__phase__and__timing_html_a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b"><div class="ttname"><a href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b">signal_phase_and_timing::movement_phase_state::protected_movement_allowed</a></div><div class="ttdeci">@ protected_movement_allowed</div><div class="ttdoc">Often called 'protected green' in US Driver Action: Proceed, tossing caution to the wind,...</div></div>
<div class="ttc" id="anamespacesignal__phase__and__timing_html_a89bd5b280352669f719b2c36a9dc2a14ae7bfb5169b6040cc3adbcaa21dd1bc38"><div class="ttname"><a href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14ae7bfb5169b6040cc3adbcaa21dd1bc38">signal_phase_and_timing::movement_phase_state::caution_conflicting_traffic</a></div><div class="ttdeci">@ caution_conflicting_traffic</div><div class="ttdoc">Often called 'flashing yellow' in US Often used for extend periods of time Driver Action: Proceed wit...</div></div>
<div class="ttc" id="antcip__1202__ext__phasetime_8h_html_a818606b5263ca9418c2a574097a9503a"><div class="ttname"><a href="ntcip__1202__ext__phasetime_8h.html#a818606b5263ca9418c2a574097a9503a">phase_number</a></div><div class="ttdeci">uint8_t phase_number</div><div class="ttdoc">Phase number (NTCIP) of phase.</div><div class="ttdef"><b>Definition:</b> <a href="ntcip__1202__ext__phasetime_8h_source.html#l00001">ntcip_1202_ext_phasetime.h:1</a></div></div>
<div class="ttc" id="astructntcip_1_1ntcip__1202__ext__phasetime_html_ac2bd3254673a1650bbb1481bd15d627b"><div class="ttname"><a href="structntcip_1_1ntcip__1202__ext__phasetime.html#ac2bd3254673a1650bbb1481bd15d627b">ntcip::ntcip_1202_ext_phasetime::get_spat_veh_max_time_to_change</a></div><div class="ttdeci">uint16_t get_spat_veh_max_time_to_change() const</div><div class="ttdoc">Get spat_veh_max_time_to_change and convert from network byte order to host byte order.</div><div class="ttdef"><b>Definition:</b> <a href="ntcip__1202__ext__phasetime_8cpp_source.html#l00020">ntcip_1202_ext_phasetime.cpp:20</a></div></div>
<div class="ttc" id="astructntcip_1_1ntcip__1202__ext__phasetime_html_ac4be29069aab2d1659df59c7e3a92dc7"><div class="ttname"><a href="structntcip_1_1ntcip__1202__ext__phasetime.html#ac4be29069aab2d1659df59c7e3a92dc7">ntcip::ntcip_1202_ext_phasetime::get_spat_veh_min_time_to_change</a></div><div class="ttdeci">uint16_t get_spat_veh_min_time_to_change() const</div><div class="ttdoc">Get spat_veh_min_time_to_change and convert from network byte order to host byte order.</div><div class="ttdef"><b>Definition:</b> <a href="ntcip__1202__ext__phasetime_8cpp_source.html#l00016">ntcip_1202_ext_phasetime.cpp:16</a></div></div>
<div class="ttc" id="astructntcip_1_1ntcip__1202__ext_html_a0cbc4b96d4191b8cc8834cf06f7a810b"><div class="ttname"><a href="structntcip_1_1ntcip__1202__ext.html#a0cbc4b96d4191b8cc8834cf06f7a810b">ntcip::ntcip_1202_ext::get_phasetime</a></div><div class="ttdeci">ntcip_1202_ext_phasetime &amp; get_phasetime(const int phase_number)</div><div class="ttdoc">Returns reference to ntcip_1202_ext_phasetime of phase.</div><div class="ttdef"><b>Definition:</b> <a href="ntcip__1202__ext_8cpp_source.html#l00094">ntcip_1202_ext.cpp:94</a></div></div>
<div class="ttc" id="astructntcip_1_1ntcip__1202__ext_html_a5f5f247af2e7d5c7a2e196c9125907ea"><div class="ttname"><a href="structntcip_1_1ntcip__1202__ext.html#a5f5f247af2e7d5c7a2e196c9125907ea">ntcip::ntcip_1202_ext::get_phase_flashing_status</a></div><div class="ttdeci">bool get_phase_flashing_status(const int phase_number) const</div><div class="ttdoc">Returns flashing state of phase.</div><div class="ttdef"><b>Definition:</b> <a href="ntcip__1202__ext_8cpp_source.html#l00074">ntcip_1202_ext.cpp:74</a></div></div>
<div class="ttc" id="astructntcip_1_1ntcip__1202__ext_html_aa5fef8a2a7ce6499bb545e4e1b343b8e"><div class="ttname"><a href="structntcip_1_1ntcip__1202__ext.html#aa5fef8a2a7ce6499bb545e4e1b343b8e">ntcip::ntcip_1202_ext::get_phase_yellow_status</a></div><div class="ttdeci">bool get_phase_yellow_status(const int phase_number) const</div><div class="ttdoc">Returns yellow state of phase.</div><div class="ttdef"><b>Definition:</b> <a href="ntcip__1202__ext_8cpp_source.html#l00042">ntcip_1202_ext.cpp:42</a></div></div>
<div class="ttc" id="astructntcip_1_1ntcip__1202__ext_html_ac8e0437aeac4c314b2f682f57a6c47c9"><div class="ttname"><a href="structntcip_1_1ntcip__1202__ext.html#ac8e0437aeac4c314b2f682f57a6c47c9">ntcip::ntcip_1202_ext::get_phase_green_status</a></div><div class="ttdeci">bool get_phase_green_status(const int phase_number) const</div><div class="ttdoc">Returns green state of phase.</div><div class="ttdef"><b>Definition:</b> <a href="ntcip__1202__ext_8cpp_source.html#l00046">ntcip_1202_ext.cpp:46</a></div></div>
<div class="ttc" id="astructntcip_1_1ntcip__1202__ext_html_adfbdd4d01e9825dc3e1e674473c56171"><div class="ttname"><a href="structntcip_1_1ntcip__1202__ext.html#adfbdd4d01e9825dc3e1e674473c56171">ntcip::ntcip_1202_ext::get_phase_red_status</a></div><div class="ttdeci">bool get_phase_red_status(const int phase_number) const</div><div class="ttdoc">Returns red state of phase.</div><div class="ttdef"><b>Definition:</b> <a href="ntcip__1202__ext_8cpp_source.html#l00038">ntcip_1202_ext.cpp:38</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a0212a92fdea9a7f1f5959d002ba7dda9"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a0212a92fdea9a7f1f5959d002ba7dda9">signal_phase_and_timing::intersection_state::get_movement</a></div><div class="ttdeci">movement_state &amp; get_movement(const int signal_group_id)</div><div class="ttdoc">Return reference to movement_state for signal group.</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8cpp_source.html#l00185">intersection_state.cpp:185</a></div></div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a7f3126c08963787918c8d007255b4193"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193">signal_phase_and_timing::intersection_state::convert_offset</a></div><div class="ttdeci">uint16_t convert_offset(const uint16_t offset_tenths_of_sec) const</div><div class="ttdoc">Convert time offset (in tenths of seconds) from current time (NTCIP SPaT timing information units) to...</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8cpp_source.html#l00304">intersection_state.cpp:304</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14ae7bfb5169b6040cc3adbcaa21dd1bc38">signal_phase_and_timing::caution_conflicting_traffic</a>, <a class="el" href="intersection__state_8cpp_source.html#l00304">convert_offset()</a>, <a class="el" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14aa82fd95db10ff25dfad39f07372ebe37">signal_phase_and_timing::dark</a>, <a class="el" href="movement__event_8h_source.html#l00115">signal_phase_and_timing::movement_event::event_state</a>, <a class="el" href="intersection__state_8cpp_source.html#l00185">get_movement()</a>, <a class="el" href="ntcip__1202__ext_8cpp_source.html#l00074">ntcip::ntcip_1202_ext::get_phase_flashing_status()</a>, <a class="el" href="ntcip__1202__ext_8cpp_source.html#l00046">ntcip::ntcip_1202_ext::get_phase_green_status()</a>, <a class="el" href="ntcip__1202__ext_8cpp_source.html#l00038">ntcip::ntcip_1202_ext::get_phase_red_status()</a>, <a class="el" href="ntcip__1202__ext_8cpp_source.html#l00042">ntcip::ntcip_1202_ext::get_phase_yellow_status()</a>, <a class="el" href="ntcip__1202__ext_8cpp_source.html#l00094">ntcip::ntcip_1202_ext::get_phasetime()</a>, <a class="el" href="ntcip__1202__ext__phasetime_8cpp_source.html#l00020">ntcip::ntcip_1202_ext_phasetime::get_spat_veh_max_time_to_change()</a>, <a class="el" href="ntcip__1202__ext__phasetime_8cpp_source.html#l00016">ntcip::ntcip_1202_ext_phasetime::get_spat_veh_min_time_to_change()</a>, <a class="el" href="time__change__details_8h_source.html#l00024">signal_phase_and_timing::time_change_details::max_end_time</a>, <a class="el" href="time__change__details_8h_source.html#l00020">signal_phase_and_timing::time_change_details::min_end_time</a>, <a class="el" href="ntcip__1202__ext__phasetime_8h_source.html#l00001">phase_number</a>, <a class="el" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a909f43d0494b87359c21298b5310e4fc">signal_phase_and_timing::protected_clearance</a>, <a class="el" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14ababa6a65d4933ea6229e61b20668218b">signal_phase_and_timing::protected_movement_allowed</a>, <a class="el" href="time__change__details_8h_source.html#l00016">signal_phase_and_timing::time_change_details::start_time</a>, <a class="el" href="movement__state_8h_source.html#l00034">signal_phase_and_timing::movement_state::state_time_speed</a>, <a class="el" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a03e3f63efcce21f01897bc0583979afa">signal_phase_and_timing::stop_and_remain</a>, <a class="el" href="namespacesignal__phase__and__timing.html#a89bd5b280352669f719b2c36a9dc2a14a82f58c8125d6f043623349cf7330ef62">signal_phase_and_timing::stop_then_proceed</a>, and <a class="el" href="movement__event_8h_source.html#l00121">signal_phase_and_timing::movement_event::timing</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00263">update_movements()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a01285f8060241eec1adbaa0c5e97a1df_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a01285f8060241eec1adbaa0c5e97a1df_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a01285f8060241eec1adbaa0c5e97a1df_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a01285f8060241eec1adbaa0c5e97a1df_cgraph">
<area shape="rect" title="Method to update movement_state with signal_group_id using ntcip spat data." alt="" coords="5,303,173,359"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193" title="Convert time offset (in tenths of seconds) from current time (NTCIP SPaT timing information units) to..." alt="" coords="227,5,395,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a0212a92fdea9a7f1f5959d002ba7dda9" title="Return reference to movement_state for signal group." alt="" coords="227,85,395,141"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#a5f5f247af2e7d5c7a2e196c9125907ea" title="Returns flashing state of phase." alt="" coords="240,165,383,221"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#ac8e0437aeac4c314b2f682f57a6c47c9" title="Returns green state of phase." alt="" coords="226,245,397,286"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#adfbdd4d01e9825dc3e1e674473c56171" title="Returns red state of phase." alt="" coords="233,310,389,351"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#aa5fef8a2a7ce6499bb545e4e1b343b8e" title="Returns yellow state of phase." alt="" coords="224,375,399,417"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#a0cbc4b96d4191b8cc8834cf06f7a810b" title="Returns reference to ntcip_1202_ext_phasetime of phase." alt="" coords="240,441,383,482"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext__phasetime.html#ac2bd3254673a1650bbb1481bd15d627b" title="Get spat_veh_max_time_to_change and convert from network byte order to host byte order." alt="" coords="221,505,401,561"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext__phasetime.html#ac4be29069aab2d1659df59c7e3a92dc7" title="Get spat_veh_min_time_to_change and convert from network byte order to host byte order." alt="" coords="223,585,400,641"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="449,13,641,54"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="689,13,892,54"/>
<area shape="rect" href="ntcip__1202__ext_8h.html#a576de7b60eacee3f1a70393a005502cd" title="Returns std::string representation of ntcip_1202_ext message including phase_times array." alt="" coords="509,273,581,300"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_a01285f8060241eec1adbaa0c5e97a1df_icgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_a01285f8060241eec1adbaa0c5e97a1df_icgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_a01285f8060241eec1adbaa0c5e97a1df_icgraph" id="astructsignal__phase__and__timing_1_1intersection__state_a01285f8060241eec1adbaa0c5e97a1df_icgraph">
<area shape="rect" title="Method to update movement_state with signal_group_id using ntcip spat data." alt="" coords="221,5,389,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#adb8a7d8693ba85ab08f3c0e31afe4935" title="Clears old movement event data for all movement_states. Adds one movement_event to the state_time_spe..." alt="" coords="5,5,173,61"/>
</map>
</div>

</div>
</div>
<a id="adb8a7d8693ba85ab08f3c0e31afe4935" name="adb8a7d8693ba85ab08f3c0e31afe4935"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb8a7d8693ba85ab08f3c0e31afe4935">&#9670;&nbsp;</a></span>update_movements()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_phase_and_timing::intersection_state::update_movements </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structntcip_1_1ntcip__1202__ext.html">ntcip::ntcip_1202_ext</a> &amp;&#160;</td>
          <td class="paramname"><em>spat_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; int, int &gt; &amp;&#160;</td>
          <td class="paramname"><em>phase_number_to_signal_group</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears old movement event data for all movement_states. Adds one <a class="el" href="structsignal__phase__and__timing_1_1movement__event.html">movement_event</a> to the state_time_speed list as the current event for each movement state. Then calls update_movement_state on every phase number/signal group mapping included in the phase_number to signal group map. This method is meant to be executed each time a nticp_1202_ext UDP packet is received to update the current movement event data of each phase with the timing information received. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spat_data</td><td>UDP TSC information. </td></tr>
    <tr><td class="paramname">phase_number_to_signal_group</td><td>phase number to signal group map. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="intersection__state_8cpp_source.html#l00263">263</a> of file <a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  263</span>                                                                                                                                            {</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">for</span> ( <span class="keyword">auto</span> &amp;move_state : <a class="code hl_variable" href="structsignal__phase__and__timing_1_1intersection__state.html#a7ede63a37705e6c5cdce68883fe78a7d">states</a> ) {</div>
<div class="line"><span class="lineno">  265</span>            <span class="comment">// If movement event list is empty, create a current event.</span></div>
<div class="line"><span class="lineno">  266</span>            <span class="keywordflow">if</span> ( move_state.state_time_speed.empty()) {</div>
<div class="line"><span class="lineno">  267</span>                <span class="comment">// Add current movement_event</span></div>
<div class="line"><span class="lineno">  268</span>                movement_event cur_event;</div>
<div class="line"><span class="lineno">  269</span>                move_state.state_time_speed.push_front(cur_event);</div>
<div class="line"><span class="lineno">  270</span>            }</div>
<div class="line"><span class="lineno">  271</span>            <span class="comment">// If movement event list contains future events, clear future events.</span></div>
<div class="line"><span class="lineno">  272</span>            <span class="keywordflow">if</span> ( move_state.state_time_speed.size() &gt; 1) {</div>
<div class="line"><span class="lineno">  273</span>                <span class="comment">// Clear all movement events except current (front)</span></div>
<div class="line"><span class="lineno">  274</span>                movement_event cur_event = move_state.state_time_speed.front();</div>
<div class="line"><span class="lineno">  275</span>                move_state.state_time_speed.clear();</div>
<div class="line"><span class="lineno">  276</span>                move_state.state_time_speed.push_front(cur_event);</div>
<div class="line"><span class="lineno">  277</span>            }</div>
<div class="line"><span class="lineno">  278</span>           </div>
<div class="line"><span class="lineno">  279</span>        }</div>
<div class="line"><span class="lineno">  280</span>        </div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">for</span> ( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;phase_2_signal_group : phase_number_to_signal_group ) {</div>
<div class="line"><span class="lineno">  282</span>            <a class="code hl_function" href="structsignal__phase__and__timing_1_1intersection__state.html#a01285f8060241eec1adbaa0c5e97a1df">update_movement_state</a>(spat_data, phase_2_signal_group.second, phase_2_signal_group.first);</div>
<div class="line"><span class="lineno">  283</span>        }</div>
<div class="line"><span class="lineno">  284</span>    }</div>
<div class="ttc" id="astructsignal__phase__and__timing_1_1intersection__state_html_a01285f8060241eec1adbaa0c5e97a1df"><div class="ttname"><a href="structsignal__phase__and__timing_1_1intersection__state.html#a01285f8060241eec1adbaa0c5e97a1df">signal_phase_and_timing::intersection_state::update_movement_state</a></div><div class="ttdeci">void update_movement_state(ntcip::ntcip_1202_ext &amp;spat_data, const int signal_group_id, const int phase_number)</div><div class="ttdoc">Method to update movement_state with signal_group_id using ntcip spat data.</div><div class="ttdef"><b>Definition:</b> <a href="intersection__state_8cpp_source.html#l00205">intersection_state.cpp:205</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="intersection__state_8h_source.html#l00095">states</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00205">update_movement_state()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="structsignal__phase__and__timing_1_1intersection__state_adb8a7d8693ba85ab08f3c0e31afe4935_cgraph.png" border="0" usemap="#astructsignal__phase__and__timing_1_1intersection__state_adb8a7d8693ba85ab08f3c0e31afe4935_cgraph" alt=""/></div>
<map name="astructsignal__phase__and__timing_1_1intersection__state_adb8a7d8693ba85ab08f3c0e31afe4935_cgraph" id="astructsignal__phase__and__timing_1_1intersection__state_adb8a7d8693ba85ab08f3c0e31afe4935_cgraph">
<area shape="rect" title="Clears old movement event data for all movement_states. Adds one movement_event to the state_time_spe..." alt="" coords="5,303,173,359"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a01285f8060241eec1adbaa0c5e97a1df" title="Method to update movement_state with signal_group_id using ntcip spat data." alt="" coords="221,303,389,359"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a7f3126c08963787918c8d007255b4193" title="Convert time offset (in tenths of seconds) from current time (NTCIP SPaT timing information units) to..." alt="" coords="443,5,611,61"/>
<area shape="rect" href="structsignal__phase__and__timing_1_1intersection__state.html#a0212a92fdea9a7f1f5959d002ba7dda9" title="Return reference to movement_state for signal group." alt="" coords="443,85,611,141"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#a5f5f247af2e7d5c7a2e196c9125907ea" title="Returns flashing state of phase." alt="" coords="456,165,599,221"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#ac8e0437aeac4c314b2f682f57a6c47c9" title="Returns green state of phase." alt="" coords="442,245,613,286"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#adfbdd4d01e9825dc3e1e674473c56171" title="Returns red state of phase." alt="" coords="449,310,605,351"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#aa5fef8a2a7ce6499bb545e4e1b343b8e" title="Returns yellow state of phase." alt="" coords="440,375,615,417"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext.html#a0cbc4b96d4191b8cc8834cf06f7a810b" title="Returns reference to ntcip_1202_ext_phasetime of phase." alt="" coords="456,441,599,482"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext__phasetime.html#ac2bd3254673a1650bbb1481bd15d627b" title="Get spat_veh_max_time_to_change and convert from network byte order to host byte order." alt="" coords="437,505,617,561"/>
<area shape="rect" href="structntcip_1_1ntcip__1202__ext__phasetime.html#ac4be29069aab2d1659df59c7e3a92dc7" title="Get spat_veh_min_time_to_change and convert from network byte order to host byte order." alt="" coords="439,585,616,641"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#ace444a4a74b0cea211bf89ed89371bae" title="Static access to the CarmaClock timeInMilliseconds method (see https://github.com/usdot&#45;fhwa&#45;stol/car..." alt="" coords="665,13,857,54"/>
<area shape="rect" href="classstreets__service_1_1streets__clock__singleton.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="905,13,1108,54"/>
<area shape="rect" href="ntcip__1202__ext_8h.html#a576de7b60eacee3f1a70393a005502cd" title="Returns std::string representation of ntcip_1202_ext message including phase_times array." alt="" coords="725,273,797,300"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8c616e91f927f3803dcd2367e12a4eb9" name="a8c616e91f927f3803dcd2367e12a4eb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c616e91f927f3803dcd2367e12a4eb9">&#9670;&nbsp;</a></span>enabled_lanes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;int&gt; signal_phase_and_timing::intersection_state::enabled_lanes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A list of unique lane ID for each lane object which is active. Refers to dynamic MAP contents. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00089">89</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00054">fromJson()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00005">toJson()</a>.</p>

</div>
</div>
<a id="ada34bde87ec24eb85810d408cd13f69f" name="ada34bde87ec24eb85810d408cd13f69f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada34bde87ec24eb85810d408cd13f69f">&#9670;&nbsp;</a></span>id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t signal_phase_and_timing::intersection_state::id = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A globally unique value set and consisting of regionID and intersection ID assignment. Provides unique mapping to the intersection MAP in question which provides complete location and approach/move/lane data. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00032">32</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="spat_8cpp_source.html#l00084">signal_phase_and_timing::spat::initialize_intersection()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>.</p>

</div>
</div>
<a id="a608bced258a6e40c5b975021b3a6bc02" name="a608bced258a6e40c5b975021b3a6bc02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a608bced258a6e40c5b975021b3a6bc02">&#9670;&nbsp;</a></span>maneuver_assist_list</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="structsignal__phase__and__timing_1_1connection__maneuver__assist.html">connection_maneuver_assist</a>&gt; signal_phase_and_timing::intersection_state::maneuver_assist_list</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Assist Data. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00100">100</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00054">fromJson()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00005">toJson()</a>.</p>

</div>
</div>
<a id="ad71bed5c8cd56cac8dcd041c5fd5a83e" name="ad71bed5c8cd56cac8dcd041c5fd5a83e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71bed5c8cd56cac8dcd041c5fd5a83e">&#9670;&nbsp;</a></span>MIN_TO_SECONDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int signal_phase_and_timing::intersection_state::MIN_TO_SECONDS = 60</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00019">19</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00136">convert_min_mills2epoch_ts()</a>.</p>

</div>
</div>
<a id="a0a0ee55cccc9fb11add9902564ad504e" name="a0a0ee55cccc9fb11add9902564ad504e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a0ee55cccc9fb11add9902564ad504e">&#9670;&nbsp;</a></span>moy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t signal_phase_and_timing::intersection_state::moy = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Minute of current UTC year. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00081">81</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00054">fromJson()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00156">get_epoch_timestamp()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00173">set_timestamp_local()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00161">set_timestamp_ntcip()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00005">toJson()</a>.</p>

</div>
</div>
<a id="a6da9216f423d4fdb2d754ea68e276e73" name="a6da9216f423d4fdb2d754ea68e276e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6da9216f423d4fdb2d754ea68e276e73">&#9670;&nbsp;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_phase_and_timing::intersection_state::name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Descriptive name for this collection. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00025">25</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00054">fromJson()</a>, <a class="el" href="spat_8cpp_source.html#l00084">signal_phase_and_timing::spat::initialize_intersection()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00005">toJson()</a>.</p>

</div>
</div>
<a id="a7ec8a1a400233389a5640c48bda4d1e3" name="a7ec8a1a400233389a5640c48bda4d1e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec8a1a400233389a5640c48bda4d1e3">&#9670;&nbsp;</a></span>revision</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t signal_phase_and_timing::intersection_state::revision = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00034">34</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00054">fromJson()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00005">toJson()</a>.</p>

</div>
</div>
<a id="aebaed676aff07f126fe01e1319b4c605" name="aebaed676aff07f126fe01e1319b4c605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebaed676aff07f126fe01e1319b4c605">&#9670;&nbsp;</a></span>SECOND_TO_MILLISECONDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int signal_phase_and_timing::intersection_state::SECOND_TO_MILLISECONDS = 1000</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00020">20</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00136">convert_min_mills2epoch_ts()</a>.</p>

</div>
</div>
<a id="a7ede63a37705e6c5cdce68883fe78a7d" name="a7ede63a37705e6c5cdce68883fe78a7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ede63a37705e6c5cdce68883fe78a7d">&#9670;&nbsp;</a></span>states</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;<a class="el" href="structsignal__phase__and__timing_1_1movement__state.html">movement_state</a>&gt; signal_phase_and_timing::intersection_state::states</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Each Movement is given in turn and contains its signal phase state, mapping to the lanes it applies to, and point in time it will and. It may contain both active and future states. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00095">95</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00286">clear_future_movement_events()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00054">fromJson()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00185">get_movement()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00194">initialize_movement_states()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00005">toJson()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00263">update_movements()</a>.</p>

</div>
</div>
<a id="abbd9ce5f7a9b4930e5cdfeaf84ddbe02" name="abbd9ce5f7a9b4930e5cdfeaf84ddbe02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbd9ce5f7a9b4930e5cdfeaf84ddbe02">&#9670;&nbsp;</a></span>status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t signal_phase_and_timing::intersection_state::status</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BIT String of IntersectionStatusObject: </p>
<p >manualControlIsEnabled (0), &ndash; Timing reported is per programmed values, etc. but person &ndash; at cabinet can manually request that certain intervals are &ndash; terminated early (e.g. green). stopTimeIsActivated (1), &ndash; And all counting/timing has stopped. failureFlash (2), &ndash; Above to be used for any detected hardware failures, &ndash; e.g. conflict monitor as well as for police flash preemptIsActive (3), signalPriorityIsActive (4), <br  />
 &ndash; Additional states fixedTimeOperation (5), &ndash; Schedule of signals is based on time only &ndash; (i.e. the state can be calculated) trafficDependentOperation (6), &ndash; Operation is based on different levels of traffic parameters &ndash; (requests, duration of gaps or more complex parameters) standbyOperation (7), &ndash; Controller: partially switched off or partially amber flashing failureMode (8), &ndash; Controller has a problem or failure in operation off (9), &ndash; Controller is switched off &ndash; Related to MAP and SPAT bindings recentMAPmessageUpdate (10), &ndash; Map revision with content changes recentChangeInMAPassignedLanesIDsUsed (11), &ndash; Change in MAP's assigned lanes used (lane changes) &ndash; Changes in the active lane list description noValidMAPisAvailableAtThisTime (12), &ndash; MAP (and various lanes indexes) not available noValidSPATisAvailableAtThisTime (13) &ndash; SPAT system is not working at this time <br  />
 &ndash; Bits 14,15 reserved at this time and shall be zero } (SIZE(16)) </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00077">77</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00054">fromJson()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00005">toJson()</a>.</p>

</div>
</div>
<a id="a51c19a8652fc7761cb9e632fc01a9dd2" name="a51c19a8652fc7761cb9e632fc01a9dd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c19a8652fc7761cb9e632fc01a9dd2">&#9670;&nbsp;</a></span>time_stamp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t signal_phase_and_timing::intersection_state::time_stamp = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Millisecond point in the current UTC minute that this message was created. </p>

<p class="definition">Definition at line <a class="el" href="intersection__state_8h_source.html#l00085">85</a> of file <a class="el" href="intersection__state_8h_source.html">intersection_state.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="intersection__state_8cpp_source.html#l00054">fromJson()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00156">get_epoch_timestamp()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00126">operator==()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00173">set_timestamp_local()</a>, <a class="el" href="intersection__state_8cpp_source.html#l00161">set_timestamp_ntcip()</a>, and <a class="el" href="intersection__state_8cpp_source.html#l00005">toJson()</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>streets_utils/streets_signal_phase_and_timing/include/<a class="el" href="intersection__state_8h_source.html">intersection_state.h</a></li>
<li>streets_utils/streets_signal_phase_and_timing/src/models/<a class="el" href="intersection__state_8cpp_source.html">intersection_state.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesignal__phase__and__timing.html">signal_phase_and_timing</a></li><li class="navelem"><a class="el" href="structsignal__phase__and__timing_1_1intersection__state.html">intersection_state</a></li>
    <li class="footer">Generated on Tue Oct 3 2023 16:24:02 for Carma-streets by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
