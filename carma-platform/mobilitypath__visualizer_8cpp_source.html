<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: mobilitypath_visualizer/src/mobilitypath_visualizer.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('mobilitypath__visualizer_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">mobilitypath_visualizer.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="mobilitypath__visualizer_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * Copyright (C) 2019-2022 LEIDOS.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * use this file except in compliance with the License. You may obtain a copy of</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * the License at</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> *</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> * License for the specific language governing permissions and limitations under</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> * the License.</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> */</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="mobilitypath__visualizer_8hpp.html">mobilitypath_visualizer/mobilitypath_visualizer.hpp</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span> </div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacemobilitypath__visualizer.html">mobilitypath_visualizer</a> {</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>    </div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>    <span class="keyword">namespace </span>std_ph = std::placeholders;</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span> </div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno"><a class="line" href="namespacemobilitypath__visualizer_1_1anonymous__namespace_02mobilitypath__visualizer_8cpp_03.html">   23</a></span>    <span class="keyword">namespace</span></div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>    {</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>        <span class="comment">// Helper function for computing 2d distance</span></div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno"><a class="line" href="namespacemobilitypath__visualizer_1_1anonymous__namespace_02mobilitypath__visualizer_8cpp_03.html#a296ac0098090f3bbf9fa58e022ae1917">   26</a></span>        <span class="keywordtype">double</span> <a class="code hl_function" href="namespacemobilitypath__visualizer_1_1anonymous__namespace_02mobilitypath__visualizer_8cpp_03.html#a296ac0098090f3bbf9fa58e022ae1917">compute_2d_distance</a>(<span class="keyword">const</span> geometry_msgs::msg::Point&amp; pt1, <span class="keyword">const</span> geometry_msgs::msg::Point&amp;  pt2)</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>        {</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>            <span class="keywordtype">double</span> dx = pt2.x - pt1.x;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>            <span class="keywordtype">double</span> dy = pt2.y - pt1.y;</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>            <span class="keywordtype">double</span> dz = pt2.z - pt1.z;</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span> </div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>            <span class="keywordflow">return</span> sqrt(dx * dx + dy * dy + dz * dz);</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>        }</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>    }</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span> </div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a8b4b171373cecbc7cdf7e1267ecea0fa">   36</a></span>    <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a8b4b171373cecbc7cdf7e1267ecea0fa">MobilityPathVisualizer::MobilityPathVisualizer</a>(<span class="keyword">const</span> rclcpp::NodeOptions &amp;options) </div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>            : carma_ros2_utils::CarmaLifecycleNode(options)</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>    {</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>        <span class="comment">// Create initial config</span></div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a> = <a class="code hl_struct" href="structmobilitypath__visualizer_1_1Config.html">Config</a>();</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span> </div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>        <span class="comment">// Declare parameters</span></div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#a1715494011f3131c3f588377c0230fc0">timer_cb_rate</a> = declare_parameter&lt;int&gt;(<span class="stringliteral">&quot;timer_cb_rate&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#a1715494011f3131c3f588377c0230fc0">timer_cb_rate</a>);</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#ad0afccec8966c90196e40e60f115882c">x</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;x&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#ad0afccec8966c90196e40e60f115882c">x</a>);</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#af376c3b59af95857479404205f36d782">y</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;y&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#af376c3b59af95857479404205f36d782">y</a>);</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#afd7b955df119d9f83a23ffadce511e37">z</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;z&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#afd7b955df119d9f83a23ffadce511e37">z</a>);</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#affe1e0f398dd1cce7a23bbe7c455d102">t</a> = declare_parameter&lt;double&gt;(<span class="stringliteral">&quot;t&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#affe1e0f398dd1cce7a23bbe7c455d102">t</a>);</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#a868240d48879600fb48658c1516e02ec">host_id</a> = declare_parameter&lt;std::string&gt;(<span class="stringliteral">&quot;vehicle_id&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#a868240d48879600fb48658c1516e02ec">host_id</a>);</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>    }</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span> </div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span> </div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a204f1f59397827eff2b5b376fd16cc7a">   52</a></span>    carma_ros2_utils::CallbackReturn <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a204f1f59397827eff2b5b376fd16cc7a">MobilityPathVisualizer::handle_on_configure</a>(<span class="keyword">const</span> rclcpp_lifecycle::State &amp;)</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>    {</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        <span class="comment">//Reset Config</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a> = <a class="code hl_struct" href="structmobilitypath__visualizer_1_1Config.html">Config</a>();</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>        </div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span>        <span class="comment">//Load parameters</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>        get_parameter&lt;int&gt;(<span class="stringliteral">&quot;timer_cb_rate&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#a1715494011f3131c3f588377c0230fc0">timer_cb_rate</a>);</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        get_parameter&lt;double&gt;(<span class="stringliteral">&quot;x&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#ad0afccec8966c90196e40e60f115882c">x</a>);</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        get_parameter&lt;double&gt;(<span class="stringliteral">&quot;y&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#af376c3b59af95857479404205f36d782">y</a>);</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        get_parameter&lt;double&gt;(<span class="stringliteral">&quot;z&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#afd7b955df119d9f83a23ffadce511e37">z</a>);</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        get_parameter&lt;double&gt;(<span class="stringliteral">&quot;t&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#affe1e0f398dd1cce7a23bbe7c455d102">t</a>);</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span> </div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>        get_parameter(<span class="stringliteral">&quot;vehicle_id&quot;</span>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#a868240d48879600fb48658c1516e02ec">host_id</a>);</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span> </div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        RCLCPP_INFO_STREAM(get_logger(), <span class="stringliteral">&quot;Loaded params &quot;</span>&lt;&lt; <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>);</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span> </div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>        <span class="comment">// init publishers</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#af689219edb7702a1285164691e39ba00">host_marker_pub_</a> = create_publisher&lt;visualization_msgs::msg::MarkerArray&gt;(<span class="stringliteral">&quot;host_marker&quot;</span>, 1);</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a591459260d6b4b8d9f2063557478945d">cav_marker_pub_</a> = create_publisher&lt;visualization_msgs::msg::MarkerArray&gt;(<span class="stringliteral">&quot;cav_marker&quot;</span>, 1);</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a166815c772d6628e2deb95d25199f81d">label_marker_pub_</a> = create_publisher&lt;visualization_msgs::msg::MarkerArray&gt;(<span class="stringliteral">&quot;label_marker&quot;</span>, 1);</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span> </div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>        <span class="comment">// init subscribers</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#afbace617e1bb232c1766791317d64d42">host_mob_path_sub_</a> = create_subscription&lt;carma_v2x_msgs::msg::MobilityPath&gt;(<span class="stringliteral">&quot;mobility_path_msg&quot;</span>, 10,</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>                                                              std::bind(&amp;<a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaaaa1780d1a10558cf98847664d99410">MobilityPathVisualizer::callbackMobilityPath</a>, <span class="keyword">this</span>, std_ph::_1));</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span> </div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a20f89e002d7ca5f7b900d20eef146117">cav_mob_path_sub_</a> = create_subscription&lt;carma_v2x_msgs::msg::MobilityPath&gt;(<span class="stringliteral">&quot;incoming_mobility_path&quot;</span>, 10,</div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span>                                                              std::bind(&amp;<a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaaaa1780d1a10558cf98847664d99410">MobilityPathVisualizer::callbackMobilityPath</a>, <span class="keyword">this</span>, std_ph::_1));</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    </div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a23c52ebd960df148f57175d0beb528f7">georeference_sub_</a> = create_subscription&lt;std_msgs::msg::String&gt;(<span class="stringliteral">&quot;georeference&quot;</span>, 10,</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>                                                              std::bind(&amp;<a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#acb14b6391ec1795ef22c6efd3dd211b2">MobilityPathVisualizer::georeferenceCallback</a>, <span class="keyword">this</span>, std_ph::_1));</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span> </div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>        <span class="comment">// Return success if everthing initialized successfully</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        <span class="keywordflow">return</span> CallbackReturn::SUCCESS;</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>    }</div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span> </div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a963c8fe28c4b663aa5746ff87aa11987">   87</a></span>    carma_ros2_utils::CallbackReturn <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a963c8fe28c4b663aa5746ff87aa11987">MobilityPathVisualizer::handle_on_activate</a>(<span class="keyword">const</span> rclcpp_lifecycle::State &amp;){</div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        </div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        <span class="comment">//Setup timer</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a0e1e51e9c9eb07ccdd2d65b1c5f96756">timer_</a> = create_timer(get_clock(), std::chrono::milliseconds(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#a1715494011f3131c3f588377c0230fc0">timer_cb_rate</a>), </div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>        std::bind(&amp;<a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a7466020e5617f0b7c8f0aaa4e79fdfc4">MobilityPathVisualizer::timer_callback</a>, <span class="keyword">this</span>));</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span> </div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <span class="keywordflow">return</span> CallbackReturn::SUCCESS;</div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>    }</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span> </div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a7466020e5617f0b7c8f0aaa4e79fdfc4">   96</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a7466020e5617f0b7c8f0aaa4e79fdfc4">MobilityPathVisualizer::timer_callback</a>()</div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>    {</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>        <span class="comment">// match cav_markers&#39; timestamps to that of host</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a6551c01802644a81dc488038c7c071a7">host_marker_received_</a>){</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span>        }   </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span> </div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span>        <span class="comment">// publish host marker</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#af689219edb7702a1285164691e39ba00">host_marker_pub_</a>-&gt;publish(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a42df0dff4d0238cbc9efdb8f6ce2c468">host_marker_</a>);</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span> </div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9597747489eb21098a98d294183fb95b">cav_markers_</a> = <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a430f0c901d9e30cbf1eaf0a185fe5f04">matchTrajectoryTimestamps</a>(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a42df0dff4d0238cbc9efdb8f6ce2c468">host_marker_</a>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9597747489eb21098a98d294183fb95b">cav_markers_</a>);</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span> &amp;marker: <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9597747489eb21098a98d294183fb95b">cav_markers_</a>)</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>        {</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>            <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a591459260d6b4b8d9f2063557478945d">cav_marker_pub_</a>-&gt;publish(marker);</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        }</div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span> </div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>        <span class="comment">// publish label</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a5b8020d61dc6563c611dc41866600787">label_marker_</a> = <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1a942404c71e8ae209b63cca536ee5ff">composeLabelMarker</a>(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a42df0dff4d0238cbc9efdb8f6ce2c468">host_marker_</a>, <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9597747489eb21098a98d294183fb95b">cav_markers_</a>);</div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a166815c772d6628e2deb95d25199f81d">label_marker_pub_</a>-&gt;publish(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a5b8020d61dc6563c611dc41866600787">label_marker_</a>);</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        </div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>    }</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span> </div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#acb14b6391ec1795ef22c6efd3dd211b2">  119</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#acb14b6391ec1795ef22c6efd3dd211b2">MobilityPathVisualizer::georeferenceCallback</a>(std_msgs::msg::String::UniquePtr msg) </div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>    {</div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#ab4fe29c61b6997ff7f6c2dc947498150">map_projector_</a> = std::make_shared&lt;lanelet::projection::LocalFrameProjector&gt;(msg-&gt;data.c_str());  <span class="comment">// Build projector from proj string</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>    }</div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>    </div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaaaa1780d1a10558cf98847664d99410">  124</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaaaa1780d1a10558cf98847664d99410">MobilityPathVisualizer::callbackMobilityPath</a>(carma_v2x_msgs::msg::MobilityPath::UniquePtr msg)</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    {</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span> </div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span>        RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;Received a msg from sender: &quot;</span> &lt;&lt; msg-&gt;m_header.sender_id &lt;&lt; <span class="stringliteral">&quot;, and plan id:&quot;</span> &lt;&lt; msg-&gt;m_header.plan_id &lt;&lt; <span class="stringliteral">&quot;, for receiver:&quot;</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>                        &lt;&lt; msg-&gt;m_header.recipient_id &lt;&lt; <span class="stringliteral">&quot;, time:&quot;</span> &lt;&lt; msg-&gt;m_header.timestamp &lt;&lt; <span class="stringliteral">&quot;, at now: &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacecarma__cooperative__perception.html#a64b708654c8aecb09122d39577df31b5">std::to_string</a>(this-&gt;now().seconds()));</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span> </div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1fa3f7c6121a1810f8cd1acbc3ee86f9">latest_cav_mob_path_msg_</a>.find(msg-&gt;m_header.sender_id) != <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1fa3f7c6121a1810f8cd1acbc3ee86f9">latest_cav_mob_path_msg_</a>.end() &amp;&amp;</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>            msg-&gt;m_header.plan_id.compare(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1fa3f7c6121a1810f8cd1acbc3ee86f9">latest_cav_mob_path_msg_</a>[msg-&gt;m_header.sender_id].m_header.plan_id) == 0 &amp;&amp;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            msg-&gt;m_header.timestamp == <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1fa3f7c6121a1810f8cd1acbc3ee86f9">latest_cav_mob_path_msg_</a>[msg-&gt;m_header.sender_id].m_header.timestamp)</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        {</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>            RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;Already received this plan id:&quot;</span> &lt;&lt; msg-&gt;m_header.plan_id &lt;&lt; <span class="stringliteral">&quot;from sender_id: &quot;</span> &lt;&lt; msg-&gt;m_header.sender_id);</div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        }</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1fa3f7c6121a1810f8cd1acbc3ee86f9">latest_cav_mob_path_msg_</a>[msg-&gt;m_header.sender_id] = *msg;</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span> </div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#ab4fe29c61b6997ff7f6c2dc947498150">map_projector_</a>) {</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            RCLCPP_ERROR(get_logger(), <span class="stringliteral">&quot;Cannot visualize mobility path as map projection not yet available&quot;</span>);</div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>        }</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span> </div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>        <span class="keywordflow">if</span> (msg-&gt;m_header.timestamp == 0) <span class="comment">//if empty</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>        {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>            <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a6551c01802644a81dc488038c7c071a7">host_marker_received_</a> = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>            <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>        } </div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>      </div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>        <a class="code hl_struct" href="structmobilitypath__visualizer_1_1MarkerColor.html">MarkerColor</a> cav_color;</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>        <span class="keywordflow">if</span> (msg-&gt;m_header.sender_id.compare(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#a868240d48879600fb48658c1516e02ec">host_id</a>) == 0)</div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>        {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>            cav_color.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1MarkerColor.html#a0ab5581a32ec44093fc7e48df3d57c21">green</a> = 1.0;</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>           </div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>            <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a42df0dff4d0238cbc9efdb8f6ce2c468">host_marker_</a> = <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaa16900341b515df0357067e0a9319ed">composeVisualizationMarker</a>(*msg,cav_color);</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>            <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a6551c01802644a81dc488038c7c071a7">host_marker_received_</a> = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>           </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>            RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;Composed host marker successfuly!&quot;</span>);</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>        }</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>        {</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span> </div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>            cav_color.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1MarkerColor.html#ac99f33a489cec50d8fb2b2349a6a91ba">blue</a> = 1.0;</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>            <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9597747489eb21098a98d294183fb95b">cav_markers_</a>.push_back(<a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaa16900341b515df0357067e0a9319ed">composeVisualizationMarker</a>(*msg,cav_color));</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>            </div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span>            RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;Composed cav marker successfuly! with sender_id: &quot;</span> &lt;&lt; msg-&gt;m_header.sender_id);</div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span>        }</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span> </div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>    }</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span> </div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaa16900341b515df0357067e0a9319ed">  171</a></span>    visualization_msgs::msg::MarkerArray <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaa16900341b515df0357067e0a9319ed">MobilityPathVisualizer::composeVisualizationMarker</a>(<span class="keyword">const</span> carma_v2x_msgs::msg::MobilityPath&amp; msg, <span class="keyword">const</span> <a class="code hl_struct" href="structmobilitypath__visualizer_1_1MarkerColor.html">MarkerColor</a>&amp; color)</div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>    {</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        visualization_msgs::msg::MarkerArray output;</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        visualization_msgs::msg::Marker marker;</div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        marker.header.frame_id = <span class="stringliteral">&quot;map&quot;</span>;</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span> </div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>        rclcpp::Time marker_header_stamp = rclcpp::Time((msg.m_header.timestamp/1000.0) * 1e9);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>        marker.header.stamp = builtin_interfaces::msg::Time(marker_header_stamp);</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        marker.type = visualization_msgs::msg::Marker::ARROW;</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        marker.action = visualization_msgs::msg::Marker::ADD;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        marker.ns = <span class="stringliteral">&quot;mobilitypath_visualizer&quot;</span>;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span> </div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>        marker.scale.x = <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#ad0afccec8966c90196e40e60f115882c">x</a>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        marker.scale.y = <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#af376c3b59af95857479404205f36d782">y</a>;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        marker.scale.z = <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#afd7b955df119d9f83a23ffadce511e37">z</a>;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>        marker.frame_locked = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>        marker.color.r = (float)color.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1MarkerColor.html#a09d36f41edc9b58331aa05d41cf0a546">red</a>;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>        marker.color.g = (<span class="keywordtype">float</span>)color.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1MarkerColor.html#a0ab5581a32ec44093fc7e48df3d57c21">green</a>;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        marker.color.b = (float)color.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1MarkerColor.html#ac99f33a489cec50d8fb2b2349a6a91ba">blue</a>;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        marker.color.a = 1.0f;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        </div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <span class="keywordtype">size_t</span> count = std::max(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a4b004687a8b77e6a7ab471bbdd692b1d">prev_marker_list_size_</a>[msg.m_header.sender_id], msg.trajectory.offsets.size());</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span> </div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>        <span class="keyword">auto</span> curr_location_msg = msg; <span class="comment">//variable to update on each iteration as offsets are measured since last traj point</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>        </div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>        marker.id = 0;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>        geometry_msgs::msg::Point arrow_start;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>        geometry_msgs::msg::Point arrow_end;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span> </div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>        <span class="keywordflow">if</span> (msg.trajectory.offsets.empty())</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>        {</div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>            marker.action = visualization_msgs::msg::Marker::DELETE;</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>        }</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        {</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>            RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;ECEF point x: &quot;</span> &lt;&lt; curr_location_msg.trajectory.location.ecef_x &lt;&lt; <span class="stringliteral">&quot;, y:&quot;</span> &lt;&lt; curr_location_msg.trajectory.location.ecef_y);</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>            arrow_start = <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9bbace9dcd2b48e3bb168e08b58ddf73">ECEFToMapPoint</a>(curr_location_msg.trajectory.location); <span class="comment">//also convert from cm to m</span></div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>            RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;Map point x: &quot;</span> &lt;&lt; arrow_start.x &lt;&lt; <span class="stringliteral">&quot;, y:&quot;</span> &lt;&lt; arrow_start.y);</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>            </div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            curr_location_msg.trajectory.location.ecef_x += + msg.trajectory.offsets[0].offset_x;</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>            curr_location_msg.trajectory.location.ecef_y += + msg.trajectory.offsets[0].offset_y;</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>            curr_location_msg.trajectory.location.ecef_z += + msg.trajectory.offsets[0].offset_z;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>            arrow_end = <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9bbace9dcd2b48e3bb168e08b58ddf73">ECEFToMapPoint</a>(curr_location_msg.trajectory.location); <span class="comment">//also convert from cm to m</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span> </div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>            marker.points.push_back(arrow_start);</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>            marker.points.push_back(arrow_end);</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>        }</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span> </div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>        output.markers.push_back(marker);</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span> </div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 1; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt; count; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++) <span class="comment">// start id = 1 to comply with arrow marker type</span></div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>        {</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>            marker.id = <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>            rclcpp::Time marker_cur_time(marker.header.stamp);</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>            <span class="comment">//Update time by 0.1s</span></div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            rclcpp::Time updated_time =  marker_cur_time + rclcpp::Duration(0.1 * 1e9);</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>            marker.header.stamp = builtin_interfaces::msg::Time(updated_time);</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span> </div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &gt;= msg.trajectory.offsets.size()) { <span class="comment">// If we need to delete previous points</span></div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>                marker.action = visualization_msgs::msg::Marker::DELETE;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>                output.markers.push_back(marker);</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>            }</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span> </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>            marker.points = {};</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>            RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;ECEF Point- DEBUG x: &quot;</span> &lt;&lt; curr_location_msg.trajectory.location.ecef_x &lt;&lt; <span class="stringliteral">&quot;, y:&quot;</span> &lt;&lt; curr_location_msg.trajectory.location.ecef_y);</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>            arrow_start = <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9bbace9dcd2b48e3bb168e08b58ddf73">ECEFToMapPoint</a>(curr_location_msg.trajectory.location); <span class="comment">//convert from cm to m</span></div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;Map Point- DEBUG x: &quot;</span> &lt;&lt; arrow_start.x &lt;&lt; <span class="stringliteral">&quot;, y:&quot;</span> &lt;&lt; arrow_start.y);</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span> </div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            curr_location_msg.trajectory.location.ecef_x += msg.trajectory.offsets[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].offset_x;</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>            curr_location_msg.trajectory.location.ecef_y += msg.trajectory.offsets[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].offset_y;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            curr_location_msg.trajectory.location.ecef_z += msg.trajectory.offsets[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].offset_z;</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            arrow_end = <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9bbace9dcd2b48e3bb168e08b58ddf73">ECEFToMapPoint</a>(curr_location_msg.trajectory.location);</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span> </div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>            marker.points.push_back(arrow_start);</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>            marker.points.push_back(arrow_end);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span> </div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>            output.markers.push_back(marker);</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>        }</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>        RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;Last ECEF Point- DEBUG x: &quot;</span> &lt;&lt; curr_location_msg.trajectory.location.ecef_x &lt;&lt; <span class="stringliteral">&quot;, y:&quot;</span> &lt;&lt; curr_location_msg.trajectory.location.ecef_y);</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>        RCLCPP_DEBUG_STREAM(get_logger(), <span class="stringliteral">&quot;Last Map Point- DEBUG x: &quot;</span> &lt;&lt; arrow_end.x &lt;&lt; <span class="stringliteral">&quot;, y:&quot;</span> &lt;&lt; arrow_end.y);</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>        <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a4b004687a8b77e6a7ab471bbdd692b1d">prev_marker_list_size_</a>[msg.m_header.sender_id] = msg.trajectory.offsets.size();</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>        </div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>        <span class="keywordflow">return</span> output;</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>    }</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9bbace9dcd2b48e3bb168e08b58ddf73">  259</a></span>    geometry_msgs::msg::Point <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9bbace9dcd2b48e3bb168e08b58ddf73">MobilityPathVisualizer::ECEFToMapPoint</a>(<span class="keyword">const</span> carma_v2x_msgs::msg::LocationECEF&amp; ecef_point)<span class="keyword"> const</span></div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span> </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#ab4fe29c61b6997ff7f6c2dc947498150">map_projector_</a>) {</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>            <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;No map projector available for ecef conversion&quot;</span>);</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        }</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        geometry_msgs::msg::Point output;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        </div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>        lanelet::BasicPoint3d map_point = <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#ab4fe29c61b6997ff7f6c2dc947498150">map_projector_</a>-&gt;projectECEF( { (double)ecef_point.ecef_x/100.0, (<span class="keywordtype">double</span>)ecef_point.ecef_y/100.0, (double)ecef_point.ecef_z/100.0 } , -1);</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        output.x = map_point.x();</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>        output.y = map_point.y();</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        output.z = map_point.z();</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span> </div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        <span class="keywordflow">return</span> output;</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>    } </div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>    </div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span> </div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1a942404c71e8ae209b63cca536ee5ff">  276</a></span>    visualization_msgs::msg::MarkerArray <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1a942404c71e8ae209b63cca536ee5ff">MobilityPathVisualizer::composeLabelMarker</a>(<span class="keyword">const</span> visualization_msgs::msg::MarkerArray&amp; host_marker, <span class="keyword">const</span> std::vector&lt;visualization_msgs::msg::MarkerArray&gt;&amp; cav_markers)<span class="keyword"> const</span></div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>        visualization_msgs::msg::MarkerArray output;</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>        visualization_msgs::msg::Marker marker;</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>        marker.header.frame_id = <span class="stringliteral">&quot;map&quot;</span>;</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>        marker.type = visualization_msgs::msg::Marker::TEXT_VIEW_FACING;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>        marker.action = visualization_msgs::msg::Marker::ADD;</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>        marker.ns = <span class="stringliteral">&quot;mobilitypath_visualizer&quot;</span>;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span> </div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>        marker.scale.x = <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#ad0afccec8966c90196e40e60f115882c">x</a>;</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>        marker.scale.y = <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#af376c3b59af95857479404205f36d782">y</a>;</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>        marker.scale.z = <a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#afd7b955df119d9f83a23ffadce511e37">z</a>;</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>        marker.color.r = 1.0;</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>        marker.color.g = 1.0;</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>        marker.color.b = 1.0;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>        marker.color.a = 1.0;</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>        marker.frame_locked = <span class="keyword">true</span>;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>        marker.lifetime = builtin_interfaces::msg::Duration((rclcpp::Duration(<a class="code hl_variable" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">config_</a>.<a class="code hl_variable" href="structmobilitypath__visualizer_1_1Config.html#affe1e0f398dd1cce7a23bbe7c455d102">t</a> * 1e9)));</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>        </div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; cav_marker: cav_markers)</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>        {</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>            <span class="keywordtype">size_t</span> idx = 0;</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>            <span class="keywordflow">while</span>(idx &lt; host_marker.markers.size() &amp;&amp; idx &lt; cav_marker.markers.size())</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>            {</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacemobilitypath__visualizer_1_1anonymous__namespace_02mobilitypath__visualizer_8cpp_03.html#a296ac0098090f3bbf9fa58e022ae1917">compute_2d_distance</a>(cav_marker.markers[idx].points[0], host_marker.markers[idx].points[0]) &lt;= 1.0) <span class="comment">// within 1 meter</span></div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>                {</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                    marker.id = (<a class="code hl_typedef" href="stdint_8h.html#ab1967d8591af1a4e48c37fd2b0f184d0">int32_t</a>)idx;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                    marker.header.stamp = host_marker.markers[idx].header.stamp;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>                    marker.pose.position.x = cav_marker.markers[idx].points[0].x;</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>                    marker.pose.position.y = cav_marker.markers[idx].points[0].y;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>                    marker.pose.position.z = cav_marker.markers[idx].points[0].z;</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>                    marker.pose.orientation.w = 1.0f;</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span> </div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>                    std::string collision_time = <a class="code hl_function" href="namespacecarma__cooperative__perception.html#a64b708654c8aecb09122d39577df31b5">std::to_string</a>((rclcpp::Time(cav_marker.markers[idx].header.stamp) - rclcpp::Time(host_marker.markers[0].header.stamp)).seconds());</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>                    collision_time = collision_time.substr(0,collision_time.size() - 4); <span class="comment">//reduce precision to 2 decimals</span></div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>                    marker.text = <span class="stringliteral">&quot;Collision in &quot;</span> + collision_time + <span class="stringliteral">&quot;s!&quot;</span>;</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span> </div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>                    output.markers.push_back(marker);</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>                }</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>                idx++;</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>            }</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>            </div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>            <span class="keywordflow">if</span> (<a class="code hl_function" href="namespacemobilitypath__visualizer_1_1anonymous__namespace_02mobilitypath__visualizer_8cpp_03.html#a296ac0098090f3bbf9fa58e022ae1917">compute_2d_distance</a>(cav_marker.markers[idx-1].points[1], host_marker.markers[idx-1].points[1]) &lt;= 1.0) <span class="comment">// within 1 meter</span></div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>            {   </div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>                <span class="comment">// last point</span></div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                marker.id = (<a class="code hl_typedef" href="stdint_8h.html#ab1967d8591af1a4e48c37fd2b0f184d0">int32_t</a>)idx;</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                marker.header.stamp = host_marker.markers[idx-1].header.stamp;</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                marker.pose.position.x = cav_marker.markers[idx-1].points[1].x;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                marker.pose.position.y = cav_marker.markers[idx-1].points[1].y;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                marker.pose.position.z = cav_marker.markers[idx-1].points[1].z;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span> </div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                rclcpp::Time cav_marker_stamp(cav_marker.markers[idx-1].header.stamp);</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                rclcpp::Time host_marker_stamp(host_marker.markers[0].header.stamp);</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                rclcpp::Duration duration = cav_marker_stamp - host_marker_stamp;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                std::string collision_time = <a class="code hl_function" href="namespacecarma__cooperative__perception.html#a64b708654c8aecb09122d39577df31b5">std::to_string</a>(duration.seconds());</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                collision_time = collision_time.substr(0,collision_time.size() - 4); <span class="comment">//reduce precision to 2 decimals</span></div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                marker.text = <span class="stringliteral">&quot;Collision in &quot;</span> + collision_time + <span class="stringliteral">&quot;s!&quot;</span>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                output.markers.push_back(marker);</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>            }</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>        }</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span> </div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>        <span class="keywordflow">return</span> output;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>    }</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span> </div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno"><a class="line" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a430f0c901d9e30cbf1eaf0a185fe5f04">  340</a></span>    std::vector&lt;visualization_msgs::msg::MarkerArray&gt; <a class="code hl_function" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a430f0c901d9e30cbf1eaf0a185fe5f04">MobilityPathVisualizer::matchTrajectoryTimestamps</a>(<span class="keyword">const</span> visualization_msgs::msg::MarkerArray&amp; host_marker, </div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>                                                                    <span class="keyword">const</span> std::vector&lt;visualization_msgs::msg::MarkerArray&gt;&amp; cav_markers)<span class="keyword"> const</span></div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span><span class="keyword">    </span>{</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="keywordflow">if</span> (host_marker.markers.empty() || host_marker.markers[0].action == visualization_msgs::msg::Marker::DELETE)</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>            <span class="keywordflow">return</span> cav_markers;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        </div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>        std::vector&lt;visualization_msgs::msg::MarkerArray&gt; synchronized_output;</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> <span class="keyword">const</span>&amp; curr_cav: cav_markers)</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>        {</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>            visualization_msgs::msg::MarkerArray synchronized_marker_array;</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>            <span class="keywordtype">signed</span> <span class="keywordtype">int</span> curr_idx = 0;</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>            <span class="keywordtype">double</span> time_step = 0.1;</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>            <span class="comment">// although it is very rare to reach here</span></div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>            <span class="comment">// we do not need to visualize other car that starts &quot;in the future&quot;, so skip</span></div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span> </div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>            <span class="keywordflow">if</span> (rclcpp::Time(curr_cav.markers[0].header.stamp) &gt; rclcpp::Time(host_marker.markers[0].header.stamp) || </div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>            curr_cav.markers[0].action == visualization_msgs::msg::Marker::DELETE)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>            {</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>            }</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>            <span class="comment">// this marker is outdated, drop</span></div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span> </div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>            rclcpp::Time curr_cav_marker_stamp(curr_cav.markers.back().header.stamp);</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>            rclcpp::Time host_marker_stamp(host_marker.markers[0].header.stamp);</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>            </div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span> </div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>            <span class="keywordflow">if</span> (curr_cav_marker_stamp + rclcpp::Duration(time_step * 1e9) &lt; host_marker_stamp){</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>            }</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>            </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>            <span class="comment">// skip points until the idx to start interpolating</span></div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>            <span class="keywordflow">while</span> (curr_idx &lt; curr_cav.markers.size() &amp;&amp; rclcpp::Time(curr_cav.markers[curr_idx].header.stamp) &lt;= rclcpp::Time(host_marker.markers[0].header.stamp))</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>            { </div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>                curr_idx++;</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            }</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>            </div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            curr_idx -= 1; <span class="comment">// carma_v2x_msg stamp is before that of host now</span></div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>            <span class="comment">// interpolate position to match the starting time (dt &lt; time_step)</span></div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>            </div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>            <span class="keywordflow">if</span> (curr_idx &lt; 0 )</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>                curr_idx = 0;</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>                </div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>            <span class="keywordtype">double</span> dt = (rclcpp::Time(host_marker.markers[0].header.stamp) - rclcpp::Time(curr_cav.markers[curr_idx].header.stamp)).seconds();</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>            </div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>            rclcpp::Time curr_time(host_marker.markers[0].header.stamp);</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>            </div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>            <span class="comment">// only update start_point of each arrow type marker for now</span></div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span> </div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>            <span class="keywordflow">while</span> (curr_idx &lt; curr_cav.markers.size())</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>            {</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>                <span class="keywordflow">if</span> (curr_cav.markers[curr_idx].action == visualization_msgs::msg::Marker::DELETE)</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span> </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>                visualization_msgs::msg::Marker curr_marker = curr_cav.markers[curr_idx]; <span class="comment">//copy static info</span></div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>                <span class="keywordflow">if</span> (dt != 0.0 &amp;&amp; !curr_cav.markers[curr_idx].points.empty()) <span class="comment">// if not already synchronized</span></div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                {</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>                    <span class="keywordtype">double</span> dx = (curr_cav.markers[curr_idx].points[1].x - curr_cav.markers[curr_idx].points[0].x)/time_step * dt;</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>                    <span class="keywordtype">double</span> dy = (curr_cav.markers[curr_idx].points[1].y - curr_cav.markers[curr_idx].points[0].y)/time_step * dt;</div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>                    <span class="keywordtype">double</span> dz = (curr_cav.markers[curr_idx].points[1].z - curr_cav.markers[curr_idx].points[0].z)/time_step * dt;</div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span> </div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span>                    curr_marker.points[0].x += dx; </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>                    curr_marker.points[0].y += dy;</div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span>                    curr_marker.points[0].z += dz;</div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span> </div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span>                } <span class="comment">//else just loop and copy</span></div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>                curr_marker.header.stamp = curr_time;</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>                synchronized_marker_array.markers.push_back(curr_marker);</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>                curr_idx ++;</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>                curr_time += rclcpp::Duration(time_step, 0.0);</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>            }</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span> </div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>            curr_idx = 0; <span class="comment">// resetting idx to work on new, synchronized list</span></div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span> </div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span>            </div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span>            <span class="comment">// update end_point of each arrow type marker, except that of last point</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span>            <span class="keywordflow">while</span> (curr_idx &lt; synchronized_marker_array.markers.size()-1)</div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span>            {</div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span>                <span class="keywordflow">if</span> (curr_cav.markers[curr_idx].action == visualization_msgs::msg::Marker::DELETE)</div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span>                    </div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span>                <span class="keywordflow">if</span> (!synchronized_marker_array.markers[curr_idx].points.empty())</div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span>                    synchronized_marker_array.markers[curr_idx].points[1] = synchronized_marker_array.markers[curr_idx + 1].points[0];</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>                curr_idx ++;</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>            }</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span> </div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>            <span class="keywordflow">if</span> (!synchronized_marker_array.markers[curr_idx].points.empty())</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>            {</div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span>                <span class="comment">// extrapolate the last point just to conform with 0.1s interval between points</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span>                <span class="keywordtype">double</span> dx = (synchronized_marker_array.markers[curr_idx].points[1].x - synchronized_marker_array.markers[curr_idx].points[0].x)/(time_step - dt) * time_step;</div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span>                <span class="keywordtype">double</span> dy = (synchronized_marker_array.markers[curr_idx].points[1].y - synchronized_marker_array.markers[curr_idx].points[0].y)/(time_step - dt) * time_step;</div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span>                <span class="keywordtype">double</span> dz = (synchronized_marker_array.markers[curr_idx].points[1].z - synchronized_marker_array.markers[curr_idx].points[0].z)/(time_step - dt) * time_step;</div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span> </div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span>                synchronized_marker_array.markers[curr_idx].points[1].x = synchronized_marker_array.markers[curr_idx].points[0].x + dx; </div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span>                synchronized_marker_array.markers[curr_idx].points[1].y = synchronized_marker_array.markers[curr_idx].points[0].y + dy;</div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span>                synchronized_marker_array.markers[curr_idx].points[1].z = synchronized_marker_array.markers[curr_idx].points[0].z + dz; </div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span> </div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span>            }</div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span>            </div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span>            synchronized_output.push_back(synchronized_marker_array);</div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span>            </div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span>        }</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span> </div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>        <span class="keywordflow">return</span> synchronized_output;</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>    }</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span> </div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>}</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span><span class="preprocessor">#include &quot;rclcpp_components/register_node_macro.hpp&quot;</span></div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span> </div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span><span class="comment">// Register the component with class_loader</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span>RCLCPP_COMPONENTS_REGISTER_NODE(<a class="code hl_class" href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html">mobilitypath_visualizer::MobilityPathVisualizer</a>)</div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html">mobilitypath_visualizer::MobilityPathVisualizer</a></div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00047">mobilitypath_visualizer.hpp:48</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a0e1e51e9c9eb07ccdd2d65b1c5f96756"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a0e1e51e9c9eb07ccdd2d65b1c5f96756">mobilitypath_visualizer::MobilityPathVisualizer::timer_</a></div><div class="ttdeci">rclcpp::TimerBase::SharedPtr timer_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00128">mobilitypath_visualizer.hpp:128</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a166815c772d6628e2deb95d25199f81d"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a166815c772d6628e2deb95d25199f81d">mobilitypath_visualizer::MobilityPathVisualizer::label_marker_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; visualization_msgs::msg::MarkerArray &gt; label_marker_pub_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00113">mobilitypath_visualizer.hpp:113</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a1a942404c71e8ae209b63cca536ee5ff"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1a942404c71e8ae209b63cca536ee5ff">mobilitypath_visualizer::MobilityPathVisualizer::composeLabelMarker</a></div><div class="ttdeci">visualization_msgs::msg::MarkerArray composeLabelMarker(const visualization_msgs::msg::MarkerArray &amp;host_marker, const std::vector&lt; visualization_msgs::msg::MarkerArray &gt; &amp;cav_markers) const</div><div class="ttdoc">Compose a label marker that displays whether if any of the cav's path cross with that of host (respec...</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00276">mobilitypath_visualizer.cpp:276</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a1fa3f7c6121a1810f8cd1acbc3ee86f9"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a1fa3f7c6121a1810f8cd1acbc3ee86f9">mobilitypath_visualizer::MobilityPathVisualizer::latest_cav_mob_path_msg_</a></div><div class="ttdeci">std::unordered_map&lt; std::string, carma_v2x_msgs::msg::MobilityPath &gt; latest_cav_mob_path_msg_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00135">mobilitypath_visualizer.hpp:135</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a204f1f59397827eff2b5b376fd16cc7a"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a204f1f59397827eff2b5b376fd16cc7a">mobilitypath_visualizer::MobilityPathVisualizer::handle_on_configure</a></div><div class="ttdeci">carma_ros2_utils::CallbackReturn handle_on_configure(const rclcpp_lifecycle::State &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00052">mobilitypath_visualizer.cpp:52</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a20f89e002d7ca5f7b900d20eef146117"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a20f89e002d7ca5f7b900d20eef146117">mobilitypath_visualizer::MobilityPathVisualizer::cav_mob_path_sub_</a></div><div class="ttdeci">carma_ros2_utils::SubPtr&lt; carma_v2x_msgs::msg::MobilityPath &gt; cav_mob_path_sub_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00117">mobilitypath_visualizer.hpp:117</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a23c52ebd960df148f57175d0beb528f7"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a23c52ebd960df148f57175d0beb528f7">mobilitypath_visualizer::MobilityPathVisualizer::georeference_sub_</a></div><div class="ttdeci">carma_ros2_utils::SubPtr&lt; std_msgs::msg::String &gt; georeference_sub_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00118">mobilitypath_visualizer.hpp:118</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a42df0dff4d0238cbc9efdb8f6ce2c468"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a42df0dff4d0238cbc9efdb8f6ce2c468">mobilitypath_visualizer::MobilityPathVisualizer::host_marker_</a></div><div class="ttdeci">visualization_msgs::msg::MarkerArray host_marker_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00138">mobilitypath_visualizer.hpp:138</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a430f0c901d9e30cbf1eaf0a185fe5f04"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a430f0c901d9e30cbf1eaf0a185fe5f04">mobilitypath_visualizer::MobilityPathVisualizer::matchTrajectoryTimestamps</a></div><div class="ttdeci">std::vector&lt; visualization_msgs::msg::MarkerArray &gt; matchTrajectoryTimestamps(const visualization_msgs::msg::MarkerArray &amp;host_marker, const std::vector&lt; visualization_msgs::msg::MarkerArray &gt; &amp;cav_markers) const</div><div class="ttdoc">Matches timestamps of CAV's individual points of cav_markers to that of host_marker and interpolates ...</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00340">mobilitypath_visualizer.cpp:340</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a4b004687a8b77e6a7ab471bbdd692b1d"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a4b004687a8b77e6a7ab471bbdd692b1d">mobilitypath_visualizer::MobilityPathVisualizer::prev_marker_list_size_</a></div><div class="ttdeci">std::unordered_map&lt; std::string, size_t &gt; prev_marker_list_size_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00143">mobilitypath_visualizer.hpp:143</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a591459260d6b4b8d9f2063557478945d"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a591459260d6b4b8d9f2063557478945d">mobilitypath_visualizer::MobilityPathVisualizer::cav_marker_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; visualization_msgs::msg::MarkerArray &gt; cav_marker_pub_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00112">mobilitypath_visualizer.hpp:112</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a5b8020d61dc6563c611dc41866600787"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a5b8020d61dc6563c611dc41866600787">mobilitypath_visualizer::MobilityPathVisualizer::label_marker_</a></div><div class="ttdeci">visualization_msgs::msg::MarkerArray label_marker_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00140">mobilitypath_visualizer.hpp:140</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a6551c01802644a81dc488038c7c071a7"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a6551c01802644a81dc488038c7c071a7">mobilitypath_visualizer::MobilityPathVisualizer::host_marker_received_</a></div><div class="ttdeci">bool host_marker_received_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00144">mobilitypath_visualizer.hpp:144</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a7466020e5617f0b7c8f0aaa4e79fdfc4"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a7466020e5617f0b7c8f0aaa4e79fdfc4">mobilitypath_visualizer::MobilityPathVisualizer::timer_callback</a></div><div class="ttdeci">void timer_callback()</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00096">mobilitypath_visualizer.cpp:96</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a8b4b171373cecbc7cdf7e1267ecea0fa"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a8b4b171373cecbc7cdf7e1267ecea0fa">mobilitypath_visualizer::MobilityPathVisualizer::MobilityPathVisualizer</a></div><div class="ttdeci">MobilityPathVisualizer(const rclcpp::NodeOptions &amp;)</div><div class="ttdoc">Constructor.</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00036">mobilitypath_visualizer.cpp:36</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a9597747489eb21098a98d294183fb95b"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9597747489eb21098a98d294183fb95b">mobilitypath_visualizer::MobilityPathVisualizer::cav_markers_</a></div><div class="ttdeci">std::vector&lt; visualization_msgs::msg::MarkerArray &gt; cav_markers_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00139">mobilitypath_visualizer.hpp:139</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a963c8fe28c4b663aa5746ff87aa11987"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a963c8fe28c4b663aa5746ff87aa11987">mobilitypath_visualizer::MobilityPathVisualizer::handle_on_activate</a></div><div class="ttdeci">carma_ros2_utils::CallbackReturn handle_on_activate(const rclcpp_lifecycle::State &amp;)</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00087">mobilitypath_visualizer.cpp:87</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_a9bbace9dcd2b48e3bb168e08b58ddf73"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#a9bbace9dcd2b48e3bb168e08b58ddf73">mobilitypath_visualizer::MobilityPathVisualizer::ECEFToMapPoint</a></div><div class="ttdeci">geometry_msgs::msg::Point ECEFToMapPoint(const carma_v2x_msgs::msg::LocationECEF &amp;ecef_point) const</div><div class="ttdoc">Accepts ECEF point in cm to convert to a point in map in meters.</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00259">mobilitypath_visualizer.cpp:259</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_aaa16900341b515df0357067e0a9319ed"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaa16900341b515df0357067e0a9319ed">mobilitypath_visualizer::MobilityPathVisualizer::composeVisualizationMarker</a></div><div class="ttdeci">visualization_msgs::msg::MarkerArray composeVisualizationMarker(const carma_v2x_msgs::msg::MobilityPath &amp;msg, const MarkerColor &amp;color)</div><div class="ttdoc">Compose a visualization marker for mobilitypath messages.</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00171">mobilitypath_visualizer.cpp:171</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_aaaaa1780d1a10558cf98847664d99410"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aaaaa1780d1a10558cf98847664d99410">mobilitypath_visualizer::MobilityPathVisualizer::callbackMobilityPath</a></div><div class="ttdeci">void callbackMobilityPath(carma_v2x_msgs::msg::MobilityPath::UniquePtr msg)</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00124">mobilitypath_visualizer.cpp:124</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_aadb3e34799f0b6eff02dd9739d41b6dd"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#aadb3e34799f0b6eff02dd9739d41b6dd">mobilitypath_visualizer::MobilityPathVisualizer::config_</a></div><div class="ttdeci">Config config_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00125">mobilitypath_visualizer.hpp:125</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_ab4fe29c61b6997ff7f6c2dc947498150"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#ab4fe29c61b6997ff7f6c2dc947498150">mobilitypath_visualizer::MobilityPathVisualizer::map_projector_</a></div><div class="ttdeci">std::shared_ptr&lt; lanelet::projection::LocalFrameProjector &gt; map_projector_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00123">mobilitypath_visualizer.hpp:123</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_acb14b6391ec1795ef22c6efd3dd211b2"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#acb14b6391ec1795ef22c6efd3dd211b2">mobilitypath_visualizer::MobilityPathVisualizer::georeferenceCallback</a></div><div class="ttdeci">void georeferenceCallback(std_msgs::msg::String::UniquePtr msg)</div><div class="ttdoc">Callback for map projection string to define lat/lon -&gt; map conversion.</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00119">mobilitypath_visualizer.cpp:119</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_af689219edb7702a1285164691e39ba00"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#af689219edb7702a1285164691e39ba00">mobilitypath_visualizer::MobilityPathVisualizer::host_marker_pub_</a></div><div class="ttdeci">carma_ros2_utils::PubPtr&lt; visualization_msgs::msg::MarkerArray &gt; host_marker_pub_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00111">mobilitypath_visualizer.hpp:111</a></div></div>
<div class="ttc" id="aclassmobilitypath__visualizer_1_1MobilityPathVisualizer_html_afbace617e1bb232c1766791317d64d42"><div class="ttname"><a href="classmobilitypath__visualizer_1_1MobilityPathVisualizer.html#afbace617e1bb232c1766791317d64d42">mobilitypath_visualizer::MobilityPathVisualizer::host_mob_path_sub_</a></div><div class="ttdeci">carma_ros2_utils::SubPtr&lt; carma_v2x_msgs::msg::MobilityPath &gt; host_mob_path_sub_</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00116">mobilitypath_visualizer.hpp:116</a></div></div>
<div class="ttc" id="amobilitypath__visualizer_8hpp_html"><div class="ttname"><a href="mobilitypath__visualizer_8hpp.html">mobilitypath_visualizer.hpp</a></div></div>
<div class="ttc" id="anamespacecarma__cooperative__perception_html_a64b708654c8aecb09122d39577df31b5"><div class="ttname"><a href="namespacecarma__cooperative__perception.html#a64b708654c8aecb09122d39577df31b5">carma_cooperative_perception::to_string</a></div><div class="ttdeci">auto to_string(const UtmZone &amp;zone) -&gt; std::string</div><div class="ttdef"><b>Definition:</b> <a href="utm__zone_8cpp_source.html#l00021">utm_zone.cpp:21</a></div></div>
<div class="ttc" id="anamespacemobilitypath__visualizer_1_1anonymous__namespace_02mobilitypath__visualizer_8cpp_03_html_a296ac0098090f3bbf9fa58e022ae1917"><div class="ttname"><a href="namespacemobilitypath__visualizer_1_1anonymous__namespace_02mobilitypath__visualizer_8cpp_03.html#a296ac0098090f3bbf9fa58e022ae1917">mobilitypath_visualizer::anonymous_namespace{mobilitypath_visualizer.cpp}::compute_2d_distance</a></div><div class="ttdeci">double compute_2d_distance(const geometry_msgs::msg::Point &amp;pt1, const geometry_msgs::msg::Point &amp;pt2)</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8cpp_source.html#l00026">mobilitypath_visualizer.cpp:26</a></div></div>
<div class="ttc" id="anamespacemobilitypath__visualizer_html"><div class="ttname"><a href="namespacemobilitypath__visualizer.html">mobilitypath_visualizer</a></div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00033">mobilitypath_visualizer.hpp:33</a></div></div>
<div class="ttc" id="anamespaceprocess__bag_html_af102a02c97622dd30b0dbf7bafb0d199"><div class="ttname"><a href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">process_bag.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="process__bag_8py_source.html#l00059">process_bag.py:59</a></div></div>
<div class="ttc" id="astdint_8h_html_ab1967d8591af1a4e48c37fd2b0f184d0"><div class="ttname"><a href="stdint_8h.html#ab1967d8591af1a4e48c37fd2b0f184d0">int32_t</a></div><div class="ttdeci">signed int int32_t</div><div class="ttdef"><b>Definition:</b> <a href="stdint_8h_source.html#l00123">stdint.h:123</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1Config_html"><div class="ttname"><a href="structmobilitypath__visualizer_1_1Config.html">mobilitypath_visualizer::Config</a></div><div class="ttdoc">Stuct containing the algorithm configuration values for &lt;package_name&gt;</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer__config_8hpp_source.html#l00028">mobilitypath_visualizer_config.hpp:29</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1Config_html_a1715494011f3131c3f588377c0230fc0"><div class="ttname"><a href="structmobilitypath__visualizer_1_1Config.html#a1715494011f3131c3f588377c0230fc0">mobilitypath_visualizer::Config::timer_cb_rate</a></div><div class="ttdeci">int timer_cb_rate</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer__config_8hpp_source.html#l00030">mobilitypath_visualizer_config.hpp:30</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1Config_html_a868240d48879600fb48658c1516e02ec"><div class="ttname"><a href="structmobilitypath__visualizer_1_1Config.html#a868240d48879600fb48658c1516e02ec">mobilitypath_visualizer::Config::host_id</a></div><div class="ttdeci">std::string host_id</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer__config_8hpp_source.html#l00035">mobilitypath_visualizer_config.hpp:35</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1Config_html_ad0afccec8966c90196e40e60f115882c"><div class="ttname"><a href="structmobilitypath__visualizer_1_1Config.html#ad0afccec8966c90196e40e60f115882c">mobilitypath_visualizer::Config::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer__config_8hpp_source.html#l00031">mobilitypath_visualizer_config.hpp:31</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1Config_html_af376c3b59af95857479404205f36d782"><div class="ttname"><a href="structmobilitypath__visualizer_1_1Config.html#af376c3b59af95857479404205f36d782">mobilitypath_visualizer::Config::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer__config_8hpp_source.html#l00032">mobilitypath_visualizer_config.hpp:32</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1Config_html_afd7b955df119d9f83a23ffadce511e37"><div class="ttname"><a href="structmobilitypath__visualizer_1_1Config.html#afd7b955df119d9f83a23ffadce511e37">mobilitypath_visualizer::Config::z</a></div><div class="ttdeci">double z</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer__config_8hpp_source.html#l00033">mobilitypath_visualizer_config.hpp:33</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1Config_html_affe1e0f398dd1cce7a23bbe7c455d102"><div class="ttname"><a href="structmobilitypath__visualizer_1_1Config.html#affe1e0f398dd1cce7a23bbe7c455d102">mobilitypath_visualizer::Config::t</a></div><div class="ttdeci">double t</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer__config_8hpp_source.html#l00034">mobilitypath_visualizer_config.hpp:34</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1MarkerColor_html"><div class="ttname"><a href="structmobilitypath__visualizer_1_1MarkerColor.html">mobilitypath_visualizer::MarkerColor</a></div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00040">mobilitypath_visualizer.hpp:41</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1MarkerColor_html_a09d36f41edc9b58331aa05d41cf0a546"><div class="ttname"><a href="structmobilitypath__visualizer_1_1MarkerColor.html#a09d36f41edc9b58331aa05d41cf0a546">mobilitypath_visualizer::MarkerColor::red</a></div><div class="ttdeci">double red</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00042">mobilitypath_visualizer.hpp:42</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1MarkerColor_html_a0ab5581a32ec44093fc7e48df3d57c21"><div class="ttname"><a href="structmobilitypath__visualizer_1_1MarkerColor.html#a0ab5581a32ec44093fc7e48df3d57c21">mobilitypath_visualizer::MarkerColor::green</a></div><div class="ttdeci">double green</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00043">mobilitypath_visualizer.hpp:43</a></div></div>
<div class="ttc" id="astructmobilitypath__visualizer_1_1MarkerColor_html_ac99f33a489cec50d8fb2b2349a6a91ba"><div class="ttname"><a href="structmobilitypath__visualizer_1_1MarkerColor.html#ac99f33a489cec50d8fb2b2349a6a91ba">mobilitypath_visualizer::MarkerColor::blue</a></div><div class="ttdeci">double blue</div><div class="ttdef"><b>Definition:</b> <a href="mobilitypath__visualizer_8hpp_source.html#l00044">mobilitypath_visualizer.hpp:44</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_9b544eb1e3d8695fecab7b3d3ca75042.html">mobilitypath_visualizer</a></li><li class="navelem"><a class="el" href="dir_72ad64128385889fefa516da8aa2fc84.html">src</a></li><li class="navelem"><a class="el" href="mobilitypath__visualizer_8cpp.html">mobilitypath_visualizer.cpp</a></li>
    <li class="footer">Generated on Mon Apr 29 2024 14:33:05 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
