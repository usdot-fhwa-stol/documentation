<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: lci_strategic_plugin::LCIStrategicPlugin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classlci__strategic__plugin_1_1LCIStrategicPlugin.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classlci__strategic__plugin_1_1LCIStrategicPlugin-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">lci_strategic_plugin::LCIStrategicPlugin Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for lci_strategic_plugin::LCIStrategicPlugin:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin__coll__graph.png" border="0" usemap="#alci__strategic__plugin_1_1LCIStrategicPlugin_coll__map" alt="Collaboration graph"/></div>
<map name="alci__strategic__plugin_1_1LCIStrategicPlugin_coll__map" id="alci__strategic__plugin_1_1LCIStrategicPlugin_coll__map">
<area shape="rect" title=" " alt="" coords="1129,740,1368,2372"/>
<area shape="rect" title=" " alt="" coords="5,453,81,531"/>
<area shape="rect" title=" " alt="" coords="169,453,267,531"/>
<area shape="rect" href="classbool.html" title=" " alt="" coords="355,20,401,97"/>
<area shape="rect" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html" title="Struct to store the configuration settings for the LCIStrategicPlugin class." alt="" coords="614,380,787,604"/>
<area shape="rect" title=" " alt="" coords="515,453,590,531"/>
<area shape="rect" title=" " alt="" coords="1291,20,1345,97"/>
<area shape="rect" title=" " alt="" coords="811,453,881,531"/>
<area shape="rect" title=" " alt="" coords="799,20,859,97"/>
<area shape="rect" title=" " alt="" coords="1077,453,1220,531"/>
<area shape="rect" title=" " alt="" coords="1245,453,1453,531"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html" title="Class defining the state transition table behavior for the LCIStrategic Strategic Plugin." alt="" coords="1653,365,1855,619"/>
<area shape="rect" title=" " alt="" coords="1618,20,1711,97"/>
<area shape="rect" title=" " alt="" coords="1736,5,1951,112"/>
<area shape="rect" title=" " alt="" coords="1879,453,1938,531"/>
<area shape="rect" title=" " alt="" coords="1963,453,2089,531"/>
<area shape="rect" title=" " alt="" coords="2114,453,2170,531"/>
<area shape="rect" title=" " alt="" coords="2195,446,2340,538"/>
<area shape="rect" title=" " alt="" coords="2365,453,2541,531"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct representing a vehicle state for the purposes of planning.  <a href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab23e3861c40411d204d7e09f623ca4e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab23e3861c40411d204d7e09f623ca4e3">LCIStrategicPlugin</a> (<a class="el" href="namespacecarma__wm.html#af4db1afaead7afeb1868ba91a8dfd39a">carma_wm::WorldModelConstPtr</a> wm, <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html">LCIStrategicPluginConfig</a> config)</td></tr>
<tr class="memdesc:ab23e3861c40411d204d7e09f623ca4e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab23e3861c40411d204d7e09f623ca4e3">More...</a><br /></td></tr>
<tr class="separator:ab23e3861c40411d204d7e09f623ca4e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b3f0877902b0153950cf4577e7b6ac0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0">planManeuverCb</a> (cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp)</td></tr>
<tr class="memdesc:a8b3f0877902b0153950cf4577e7b6ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Service callback for arbitrator maneuver planning.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0">More...</a><br /></td></tr>
<tr class="separator:a8b3f0877902b0153950cf4577e7b6ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a304a44e84f14d7ad6d12db3079dba98a"><td class="memItemLeft" align="right" valign="top">cav_msgs::Plugin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a304a44e84f14d7ad6d12db3079dba98a">getDiscoveryMsg</a> () const</td></tr>
<tr class="memdesc:a304a44e84f14d7ad6d12db3079dba98a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current plugin discovery message reflecting system status.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a304a44e84f14d7ad6d12db3079dba98a">More...</a><br /></td></tr>
<tr class="separator:a304a44e84f14d7ad6d12db3079dba98a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d0c867d5697fa8b7a9c43596815d7c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0d0c867d5697fa8b7a9c43596815d7c0">lookupFrontBumperTransform</a> ()</td></tr>
<tr class="memdesc:a0d0c867d5697fa8b7a9c43596815d7c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup transfrom from front bumper to base link.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0d0c867d5697fa8b7a9c43596815d7c0">More...</a><br /></td></tr>
<tr class="separator:a0d0c867d5697fa8b7a9c43596815d7c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe9655c102048ca22d3e02d09d4ae9d8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe9655c102048ca22d3e02d09d4ae9d8">mobilityOperationCb</a> (const cav_msgs::MobilityOperationConstPtr &amp;msg)</td></tr>
<tr class="memdesc:abe9655c102048ca22d3e02d09d4ae9d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">callback function for mobility operation  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe9655c102048ca22d3e02d09d4ae9d8">More...</a><br /></td></tr>
<tr class="separator:abe9655c102048ca22d3e02d09d4ae9d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae29e2decf5406624ff750053a84cd23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aae29e2decf5406624ff750053a84cd23">BSMCb</a> (const cav_msgs::BSMConstPtr &amp;msg)</td></tr>
<tr class="memdesc:aae29e2decf5406624ff750053a84cd23"><td class="mdescLeft">&#160;</td><td class="mdescRight">BSM callback function.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aae29e2decf5406624ff750053a84cd23">More...</a><br /></td></tr>
<tr class="separator:aae29e2decf5406624ff750053a84cd23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912dc09be0b318510a8e50df38f80b10"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10">parseStrategyParams</a> (const std::string &amp;strategy_params)</td></tr>
<tr class="memdesc:a912dc09be0b318510a8e50df38f80b10"><td class="mdescLeft">&#160;</td><td class="mdescRight">parse strategy parameters  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10">More...</a><br /></td></tr>
<tr class="separator:a912dc09be0b318510a8e50df38f80b10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63354d48a82cceed362b725510157bf6"><td class="memItemLeft" align="right" valign="top">cav_msgs::MobilityOperation&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63354d48a82cceed362b725510157bf6">generateMobilityOperation</a> ()</td></tr>
<tr class="memdesc:a63354d48a82cceed362b725510157bf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates Mobility Operation messages.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63354d48a82cceed362b725510157bf6">More...</a><br /></td></tr>
<tr class="separator:a63354d48a82cceed362b725510157bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63f61dae16c63a661de5cff883b6ee2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2">getTurnDirectionAtIntersection</a> (std::vector&lt; lanelet::ConstLanelet &gt; lanelets_list)</td></tr>
<tr class="memdesc:ad63f61dae16c63a661de5cff883b6ee2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the turn direction at intersection.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2">More...</a><br /></td></tr>
<tr class="separator:ad63f61dae16c63a661de5cff883b6ee2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bd7da843391689a01c52b1deff1006c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3bd7da843391689a01c52b1deff1006c">mobilityPubSpin</a> ()</td></tr>
<tr class="memdesc:a3bd7da843391689a01c52b1deff1006c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to call at fixed rate in execution loop. Will publish plugin discovery and mobility operation msgs.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3bd7da843391689a01c52b1deff1006c">More...</a><br /></td></tr>
<tr class="separator:a3bd7da843391689a01c52b1deff1006c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6d0b09a745d928a89a0ae92a95eebff8"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6d0b09a745d928a89a0ae92a95eebff8">mobility_operation_pub</a></td></tr>
<tr class="separator:a6d0b09a745d928a89a0ae92a95eebff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b737710552367a21447be1918ca210"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">intersection_turn_direction_</a> = <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a></td></tr>
<tr class="separator:ab3b737710552367a21447be1918ca210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8247b29655ecc5f132e33c3cad8591d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a> = false</td></tr>
<tr class="separator:ab8247b29655ecc5f132e33c3cad8591d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63ee8ae7daaa5e8a4222a67dcf48366f"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63ee8ae7daaa5e8a4222a67dcf48366f">street_msg_timestamp_</a> = 0</td></tr>
<tr class="separator:a63ee8ae7daaa5e8a4222a67dcf48366f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387a881b43da465efca652474b390b97"><td class="memItemLeft" align="right" valign="top">unsigned long long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> = 0</td></tr>
<tr class="separator:a387a881b43da465efca652474b390b97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8ebae22d31d704cdee82b3efcec263"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aab8ebae22d31d704cdee82b3efcec263">bsm_id_</a> = &quot;default_bsm_id&quot;</td></tr>
<tr class="separator:aab8ebae22d31d704cdee82b3efcec263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01df237e1b50c546b2088036c4a1b477"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a01df237e1b50c546b2088036c4a1b477">bsm_msg_count_</a> = 0</td></tr>
<tr class="separator:a01df237e1b50c546b2088036c4a1b477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cb9188fd1f5f4330fdf8ef3e571a78"><td class="memItemLeft" align="right" valign="top"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21cb9188fd1f5f4330fdf8ef3e571a78">bsm_sec_mark_</a> = 0</td></tr>
<tr class="separator:a21cb9188fd1f5f4330fdf8ef3e571a78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c3d9cd3a128d8bb9cab61d68991806"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273b">TSCase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">case_num_</a> = TSCase::UNAVAILABLE</td></tr>
<tr class="memdesc:a66c3d9cd3a128d8bb9cab61d68991806"><td class="mdescLeft">&#160;</td><td class="mdescRight">Useful metrics for LCI Plugin.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">More...</a><br /></td></tr>
<tr class="separator:a66c3d9cd3a128d8bb9cab61d68991806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf73e3ba365c4fa683912f0bf17143bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273b">TSCase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = TSCase::UNAVAILABLE</td></tr>
<tr class="separator:adf73e3ba365c4fa683912f0bf17143bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb96553dc6acf995b4de2db46998856"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">distance_remaining_to_tf_</a> = 0.0</td></tr>
<tr class="separator:a8fb96553dc6acf995b4de2db46998856"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad58c69bcf68ab67c8d15fd91d46fcb87"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad58c69bcf68ab67c8d15fd91d46fcb87">earliest_entry_time_</a> = 0.0</td></tr>
<tr class="separator:ad58c69bcf68ab67c8d15fd91d46fcb87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8d7dbe5783d3b96fdc46a6f91cf6ae9"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">scheduled_entry_time_</a> = 0.0</td></tr>
<tr class="separator:ad8d7dbe5783d3b96fdc46a6f91cf6ae9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a839f2a50a5289df5b243a8355850539a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a839f2a50a5289df5b243a8355850539a">planWhenUNAVAILABLE</a> (const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</td></tr>
<tr class="memdesc:a839f2a50a5289df5b243a8355850539a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">TransitState::UNAVAILABLE</a> Therefor no maneuvers are planned but the system checks for the precense of traffic lights ahead of it.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a839f2a50a5289df5b243a8355850539a">More...</a><br /></td></tr>
<tr class="separator:a839f2a50a5289df5b243a8355850539a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb5f42d9458f7c1e4b7c87310c015059"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059">planWhenAPPROACHING</a> (const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</td></tr>
<tr class="memdesc:adb5f42d9458f7c1e4b7c87310c015059"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">TransitState::APPROACHING</a> Therefore the planned maneuvers deal with approaching a traffic light.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059">More...</a><br /></td></tr>
<tr class="separator:adb5f42d9458f7c1e4b7c87310c015059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8e8b761da49c63e31877814d247005d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d">planWhenWAITING</a> (const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</td></tr>
<tr class="memdesc:ad8e8b761da49c63e31877814d247005d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">TransitState::WAITING</a> Therefor the planned maneuvers deal with waiting at a red light.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d">More...</a><br /></td></tr>
<tr class="separator:ad8e8b761da49c63e31877814d247005d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233112b93d2ee04c2f149e46f62832e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a233112b93d2ee04c2f149e46f62832e2">planWhenDEPARTING</a> (const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, double intersection_end_downtrack, double intersection_speed_limit)</td></tr>
<tr class="memdesc:a233112b93d2ee04c2f149e46f62832e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">TransitState::DEPARTING</a> Therefor the planned maneuvers deal with the transit of the intersection once the stop bar has been crossed.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a233112b93d2ee04c2f149e46f62832e2">More...</a><br /></td></tr>
<tr class="separator:a233112b93d2ee04c2f149e46f62832e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0dfe4121507c3080e3d21dd1244bec9"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9">canArriveAtGreenWithCertainty</a> (const ros::Time &amp;light_arrival_time_by_algo, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, <a class="el" href="classbool.html">bool</a> check_late, <a class="el" href="classbool.html">bool</a> check_early) const</td></tr>
<tr class="memdesc:ad0dfe4121507c3080e3d21dd1244bec9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the car can arrive at given arrival time within green light time buffer.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9">More...</a><br /></td></tr>
<tr class="separator:ad0dfe4121507c3080e3d21dd1244bec9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7510c02543b0ac9b818c5f292dda4622"><td class="memItemLeft" align="right" valign="top">cav_msgs::Maneuver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622">composeTrajectorySmoothingManeuverMessage</a> (double start_dist, double end_dist, const std::vector&lt; lanelet::ConstLanelet &gt; &amp;crossed_lanelets, double start_speed, double target_speed, ros::Time start_time, ros::Time end_time, const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;tsp) const</td></tr>
<tr class="memdesc:a7510c02543b0ac9b818c5f292dda4622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622">More...</a><br /></td></tr>
<tr class="separator:a7510c02543b0ac9b818c5f292dda4622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8528301c6bda50dde4d55e64ec02e7f1"><td class="memItemLeft" align="right" valign="top">cav_msgs::Maneuver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1">composeStopAndWaitManeuverMessage</a> (double current_dist, double end_dist, double start_speed, const lanelet::Id &amp;starting_lane_id, const lanelet::Id &amp;ending_lane_id, ros::Time start_time, ros::Time end_time, double stopping_accel) const</td></tr>
<tr class="memdesc:a8528301c6bda50dde4d55e64ec02e7f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compose a stop and wait maneuver message based on input params.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1">More...</a><br /></td></tr>
<tr class="separator:a8528301c6bda50dde4d55e64ec02e7f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e4ecab9f1255d861d20fd21c2b5bdd6"><td class="memItemLeft" align="right" valign="top">cav_msgs::Maneuver&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6">composeIntersectionTransitMessage</a> (double start_dist, double end_dist, double start_speed, double target_speed, ros::Time start_time, ros::Time end_time, const lanelet::Id &amp;starting_lane_id, const lanelet::Id &amp;ending_lane_id) const</td></tr>
<tr class="memdesc:a5e4ecab9f1255d861d20fd21c2b5bdd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compose a intersection transit maneuver message based on input params.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6">More...</a><br /></td></tr>
<tr class="separator:a5e4ecab9f1255d861d20fd21c2b5bdd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d84312c63db263a897386c0d026ea75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75">handleStopping</a> (const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet, double traffic_light_down_track)</td></tr>
<tr class="memdesc:a5d84312c63db263a897386c0d026ea75"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping distance. Given the initial speed, ending speed (which is 0), and remaining_downtrack, this function checks if calculated remaining_time falls on RED.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75">More...</a><br /></td></tr>
<tr class="separator:a5d84312c63db263a897386c0d026ea75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a024c31e2b9b9e8d28432d2a4f45c8de6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6">handleGreenSignalScenario</a> (const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, double current_state_speed, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, double traffic_light_down_track, const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;ts_params, <a class="el" href="classbool.html">bool</a> is_certainty_check_optional)</td></tr>
<tr class="memdesc:a024c31e2b9b9e8d28432d2a4f45c8de6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing parameters to go through the intersection with certainty It utilizes canMakeWithCertainty function to determine if it is able to make it. Corresponds to TSCase 1-7.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6">More...</a><br /></td></tr>
<tr class="separator:a024c31e2b9b9e8d28432d2a4f45c8de6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67c17100cc53d332a913ee8f2359df5c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c">handleCruisingUntilStop</a> (const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, double current_state_speed, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double traffic_light_down_track, const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;ts_params)</td></tr>
<tr class="memdesc:a67c17100cc53d332a913ee8f2359df5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing parameters to go through the intersection with certainty It utilizes canMakeWithCertainty function to determine if it is able to make it. Corresponds to TSCase 1-7.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c">More...</a><br /></td></tr>
<tr class="separator:a67c17100cc53d332a913ee8f2359df5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a51dd7dd6c01bb54304a62d482a2e70"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70">handleFailureCase</a> (const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;current_state, double current_state_speed, double speed_limit, double remaining_time, lanelet::Id exit_lanelet_id, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double traffic_light_down_track, const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;ts_params)</td></tr>
<tr class="memdesc:a3a51dd7dd6c01bb54304a62d482a2e70"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the vehicle is not able to successfully run the algorithm or not able to stop, this function modifies departure speed as close as possible to the original using max comfortable accelerations with given distance.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70">More...</a><br /></td></tr>
<tr class="separator:a3a51dd7dd6c01bb54304a62d482a2e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f7fc780ada2600048d45cc5451cf2af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7f7fc780ada2600048d45cc5451cf2af">handleFailureCaseHelper</a> (double starting_speed, double departure_speed, double speed_limit, double remaining_downtrack, double remaining_time, double traffic_light_downtrack)</td></tr>
<tr class="memdesc:a7f7fc780ada2600048d45cc5451cf2af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to handleFailureCase that modifies ts_params to desired new parameters. See handleFailureCase.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7f7fc780ada2600048d45cc5451cf2af">More...</a><br /></td></tr>
<tr class="separator:a7f7fc780ada2600048d45cc5451cf2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf733561a0ca72170d664f4414f624e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">supportedLightState</a> (lanelet::CarmaTrafficSignalState state) const</td></tr>
<tr class="memdesc:aedf733561a0ca72170d664f4414f624e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to evaluate if the given traffic light state is supported by this plugin.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">More...</a><br /></td></tr>
<tr class="separator:aedf733561a0ca72170d664f4414f624e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23192777055fbb632e0676e56a2d182e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">validLightState</a> (const boost::optional&lt; std::pair&lt; boost::posix_time::ptime, lanelet::CarmaTrafficSignalState &gt; &gt; &amp;optional_state, const ros::Time &amp;source_time) const</td></tr>
<tr class="memdesc:a23192777055fbb632e0676e56a2d182e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method that checks both if the input optional light state is set and if the state it contains is supported via supportedLightState.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">More...</a><br /></td></tr>
<tr class="separator:a23192777055fbb632e0676e56a2d182e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6220e6c98770c3ccf99e34e5b1d8c16"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab6220e6c98770c3ccf99e34e5b1d8c16">extractInitialState</a> (const cav_srvs::PlanManeuversRequest &amp;req) const</td></tr>
<tr class="memdesc:ab6220e6c98770c3ccf99e34e5b1d8c16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to extract the initial vehicle state from the planning request method based on if the prior_plan was set or not.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab6220e6c98770c3ccf99e34e5b1d8c16">More...</a><br /></td></tr>
<tr class="separator:ab6220e6c98770c3ccf99e34e5b1d8c16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dd0000bcaf1d2028aeef57416f7c429"><td class="memItemLeft" align="right" valign="top">std::vector&lt; lanelet::ConstLanelet &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a> (double start_downtrack, double end_downtrack, <a class="el" href="classbool.html">bool</a> shortest_path_only=false, <a class="el" href="classbool.html">bool</a> bounds_inclusive=true) const</td></tr>
<tr class="memdesc:a7dd0000bcaf1d2028aeef57416f7c429"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack, end_downtrack, shortest_path_only,
bounds_inclusive) and throws and exception if the returned list of lanelets is empty. See the referenced method for additional details on parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">More...</a><br /></td></tr>
<tr class="separator:a7dd0000bcaf1d2028aeef57416f7c429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a354e00aef231534da6af36c6722b8c8f"><td class="memItemLeft" align="right" valign="top">ros::Time&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a354e00aef231534da6af36c6722b8c8f">get_nearest_green_entry_time</a> (const ros::Time &amp;current_time, const ros::Time &amp;earliest_entry_time, lanelet::CarmaTrafficSignalPtr signal, double minimum_required_green_time=0.0) const</td></tr>
<tr class="memdesc:a354e00aef231534da6af36c6722b8c8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest possible entry time that is during green phase and after timestamps both that is kinematically possible and required times for vehicle in front to pass through first.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a354e00aef231534da6af36c6722b8c8f">More...</a><br /></td></tr>
<tr class="separator:a354e00aef231534da6af36c6722b8c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a146dad761ed5158d0d6371f7335c4888"><td class="memItemLeft" align="right" valign="top">ros::Duration&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888">get_earliest_entry_time</a> (double remaining_distance, double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:a146dad761ed5158d0d6371f7335c4888"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the earliest entry time into the intersection that is kinematically possible for the vehicle. Designed to get it for motion that has maximum one acceleration, deceleration, or cruise segments until destination.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888">More...</a><br /></td></tr>
<tr class="separator:a146dad761ed5158d0d6371f7335c4888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8cd0f3ccdcf467ef946dabd04308b21"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa8cd0f3ccdcf467ef946dabd04308b21">get_trajectory_smoothing_activation_distance</a> (double time_remaining_at_free_flow, double full_cycle_duration, double current_speed, double speed_limit, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:aa8cd0f3ccdcf467ef946dabd04308b21"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets maximum distance (nearest downtrack) the trajectory smoothing algorithm makes difference than simple lane following within half of one full fixed cycle time boundary compared to free flow arrival time.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa8cd0f3ccdcf467ef946dabd04308b21">More...</a><br /></td></tr>
<tr class="separator:aa8cd0f3ccdcf467ef946dabd04308b21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1677e95026e7023261613dd84ee82ef0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">get_distance_to_accel_or_decel_twice</a> (double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:a1677e95026e7023261613dd84ee82ef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get required distance to accel then decel, or vise versa - each at least once - to reach departure_speed with given speed and acceleration parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">More...</a><br /></td></tr>
<tr class="separator:a1677e95026e7023261613dd84ee82ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa64916c2b9a3b7eedc359c68931f967c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c">get_inflection_speed_value</a> (double x, double x1, double x2, double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:aa64916c2b9a3b7eedc359c68931f967c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the speed between the acceleration and deceleration pieces.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c">More...</a><br /></td></tr>
<tr class="separator:aa64916c2b9a3b7eedc359c68931f967c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bd4aa59c217c225a29fcf2d6c3552d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">get_distance_to_accel_or_decel_once</a> (double current_speed, double departure_speed, double max_accel, double max_decel) const</td></tr>
<tr class="memdesc:aa2bd4aa59c217c225a29fcf2d6c3552d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get required distance to accel or decel to reach departure_speed with given speed and acceleration parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">More...</a><br /></td></tr>
<tr class="separator:aa2bd4aa59c217c225a29fcf2d6c3552d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace9fb36575ef6b54f01291ef8cf1d697"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a> (double v, double <a class="el" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>) const</td></tr>
<tr class="memdesc:ace9fb36575ef6b54f01291ef8cf1d697"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">More...</a><br /></td></tr>
<tr class="separator:ace9fb36575ef6b54f01291ef8cf1d697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aab46a940b62eccd2804c646342ac0c"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">estimate_time_to_stop</a> (double d, double v) const</td></tr>
<tr class="memdesc:a1aab46a940b62eccd2804c646342ac0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to use basic kinematics to compute an estimated stopping time from from the inputs.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">More...</a><br /></td></tr>
<tr class="separator:a1aab46a940b62eccd2804c646342ac0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a26d736705389e017c4c41097806e90"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a> (const lanelet::ConstLanelet &amp;llt) const</td></tr>
<tr class="memdesc:a3a26d736705389e017c4c41097806e90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a Lanelet, find it's associated Speed Limit.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">More...</a><br /></td></tr>
<tr class="separator:a3a26d736705389e017c4c41097806e90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6a47bf53ae1095e72df145bf6903d3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">calc_estimated_entry_time_left</a> (double entry_dist, double current_speed, double departure_speed) const</td></tr>
<tr class="memdesc:a3f6a47bf53ae1095e72df145bf6903d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">calculate the time vehicle will enter to intersection with optimal deceleration  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">More...</a><br /></td></tr>
<tr class="separator:a3f6a47bf53ae1095e72df145bf6903d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14874ac18eac605f9285d965fee1e7d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5">get_delta_x</a> (double v0, double v1, double v_max, double v_min, double a_max, double a_min)</td></tr>
<tr class="memdesc:a14874ac18eac605f9285d965fee1e7d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get boundary distances used to compare against current state in order to create trajectory smoothing parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5">More...</a><br /></td></tr>
<tr class="separator:a14874ac18eac605f9285d965fee1e7d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf303b014faf0df91b93e2a7a37df9a8"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8">get_boundary_traj_params</a> (double t, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx, <a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a> boundary_distances)</td></tr>
<tr class="memdesc:adf303b014faf0df91b93e2a7a37df9a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get all possible trajectory smoothing parameters for each segments. Later this will be used to generate a single trajectory.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8">More...</a><br /></td></tr>
<tr class="separator:adf303b014faf0df91b93e2a7a37df9a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90783dcf3764851270354a58d81c27c1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a> (<a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> params)</td></tr>
<tr class="memdesc:a90783dcf3764851270354a58d81c27c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to print <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">More...</a><br /></td></tr>
<tr class="separator:a90783dcf3764851270354a58d81c27c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31009ebcfe2704b9ee0562e1b9fb2a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0">print_boundary_distances</a> (<a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a> delta_xs)</td></tr>
<tr class="memdesc:ae31009ebcfe2704b9ee0562e1b9fb2a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to print <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0">More...</a><br /></td></tr>
<tr class="separator:ae31009ebcfe2704b9ee0562e1b9fb2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c754a4e2f40fdd9170589087d3097a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a">ts_case1</a> (double t, double et, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="memdesc:a29c754a4e2f40fdd9170589087d3097a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a">More...</a><br /></td></tr>
<tr class="separator:a29c754a4e2f40fdd9170589087d3097a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af907160a273b7f0dbca36dd5b332a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0">ts_case2</a> (double t, double et, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a9af907160a273b7f0dbca36dd5b332a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace4317f84b933acb423175e215de351d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d">ts_case3</a> (double t, double et, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:ace4317f84b933acb423175e215de351d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820d938d83b16c8fc7cc3930a062212a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a">ts_case4</a> (double t, double et, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a820d938d83b16c8fc7cc3930a062212a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2f61d939ab8184e3eca056b46a8b2e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e">ts_case5</a> (double t, double et, double v0, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:ada2f61d939ab8184e3eca056b46a8b2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9d856f7fa523b5b4266601f6c6154f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f">ts_case6</a> (double t, double et, double v0, double v_min, double a_min, double x0, double x_end, double dx, double dx3, <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> traj6)</td></tr>
<tr class="separator:a7d9d856f7fa523b5b4266601f6c6154f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2382d4f0feb6c0ae9db91695f2b552d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2">ts_case7</a> (double t, double et, double v0, double v_min, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a2382d4f0feb6c0ae9db91695f2b552d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abba844206be4f074096240f5d506aa8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c">ts_case8</a> (double dx, double dx5, <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> traj8)</td></tr>
<tr class="separator:abba844206be4f074096240f5d506aa8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f21fa9d57192b727b649f538b90087a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a">boundary_accel_or_decel_incomplete_upper</a> (double t, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a2f21fa9d57192b727b649f538b90087a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58675498122012f18f8a686b551f70d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3">boundary_accel_nocruise_notmaxspeed_decel</a> (double t, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a58675498122012f18f8a686b551f70d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71eb5d63d2d1338440cb2da3dec5a45f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f">boundary_accel_cruise_maxspeed_decel</a> (double t, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a71eb5d63d2d1338440cb2da3dec5a45f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293a179317673ebdcda7890f4f933f60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60">boundary_accel_nocruise_maxspeed_decel</a> (double t, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a293a179317673ebdcda7890f4f933f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a02000689636fe971a9080c20b2e48f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f">boundary_accel_or_decel_complete_upper</a> (double t, double v0, double v1, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a2a02000689636fe971a9080c20b2e48f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0401f858c83b717d4525c4ac8aeedcd2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2">boundary_decel_nocruise_notminspeed_accel</a> (double t, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a0401f858c83b717d4525c4ac8aeedcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5941c3b49c97c3c55ef3bb2dd9e4c96c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c">boundary_decel_nocruise_minspeed_accel_incomplete</a> (double t, double v0, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a5941c3b49c97c3c55ef3bb2dd9e4c96c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b880660d58500ab32abc453096a38d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d">boundary_decel_nocruise_minspeed_accel_complete</a> (double t, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:aa1b880660d58500ab32abc453096a38d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc331c61cde633f2ef571b8ca86a208"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208">boundary_decel_cruise_minspeed_accel</a> (double t, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a8cc331c61cde633f2ef571b8ca86a208"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a3866067ba8e2808e785f29909bc72"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72">boundary_decel_cruise_minspeed</a> (double t, double v0, double v_min, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:aa3a3866067ba8e2808e785f29909bc72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a739ee8e685d7d651c2c3826df0a43496"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496">boundary_decel_incomplete_lower</a> (double t, double v0, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a739ee8e685d7d651c2c3826df0a43496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0796279675323a1dc0c4e5be7b2a3090"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090">boundary_decel_cruise_minspeed_decel</a> (double t, double v0, double v_min, double a_min, double x0, double x_end, double dx)</td></tr>
<tr class="separator:a0796279675323a1dc0c4e5be7b2a3090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6b11b8d6c543e15eb501c90bb1d3c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3">get_ts_case</a> (double t, double et, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx, <a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a> boundary_distances, std::vector&lt; <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &gt; params)</td></tr>
<tr class="separator:a9f6b11b8d6c543e15eb501c90bb1d3c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7c3e21056f1b5dab765e04e73be5c44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#af7c3e21056f1b5dab765e04e73be5c44">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a304a44e84f14d7ad6d12db3079dba98a">getDiscoveryMsg</a>)</td></tr>
<tr class="separator:af7c3e21056f1b5dab765e04e73be5c44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16e098f65e6b8628ca6e9face1cc234"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad16e098f65e6b8628ca6e9face1cc234">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">supportedLightState</a>)</td></tr>
<tr class="separator:ad16e098f65e6b8628ca6e9face1cc234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9445b42bdb77fe7a0bbf43bedf714d3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9445b42bdb77fe7a0bbf43bedf714d3b">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a>)</td></tr>
<tr class="separator:a9445b42bdb77fe7a0bbf43bedf714d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2058cfbf748579a7e1c51da801218202"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2058cfbf748579a7e1c51da801218202">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">estimate_time_to_stop</a>)</td></tr>
<tr class="separator:a2058cfbf748579a7e1c51da801218202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f79fc85ea25758b13f21d5e9bdd4c4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8f79fc85ea25758b13f21d5e9bdd4c4c">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab6220e6c98770c3ccf99e34e5b1d8c16">extractInitialState</a>)</td></tr>
<tr class="separator:a8f79fc85ea25758b13f21d5e9bdd4c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430d9bf29b6d3b1cf60757d770245783"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a430d9bf29b6d3b1cf60757d770245783">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">validLightState</a>)</td></tr>
<tr class="separator:a430d9bf29b6d3b1cf60757d770245783"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abca8dd04be6ce3e05f83f3601b72774b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abca8dd04be6ce3e05f83f3601b72774b">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>)</td></tr>
<tr class="separator:abca8dd04be6ce3e05f83f3601b72774b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708690d451bb7444dcb4c6fa6ef643d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a708690d451bb7444dcb4c6fa6ef643d5">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1">composeStopAndWaitManeuverMessage</a>)</td></tr>
<tr class="separator:a708690d451bb7444dcb4c6fa6ef643d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbb6c112eac4ff8a4cbc2a674c0c4e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5dbb6c112eac4ff8a4cbc2a674c0c4e9">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6">composeIntersectionTransitMessage</a>)</td></tr>
<tr class="separator:a5dbb6c112eac4ff8a4cbc2a674c0c4e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd61d1c8aa2e18e8418e593b670f128"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8bd61d1c8aa2e18e8418e593b670f128">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622">composeTrajectorySmoothingManeuverMessage</a>)</td></tr>
<tr class="separator:a8bd61d1c8aa2e18e8418e593b670f128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f9f412abdf354586c072636b3ac644"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a37f9f412abdf354586c072636b3ac644">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>)</td></tr>
<tr class="separator:a37f9f412abdf354586c072636b3ac644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbc989a7550e2df686ea5ab99b7b14e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8dbc989a7550e2df686ea5ab99b7b14e">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">calc_estimated_entry_time_left</a>)</td></tr>
<tr class="separator:a8dbc989a7550e2df686ea5ab99b7b14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9445b42bdb77fe7a0bbf43bedf714d3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9445b42bdb77fe7a0bbf43bedf714d3b">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a>)</td></tr>
<tr class="separator:a9445b42bdb77fe7a0bbf43bedf714d3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2058cfbf748579a7e1c51da801218202"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2058cfbf748579a7e1c51da801218202">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">estimate_time_to_stop</a>)</td></tr>
<tr class="separator:a2058cfbf748579a7e1c51da801218202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da968a28811ff19a5f137296f6407e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3da968a28811ff19a5f137296f6407e6">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">get_distance_to_accel_or_decel_twice</a>)</td></tr>
<tr class="separator:a3da968a28811ff19a5f137296f6407e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a8b1c5be92f14061620ed632d1ccff7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0a8b1c5be92f14061620ed632d1ccff7">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">get_distance_to_accel_or_decel_once</a>)</td></tr>
<tr class="separator:a0a8b1c5be92f14061620ed632d1ccff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04f4a437035adceb7bac4adf49c14c37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a04f4a437035adceb7bac4adf49c14c37">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a354e00aef231534da6af36c6722b8c8f">get_nearest_green_entry_time</a>)</td></tr>
<tr class="separator:a04f4a437035adceb7bac4adf49c14c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf00298b86f45d4553a62f9b22184e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#afaf00298b86f45d4553a62f9b22184e6">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888">get_earliest_entry_time</a>)</td></tr>
<tr class="separator:afaf00298b86f45d4553a62f9b22184e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbc989a7550e2df686ea5ab99b7b14e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8dbc989a7550e2df686ea5ab99b7b14e">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">calc_estimated_entry_time_left</a>)</td></tr>
<tr class="separator:a8dbc989a7550e2df686ea5ab99b7b14e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d191a68eff985e471d8d26dd5dfc84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21d191a68eff985e471d8d26dd5dfc84">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70">handleFailureCase</a>)</td></tr>
<tr class="separator:a21d191a68eff985e471d8d26dd5dfc84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9adae05325f53a2f2e50a08659b2bd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ac9adae05325f53a2f2e50a08659b2bd0">FRIEND_TEST</a> (LCIStrategicTestFixture, <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75">handleStopping</a>)</td></tr>
<tr class="separator:ac9adae05325f53a2f2e50a08659b2bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ab7d33a0c85f6ba2d709d07a4526774aa"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab7d33a0c85f6ba2d709d07a4526774aa">previous_strategy_params_</a> = &quot;&quot;</td></tr>
<tr class="separator:ab7d33a0c85f6ba2d709d07a4526774aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31499f8e464eedc17d071335fb9ce1ad"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a31499f8e464eedc17d071335fb9ce1ad">upcoming_id_</a> = &quot;&quot;</td></tr>
<tr class="separator:a31499f8e464eedc17d071335fb9ce1ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0f8f878a2a1cdaffa1f28ee20336d0"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a> = 2.0</td></tr>
<tr class="separator:a6f0f8f878a2a1cdaffa1f28ee20336d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa302a99c74e957f175bfcf2d30411612"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> = -2.0</td></tr>
<tr class="separator:aa302a99c74e957f175bfcf2d30411612"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44fdab48c5bd34c844b45bb10702d985"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> = -1 * <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a></td></tr>
<tr class="separator:a44fdab48c5bd34c844b45bb10702d985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a362fee4d3bbe311e23ef1ebfbf852a20"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; ros::Time &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a></td></tr>
<tr class="separator:a362fee4d3bbe311e23ef1ebfbf852a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2962a4cd6062a6c5b0191b574fbaa8cf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecarma__wm.html#af4db1afaead7afeb1868ba91a8dfd39a">carma_wm::WorldModelConstPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a></td></tr>
<tr class="memdesc:a2962a4cd6062a6c5b0191b574fbaa8cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">World Model pointer.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">More...</a><br /></td></tr>
<tr class="separator:a2962a4cd6062a6c5b0191b574fbaa8cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f8440a6d3bb9476a477961a2a9d1126"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html">LCIStrategicPluginConfig</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a></td></tr>
<tr class="memdesc:a0f8440a6d3bb9476a477961a2a9d1126"><td class="mdescLeft">&#160;</td><td class="mdescRight">Config containing configurable algorithm parameters.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">More...</a><br /></td></tr>
<tr class="separator:a0f8440a6d3bb9476a477961a2a9d1126"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada2e0860177c4a9126e3f7469a555124"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html">LCIStrategicStateTransitionTable</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a></td></tr>
<tr class="memdesc:ada2e0860177c4a9126e3f7469a555124"><td class="mdescLeft">&#160;</td><td class="mdescRight">State Machine Transition table.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">More...</a><br /></td></tr>
<tr class="separator:ada2e0860177c4a9126e3f7469a555124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17feaa6b54b8b431f919488936c6465a"><td class="memItemLeft" align="right" valign="top">cav_msgs::Plugin&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">plugin_discovery_msg_</a></td></tr>
<tr class="memdesc:a17feaa6b54b8b431f919488936c6465a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Plugin discovery message.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">More...</a><br /></td></tr>
<tr class="separator:a17feaa6b54b8b431f919488936c6465a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9380f01ef61988443a1229797af0bb6"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a></td></tr>
<tr class="memdesc:ae9380f01ef61988443a1229797af0bb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cache variables for storing the current intersection state between state machine transitions.  <a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">More...</a><br /></td></tr>
<tr class="separator:ae9380f01ef61988443a1229797af0bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd45a0e25b428eaed59668141c1a367a"><td class="memItemLeft" align="right" valign="top">boost::optional&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a></td></tr>
<tr class="separator:acd45a0e25b428eaed59668141c1a367a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe899a1e3053d51bd163bda6b5bbd0b8"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">light_controlled_intersection_strategy_</a> = &quot;Carma/signalized_intersection&quot;</td></tr>
<tr class="separator:abe899a1e3053d51bd163bda6b5bbd0b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c5c4c4424dbe28de12ecc631c817daa"><td class="memItemLeft" align="right" valign="top">tf2_ros::Buffer&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a></td></tr>
<tr class="separator:a4c5c4c4424dbe28de12ecc631c817daa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef286b3de570f73e947a6f2e223b0c90"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; tf2_ros::TransformListener &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aef286b3de570f73e947a6f2e223b0c90">tf2_listener_</a></td></tr>
<tr class="separator:aef286b3de570f73e947a6f2e223b0c90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a039753d101ec5ef40b4906f44a4a987f"><td class="memItemLeft" align="right" valign="top">tf2::Stamped&lt; tf2::Transform &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a039753d101ec5ef40b4906f44a4a987f">frontbumper_transform_</a></td></tr>
<tr class="separator:a039753d101ec5ef40b4906f44a4a987f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65a82a5d5dae1cb9cc8e5f8913627dfa"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a65a82a5d5dae1cb9cc8e5f8913627dfa">length_to_front_bumper_</a> = 3.0</td></tr>
<tr class="separator:a65a82a5d5dae1cb9cc8e5f8913627dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c261bd6007106d5787469f4f0cc5482"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a> = 0.001</td></tr>
<tr class="separator:a4c261bd6007106d5787469f4f0cc5482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a733ee3426af2de05ab01a787e6d7ab76"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> = 0.0001</td></tr>
<tr class="separator:a733ee3426af2de05ab01a787e6d7ab76"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00108">108</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab23e3861c40411d204d7e09f623ca4e3" name="ab23e3861c40411d204d7e09f623ca4e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab23e3861c40411d204d7e09f623ca4e3">&#9670;&nbsp;</a></span>LCIStrategicPlugin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::LCIStrategicPlugin </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecarma__wm.html#af4db1afaead7afeb1868ba91a8dfd39a">carma_wm::WorldModelConstPtr</a>&#160;</td>
          <td class="paramname"><em>wm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html">LCIStrategicPluginConfig</a>&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wm</td><td>Pointer to intialized instance of the carma world model for accessing semantic map data </td></tr>
    <tr><td class="paramname">config</td><td>The configuration to be used for this object </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00040">40</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   41</span>  : <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>(wm), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>(config)</div>
<div class="line"><span class="lineno">   42</span>{</div>
<div class="line"><span class="lineno">   43</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">plugin_discovery_msg_</a>.name = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>;</div>
<div class="line"><span class="lineno">   44</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">plugin_discovery_msg_</a>.version_id = <span class="stringliteral">&quot;v1.0&quot;</span>;</div>
<div class="line"><span class="lineno">   45</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">plugin_discovery_msg_</a>.available = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   46</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">plugin_discovery_msg_</a>.activated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   47</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">plugin_discovery_msg_</a>.type = cav_msgs::Plugin::STRATEGIC;</div>
<div class="line"><span class="lineno">   48</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">plugin_discovery_msg_</a>.capability = <span class="stringliteral">&quot;strategic_plan/plan_maneuvers&quot;</span>;</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">   51</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> = -1 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">   52</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">   53</span>};</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a0f8440a6d3bb9476a477961a2a9d1126"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">lci_strategic_plugin::LCIStrategicPlugin::config_</a></div><div class="ttdeci">LCIStrategicPluginConfig config_</div><div class="ttdoc">Config containing configurable algorithm parameters.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00733">lci_strategic_plugin.h:733</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a17feaa6b54b8b431f919488936c6465a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">lci_strategic_plugin::LCIStrategicPlugin::plugin_discovery_msg_</a></div><div class="ttdeci">cav_msgs::Plugin plugin_discovery_msg_</div><div class="ttdoc">Plugin discovery message.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00739">lci_strategic_plugin.h:739</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a2962a4cd6062a6c5b0191b574fbaa8cf"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">lci_strategic_plugin::LCIStrategicPlugin::wm_</a></div><div class="ttdeci">carma_wm::WorldModelConstPtr wm_</div><div class="ttdoc">World Model pointer.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00730">lci_strategic_plugin.h:730</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a44fdab48c5bd34c844b45bb10702d985"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">lci_strategic_plugin::LCIStrategicPlugin::max_comfort_decel_norm_</a></div><div class="ttdeci">double max_comfort_decel_norm_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00726">lci_strategic_plugin.h:726</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a6f0f8f878a2a1cdaffa1f28ee20336d0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">lci_strategic_plugin::LCIStrategicPlugin::max_comfort_accel_</a></div><div class="ttdeci">double max_comfort_accel_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00724">lci_strategic_plugin.h:724</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa302a99c74e957f175bfcf2d30411612"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">lci_strategic_plugin::LCIStrategicPlugin::max_comfort_decel_</a></div><div class="ttdeci">double max_comfort_decel_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00725">lci_strategic_plugin.h:725</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a287e3511b9dcc1ec1ec28c6034c15799"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a></div><div class="ttdeci">double vehicle_accel_limit_multiplier</div><div class="ttdoc">A multiplier to apply to the maximum allowable vehicle acceleration limit so we plan under our capabi...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00035">lci_strategic_plugin_config.h:35</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a78e238191c3ba5b1a495a32df80c240b"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a></div><div class="ttdeci">double vehicle_decel_limit</div><div class="ttdoc">The maximum allowable vehicle deceleration limit in m/s.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00026">lci_strategic_plugin_config.h:26</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a803ac90d8ed6a841a1e5f7343d65a1aa"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a></div><div class="ttdeci">double vehicle_decel_limit_multiplier</div><div class="ttdoc">A multiplier to apply to the maximum allowable vehicle deceleration limit so we plan under our capabi...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00029">lci_strategic_plugin_config.h:29</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a9e7218d1580a5813879ed975e02b75ad"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a></div><div class="ttdeci">double vehicle_accel_limit</div><div class="ttdoc">The maximum allowable vehicle acceleration limit in m/s.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00032">lci_strategic_plugin_config.h:32</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_aa1f3fefe2ee7fc7af0d064ece71bf971"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a></div><div class="ttdeci">std::string strategic_plugin_name</div><div class="ttdoc">The name to use for this plugin during comminications with the arbitrator.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00084">lci_strategic_plugin_config.h:84</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00724">max_comfort_accel_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00725">max_comfort_decel_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00726">max_comfort_decel_norm_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00739">plugin_discovery_msg_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00084">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00032">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00035">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, and <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a71eb5d63d2d1338440cb2da3dec5a45f" name="a71eb5d63d2d1338440cb2da3dec5a45f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71eb5d63d2d1338440cb2da3dec5a45f">&#9670;&nbsp;</a></span>boundary_accel_cruise_maxspeed_decel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_cruise_maxspeed_decel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00847">847</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  848</span>{ </div>
<div class="line"><span class="lineno">  849</span>  <span class="keywordtype">double</span> t_end = t + (dx / v_max) + (pow(v_max - v0, 2) / (2 * a_max * v_max)) - (pow(v1 - v_max, 2) / (2 * a_min * v_max));</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  854</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  855</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>  traj.v1_ = v_max;</div>
<div class="line"><span class="lineno">  858</span>  traj.a1_ = a_max;</div>
<div class="line"><span class="lineno">  859</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  860</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>  traj.v2_ = v_max;</div>
<div class="line"><span class="lineno">  863</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  864</span>  traj.t2_ = t_end - ((v1 - v_max) / a_min);</div>
<div class="line"><span class="lineno">  865</span>  traj.x2_ = x_end - ((pow(v1, 2) - pow(v_max, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>  traj.t3_ = t_end;</div>
<div class="line"><span class="lineno">  868</span>  traj.a3_ = a_min;</div>
<div class="line"><span class="lineno">  869</span>  traj.v3_ = v1;</div>
<div class="line"><span class="lineno">  870</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  873</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a71eb5d63d2d1338440cb2da3dec5a45f_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a71eb5d63d2d1338440cb2da3dec5a45f_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a71eb5d63d2d1338440cb2da3dec5a45f_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a71eb5d63d2d1338440cb2da3dec5a45f_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,908,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a293a179317673ebdcda7890f4f933f60" name="a293a179317673ebdcda7890f4f933f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293a179317673ebdcda7890f4f933f60">&#9670;&nbsp;</a></span>boundary_accel_nocruise_maxspeed_decel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_nocruise_maxspeed_decel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00875">875</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  876</span>{ </div>
<div class="line"><span class="lineno">  877</span>  <span class="keywordtype">double</span> nom = (v_max - v0) + ((a_max / a_min) * (v1 - v_max));</div>
<div class="line"><span class="lineno">  878</span>  <span class="keywordtype">double</span> den = (pow(v_max, 2) - pow(v0, 2)) + ((a_max / a_min) * (pow(v1, 2) - pow(v_max, 2)));</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>  <span class="keywordflow">if</span> (den &lt;= epsilon_ &amp;&amp; den &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  881</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_accel_nocruise_maxspeed_decel: Received den near zero...&quot;</span> + std::to_string(den));</div>
<div class="line"><span class="lineno">  882</span>  </div>
<div class="line"><span class="lineno">  883</span>  <span class="keywordtype">double</span> t_end = t + (2 * dx * nom / den);</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  888</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  889</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>  <span class="keywordtype">double</span> dt = t_end - t;</div>
<div class="line"><span class="lineno">  892</span>  <span class="keywordtype">double</span> tc = 0;</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>  traj.v1_ = v_max;</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>  <span class="keywordflow">if</span> (dt - tc &lt;= epsilon_ &amp;&amp; dt - tc &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  897</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_accel_nocruise_maxspeed_decel: Received dt - tc near zero...&quot;</span> + std::to_string(dt - tc));</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>  traj.a1_ = (((1 - (a_max / a_min)) * v_max) + ((a_max / a_min) * v1) - v0) / (dt - tc);</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  902</span>  {</div>
<div class="line"><span class="lineno">  903</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;boundary_accel_nocruise_maxspeed_decel: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  904</span>    traj.t1_ = traj.t0_ + (dt * (a_max / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  905</span>    traj.x1_ = traj.x0_ + (v_max * (traj.t1_ - traj.t0_));    </div>
<div class="line"><span class="lineno">  906</span>  }</div>
<div class="line"><span class="lineno">  907</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  908</span>  {</div>
<div class="line"><span class="lineno">  909</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  910</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  911</span>  }</div>
<div class="line"><span class="lineno">  912</span> </div>
<div class="line"><span class="lineno">  913</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno">  914</span>  traj.a2_ = ((((a_min / a_max) - 1) * v_max) + v1 - ((a_min / a_max) * v0)) / (dt - tc);</div>
<div class="line"><span class="lineno">  915</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno">  916</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  919</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  920</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  921</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  924</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a4c261bd6007106d5787469f4f0cc5482"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">lci_strategic_plugin::LCIStrategicPlugin::epsilon_</a></div><div class="ttdeci">double epsilon_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00752">lci_strategic_plugin.h:752</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a733ee3426af2de05ab01a787e6d7ab76"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">lci_strategic_plugin::LCIStrategicPlugin::accel_epsilon_</a></div><div class="ttdeci">double accel_epsilon_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00753">lci_strategic_plugin.h:753</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00753">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a293a179317673ebdcda7890f4f933f60_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a293a179317673ebdcda7890f4f933f60_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a293a179317673ebdcda7890f4f933f60_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a293a179317673ebdcda7890f4f933f60_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,923,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a58675498122012f18f8a686b551f70d3" name="a58675498122012f18f8a686b551f70d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58675498122012f18f8a686b551f70d3">&#9670;&nbsp;</a></span>boundary_accel_nocruise_notmaxspeed_decel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_nocruise_notmaxspeed_decel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00815">815</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  816</span>{ </div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>  <span class="keywordtype">double</span> v_hat = sqrt(((2 * dx * a_max * a_min) + (a_min * pow(v0, 2)) - (a_max * pow(v1, 2))) / (a_min - a_max));</div>
<div class="line"><span class="lineno">  819</span>  <span class="keywordtype">double</span> t_end = t + ((v_hat * (a_min - a_max)) - (v0 * a_min) + (v1 * a_max)) / (a_max * a_min);</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  824</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  825</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  828</span>  traj.a1_ = a_max;</div>
<div class="line"><span class="lineno">  829</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno">  834</span>  traj.a2_ = a_min;</div>
<div class="line"><span class="lineno">  835</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno">  836</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  839</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  840</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  841</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a58675498122012f18f8a686b551f70d3_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a58675498122012f18f8a686b551f70d3_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a58675498122012f18f8a686b551f70d3_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a58675498122012f18f8a686b551f70d3_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,923,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a2a02000689636fe971a9080c20b2e48f" name="a2a02000689636fe971a9080c20b2e48f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a02000689636fe971a9080c20b2e48f">&#9670;&nbsp;</a></span>boundary_accel_or_decel_complete_upper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_or_decel_complete_upper </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00926">926</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  927</span>{ </div>
<div class="line"><span class="lineno">  928</span>  <span class="keywordflow">if</span> (v0 + v1 &lt;= epsilon_ &amp;&amp; v0 + v1 &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_accel_or_decel_complete_upper: Received v0 + v1 near zero...&quot;</span> + std::to_string(v0 + v1));</div>
<div class="line"><span class="lineno">  930</span>  </div>
<div class="line"><span class="lineno">  931</span>  <span class="keywordtype">double</span> t_end = t + ((2 * dx) / (v0 + v1));</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  936</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  937</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>  traj.t1_ = t_end;</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>  <span class="keywordflow">if</span> (dx &lt;= epsilon_ &amp;&amp; dx &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  942</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_accel_or_decel_complete_upper: Received dx near zero...&quot;</span> + std::to_string(dx));</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>  traj.a1_ = (pow(v1, 2) - pow(v0, 2)) / (2 * dx);</div>
<div class="line"><span class="lineno">  945</span>  traj.v1_ = v1;</div>
<div class="line"><span class="lineno">  946</span>  traj.x1_ = x_end;</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>  traj.t2_ = traj.t1_;</div>
<div class="line"><span class="lineno">  949</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  950</span>  traj.v2_ = traj.v1_;</div>
<div class="line"><span class="lineno">  951</span>  traj.x2_ = traj.x1_;</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>  traj.t3_ = traj.t1_;</div>
<div class="line"><span class="lineno">  954</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  955</span>  traj.v3_ = traj.v1_;</div>
<div class="line"><span class="lineno">  956</span>  traj.x3_ = traj.x1_;</div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  959</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a2a02000689636fe971a9080c20b2e48f_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2a02000689636fe971a9080c20b2e48f_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2a02000689636fe971a9080c20b2e48f_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2a02000689636fe971a9080c20b2e48f_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,923,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a2f21fa9d57192b727b649f538b90087a" name="a2f21fa9d57192b727b649f538b90087a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f21fa9d57192b727b649f538b90087a">&#9670;&nbsp;</a></span>boundary_accel_or_decel_incomplete_upper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_or_decel_incomplete_upper </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00772">772</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  773</span>{ </div>
<div class="line"><span class="lineno">  774</span>  <span class="keywordtype">double</span> t_end;</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>  <span class="keywordflow">if</span> (v0 &lt;= v1 + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  777</span>    t_end = t + (sqrt(pow(v0, 2) + (2 * a_max * dx)) - v0)/a_max;</div>
<div class="line"><span class="lineno">  778</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  779</span>    t_end = t + (sqrt(pow(v0, 2) + (2 * a_min * dx)) - v0) / a_min;</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  784</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  785</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>  traj.t1_ = t_end;</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>  <span class="keywordflow">if</span> (v0 &lt;= v1 + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  790</span>  {</div>
<div class="line"><span class="lineno">  791</span>    traj.a1_ = a_max;</div>
<div class="line"><span class="lineno">  792</span>    traj.v1_ = sqrt(pow(v0, 2) + (2 * a_max * dx));</div>
<div class="line"><span class="lineno">  793</span>  }</div>
<div class="line"><span class="lineno">  794</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  795</span>  {</div>
<div class="line"><span class="lineno">  796</span>    traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  797</span>    traj.v1_ = sqrt(pow(v0, 2) + (2 * a_min * dx));</div>
<div class="line"><span class="lineno">  798</span>  }</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>  traj.x1_ = x_end;</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>  traj.t2_ = traj.t1_;</div>
<div class="line"><span class="lineno">  803</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  804</span>  traj.v2_ = traj.v1_;</div>
<div class="line"><span class="lineno">  805</span>  traj.x2_ = traj.x1_;</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>  traj.t3_ = traj.t1_;</div>
<div class="line"><span class="lineno">  808</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  809</span>  traj.v3_ = traj.v1_;</div>
<div class="line"><span class="lineno">  810</span>  traj.x3_ = traj.x1_;</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  813</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a2f21fa9d57192b727b649f538b90087a_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2f21fa9d57192b727b649f538b90087a_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2f21fa9d57192b727b649f538b90087a_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2f21fa9d57192b727b649f538b90087a_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,923,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="aa3a3866067ba8e2808e785f29909bc72" name="aa3a3866067ba8e2808e785f29909bc72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3a3866067ba8e2808e785f29909bc72">&#9670;&nbsp;</a></span>boundary_decel_cruise_minspeed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01087">1087</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1088</span>{ </div>
<div class="line"><span class="lineno"> 1089</span>  <span class="keywordtype">double</span> t_end = t + (dx / v_min) + (pow(v_min - v0, 2) / (2 * a_min * v_min));</div>
<div class="line"><span class="lineno"> 1090</span> </div>
<div class="line"><span class="lineno"> 1091</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1094</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1095</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1098</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1099</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1100</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno"> 1103</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1104</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno"> 1105</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno"> 1108</span>  traj.a3_ = traj.a2_;</div>
<div class="line"><span class="lineno"> 1109</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno"> 1110</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1113</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa3a3866067ba8e2808e785f29909bc72_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa3a3866067ba8e2808e785f29909bc72_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa3a3866067ba8e2808e785f29909bc72_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa3a3866067ba8e2808e785f29909bc72_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,908,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a8cc331c61cde633f2ef571b8ca86a208" name="a8cc331c61cde633f2ef571b8ca86a208"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc331c61cde633f2ef571b8ca86a208">&#9670;&nbsp;</a></span>boundary_decel_cruise_minspeed_accel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed_accel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01059">1059</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1060</span>{ </div>
<div class="line"><span class="lineno"> 1061</span>  <span class="keywordtype">double</span> t_end = t + (dx / v_min) + ((pow(v_min - v0, 2)) / (2 * a_min * v_min)) - ((pow(v1 - v_min, 2)) / (2 * a_max * v_min));</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1064</span> </div>
<div class="line"><span class="lineno"> 1065</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1066</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1067</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1068</span> </div>
<div class="line"><span class="lineno"> 1069</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1070</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1071</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1072</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno"> 1075</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1076</span>  traj.t2_ = t_end - ((v1 - v_min) / a_max);</div>
<div class="line"><span class="lineno"> 1077</span>  traj.x2_ = x_end - ((pow(v1, 2) - pow(v_min, 2)) / (2 * a_max));</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span>  traj.t3_ = t_end;</div>
<div class="line"><span class="lineno"> 1080</span>  traj.a3_ = a_max;</div>
<div class="line"><span class="lineno"> 1081</span>  traj.v3_ = v1;</div>
<div class="line"><span class="lineno"> 1082</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1085</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a8cc331c61cde633f2ef571b8ca86a208_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8cc331c61cde633f2ef571b8ca86a208_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8cc331c61cde633f2ef571b8ca86a208_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8cc331c61cde633f2ef571b8ca86a208_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,908,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a0796279675323a1dc0c4e5be7b2a3090" name="a0796279675323a1dc0c4e5be7b2a3090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0796279675323a1dc0c4e5be7b2a3090">&#9670;&nbsp;</a></span>boundary_decel_cruise_minspeed_decel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed_decel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01141">1141</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1142</span>{ </div>
<div class="line"><span class="lineno"> 1143</span>  <span class="keywordtype">double</span> t_end = t + (dx / v_min) + (v0 * (v0 - (2 * v_min)) / (2 * a_min * v_min));</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1146</span> </div>
<div class="line"><span class="lineno"> 1147</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1148</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1149</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1152</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1153</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1154</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1157</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno"> 1158</span>  traj.t2_ = t_end - ((0 - traj.v2_) / a_min);</div>
<div class="line"><span class="lineno"> 1159</span>  traj.x2_ = x_end - ((0 - pow(traj.v2_, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno"> 1160</span> </div>
<div class="line"><span class="lineno"> 1161</span>  traj.t3_ = t_end;</div>
<div class="line"><span class="lineno"> 1162</span>  traj.a3_ = a_min;</div>
<div class="line"><span class="lineno"> 1163</span>  traj.v3_ = 0;</div>
<div class="line"><span class="lineno"> 1164</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1167</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a0796279675323a1dc0c4e5be7b2a3090_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0796279675323a1dc0c4e5be7b2a3090_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0796279675323a1dc0c4e5be7b2a3090_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0796279675323a1dc0c4e5be7b2a3090_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,908,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a739ee8e685d7d651c2c3826df0a43496" name="a739ee8e685d7d651c2c3826df0a43496"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a739ee8e685d7d651c2c3826df0a43496">&#9670;&nbsp;</a></span>boundary_decel_incomplete_lower()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_incomplete_lower </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01114">1114</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1115</span>{ </div>
<div class="line"><span class="lineno"> 1116</span>  <span class="keywordtype">double</span> t_end = t + (sqrt(pow(v0, 2) + (2 * a_min * dx)) - v0) / a_min;</div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1119</span> </div>
<div class="line"><span class="lineno"> 1120</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1121</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1122</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>  traj.t1_ = t_end;</div>
<div class="line"><span class="lineno"> 1125</span>  traj.v1_ = sqrt(pow(v0, 2) + (2 * a_min * dx));</div>
<div class="line"><span class="lineno"> 1126</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1127</span>  traj.x1_ = x_end;</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>  traj.t2_ = traj.t1_;</div>
<div class="line"><span class="lineno"> 1130</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno"> 1131</span>  traj.v2_ = traj.v1_;</div>
<div class="line"><span class="lineno"> 1132</span>  traj.x2_ = traj.x1_;</div>
<div class="line"><span class="lineno"> 1133</span> </div>
<div class="line"><span class="lineno"> 1134</span>  traj.t3_ = traj.t1_;</div>
<div class="line"><span class="lineno"> 1135</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1136</span>  traj.v3_ = traj.v1_;</div>
<div class="line"><span class="lineno"> 1137</span>  traj.x3_ = traj.x1_;</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1140</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a739ee8e685d7d651c2c3826df0a43496_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a739ee8e685d7d651c2c3826df0a43496_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a739ee8e685d7d651c2c3826df0a43496_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a739ee8e685d7d651c2c3826df0a43496_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,975,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,5,700,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="aa1b880660d58500ab32abc453096a38d" name="aa1b880660d58500ab32abc453096a38d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1b880660d58500ab32abc453096a38d">&#9670;&nbsp;</a></span>boundary_decel_nocruise_minspeed_accel_complete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_minspeed_accel_complete </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01020">1020</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1021</span>{ </div>
<div class="line"><span class="lineno"> 1022</span>  <span class="keywordtype">double</span> nom = (v1 - v_min) + ((a_max / a_min) * (v_min - v0));</div>
<div class="line"><span class="lineno"> 1023</span>  <span class="keywordtype">double</span> den = (pow(v1, 2) - pow(v_min, 2)) + ((a_max / a_min) * (pow(v_min, 2) - pow(v0, 2)));</div>
<div class="line"><span class="lineno"> 1024</span> </div>
<div class="line"><span class="lineno"> 1025</span>  <span class="keywordflow">if</span> (den &lt;= epsilon_ &amp;&amp; den &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1026</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_decel_nocruise_minspeed_accel_complete: Received den near zero...&quot;</span> + std::to_string(den));</div>
<div class="line"><span class="lineno"> 1027</span> </div>
<div class="line"><span class="lineno"> 1028</span>  <span class="keywordtype">double</span> t_end = t + (2 * dx * nom / den);</div>
<div class="line"><span class="lineno"> 1029</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno"> 1030</span> </div>
<div class="line"><span class="lineno"> 1031</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno"> 1032</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1033</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1034</span> </div>
<div class="line"><span class="lineno"> 1035</span>  <span class="keywordtype">double</span> dt = t_end - t;</div>
<div class="line"><span class="lineno"> 1036</span>  <span class="keywordtype">double</span> tc = 0;</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>  <span class="keywordflow">if</span> (dt - tc &lt;= epsilon_ &amp;&amp; dt - tc &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno"> 1041</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;boundary_decel_nocruise_minspeed_accel_complete: Received dt - tc near zero...&quot;</span> + std::to_string(dt - tc));</div>
<div class="line"><span class="lineno"> 1042</span>    </div>
<div class="line"><span class="lineno"> 1043</span>  traj.a1_ = (((1 - (a_min / a_max)) * v_min) + ((a_min / a_max) * v1) - v0) / (dt - tc);</div>
<div class="line"><span class="lineno"> 1044</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno"> 1045</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno"> 1046</span> </div>
<div class="line"><span class="lineno"> 1047</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno"> 1048</span>  traj.a2_ = ((((a_max / a_min) - 1) * v_min) + v1 - ((a_max / a_min) * v0)) / (dt - tc);</div>
<div class="line"><span class="lineno"> 1049</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno"> 1050</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno"> 1053</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1054</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno"> 1055</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno"> 1056</span> </div>
<div class="line"><span class="lineno"> 1057</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1058</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa1b880660d58500ab32abc453096a38d_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa1b880660d58500ab32abc453096a38d_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa1b880660d58500ab32abc453096a38d_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa1b880660d58500ab32abc453096a38d_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,931,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a5941c3b49c97c3c55ef3bb2dd9e4c96c" name="a5941c3b49c97c3c55ef3bb2dd9e4c96c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5941c3b49c97c3c55ef3bb2dd9e4c96c">&#9670;&nbsp;</a></span>boundary_decel_nocruise_minspeed_accel_incomplete()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_minspeed_accel_incomplete </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00990">990</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  991</span>{ </div>
<div class="line"><span class="lineno">  992</span>  <span class="keywordtype">double</span> sqr = sqrt((2 * a_max * dx) - ((pow(v_min, 2) - pow(v0, 2)) * (a_max / a_min)) + pow(v_min, 2));</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>  <span class="keywordtype">double</span> t_end = t + ((sqr - v_min) / a_max) + ((v_min - v0) / a_min);</div>
<div class="line"><span class="lineno">  995</span> </div>
<div class="line"><span class="lineno">  996</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  999</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno"> 1000</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno"> 1001</span> </div>
<div class="line"><span class="lineno"> 1002</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno"> 1003</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno"> 1004</span>  traj.t1_ = traj.t0_ + (traj.v1_ - traj.v0_) / a_min;</div>
<div class="line"><span class="lineno"> 1005</span>  traj.x1_ = traj.x0_ + (pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * a_min);</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno"> 1008</span>  traj.a2_ = a_max;</div>
<div class="line"><span class="lineno"> 1009</span>  traj.v2_ = (traj.a2_ * (traj.t2_ - traj.t1_)) + traj.v1_;</div>
<div class="line"><span class="lineno"> 1010</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno"> 1013</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno"> 1014</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno"> 1015</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno"> 1018</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5941c3b49c97c3c55ef3bb2dd9e4c96c_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5941c3b49c97c3c55ef3bb2dd9e4c96c_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5941c3b49c97c3c55ef3bb2dd9e4c96c_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5941c3b49c97c3c55ef3bb2dd9e4c96c_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,941,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a0401f858c83b717d4525c4ac8aeedcd2" name="a0401f858c83b717d4525c4ac8aeedcd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0401f858c83b717d4525c4ac8aeedcd2">&#9670;&nbsp;</a></span>boundary_decel_nocruise_notminspeed_accel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_notminspeed_accel </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00961">961</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  962</span>{ </div>
<div class="line"><span class="lineno">  963</span>  <span class="keywordtype">double</span> v_hat = sqrt(((2 * dx * a_max * a_min) + (a_max * pow(v0, 2)) - (a_min * pow(v1, 2))) / (a_max - a_min));</div>
<div class="line"><span class="lineno">  964</span>  <span class="keywordtype">double</span> t_end = t + ((v_hat * (a_max - a_min)) - (v0 * a_max) + (v1 * a_min)) / (a_max * a_min);</div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  969</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  970</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  971</span> </div>
<div class="line"><span class="lineno">  972</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  973</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  974</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  975</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>  traj.t2_ = t_end;</div>
<div class="line"><span class="lineno">  978</span>  traj.a2_ = a_max;</div>
<div class="line"><span class="lineno">  979</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno">  980</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  983</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  984</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  985</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  988</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a0401f858c83b717d4525c4ac8aeedcd2_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0401f858c83b717d4525c4ac8aeedcd2_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0401f858c83b717d4525c4ac8aeedcd2_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0401f858c83b717d4525c4ac8aeedcd2_icgraph">
<area shape="rect" title=" " alt="" coords="748,5,923,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,13,700,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="aae29e2decf5406624ff750053a84cd23" name="aae29e2decf5406624ff750053a84cd23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae29e2decf5406624ff750053a84cd23">&#9670;&nbsp;</a></span>BSMCb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::BSMCb </td>
          <td>(</td>
          <td class="paramtype">const cav_msgs::BSMConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BSM callback function. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00956">956</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  957</span>{</div>
<div class="line"><span class="lineno">  958</span>  std::vector&lt;uint8_t&gt; bsm_id_vec = msg-&gt;core_data.id;</div>
<div class="line"><span class="lineno">  959</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aab8ebae22d31d704cdee82b3efcec263">bsm_id_</a> = BSMHelper::BSMHelper::bsmIDtoString(bsm_id_vec);</div>
<div class="line"><span class="lineno">  960</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a01df237e1b50c546b2088036c4a1b477">bsm_msg_count_</a> = msg-&gt;core_data.msg_count;</div>
<div class="line"><span class="lineno">  961</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21cb9188fd1f5f4330fdf8ef3e571a78">bsm_sec_mark_</a> = msg-&gt;core_data.sec_mark;</div>
<div class="line"><span class="lineno">  962</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a01df237e1b50c546b2088036c4a1b477"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a01df237e1b50c546b2088036c4a1b477">lci_strategic_plugin::LCIStrategicPlugin::bsm_msg_count_</a></div><div class="ttdeci">uint8_t bsm_msg_count_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00199">lci_strategic_plugin.h:199</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a21cb9188fd1f5f4330fdf8ef3e571a78"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21cb9188fd1f5f4330fdf8ef3e571a78">lci_strategic_plugin::LCIStrategicPlugin::bsm_sec_mark_</a></div><div class="ttdeci">uint16_t bsm_sec_mark_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00200">lci_strategic_plugin.h:200</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aab8ebae22d31d704cdee82b3efcec263"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aab8ebae22d31d704cdee82b3efcec263">lci_strategic_plugin::LCIStrategicPlugin::bsm_id_</a></div><div class="ttdeci">std::string bsm_id_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00198">lci_strategic_plugin.h:198</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00198">bsm_id_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00199">bsm_msg_count_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00200">bsm_sec_mark_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aae29e2decf5406624ff750053a84cd23_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aae29e2decf5406624ff750053a84cd23_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aae29e2decf5406624ff750053a84cd23_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aae29e2decf5406624ff750053a84cd23_icgraph">
<area shape="rect" title="BSM callback function." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a3f6a47bf53ae1095e72df145bf6903d3" name="a3f6a47bf53ae1095e72df145bf6903d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f6a47bf53ae1095e72df145bf6903d3">&#9670;&nbsp;</a></span>calc_estimated_entry_time_left()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::calc_estimated_entry_time_left </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>entry_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>calculate the time vehicle will enter to intersection with optimal deceleration </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">entry_dist</td><td>distance to stop line</td></tr>
    <tr><td class="paramname">current_speed</td><td>current speed of vehicle</td></tr>
    <tr><td class="paramname">departure_speed</td><td>speed to get into the intersection</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the time vehicle will stop with optimal decelarion </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00240">240</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  241</span>{</div>
<div class="line"><span class="lineno">  242</span>  <span class="keywordtype">double</span> t_entry = 0;</div>
<div class="line"><span class="lineno">  243</span>  <span class="comment">// t = 2 * d / (v_i + v_f)</span></div>
<div class="line"><span class="lineno">  244</span>  <span class="comment">// from TSMO USE CASE 2 Algorithm Doc - Figure 4. Equation: Estimation of t*_nt</span></div>
<div class="line"><span class="lineno">  245</span>  t_entry = 2*entry_dist/(current_speed + departure_speed);</div>
<div class="line"><span class="lineno">  246</span>  <span class="keywordflow">return</span> t_entry;</div>
<div class="line"><span class="lineno">  247</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0dfe4121507c3080e3d21dd1244bec9" name="ad0dfe4121507c3080e3d21dd1244bec9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0dfe4121507c3080e3d21dd1244bec9">&#9670;&nbsp;</a></span>canArriveAtGreenWithCertainty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt; <a class="el" href="classbool.html">bool</a> &gt; lci_strategic_plugin::LCIStrategicPlugin::canArriveAtGreenWithCertainty </td>
          <td>(</td>
          <td class="paramtype">const ros::Time &amp;&#160;</td>
          <td class="paramname"><em>light_arrival_time_by_algo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>check_late</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>check_early</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the car can arrive at given arrival time within green light time buffer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">light_arrival_time_by_algo</td><td>ROS time at green where vehicle arrives </td></tr>
    <tr><td class="paramname">traffic_light</td><td>Traffic signal to check time against </td></tr>
    <tr><td class="paramname">check_late</td><td>check late arrival, default true </td></tr>
    <tr><td class="paramname">check_early</td><td>check early arrival, default true </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true (bool optional) if can make it at both bounds of error time.</dd></dl>
<p>NOTE: internally uses config_.green_light_time_buffer NOTE: boost::none optional if any of the light state was invalid </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00167">167</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  168</span>{</div>
<div class="line"><span class="lineno">  169</span>    ros::Time early_arrival_time_by_algo =</div>
<div class="line"><span class="lineno">  170</span>        light_arrival_time_by_algo - ros::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a>);</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>    ros::Time late_arrival_time_by_algo =</div>
<div class="line"><span class="lineno">  173</span>        light_arrival_time_by_algo + ros::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a>);</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;light_arrival_time_by_algo: &quot;</span> &lt;&lt; std::to_string(light_arrival_time_by_algo.toSec()));</div>
<div class="line"><span class="lineno">  176</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;early_arrival_time_by_algo: &quot;</span> &lt;&lt; std::to_string(early_arrival_time_by_algo.toSec()));</div>
<div class="line"><span class="lineno">  177</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;late_arrival_time_by_algo: &quot;</span> &lt;&lt; std::to_string(late_arrival_time_by_algo.toSec()));</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    <span class="keyword">auto</span> early_arrival_state_by_algo_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(early_arrival_time_by_algo.toSec()));</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">validLightState</a>(early_arrival_state_by_algo_optional, early_arrival_time_by_algo))</div>
<div class="line"><span class="lineno">  182</span>      <span class="keywordflow">return</span> boost::none;</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;early_arrival_state_by_algo: &quot;</span> &lt;&lt; early_arrival_state_by_algo_optional.get().second);</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>    <span class="keyword">auto</span> late_arrival_state_by_algo_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(late_arrival_time_by_algo.toSec()));</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">validLightState</a>(late_arrival_state_by_algo_optional, late_arrival_time_by_algo))</div>
<div class="line"><span class="lineno">  189</span>      <span class="keywordflow">return</span> boost::none; </div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;late_arrival_state_by_algo: &quot;</span> &lt;&lt; late_arrival_state_by_algo_optional.get().second);</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordtype">bool</span> can_make_early_arrival = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordtype">bool</span> can_make_late_arrival = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">if</span> (check_early)</div>
<div class="line"><span class="lineno">  197</span>      can_make_early_arrival = (early_arrival_state_by_algo_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED);</div>
<div class="line"><span class="lineno">  198</span>    </div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span> (check_late)</div>
<div class="line"><span class="lineno">  200</span>      can_make_late_arrival = (late_arrival_state_by_algo_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED);</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="comment">// We will cross the light on the green phase even if we arrive early or late</span></div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">if</span> (can_make_early_arrival &amp;&amp; can_make_late_arrival)  <span class="comment">// Green light</span></div>
<div class="line"><span class="lineno">  204</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  206</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a23192777055fbb632e0676e56a2d182e"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">lci_strategic_plugin::LCIStrategicPlugin::validLightState</a></div><div class="ttdeci">bool validLightState(const boost::optional&lt; std::pair&lt; boost::posix_time::ptime, lanelet::CarmaTrafficSignalState &gt; &gt; &amp;optional_state, const ros::Time &amp;source_time) const</div><div class="ttdoc">Helper method that checks both if the input optional light state is set and if the state it contains ...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00146">lci_strategic_plugin.cpp:146</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a3081657f4f8d1d20729ac84897561c27"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a></div><div class="ttdeci">double green_light_time_buffer</div><div class="ttdoc">A buffer in seconds around the green phase which will reduce the phase length such that vehicle still...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00047">lci_strategic_plugin_config.h:47</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00047">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00146">validLightState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00328">handleGreenSignalScenario()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">planWhenWAITING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad0dfe4121507c3080e3d21dd1244bec9_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad0dfe4121507c3080e3d21dd1244bec9_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad0dfe4121507c3080e3d21dd1244bec9_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad0dfe4121507c3080e3d21dd1244bec9_cgraph">
<area shape="rect" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="5,5,213,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="261,5,399,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="447,5,592,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad0dfe4121507c3080e3d21dd1244bec9_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad0dfe4121507c3080e3d21dd1244bec9_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad0dfe4121507c3080e3d21dd1244bec9_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad0dfe4121507c3080e3d21dd1244bec9_icgraph">
<area shape="rect" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="756,47,964,103"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,9,708,65"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="309,85,452,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,45,241,101"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,60,56,87"/>
</map>
</div>

</div>
</div>
<a id="a5e4ecab9f1255d861d20fd21c2b5bdd6" name="a5e4ecab9f1255d861d20fd21c2b5bdd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e4ecab9f1255d861d20fd21c2b5bdd6">&#9670;&nbsp;</a></span>composeIntersectionTransitMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cav_msgs::Maneuver lci_strategic_plugin::LCIStrategicPlugin::composeIntersectionTransitMessage </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>target_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Time&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Time&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::Id &amp;&#160;</td>
          <td class="paramname"><em>starting_lane_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::Id &amp;&#160;</td>
          <td class="paramname"><em>ending_lane_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compose a intersection transit maneuver message based on input params. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_dist</td><td>Start downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">end_dist</td><td>End downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">start_speed</td><td>Start speed of the current maneuver </td></tr>
    <tr><td class="paramname">target_speed</td><td>Target speed pf the current maneuver, usually it is the lanelet speed limit </td></tr>
    <tr><td class="paramname">start_time</td><td>The starting time of the maneuver </td></tr>
    <tr><td class="paramname">end_time</td><td>The ending time of the maneuver </td></tr>
    <tr><td class="paramname">starting_lane_id</td><td>The starting lanelet id of this maneuver </td></tr>
    <tr><td class="paramname">ending_lane_id</td><td>The ending lanelet id of this maneuver</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A intersection transit maneuver maneuver message which is ready to be published </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01276">1276</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1281</span>{</div>
<div class="line"><span class="lineno"> 1282</span>  cav_msgs::Maneuver maneuver_msg;</div>
<div class="line"><span class="lineno"> 1283</span>  maneuver_msg.type = cav_msgs::Maneuver::INTERSECTION_TRANSIT_STRAIGHT;</div>
<div class="line"><span class="lineno"> 1284</span>  maneuver_msg.intersection_transit_straight_maneuver.parameters.negotiation_type =</div>
<div class="line"><span class="lineno"> 1285</span>      cav_msgs::ManeuverParameters::NO_NEGOTIATION;</div>
<div class="line"><span class="lineno"> 1286</span>  maneuver_msg.intersection_transit_straight_maneuver.parameters.presence_vector =</div>
<div class="line"><span class="lineno"> 1287</span>      cav_msgs::ManeuverParameters::HAS_TACTICAL_PLUGIN;</div>
<div class="line"><span class="lineno"> 1288</span>  maneuver_msg.intersection_transit_straight_maneuver.parameters.planning_tactical_plugin =</div>
<div class="line"><span class="lineno"> 1289</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a001ab9c72909eec9d6870cbd92dfa152">intersection_transit_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1290</span>  maneuver_msg.intersection_transit_straight_maneuver.parameters.planning_strategic_plugin =</div>
<div class="line"><span class="lineno"> 1291</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1292</span>  maneuver_msg.intersection_transit_straight_maneuver.start_dist = start_dist;</div>
<div class="line"><span class="lineno"> 1293</span>  maneuver_msg.intersection_transit_straight_maneuver.start_speed = start_speed;</div>
<div class="line"><span class="lineno"> 1294</span>  maneuver_msg.intersection_transit_straight_maneuver.start_time = start_time;</div>
<div class="line"><span class="lineno"> 1295</span>  maneuver_msg.intersection_transit_straight_maneuver.end_dist = end_dist;</div>
<div class="line"><span class="lineno"> 1296</span>  maneuver_msg.intersection_transit_straight_maneuver.end_speed = target_speed;</div>
<div class="line"><span class="lineno"> 1297</span>  maneuver_msg.intersection_transit_straight_maneuver.end_time = end_time;</div>
<div class="line"><span class="lineno"> 1298</span>  maneuver_msg.intersection_transit_straight_maneuver.starting_lane_id = std::to_string(starting_lane_id);</div>
<div class="line"><span class="lineno"> 1299</span>  maneuver_msg.intersection_transit_straight_maneuver.ending_lane_id = std::to_string(ending_lane_id);</div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span>  <span class="comment">// Start time and end time for maneuver are assigned in updateTimeProgress</span></div>
<div class="line"><span class="lineno"> 1302</span> </div>
<div class="line"><span class="lineno"> 1303</span>  ROS_INFO_STREAM(<span class="stringliteral">&quot;Creating IntersectionTransitManeuver start dist: &quot;</span> &lt;&lt; start_dist &lt;&lt; <span class="stringliteral">&quot; end dist: &quot;</span> &lt;&lt; end_dist</div>
<div class="line"><span class="lineno"> 1304</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; From lanelet: &quot;</span> &lt;&lt; starting_lane_id</div>
<div class="line"><span class="lineno"> 1305</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; to lanelet: &quot;</span> &lt;&lt; ending_lane_id</div>
<div class="line"><span class="lineno"> 1306</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; From start_time: &quot;</span> &lt;&lt; start_time</div>
<div class="line"><span class="lineno"> 1307</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; to end_time: &quot;</span> &lt;&lt; end_time);</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>  <span class="keywordflow">return</span> maneuver_msg;</div>
<div class="line"><span class="lineno"> 1310</span>}</div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a001ab9c72909eec9d6870cbd92dfa152"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a001ab9c72909eec9d6870cbd92dfa152">lci_strategic_plugin::LCIStrategicPluginConfig::intersection_transit_plugin_name</a></div><div class="ttdeci">std::string intersection_transit_plugin_name</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00095">lci_strategic_plugin_config.h:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00095">lci_strategic_plugin::LCIStrategicPluginConfig::intersection_transit_plugin_name</a>, and <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00084">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00328">handleGreenSignalScenario()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00908">planWhenDEPARTING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5e4ecab9f1255d861d20fd21c2b5bdd6_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5e4ecab9f1255d861d20fd21c2b5bdd6_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5e4ecab9f1255d861d20fd21c2b5bdd6_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5e4ecab9f1255d861d20fd21c2b5bdd6_icgraph">
<area shape="rect" title="Compose a intersection transit maneuver message based on input params." alt="" coords="756,78,945,149"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="545,5,683,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,85,708,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a233112b93d2ee04c2f149e46f62832e2" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="300,151,461,207"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,71,472,127"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,111,241,167"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,125,56,152"/>
</map>
</div>

</div>
</div>
<a id="a8528301c6bda50dde4d55e64ec02e7f1" name="a8528301c6bda50dde4d55e64ec02e7f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8528301c6bda50dde4d55e64ec02e7f1">&#9670;&nbsp;</a></span>composeStopAndWaitManeuverMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cav_msgs::Maneuver lci_strategic_plugin::LCIStrategicPlugin::composeStopAndWaitManeuverMessage </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::Id &amp;&#160;</td>
          <td class="paramname"><em>starting_lane_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::Id &amp;&#160;</td>
          <td class="paramname"><em>ending_lane_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Time&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Time&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>stopping_accel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compose a stop and wait maneuver message based on input params. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_dist</td><td>Start downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">end_dist</td><td>End downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">start_speed</td><td>Start speed of the current maneuver </td></tr>
    <tr><td class="paramname">starting_lane_id</td><td>The starting lanelet id of this maneuver </td></tr>
    <tr><td class="paramname">ending_lane_id</td><td>The ending lanelet id of this maneuver </td></tr>
    <tr><td class="paramname">start_time</td><td>The starting time of the maneuver </td></tr>
    <tr><td class="paramname">end_time</td><td>The ending time of the maneuver </td></tr>
    <tr><td class="paramname">stopping_accel</td><td>Acceleration used for calculating the stopping distance</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A stop and wait maneuver message which is ready to be published </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01243">1243</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1248</span>{</div>
<div class="line"><span class="lineno"> 1249</span>  cav_msgs::Maneuver maneuver_msg;</div>
<div class="line"><span class="lineno"> 1250</span>  maneuver_msg.type = cav_msgs::Maneuver::STOP_AND_WAIT;</div>
<div class="line"><span class="lineno"> 1251</span>  maneuver_msg.stop_and_wait_maneuver.parameters.negotiation_type = cav_msgs::ManeuverParameters::NO_NEGOTIATION;</div>
<div class="line"><span class="lineno"> 1252</span>  maneuver_msg.stop_and_wait_maneuver.parameters.presence_vector =</div>
<div class="line"><span class="lineno"> 1253</span>      cav_msgs::ManeuverParameters::HAS_TACTICAL_PLUGIN | cav_msgs::ManeuverParameters::HAS_FLOAT_META_DATA;</div>
<div class="line"><span class="lineno"> 1254</span>  maneuver_msg.stop_and_wait_maneuver.parameters.planning_tactical_plugin = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a35cdfbe518abecdfe0452ccf0ada4224">stop_and_wait_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1255</span>  maneuver_msg.stop_and_wait_maneuver.parameters.planning_strategic_plugin = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1256</span>  maneuver_msg.stop_and_wait_maneuver.start_dist = current_dist;</div>
<div class="line"><span class="lineno"> 1257</span>  maneuver_msg.stop_and_wait_maneuver.end_dist = end_dist;</div>
<div class="line"><span class="lineno"> 1258</span>  maneuver_msg.stop_and_wait_maneuver.start_speed = start_speed;</div>
<div class="line"><span class="lineno"> 1259</span>  maneuver_msg.stop_and_wait_maneuver.start_time = start_time;</div>
<div class="line"><span class="lineno"> 1260</span>  maneuver_msg.stop_and_wait_maneuver.end_time = end_time;</div>
<div class="line"><span class="lineno"> 1261</span>  maneuver_msg.stop_and_wait_maneuver.starting_lane_id = std::to_string(starting_lane_id);</div>
<div class="line"><span class="lineno"> 1262</span>  maneuver_msg.stop_and_wait_maneuver.ending_lane_id = std::to_string(ending_lane_id);</div>
<div class="line"><span class="lineno"> 1263</span> </div>
<div class="line"><span class="lineno"> 1264</span>  <span class="comment">// Set the meta data for the stop location buffer</span></div>
<div class="line"><span class="lineno"> 1265</span>  maneuver_msg.stop_and_wait_maneuver.parameters.float_valued_meta_data.push_back(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>);</div>
<div class="line"><span class="lineno"> 1266</span>  maneuver_msg.stop_and_wait_maneuver.parameters.float_valued_meta_data.push_back(stopping_accel);</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>  ROS_INFO_STREAM(<span class="stringliteral">&quot;Creating stop and wait start dist: &quot;</span> &lt;&lt; current_dist &lt;&lt; <span class="stringliteral">&quot; end dist: &quot;</span> &lt;&lt; end_dist</div>
<div class="line"><span class="lineno"> 1269</span>                                                                        &lt;&lt; <span class="stringliteral">&quot; start_time: &quot;</span> &lt;&lt; std::to_string(start_time.toSec())</div>
<div class="line"><span class="lineno"> 1270</span>                                                                        &lt;&lt; <span class="stringliteral">&quot; end_time: &quot;</span> &lt;&lt; std::to_string(end_time.toSec())</div>
<div class="line"><span class="lineno"> 1271</span>                                                                        &lt;&lt; <span class="stringliteral">&quot; stopping_accel: &quot;</span> &lt;&lt; stopping_accel);</div>
<div class="line"><span class="lineno"> 1272</span> </div>
<div class="line"><span class="lineno"> 1273</span>  <span class="keywordflow">return</span> maneuver_msg;</div>
<div class="line"><span class="lineno"> 1274</span>}</div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a35cdfbe518abecdfe0452ccf0ada4224"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a35cdfbe518abecdfe0452ccf0ada4224">lci_strategic_plugin::LCIStrategicPluginConfig::stop_and_wait_plugin_name</a></div><div class="ttdeci">std::string stop_and_wait_plugin_name</div><div class="ttdoc">The name of the plugin to use for stop and wait trajectory planning.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00091">lci_strategic_plugin_config.h:91</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a3a0e8c26f578b34ca773be49061364a6"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a></div><div class="ttdeci">double stopping_location_buffer</div><div class="ttdoc">A buffer infront of the stopping location which will still be considered a valid stop....</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00044">lci_strategic_plugin_config.h:44</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00091">lci_strategic_plugin::LCIStrategicPluginConfig::stop_and_wait_plugin_name</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00044">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a>, and <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00084">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00284">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00228">handleStopping()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">planWhenWAITING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a8528301c6bda50dde4d55e64ec02e7f1_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8528301c6bda50dde4d55e64ec02e7f1_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8528301c6bda50dde4d55e64ec02e7f1_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8528301c6bda50dde4d55e64ec02e7f1_icgraph">
<area shape="rect" title="Compose a stop and wait maneuver message based on input params." alt="" coords="735,78,949,149"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,5,687,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="535,85,672,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="309,151,452,207"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,71,472,127"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,111,241,167"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,125,56,152"/>
</map>
</div>

</div>
</div>
<a id="a7510c02543b0ac9b818c5f292dda4622" name="a7510c02543b0ac9b818c5f292dda4622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7510c02543b0ac9b818c5f292dda4622">&#9670;&nbsp;</a></span>composeTrajectorySmoothingManeuverMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cav_msgs::Maneuver lci_strategic_plugin::LCIStrategicPlugin::composeTrajectorySmoothingManeuverMessage </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; lanelet::ConstLanelet &gt; &amp;&#160;</td>
          <td class="paramname"><em>crossed_lanelets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>target_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Time&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ros::Time&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;&#160;</td>
          <td class="paramname"><em>tsp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compose a trajectory smoothing maneuver msg (sent as transit maneuver message) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">start_dist</td><td>Start downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">end_dist</td><td>End downtrack distance of the current maneuver </td></tr>
    <tr><td class="paramname">start_speed</td><td>Start speed of the current maneuver </td></tr>
    <tr><td class="paramname">target_speed</td><td>Target speed pf the current maneuver, usually it is the lanelet speed limit </td></tr>
    <tr><td class="paramname">start_time</td><td>The starting time of the maneuver </td></tr>
    <tr><td class="paramname">end_time</td><td>The ending time of the maneuver </td></tr>
    <tr><td class="paramname">tsp</td><td>Trajectory Smoothing parameters needed to modify speed profile</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A transift maneuver message specifically designed for light controlled intersection tactical plugin </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01192">1192</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1195</span>{</div>
<div class="line"><span class="lineno"> 1196</span>  cav_msgs::Maneuver maneuver_msg;</div>
<div class="line"><span class="lineno"> 1197</span>  maneuver_msg.type = cav_msgs::Maneuver::LANE_FOLLOWING;</div>
<div class="line"><span class="lineno"> 1198</span>  maneuver_msg.lane_following_maneuver.parameters.negotiation_type =</div>
<div class="line"><span class="lineno"> 1199</span>      cav_msgs::ManeuverParameters::NO_NEGOTIATION;</div>
<div class="line"><span class="lineno"> 1200</span>  maneuver_msg.lane_following_maneuver.parameters.presence_vector =</div>
<div class="line"><span class="lineno"> 1201</span>      cav_msgs::ManeuverParameters::HAS_TACTICAL_PLUGIN | cav_msgs::ManeuverParameters::HAS_FLOAT_META_DATA | cav_msgs::ManeuverParameters::HAS_INT_META_DATA;</div>
<div class="line"><span class="lineno"> 1202</span>  maneuver_msg.lane_following_maneuver.parameters.planning_tactical_plugin =</div>
<div class="line"><span class="lineno"> 1203</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a62ccfdacfd9ef06d1ed0515d7cd6a2d8">lane_following_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1204</span>  maneuver_msg.lane_following_maneuver.parameters.planning_strategic_plugin =</div>
<div class="line"><span class="lineno"> 1205</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa1f3fefe2ee7fc7af0d064ece71bf971">strategic_plugin_name</a>;</div>
<div class="line"><span class="lineno"> 1206</span>  maneuver_msg.lane_following_maneuver.start_dist = start_dist;</div>
<div class="line"><span class="lineno"> 1207</span>  maneuver_msg.lane_following_maneuver.start_speed = start_speed;</div>
<div class="line"><span class="lineno"> 1208</span>  maneuver_msg.lane_following_maneuver.start_time = start_time;</div>
<div class="line"><span class="lineno"> 1209</span>  maneuver_msg.lane_following_maneuver.end_dist = end_dist;</div>
<div class="line"><span class="lineno"> 1210</span>  maneuver_msg.lane_following_maneuver.end_speed = target_speed;</div>
<div class="line"><span class="lineno"> 1211</span>  maneuver_msg.lane_following_maneuver.end_time = end_time;</div>
<div class="line"><span class="lineno"> 1212</span>  </div>
<div class="line"><span class="lineno"> 1213</span>  maneuver_msg.lane_following_maneuver.parameters.string_valued_meta_data.push_back(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">light_controlled_intersection_strategy_</a>);</div>
<div class="line"><span class="lineno"> 1214</span> </div>
<div class="line"><span class="lineno"> 1215</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.a1_);</div>
<div class="line"><span class="lineno"> 1216</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.v1_);</div>
<div class="line"><span class="lineno"> 1217</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.x1_);</div>
<div class="line"><span class="lineno"> 1218</span> </div>
<div class="line"><span class="lineno"> 1219</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.a2_);</div>
<div class="line"><span class="lineno"> 1220</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.v2_);</div>
<div class="line"><span class="lineno"> 1221</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.x2_);</div>
<div class="line"><span class="lineno"> 1222</span> </div>
<div class="line"><span class="lineno"> 1223</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.a3_);</div>
<div class="line"><span class="lineno"> 1224</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.v3_);</div>
<div class="line"><span class="lineno"> 1225</span>  maneuver_msg.lane_following_maneuver.parameters.float_valued_meta_data.push_back(tsp.x3_);</div>
<div class="line"><span class="lineno"> 1226</span> </div>
<div class="line"><span class="lineno"> 1227</span>  maneuver_msg.lane_following_maneuver.parameters.int_valued_meta_data.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(tsp.case_num));</div>
<div class="line"><span class="lineno"> 1228</span>  maneuver_msg.lane_following_maneuver.parameters.int_valued_meta_data.push_back(<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(tsp.is_algorithm_successful));</div>
<div class="line"><span class="lineno"> 1229</span> </div>
<div class="line"><span class="lineno"> 1230</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> llt : crossed_lanelets)</div>
<div class="line"><span class="lineno"> 1231</span>  {</div>
<div class="line"><span class="lineno"> 1232</span>    maneuver_msg.lane_following_maneuver.lane_ids.push_back(std::to_string(llt.id()));</div>
<div class="line"><span class="lineno"> 1233</span>  }</div>
<div class="line"><span class="lineno"> 1234</span>  <span class="comment">// Start time and end time for maneuver are assigned in updateTimeProgress</span></div>
<div class="line"><span class="lineno"> 1235</span> </div>
<div class="line"><span class="lineno"> 1236</span>  ROS_INFO_STREAM(<span class="stringliteral">&quot;Creating TrajectorySmoothingManeuver start dist: &quot;</span> &lt;&lt; start_dist &lt;&lt; <span class="stringliteral">&quot; end dist: &quot;</span> &lt;&lt; end_dist</div>
<div class="line"><span class="lineno"> 1237</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; start_time: &quot;</span> &lt;&lt; std::to_string(start_time.toSec())</div>
<div class="line"><span class="lineno"> 1238</span>                                                                      &lt;&lt; <span class="stringliteral">&quot; end_time: &quot;</span> &lt;&lt; std::to_string(end_time.toSec()));</div>
<div class="line"><span class="lineno"> 1239</span> </div>
<div class="line"><span class="lineno"> 1240</span>  <span class="keywordflow">return</span> maneuver_msg;</div>
<div class="line"><span class="lineno"> 1241</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_abe899a1e3053d51bd163bda6b5bbd0b8"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">lci_strategic_plugin::LCIStrategicPlugin::light_controlled_intersection_strategy_</a></div><div class="ttdeci">std::string light_controlled_intersection_strategy_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00744">lci_strategic_plugin.h:744</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a62ccfdacfd9ef06d1ed0515d7cd6a2d8"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a62ccfdacfd9ef06d1ed0515d7cd6a2d8">lci_strategic_plugin::LCIStrategicPluginConfig::lane_following_plugin_name</a></div><div class="ttdeci">std::string lane_following_plugin_name</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00088">lci_strategic_plugin_config.h:88</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00094">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00093">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00088">lci_strategic_plugin::LCIStrategicPluginConfig::lane_following_plugin_name</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00744">light_controlled_intersection_strategy_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00084">lci_strategic_plugin::LCIStrategicPluginConfig::strategic_plugin_name</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00284">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">handleFailureCase()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00328">handleGreenSignalScenario()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a7510c02543b0ac9b818c5f292dda4622_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7510c02543b0ac9b818c5f292dda4622_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7510c02543b0ac9b818c5f292dda4622_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7510c02543b0ac9b818c5f292dda4622_icgraph">
<area shape="rect" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="756,78,956,149"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="531,5,697,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="545,85,683,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,165,708,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,85,472,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,85,241,141"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,100,56,127"/>
</map>
</div>

</div>
</div>
<a id="ace9fb36575ef6b54f01291ef8cf1d697" name="ace9fb36575ef6b54f01291ef8cf1d697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace9fb36575ef6b54f01291ef8cf1d697">&#9670;&nbsp;</a></span>estimate_distance_to_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::estimate_distance_to_stop </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v</td><td>The initial velocity in m/s </td></tr>
    <tr><td class="paramname">a</td><td>The deceleration in m/s^2</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimated stopping distance in meters </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00022">22</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   23</span>{</div>
<div class="line"><span class="lineno">   24</span>  <span class="keywordflow">return</span> (v * v) / (2.0 * <a class="code hl_variable" href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a>);</div>
<div class="line"><span class="lineno">   25</span>}</div>
<div class="ttc" id="apointer_8h_html_aeeddce917cf130d62c370b8f216026dd"><div class="ttname"><a href="pointer_8h.html#aeeddce917cf130d62c370b8f216026dd">a</a></div><div class="ttdeci">const GenericPointer&lt; typename T::ValueType &gt; T2 T::AllocatorType &amp; a</div><div class="ttdef"><b>Definition:</b> <a href="pointer_8h_source.html#l01121">pointer.h:1121</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="pointer_8h_source.html#l01121">a</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ace9fb36575ef6b54f01291ef8cf1d697_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace9fb36575ef6b54f01291ef8cf1d697_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace9fb36575ef6b54f01291ef8cf1d697_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace9fb36575ef6b54f01291ef8cf1d697_icgraph">
<area shape="rect" title="Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs." alt="" coords="516,5,700,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a839f2a50a5289df5b243a8355850539a" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="289,5,468,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a1aab46a940b62eccd2804c646342ac0c" name="a1aab46a940b62eccd2804c646342ac0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1aab46a940b62eccd2804c646342ac0c">&#9670;&nbsp;</a></span>estimate_time_to_stop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::estimate_time_to_stop </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to use basic kinematics to compute an estimated stopping time from from the inputs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>The distance to travel in meters </td></tr>
    <tr><td class="paramname">v</td><td>The initial velocity in m/s</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimated stopping time in seconds </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00027">27</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   28</span>{</div>
<div class="line"><span class="lineno">   29</span>  <span class="keywordflow">return</span> 2.0 * d / v;</div>
<div class="line"><span class="lineno">   30</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6220e6c98770c3ccf99e34e5b1d8c16" name="ab6220e6c98770c3ccf99e34e5b1d8c16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6220e6c98770c3ccf99e34e5b1d8c16">&#9670;&nbsp;</a></span>extractInitialState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">LCIStrategicPlugin::VehicleState</a> lci_strategic_plugin::LCIStrategicPlugin::extractInitialState </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to extract the initial vehicle state from the planning request method based on if the prior_plan was set or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The maneuver planning request to extract the vehicle state from</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The extracted <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html" title="Struct representing a vehicle state for the purposes of planning.">VehicleState</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00105">105</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  106</span>{</div>
<div class="line"><span class="lineno">  107</span>  VehicleState state;</div>
<div class="line"><span class="lineno">  108</span>  <span class="keywordflow">if</span> (!req.prior_plan.maneuvers.empty())</div>
<div class="line"><span class="lineno">  109</span>  {</div>
<div class="line"><span class="lineno">  110</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Provided with initial plan...&quot;</span>);</div>
<div class="line"><span class="lineno">  111</span>    state.stamp = <a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a>(req.prior_plan.maneuvers.back(), end_time);</div>
<div class="line"><span class="lineno">  112</span>    state.downtrack = <a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a>(req.prior_plan.maneuvers.back(), end_dist);</div>
<div class="line"><span class="lineno">  113</span>    state.speed = <a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a>(req.prior_plan.maneuvers.back(), end_speed);</div>
<div class="line"><span class="lineno">  114</span>    state.lane_id = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(state.downtrack, state.downtrack, <span class="keyword">true</span>).front().id();</div>
<div class="line"><span class="lineno">  115</span>  }</div>
<div class="line"><span class="lineno">  116</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  117</span>  {</div>
<div class="line"><span class="lineno">  118</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;No initial plan provided...&quot;</span>);</div>
<div class="line"><span class="lineno">  119</span>    </div>
<div class="line"><span class="lineno">  120</span>    state.stamp = req.header.stamp;</div>
<div class="line"><span class="lineno">  121</span>    state.downtrack = req.veh_downtrack;</div>
<div class="line"><span class="lineno">  122</span>    state.speed = req.veh_logitudinal_velocity;</div>
<div class="line"><span class="lineno">  123</span>    state.lane_id = stoi(req.veh_lane_id);</div>
<div class="line"><span class="lineno">  124</span>  }</div>
<div class="line"><span class="lineno">  125</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;extractInitialState &gt;&gt;&gt;&gt; state.stamp: &quot;</span> &lt;&lt; state.stamp);</div>
<div class="line"><span class="lineno">  126</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;extractInitialState &gt;&gt;&gt;&gt; state.downtrack : &quot;</span> &lt;&lt; state.downtrack );</div>
<div class="line"><span class="lineno">  127</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;extractInitialState &gt;&gt;&gt;&gt; state.speed: &quot;</span> &lt;&lt; state.speed);</div>
<div class="line"><span class="lineno">  128</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;extractInitialState &gt;&gt;&gt;&gt; state.lane_id: &quot;</span> &lt;&lt; state.lane_id);</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>  <span class="keywordflow">return</span> state;</div>
<div class="line"><span class="lineno">  131</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a7dd0000bcaf1d2028aeef57416f7c429"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">lci_strategic_plugin::LCIStrategicPlugin::getLaneletsBetweenWithException</a></div><div class="ttdeci">std::vector&lt; lanelet::ConstLanelet &gt; getLaneletsBetweenWithException(double start_downtrack, double end_downtrack, bool shortest_path_only=false, bool bounds_inclusive=true) const</div><div class="ttdoc">Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00210">lci_strategic_plugin.cpp:210</a></div></div>
<div class="ttc" id="alci__strategic__plugin_8cpp_html_a066f948508e087006568cb6c9b0674a7"><div class="ttname"><a href="lci__strategic__plugin_8cpp.html#a066f948508e087006568cb6c9b0674a7">GET_MANEUVER_PROPERTY</a></div><div class="ttdeci">#define GET_MANEUVER_PROPERTY(mvr, property)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00021">lci_strategic_plugin.cpp:21</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00021">GET_MANEUVER_PROPERTY</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00210">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00226">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::lane_id</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00225">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ab6220e6c98770c3ccf99e34e5b1d8c16_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab6220e6c98770c3ccf99e34e5b1d8c16_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab6220e6c98770c3ccf99e34e5b1d8c16_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab6220e6c98770c3ccf99e34e5b1d8c16_cgraph">
<area shape="rect" title="Helper method to extract the initial vehicle state from the planning request method based on if the p..." alt="" coords="5,5,143,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="191,5,420,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ab6220e6c98770c3ccf99e34e5b1d8c16_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab6220e6c98770c3ccf99e34e5b1d8c16_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab6220e6c98770c3ccf99e34e5b1d8c16_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ab6220e6c98770c3ccf99e34e5b1d8c16_icgraph">
<area shape="rect" title="Helper method to extract the initial vehicle state from the planning request method based on if the p..." alt="" coords="289,5,427,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a3a26d736705389e017c4c41097806e90" name="a3a26d736705389e017c4c41097806e90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a26d736705389e017c4c41097806e90">&#9670;&nbsp;</a></span>findSpeedLimit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::findSpeedLimit </td>
          <td>(</td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>llt</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Given a Lanelet, find it's associated Speed Limit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">llt</td><td>Constant Lanelet object</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>if the speed limit could not be retrieved</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value of speed limit in mps </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00133">133</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  134</span>{</div>
<div class="line"><span class="lineno">  135</span>  lanelet::Optional&lt;carma_wm::TrafficRulesConstPtr&gt; traffic_rules = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getTrafficRules();</div>
<div class="line"><span class="lineno">  136</span>  <span class="keywordflow">if</span> (traffic_rules)</div>
<div class="line"><span class="lineno">  137</span>  {</div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">return</span> (*traffic_rules)-&gt;speedLimit(llt).speedLimit.value();</div>
<div class="line"><span class="lineno">  139</span>  }</div>
<div class="line"><span class="lineno">  140</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  141</span>  {</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Valid traffic rules object could not be built&quot;</span>);</div>
<div class="line"><span class="lineno">  143</span>  }</div>
<div class="line"><span class="lineno">  144</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00730">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a3a26d736705389e017c4c41097806e90_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a26d736705389e017c4c41097806e90_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a26d736705389e017c4c41097806e90_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a26d736705389e017c4c41097806e90_icgraph">
<area shape="rect" title="Given a Lanelet, find it&#39;s associated Speed Limit." alt="" coords="520,45,657,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a839f2a50a5289df5b243a8355850539a" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="291,85,470,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,45,241,101"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,60,56,87"/>
</map>
</div>

</div>
</div>
<a id="a8dbc989a7550e2df686ea5ab99b7b14e" name="a8dbc989a7550e2df686ea5ab99b7b14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbc989a7550e2df686ea5ab99b7b14e">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[1/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">calc_estimated_entry_time_left</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8dbc989a7550e2df686ea5ab99b7b14e" name="a8dbc989a7550e2df686ea5ab99b7b14e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbc989a7550e2df686ea5ab99b7b14e">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[2/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3f6a47bf53ae1095e72df145bf6903d3">calc_estimated_entry_time_left</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5dbb6c112eac4ff8a4cbc2a674c0c4e9" name="a5dbb6c112eac4ff8a4cbc2a674c0c4e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbb6c112eac4ff8a4cbc2a674c0c4e9">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[3/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6">composeIntersectionTransitMessage</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a708690d451bb7444dcb4c6fa6ef643d5" name="a708690d451bb7444dcb4c6fa6ef643d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a708690d451bb7444dcb4c6fa6ef643d5">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[4/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1">composeStopAndWaitManeuverMessage</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8bd61d1c8aa2e18e8418e593b670f128" name="a8bd61d1c8aa2e18e8418e593b670f128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd61d1c8aa2e18e8418e593b670f128">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[5/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622">composeTrajectorySmoothingManeuverMessage</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9445b42bdb77fe7a0bbf43bedf714d3b" name="a9445b42bdb77fe7a0bbf43bedf714d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9445b42bdb77fe7a0bbf43bedf714d3b">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[6/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9445b42bdb77fe7a0bbf43bedf714d3b" name="a9445b42bdb77fe7a0bbf43bedf714d3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9445b42bdb77fe7a0bbf43bedf714d3b">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[7/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2058cfbf748579a7e1c51da801218202" name="a2058cfbf748579a7e1c51da801218202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2058cfbf748579a7e1c51da801218202">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[8/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">estimate_time_to_stop</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2058cfbf748579a7e1c51da801218202" name="a2058cfbf748579a7e1c51da801218202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2058cfbf748579a7e1c51da801218202">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[9/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1aab46a940b62eccd2804c646342ac0c">estimate_time_to_stop</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f79fc85ea25758b13f21d5e9bdd4c4c" name="a8f79fc85ea25758b13f21d5e9bdd4c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f79fc85ea25758b13f21d5e9bdd4c4c">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[10/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab6220e6c98770c3ccf99e34e5b1d8c16">extractInitialState</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a37f9f412abdf354586c072636b3ac644" name="a37f9f412abdf354586c072636b3ac644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f9f412abdf354586c072636b3ac644">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[11/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a8b1c5be92f14061620ed632d1ccff7" name="a0a8b1c5be92f14061620ed632d1ccff7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a8b1c5be92f14061620ed632d1ccff7">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[12/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">get_distance_to_accel_or_decel_once</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3da968a28811ff19a5f137296f6407e6" name="a3da968a28811ff19a5f137296f6407e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da968a28811ff19a5f137296f6407e6">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[13/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">get_distance_to_accel_or_decel_twice</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afaf00298b86f45d4553a62f9b22184e6" name="afaf00298b86f45d4553a62f9b22184e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaf00298b86f45d4553a62f9b22184e6">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[14/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888">get_earliest_entry_time</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a04f4a437035adceb7bac4adf49c14c37" name="a04f4a437035adceb7bac4adf49c14c37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04f4a437035adceb7bac4adf49c14c37">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[15/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a354e00aef231534da6af36c6722b8c8f">get_nearest_green_entry_time</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af7c3e21056f1b5dab765e04e73be5c44" name="af7c3e21056f1b5dab765e04e73be5c44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7c3e21056f1b5dab765e04e73be5c44">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[16/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a304a44e84f14d7ad6d12db3079dba98a">getDiscoveryMsg</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abca8dd04be6ce3e05f83f3601b72774b" name="abca8dd04be6ce3e05f83f3601b72774b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abca8dd04be6ce3e05f83f3601b72774b">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[17/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a21d191a68eff985e471d8d26dd5dfc84" name="a21d191a68eff985e471d8d26dd5dfc84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d191a68eff985e471d8d26dd5dfc84">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[18/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70">handleFailureCase</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac9adae05325f53a2f2e50a08659b2bd0" name="ac9adae05325f53a2f2e50a08659b2bd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9adae05325f53a2f2e50a08659b2bd0">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[19/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75">handleStopping</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad16e098f65e6b8628ca6e9face1cc234" name="ad16e098f65e6b8628ca6e9face1cc234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16e098f65e6b8628ca6e9face1cc234">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[20/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">supportedLightState</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a430d9bf29b6d3b1cf60757d770245783" name="a430d9bf29b6d3b1cf60757d770245783"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a430d9bf29b6d3b1cf60757d770245783">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[21/21]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lci_strategic_plugin::LCIStrategicPlugin::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype">LCIStrategicTestFixture&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">validLightState</a>&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a63354d48a82cceed362b725510157bf6" name="a63354d48a82cceed362b725510157bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63354d48a82cceed362b725510157bf6">&#9670;&nbsp;</a></span>generateMobilityOperation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cav_msgs::MobilityOperation lci_strategic_plugin::LCIStrategicPlugin::generateMobilityOperation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates Mobility Operation messages. </p>
<dl class="section return"><dt>Returns</dt><dd>mobility operation msg for status and intent </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">983</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  984</span>{</div>
<div class="line"><span class="lineno">  985</span>    cav_msgs::MobilityOperation mo_;</div>
<div class="line"><span class="lineno">  986</span>    mo_.m_header.timestamp = ros::Time::now().toNSec()/1000000;</div>
<div class="line"><span class="lineno">  987</span>    mo_.m_header.sender_id = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">vehicle_id</a>;</div>
<div class="line"><span class="lineno">  988</span>    mo_.m_header.recipient_id = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a31499f8e464eedc17d071335fb9ce1ad">upcoming_id_</a>;</div>
<div class="line"><span class="lineno">  989</span>    mo_.m_header.sender_bsm_id = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aab8ebae22d31d704cdee82b3efcec263">bsm_id_</a>;</div>
<div class="line"><span class="lineno">  990</span>    mo_.strategy = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">light_controlled_intersection_strategy_</a>;</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>    <span class="keywordtype">double</span> vehicle_acceleration_limit_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  993</span>    <span class="keywordtype">double</span> vehicle_deceleration_limit_ = -1 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>    std::string intersection_turn_direction = <span class="stringliteral">&quot;straight&quot;</span>;</div>
<div class="line"><span class="lineno">  996</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">intersection_turn_direction_</a> == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">TurnDirection::Right</a>) intersection_turn_direction = <span class="stringliteral">&quot;right&quot;</span>;</div>
<div class="line"><span class="lineno">  997</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">intersection_turn_direction_</a> == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">TurnDirection::Left</a>) intersection_turn_direction = <span class="stringliteral">&quot;left&quot;</span>;</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>    mo_.strategy_params = <span class="stringliteral">&quot;access: 1, max_accel: &quot;</span> + std::to_string(vehicle_acceleration_limit_) +  <span class="comment">// NOTE: Access currently set to 1 at all times since its not specified by streets</span></div>
<div class="line"><span class="lineno"> 1000</span>                        <span class="stringliteral">&quot;, max_decel: &quot;</span> + std::to_string(vehicle_deceleration_limit_) + <span class="stringliteral">&quot;, react_time: &quot;</span> + std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a4815821904dcefecf744a71e0ca50a9e">reaction_time</a>) +</div>
<div class="line"><span class="lineno"> 1001</span>                        <span class="stringliteral">&quot;, min_gap: &quot;</span> + std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ac0abc606a35bfdf537c1297591e86d0c">min_gap</a>) + <span class="stringliteral">&quot;, depart_pos: 0&quot;</span> + <span class="comment">// NOTE: Departure position set to 0 at all times since it&#39;s not specified by streets</span></div>
<div class="line"><span class="lineno"> 1002</span>                        <span class="stringliteral">&quot;, turn_direction: &quot;</span> + intersection_turn_direction + <span class="stringliteral">&quot;, msg_count: &quot;</span> + std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a01df237e1b50c546b2088036c4a1b477">bsm_msg_count_</a>) + <span class="stringliteral">&quot;, sec_mark: &quot;</span> + std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a21cb9188fd1f5f4330fdf8ef3e571a78">bsm_sec_mark_</a>);</div>
<div class="line"><span class="lineno"> 1003</span>    </div>
<div class="line"><span class="lineno"> 1004</span> </div>
<div class="line"><span class="lineno"> 1005</span>    <span class="keywordflow">return</span> mo_;</div>
<div class="line"><span class="lineno"> 1006</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a31499f8e464eedc17d071335fb9ce1ad"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a31499f8e464eedc17d071335fb9ce1ad">lci_strategic_plugin::LCIStrategicPlugin::upcoming_id_</a></div><div class="ttdeci">std::string upcoming_id_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00722">lci_strategic_plugin.h:722</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab3b737710552367a21447be1918ca210"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">lci_strategic_plugin::LCIStrategicPlugin::intersection_turn_direction_</a></div><div class="ttdeci">TurnDirection intersection_turn_direction_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00188">lci_strategic_plugin.h:188</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">lci_strategic_plugin::TurnDirection::Right</a></div><div class="ttdeci">@ Right</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">lci_strategic_plugin::TurnDirection::Left</a></div><div class="ttdeci">@ Left</div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a1004d0cff80a036bdf02a20c0fbc46cd"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_id</a></div><div class="ttdeci">std::string vehicle_id</div><div class="ttdoc">License plate of the vehicle.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00081">lci_strategic_plugin_config.h:81</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a4815821904dcefecf744a71e0ca50a9e"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a4815821904dcefecf744a71e0ca50a9e">lci_strategic_plugin::LCIStrategicPluginConfig::reaction_time</a></div><div class="ttdeci">double reaction_time</div><div class="ttdoc">Double: Vehicle reaction time to a received schedule in seconds (approximate value,...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00069">lci_strategic_plugin_config.h:69</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_ac0abc606a35bfdf537c1297591e86d0c"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ac0abc606a35bfdf537c1297591e86d0c">lci_strategic_plugin::LCIStrategicPluginConfig::min_gap</a></div><div class="ttdeci">double min_gap</div><div class="ttdoc">Double: Minimum inter-vehicle gap.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00072">lci_strategic_plugin_config.h:72</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00198">bsm_id_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00199">bsm_msg_count_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00200">bsm_sec_mark_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00188">intersection_turn_direction_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">lci_strategic_plugin::Left</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00744">light_controlled_intersection_strategy_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00072">lci_strategic_plugin::LCIStrategicPluginConfig::min_gap</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00069">lci_strategic_plugin::LCIStrategicPluginConfig::reaction_time</a>, <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">lci_strategic_plugin::Right</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00722">upcoming_id_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00032">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00035">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>, and <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00081">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01038">mobilityPubSpin()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a63354d48a82cceed362b725510157bf6_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a63354d48a82cceed362b725510157bf6_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a63354d48a82cceed362b725510157bf6_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a63354d48a82cceed362b725510157bf6_icgraph">
<area shape="rect" title="Generates Mobility Operation messages." alt="" coords="289,5,468,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3bd7da843391689a01c52b1deff1006c" title="Method to call at fixed rate in execution loop. Will publish plugin discovery and mobility operation ..." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="adf303b014faf0df91b93e2a7a37df9a8" name="adf303b014faf0df91b93e2a7a37df9a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf303b014faf0df91b93e2a7a37df9a8">&#9670;&nbsp;</a></span>get_boundary_traj_params()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &gt; lci_strategic_plugin::LCIStrategicPlugin::get_boundary_traj_params </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a>&#160;</td>
          <td class="paramname"><em>boundary_distances</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get all possible trajectory smoothing parameters for each segments. Later this will be used to generate a single trajectory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">t</td><td>current time in seconds </td></tr>
    <tr><td class="paramname">v0</td><td>starting_speed </td></tr>
    <tr><td class="paramname">v1</td><td>departure_speed </td></tr>
    <tr><td class="paramname">v_max</td><td>speed_limit </td></tr>
    <tr><td class="paramname">v_min</td><td>minimum speed </td></tr>
    <tr><td class="paramname">a_max</td><td>max_comfort_acceleration limit </td></tr>
    <tr><td class="paramname">a_min</td><td>max_comfort_deceleration limit </td></tr>
    <tr><td class="paramname">x0</td><td>current_downtrack </td></tr>
    <tr><td class="paramname">x_end</td><td>traffic_light_down_track </td></tr>
    <tr><td class="paramname">dx</td><td>distance_remaining_to_traffic_light </td></tr>
    <tr><td class="paramname">boundary_distances</td><td>boundary_distances to compare against current state </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>all possible trajectory smoothing parameters to later generate single trajectory </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">302</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  303</span>{</div>
<div class="line"><span class="lineno">  304</span>  <span class="keywordtype">double</span> dx1 = boundary_distances.dx1;</div>
<div class="line"><span class="lineno">  305</span>  <span class="keywordtype">double</span> dx2 = boundary_distances.dx2;</div>
<div class="line"><span class="lineno">  306</span>  <span class="keywordtype">double</span> dx3 = boundary_distances.dx3;</div>
<div class="line"><span class="lineno">  307</span>  <span class="keywordtype">double</span> dx4 = boundary_distances.dx4;</div>
<div class="line"><span class="lineno">  308</span>  <span class="keywordtype">double</span> dx5 = boundary_distances.dx5;</div>
<div class="line"><span class="lineno">  309</span>  TrajectoryParams traj1, traj2, traj3, traj4, traj5, traj6, traj7, traj8;</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>  <span class="comment">// t1, t2, t3</span></div>
<div class="line"><span class="lineno">  312</span>  <span class="keywordflow">if</span> (dx &lt; dx2)</div>
<div class="line"><span class="lineno">  313</span>  {</div>
<div class="line"><span class="lineno">  314</span>    traj1 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a">boundary_accel_or_decel_incomplete_upper</a>(t, v0, v1, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  315</span>    traj2 = traj1;</div>
<div class="line"><span class="lineno">  316</span>    traj3 = traj1;</div>
<div class="line"><span class="lineno">  317</span>  }</div>
<div class="line"><span class="lineno">  318</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dx &lt; dx1)</div>
<div class="line"><span class="lineno">  319</span>  {</div>
<div class="line"><span class="lineno">  320</span>    traj1 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3">boundary_accel_nocruise_notmaxspeed_decel</a>(t, v0, v1, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  321</span>    traj2 = traj1;</div>
<div class="line"><span class="lineno">  322</span>    traj3 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f">boundary_accel_or_decel_complete_upper</a>(t, v0, v1, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  323</span>  }</div>
<div class="line"><span class="lineno">  324</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  325</span>  {</div>
<div class="line"><span class="lineno">  326</span>    traj1 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f">boundary_accel_cruise_maxspeed_decel</a>(t, v0, v1, v_max, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  327</span>    traj2 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60">boundary_accel_nocruise_maxspeed_decel</a>(t, v0, v1, v_max, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  328</span>    traj3 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f">boundary_accel_or_decel_complete_upper</a>(t, v0, v1, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  329</span>  }</div>
<div class="line"><span class="lineno">  330</span>  <span class="comment">// t4, t5, t6, t7</span></div>
<div class="line"><span class="lineno">  331</span>  <span class="keywordflow">if</span> (dx &lt; dx4)</div>
<div class="line"><span class="lineno">  332</span>  {</div>
<div class="line"><span class="lineno">  333</span>    traj4 = traj1;</div>
<div class="line"><span class="lineno">  334</span>    traj5 = traj1;</div>
<div class="line"><span class="lineno">  335</span>    traj6 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496">boundary_decel_incomplete_lower</a>(t, v0, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  336</span>    traj7 = traj6;</div>
<div class="line"><span class="lineno">  337</span>  }</div>
<div class="line"><span class="lineno">  338</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dx &lt; dx3)</div>
<div class="line"><span class="lineno">  339</span>  {</div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">if</span> (dx &lt; dx2)</div>
<div class="line"><span class="lineno">  341</span>    {</div>
<div class="line"><span class="lineno">  342</span>      traj4 = traj1;</div>
<div class="line"><span class="lineno">  343</span>    }</div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  345</span>    {</div>
<div class="line"><span class="lineno">  346</span>      traj4 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2">boundary_decel_nocruise_notminspeed_accel</a>(t, v0, v1, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  347</span>    }</div>
<div class="line"><span class="lineno">  348</span>    traj5 = traj4;</div>
<div class="line"><span class="lineno">  349</span>    traj6 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c">boundary_decel_nocruise_minspeed_accel_incomplete</a>(t, v0, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  350</span>    traj7 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72">boundary_decel_cruise_minspeed</a>(t, v0, v_min, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  351</span>    </div>
<div class="line"><span class="lineno">  352</span>  }</div>
<div class="line"><span class="lineno">  353</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  354</span>  {</div>
<div class="line"><span class="lineno">  355</span>    traj4 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d">boundary_decel_nocruise_minspeed_accel_complete</a>(t, v0, v1, v_max, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  356</span>    traj5 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208">boundary_decel_cruise_minspeed_accel</a>(t, v0, v1, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  357</span>    traj6 = traj5;</div>
<div class="line"><span class="lineno">  358</span>    traj7 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72">boundary_decel_cruise_minspeed</a>(t, v0, v_min, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  359</span>  }</div>
<div class="line"><span class="lineno">  360</span>  <span class="comment">// t8</span></div>
<div class="line"><span class="lineno">  361</span>  <span class="keywordflow">if</span> (dx &lt; dx4)</div>
<div class="line"><span class="lineno">  362</span>  {</div>
<div class="line"><span class="lineno">  363</span>    traj8 = traj6;</div>
<div class="line"><span class="lineno">  364</span>  }</div>
<div class="line"><span class="lineno">  365</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (dx &lt; dx5)</div>
<div class="line"><span class="lineno">  366</span>  {</div>
<div class="line"><span class="lineno">  367</span>    traj8 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496">boundary_decel_incomplete_lower</a>(t, v0, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  368</span>  }</div>
<div class="line"><span class="lineno">  369</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  370</span>  {</div>
<div class="line"><span class="lineno">  371</span>    traj8 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090">boundary_decel_cruise_minspeed_decel</a>(t, v0, v_min, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  372</span>  }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordflow">return</span> {traj1, traj2, traj3, traj4, traj5, traj6, traj7, traj8};</div>
<div class="line"><span class="lineno">  375</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a0401f858c83b717d4525c4ac8aeedcd2"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_notminspeed_accel</a></div><div class="ttdeci">TrajectoryParams boundary_decel_nocruise_notminspeed_accel(double t, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00961">lci_strategic_plugin_algo.cpp:961</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a0796279675323a1dc0c4e5be7b2a3090"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed_decel</a></div><div class="ttdeci">TrajectoryParams boundary_decel_cruise_minspeed_decel(double t, double v0, double v_min, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01141">lci_strategic_plugin_algo.cpp:1141</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a293a179317673ebdcda7890f4f933f60"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_nocruise_maxspeed_decel</a></div><div class="ttdeci">TrajectoryParams boundary_accel_nocruise_maxspeed_decel(double t, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00875">lci_strategic_plugin_algo.cpp:875</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a2a02000689636fe971a9080c20b2e48f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_or_decel_complete_upper</a></div><div class="ttdeci">TrajectoryParams boundary_accel_or_decel_complete_upper(double t, double v0, double v1, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00926">lci_strategic_plugin_algo.cpp:926</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a2f21fa9d57192b727b649f538b90087a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_or_decel_incomplete_upper</a></div><div class="ttdeci">TrajectoryParams boundary_accel_or_decel_incomplete_upper(double t, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00772">lci_strategic_plugin_algo.cpp:772</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a58675498122012f18f8a686b551f70d3"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_nocruise_notmaxspeed_decel</a></div><div class="ttdeci">TrajectoryParams boundary_accel_nocruise_notmaxspeed_decel(double t, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00815">lci_strategic_plugin_algo.cpp:815</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a5941c3b49c97c3c55ef3bb2dd9e4c96c"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_minspeed_accel_incomplete</a></div><div class="ttdeci">TrajectoryParams boundary_decel_nocruise_minspeed_accel_incomplete(double t, double v0, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00990">lci_strategic_plugin_algo.cpp:990</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a71eb5d63d2d1338440cb2da3dec5a45f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f">lci_strategic_plugin::LCIStrategicPlugin::boundary_accel_cruise_maxspeed_decel</a></div><div class="ttdeci">TrajectoryParams boundary_accel_cruise_maxspeed_decel(double t, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00847">lci_strategic_plugin_algo.cpp:847</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a739ee8e685d7d651c2c3826df0a43496"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_incomplete_lower</a></div><div class="ttdeci">TrajectoryParams boundary_decel_incomplete_lower(double t, double v0, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01114">lci_strategic_plugin_algo.cpp:1114</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a8cc331c61cde633f2ef571b8ca86a208"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed_accel</a></div><div class="ttdeci">TrajectoryParams boundary_decel_cruise_minspeed_accel(double t, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01059">lci_strategic_plugin_algo.cpp:1059</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa1b880660d58500ab32abc453096a38d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_nocruise_minspeed_accel_complete</a></div><div class="ttdeci">TrajectoryParams boundary_decel_nocruise_minspeed_accel_complete(double t, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01020">lci_strategic_plugin_algo.cpp:1020</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa3a3866067ba8e2808e785f29909bc72"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72">lci_strategic_plugin::LCIStrategicPlugin::boundary_decel_cruise_minspeed</a></div><div class="ttdeci">TrajectoryParams boundary_decel_cruise_minspeed(double t, double v0, double v_min, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l01087">lci_strategic_plugin_algo.cpp:1087</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00847">boundary_accel_cruise_maxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00875">boundary_accel_nocruise_maxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00815">boundary_accel_nocruise_notmaxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00926">boundary_accel_or_decel_complete_upper()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00772">boundary_accel_or_decel_incomplete_upper()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01087">boundary_decel_cruise_minspeed()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01059">boundary_decel_cruise_minspeed_accel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01141">boundary_decel_cruise_minspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01114">boundary_decel_incomplete_lower()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01020">boundary_decel_nocruise_minspeed_accel_complete()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00990">boundary_decel_nocruise_minspeed_accel_incomplete()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00961">boundary_decel_nocruise_notminspeed_accel()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00101">lci_strategic_plugin::BoundaryDistances::dx1</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00102">lci_strategic_plugin::BoundaryDistances::dx2</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00103">lci_strategic_plugin::BoundaryDistances::dx3</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00104">lci_strategic_plugin::BoundaryDistances::dx4</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00105">lci_strategic_plugin::BoundaryDistances::dx5</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_cgraph">
<area shape="rect" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="5,534,185,590"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f" title=" " alt="" coords="267,5,427,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60" title=" " alt="" coords="259,100,434,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3" title=" " alt="" coords="259,195,434,265"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f" title=" " alt="" coords="259,289,434,360"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a" title=" " alt="" coords="259,384,434,455"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72" title=" " alt="" coords="267,479,427,549"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208" title=" " alt="" coords="267,573,427,644"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090" title=" " alt="" coords="267,668,427,739"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496" title=" " alt="" coords="233,763,460,819"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d" title=" " alt="" coords="255,844,438,915"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c" title=" " alt="" coords="250,939,443,1009"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2" title=" " alt="" coords="259,1033,434,1104"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adf303b014faf0df91b93e2a7a37df9a8_icgraph">
<area shape="rect" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="520,5,700,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a14874ac18eac605f9285d965fee1e7d5" name="a14874ac18eac605f9285d965fee1e7d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14874ac18eac605f9285d965fee1e7d5">&#9670;&nbsp;</a></span>get_delta_x()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a> lci_strategic_plugin::LCIStrategicPlugin::get_delta_x </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get boundary distances used to compare against current state in order to create trajectory smoothing parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">v0</td><td>starting_speed </td></tr>
    <tr><td class="paramname">v1</td><td>departure_speed </td></tr>
    <tr><td class="paramname">v_max</td><td>speed_limit </td></tr>
    <tr><td class="paramname">v_min</td><td>minimum speed </td></tr>
    <tr><td class="paramname">a_max</td><td>max_comfort_acceleration limit </td></tr>
    <tr><td class="paramname">a_min</td><td>max_comfort_deceleration limit </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boundary distances used to generate trajectory smoothing segments </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00250">250</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  251</span>{</div>
<div class="line"><span class="lineno">  252</span>  BoundaryDistances distances;</div>
<div class="line"><span class="lineno">  253</span>  </div>
<div class="line"><span class="lineno">  254</span>  distances.dx1 = ((pow(v_max, 2) - pow(v0, 2)) / (2 * a_max)) + ((pow(v1, 2) - pow(v_max, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno">  255</span>  <span class="keywordflow">if</span> (v1 &gt; v0)</div>
<div class="line"><span class="lineno">  256</span>    distances.dx2 = ((pow(v1, 2) - pow(v0, 2)) / (2 * a_max));</div>
<div class="line"><span class="lineno">  257</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  258</span>    distances.dx2 = ((pow(v1, 2) - pow(v0, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>  distances.dx3 = ((pow(v_min, 2) - pow(v0, 2)) / (2 * a_min)) + ((pow(v1, 2) - pow(v_min, 2)) / (2 * a_max));</div>
<div class="line"><span class="lineno">  261</span>  distances.dx4 = ((pow(v_min, 2) - pow(v0, 2)) / (2 * a_min));</div>
<div class="line"><span class="lineno">  262</span>  distances.dx5 = - pow(v0, 2) / (2 * a_min);</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>  <span class="keywordflow">return</span> distances;</div>
<div class="line"><span class="lineno">  265</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00101">lci_strategic_plugin::BoundaryDistances::dx1</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00102">lci_strategic_plugin::BoundaryDistances::dx2</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00103">lci_strategic_plugin::BoundaryDistances::dx3</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00104">lci_strategic_plugin::BoundaryDistances::dx4</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00105">lci_strategic_plugin::BoundaryDistances::dx5</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a14874ac18eac605f9285d965fee1e7d5_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a14874ac18eac605f9285d965fee1e7d5_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a14874ac18eac605f9285d965fee1e7d5_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a14874ac18eac605f9285d965fee1e7d5_icgraph">
<area shape="rect" title="Get boundary distances used to compare against current state in order to create trajectory smoothing ..." alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="aa2bd4aa59c217c225a29fcf2d6c3552d" name="aa2bd4aa59c217c225a29fcf2d6c3552d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2bd4aa59c217c225a29fcf2d6c3552d">&#9670;&nbsp;</a></span>get_distance_to_accel_or_decel_once()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::get_distance_to_accel_or_decel_once </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get required distance to accel or decel to reach departure_speed with given speed and acceleration parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed to enter into the intersection in m/s </td></tr>
    <tr><td class="paramname">max_accel</td><td>Acceleration rate during acceleration segment in m/s^2 </td></tr>
    <tr><td class="paramname">max_decel</td><td>Deceleration rate during acceleration segment in m/s^2</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>estimated distance to accel or decel in meters </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00038">38</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>{</div>
<div class="line"><span class="lineno">   40</span>  <span class="keywordflow">if</span> (current_speed &lt;= departure_speed + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">   41</span>  {</div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">return</span> (std::pow(departure_speed, 2) - std::pow(current_speed, 2))/(2 * max_accel);</div>
<div class="line"><span class="lineno">   43</span>  }</div>
<div class="line"><span class="lineno">   44</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   45</span>  {</div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">return</span> (std::pow(departure_speed, 2) - std::pow(current_speed, 2))/(2 * max_decel);</div>
<div class="line"><span class="lineno">   47</span>  }</div>
<div class="line"><span class="lineno">   48</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00154">get_earliest_entry_time()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa2bd4aa59c217c225a29fcf2d6c3552d_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa2bd4aa59c217c225a29fcf2d6c3552d_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa2bd4aa59c217c225a29fcf2d6c3552d_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa2bd4aa59c217c225a29fcf2d6c3552d_icgraph">
<area shape="rect" title="Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa..." alt="" coords="731,5,889,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="520,13,683,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a1677e95026e7023261613dd84ee82ef0" name="a1677e95026e7023261613dd84ee82ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1677e95026e7023261613dd84ee82ef0">&#9670;&nbsp;</a></span>get_distance_to_accel_or_decel_twice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::get_distance_to_accel_or_decel_twice </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>free_flow_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get required distance to accel then decel, or vise versa - each at least once - to reach departure_speed with given speed and acceleration parameters. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">free_flow_speed</td><td>Free flow speed in m/s (usually the speed limit) </td></tr>
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed to enter into the intersection in m/s </td></tr>
    <tr><td class="paramname">max_accel</td><td>Acceleration rate during acceleration segment in m/s^2 </td></tr>
    <tr><td class="paramname">max_decel</td><td>Deceleration rate during acceleration segment in m/s^2</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>estimated distance to accel/decel or vice versa exactly twice in meters </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00032">32</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   33</span>{</div>
<div class="line"><span class="lineno">   34</span>  <span class="comment">// (v_e^2 - v^2)/ 2a_a + (v_d^2 - v_e^2)/ 2a_d</span></div>
<div class="line"><span class="lineno">   35</span>  <span class="keywordflow">return</span> (std::pow(free_flow_speed, 2) - std::pow(current_speed, 2))/(2 * max_accel) + (std::pow(departure_speed, 2) - std::pow(free_flow_speed, 2))/(2* max_decel);</div>
<div class="line"><span class="lineno">   36</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00154">get_earliest_entry_time()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a1677e95026e7023261613dd84ee82ef0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1677e95026e7023261613dd84ee82ef0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1677e95026e7023261613dd84ee82ef0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a1677e95026e7023261613dd84ee82ef0_icgraph">
<area shape="rect" title="Get required distance to accel then decel, or vise versa &#45; each at least once &#45; to reach departure_sp..." alt="" coords="731,5,889,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="520,13,683,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,13,472,69"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,13,241,69"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,27,56,54"/>
</map>
</div>

</div>
</div>
<a id="a146dad761ed5158d0d6371f7335c4888" name="a146dad761ed5158d0d6371f7335c4888"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a146dad761ed5158d0d6371f7335c4888">&#9670;&nbsp;</a></span>get_earliest_entry_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Duration lci_strategic_plugin::LCIStrategicPlugin::get_earliest_entry_time </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>remaining_distance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>free_flow_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the earliest entry time into the intersection that is kinematically possible for the vehicle. Designed to get it for motion that has maximum one acceleration, deceleration, or cruise segments until destination. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">remaining_distance</td><td>Distance to the intersection in meters </td></tr>
    <tr><td class="paramname">free_flow_speed</td><td>Free flow speed along the route until the intersection (usually speed_limit) in m/s </td></tr>
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed into the intersection in m/s. A.k.a target speed at the intersection </td></tr>
    <tr><td class="paramname">max_accel</td><td>The acceleration in m/s^2 of the acceleration segment </td></tr>
    <tr><td class="paramname">max_decel</td><td>The deceleration in m/s^2 of the deceleration segment</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimated stopping distance in meters NOTE: TSMO UC2: Algorithm 1. Earliest entering time estimation algorithm for EVs in all cooperation classes (defined for C-ADS-equipped vehicles) </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00154">154</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  155</span>{</div>
<div class="line"><span class="lineno">  156</span>  <span class="keywordtype">double</span> <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> = remaining_distance;</div>
<div class="line"><span class="lineno">  157</span>  <span class="keywordtype">double</span> x2 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">get_distance_to_accel_or_decel_once</a>(current_speed, departure_speed, max_accel, max_decel);</div>
<div class="line"><span class="lineno">  158</span>  <span class="keywordtype">double</span> x1 = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">get_distance_to_accel_or_decel_twice</a>(free_flow_speed, current_speed, departure_speed, max_accel, max_decel);</div>
<div class="line"><span class="lineno">  159</span>  <span class="keywordtype">double</span> v_hat = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c">get_inflection_speed_value</a>(<a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a>, x1, x2, free_flow_speed, current_speed, departure_speed, max_accel, max_decel);</div>
<div class="line"><span class="lineno">  160</span>  </div>
<div class="line"><span class="lineno">  161</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;x: &quot;</span> &lt;&lt; <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &lt;&lt; <span class="stringliteral">&quot;, x2: &quot;</span> &lt;&lt; x2 &lt;&lt; <span class="stringliteral">&quot;, x1: &quot;</span> &lt;&lt; x1 &lt;&lt; <span class="stringliteral">&quot;, v_hat: &quot;</span> &lt;&lt; v_hat);</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  <span class="keywordflow">if</span> (v_hat &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a> - <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a> || isnan(v_hat))</div>
<div class="line"><span class="lineno">  164</span>  {</div>
<div class="line"><span class="lineno">  165</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Detected that v_hat is smaller than allowed!!!: &quot;</span> &lt;&lt; v_hat);</div>
<div class="line"><span class="lineno">  166</span>    v_hat = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>;</div>
<div class="line"><span class="lineno">  167</span>  }</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>  <span class="keywordflow">if</span> (v_hat &gt;= free_flow_speed + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  170</span>  {</div>
<div class="line"><span class="lineno">  171</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Detected that v_hat is Bigger than allowed!!!: &quot;</span> &lt;&lt; v_hat);    </div>
<div class="line"><span class="lineno">  172</span>    v_hat = free_flow_speed;</div>
<div class="line"><span class="lineno">  173</span>  }</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>  ros::Duration t_accel;</div>
<div class="line"><span class="lineno">  176</span>  <span class="keywordflow">if</span> ( x &lt; x2 &amp;&amp; current_speed &gt; departure_speed)</div>
<div class="line"><span class="lineno">  177</span>  {</div>
<div class="line"><span class="lineno">  178</span>    t_accel = ros::Duration(0.0);</div>
<div class="line"><span class="lineno">  179</span>  }</div>
<div class="line"><span class="lineno">  180</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  181</span>  {</div>
<div class="line"><span class="lineno">  182</span>    t_accel = ros::Duration(std::max((v_hat - current_speed) / max_accel, 0.0));</div>
<div class="line"><span class="lineno">  183</span>  }</div>
<div class="line"><span class="lineno">  184</span>  ros::Duration t_decel;</div>
<div class="line"><span class="lineno">  185</span>  <span class="keywordflow">if</span> ( <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &lt; x2 &amp;&amp; current_speed &lt; departure_speed)</div>
<div class="line"><span class="lineno">  186</span>  {</div>
<div class="line"><span class="lineno">  187</span>    t_decel = ros::Duration(0.0);</div>
<div class="line"><span class="lineno">  188</span>  }</div>
<div class="line"><span class="lineno">  189</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  190</span>  {</div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &lt; x2)</div>
<div class="line"><span class="lineno">  192</span>    {</div>
<div class="line"><span class="lineno">  193</span>      t_decel = ros::Duration(std::max((v_hat - current_speed) / max_decel, 0.0));</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    }</div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  197</span>    {</div>
<div class="line"><span class="lineno">  198</span>      t_decel = ros::Duration(std::max((departure_speed - v_hat) / max_decel, 0.0));</div>
<div class="line"><span class="lineno">  199</span>    }</div>
<div class="line"><span class="lineno">  200</span>  }</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>  ros::Duration t_cruise;</div>
<div class="line"><span class="lineno">  203</span>  <span class="keywordflow">if</span> (x1 &lt;= <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a>)</div>
<div class="line"><span class="lineno">  204</span>  {</div>
<div class="line"><span class="lineno">  205</span>    t_cruise = ros::Duration(std::max((<a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> - x1)/v_hat, 0.0));</div>
<div class="line"><span class="lineno">  206</span>  }</div>
<div class="line"><span class="lineno">  207</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  208</span>  {</div>
<div class="line"><span class="lineno">  209</span>    t_cruise = ros::Duration(0.0);</div>
<div class="line"><span class="lineno">  210</span>  }</div>
<div class="line"><span class="lineno">  211</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;t_accel: &quot;</span> &lt;&lt;  t_accel &lt;&lt; <span class="stringliteral">&quot;, t_cruise: &quot;</span> &lt;&lt; t_cruise &lt;&lt; <span class="stringliteral">&quot;, t_decel: &quot;</span> &lt;&lt; t_decel);</div>
<div class="line"><span class="lineno">  212</span>  <span class="keywordflow">return</span> t_accel + t_cruise + t_decel;</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a1677e95026e7023261613dd84ee82ef0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0">lci_strategic_plugin::LCIStrategicPlugin::get_distance_to_accel_or_decel_twice</a></div><div class="ttdeci">double get_distance_to_accel_or_decel_twice(double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</div><div class="ttdoc">Get required distance to accel then decel, or vise versa - each at least once - to reach departure_sp...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00032">lci_strategic_plugin_algo.cpp:32</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa2bd4aa59c217c225a29fcf2d6c3552d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d">lci_strategic_plugin::LCIStrategicPlugin::get_distance_to_accel_or_decel_once</a></div><div class="ttdeci">double get_distance_to_accel_or_decel_once(double current_speed, double departure_speed, double max_accel, double max_decel) const</div><div class="ttdoc">Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00038">lci_strategic_plugin_algo.cpp:38</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aa64916c2b9a3b7eedc359c68931f967c"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c">lci_strategic_plugin::LCIStrategicPlugin::get_inflection_speed_value</a></div><div class="ttdeci">double get_inflection_speed_value(double x, double x1, double x2, double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</div><div class="ttdoc">Get the speed between the acceleration and deceleration pieces.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00216">lci_strategic_plugin_algo.cpp:216</a></div></div>
<div class="ttc" id="anamespaceprocess__traj__logs_html_af3ba6144a2d35a4990f1a8d04632a052"><div class="ttname"><a href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">process_traj_logs.x</a></div><div class="ttdeci">x</div><div class="ttdef"><b>Definition:</b> <a href="process__traj__logs_8py_source.html#l00128">process_traj_logs.py:128</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a26987cdb2e41209df729d5f5c087bec2"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a></div><div class="ttdeci">double algo_minimum_speed</div><div class="ttdoc">Minimum allowable speed TS algorithm in m/s.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00053">lci_strategic_plugin_config.h:53</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00053">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00038">get_distance_to_accel_or_decel_once()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00032">get_distance_to_accel_or_decel_twice()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00216">get_inflection_speed_value()</a>, and <a class="el" href="process__traj__logs_8py_source.html#l00128">process_traj_logs::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a146dad761ed5158d0d6371f7335c4888_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a146dad761ed5158d0d6371f7335c4888_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a146dad761ed5158d0d6371f7335c4888_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a146dad761ed5158d0d6371f7335c4888_cgraph">
<area shape="rect" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="5,107,168,163"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d" title="Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa..." alt="" coords="229,5,387,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0" title="Get required distance to accel then decel, or vise versa &#45; each at least once &#45; to reach departure_sp..." alt="" coords="229,100,387,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c" title="Get the speed between the acceleration and deceleration pieces." alt="" coords="216,195,400,251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a146dad761ed5158d0d6371f7335c4888_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a146dad761ed5158d0d6371f7335c4888_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a146dad761ed5158d0d6371f7335c4888_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a146dad761ed5158d0d6371f7335c4888_icgraph">
<area shape="rect" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="520,5,683,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="aa64916c2b9a3b7eedc359c68931f967c" name="aa64916c2b9a3b7eedc359c68931f967c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa64916c2b9a3b7eedc359c68931f967c">&#9670;&nbsp;</a></span>get_inflection_speed_value()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::get_inflection_speed_value </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>free_flow_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the speed between the acceleration and deceleration pieces. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>Distance remaining in meters </td></tr>
    <tr><td class="paramname">x1</td><td>Required distance to accel then decel, or vise versa-each at least once-to reach departure_speed with given speed and acceleration parameters </td></tr>
    <tr><td class="paramname">x2</td><td>required distance to accel or decel to reach departure_speed with given speed and acceleration parameters </td></tr>
    <tr><td class="paramname">free_flow_speed</td><td>Free flow speed in m/s (usually the speed limit) </td></tr>
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed to enter into the intersection in m/s </td></tr>
    <tr><td class="paramname">max_accel</td><td>Acceleration rate during acceleration segment in m/s^2 </td></tr>
    <tr><td class="paramname">max_decel</td><td>Deceleration rate during acceleration segment in m/s^2 NOTE: note that this returns departure speed if x &lt; x2 since vehicle's trajectory corresponding to its EET would contain only one acceleration or deceleration piece </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The estimated stopping distance in meters </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00216">216</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  217</span>{  </div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &gt;= x1)</div>
<div class="line"><span class="lineno">  219</span>  {</div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">return</span> free_flow_speed;</div>
<div class="line"><span class="lineno">  221</span>  }</div>
<div class="line"><span class="lineno">  222</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x1 &gt; <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &amp;&amp; <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> &gt;= x2)</div>
<div class="line"><span class="lineno">  223</span>  {</div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">return</span> std::sqrt((2 * <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> * max_accel * max_decel + max_decel * std::pow(current_speed, 2) - max_accel * (std::pow(departure_speed, 2)))/(max_decel - max_accel));</div>
<div class="line"><span class="lineno">  225</span>  }</div>
<div class="line"><span class="lineno">  226</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (x2 &gt; <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a>)</div>
<div class="line"><span class="lineno">  227</span>  {</div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">if</span> (current_speed &lt;= departure_speed)</div>
<div class="line"><span class="lineno">  229</span>    {</div>
<div class="line"><span class="lineno">  230</span>      <span class="keywordflow">return</span> std::sqrt(2 * <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> * max_accel + std::pow(current_speed, 2));</div>
<div class="line"><span class="lineno">  231</span>    }</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  233</span>    {</div>
<div class="line"><span class="lineno">  234</span>      <span class="keywordflow">return</span> std::sqrt(2 * <a class="code hl_variable" href="namespaceprocess__traj__logs.html#af3ba6144a2d35a4990f1a8d04632a052">x</a> * max_decel + std::pow(current_speed, 2));</div>
<div class="line"><span class="lineno">  235</span>    }</div>
<div class="line"><span class="lineno">  236</span>  }</div>
<div class="line"><span class="lineno">  237</span>  </div>
<div class="line"><span class="lineno">  238</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="process__traj__logs_8py_source.html#l00128">process_traj_logs::x</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00154">get_earliest_entry_time()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aa64916c2b9a3b7eedc359c68931f967c_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa64916c2b9a3b7eedc359c68931f967c_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa64916c2b9a3b7eedc359c68931f967c_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aa64916c2b9a3b7eedc359c68931f967c_icgraph">
<area shape="rect" title="Get the speed between the acceleration and deceleration pieces." alt="" coords="731,5,915,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="520,5,683,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a354e00aef231534da6af36c6722b8c8f" name="a354e00aef231534da6af36c6722b8c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a354e00aef231534da6af36c6722b8c8f">&#9670;&nbsp;</a></span>get_nearest_green_entry_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ros::Time lci_strategic_plugin::LCIStrategicPlugin::get_nearest_green_entry_time </td>
          <td>(</td>
          <td class="paramtype">const ros::Time &amp;&#160;</td>
          <td class="paramname"><em>current_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ros::Time &amp;&#160;</td>
          <td class="paramname"><em>earliest_entry_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::CarmaTrafficSignalPtr&#160;</td>
          <td class="paramname"><em>signal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>minimum_required_green_time</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest possible entry time that is during green phase and after timestamps both that is kinematically possible and required times for vehicle in front to pass through first. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_time</td><td>Current state's ROS time </td></tr>
    <tr><td class="paramname">earliest_entry_time</td><td>Earliest ROS entry time into the intersection kinematically possible </td></tr>
    <tr><td class="paramname">signal</td><td>CARMATrafficSignal that is responsible for the intersection along route </td></tr>
    <tr><td class="paramname">minimum_required_green_time</td><td>Minimum seconds required by other vehicles in front to pass through the intersection first</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nearest ROS entry time during green phase. NOTE: TSMO UC2: Algorithm 2. Entering time estimation algorithm for EVs in cooperation Class A when the SPaT plan is fixed-time (defined for C-ADS-equipped vehicles) </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00050">50</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   51</span>{</div>
<div class="line"><span class="lineno">   52</span>  boost::posix_time::time_duration g =  lanelet::time::durationFromSec(minimum_required_green_time);         <span class="comment">// provided by considering min headways of vehicles in front</span></div>
<div class="line"><span class="lineno">   53</span>  boost::posix_time::ptime t = lanelet::time::timeFromSec(current_time.toSec());                        <span class="comment">// time variable</span></div>
<div class="line"><span class="lineno">   54</span>  boost::posix_time::ptime eet = lanelet::time::timeFromSec(earliest_entry_time.toSec());                        <span class="comment">// earliest entry time</span></div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>  <span class="keyword">auto</span> curr_pair = signal-&gt;predictState(t);</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordflow">if</span> (!curr_pair)</div>
<div class="line"><span class="lineno">   58</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Traffic signal with id:&quot;</span> + std::to_string(signal-&gt;id()) + <span class="stringliteral">&quot;, does not have any recorded time stamps!&quot;</span>);</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>  boost::posix_time::time_duration theta =  curr_pair.get().first - t;   <span class="comment">// remaining time left in this state</span></div>
<div class="line"><span class="lineno">   61</span>  <span class="keyword">auto</span> p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">while</span> ( 0.0 &lt; g.total_milliseconds() || p != lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED) <span class="comment">//green</span></div>
<div class="line"><span class="lineno">   63</span>  {</div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordflow">if</span> ( p == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED)</div>
<div class="line"><span class="lineno">   65</span>    {</div>
<div class="line"><span class="lineno">   66</span>      <span class="keywordflow">if</span> (g &lt; theta)</div>
<div class="line"><span class="lineno">   67</span>      {</div>
<div class="line"><span class="lineno">   68</span>        t = t + g;</div>
<div class="line"><span class="lineno">   69</span>        theta = theta - g;</div>
<div class="line"><span class="lineno">   70</span>        g = boost::posix_time::seconds(0);</div>
<div class="line"><span class="lineno">   71</span>      }</div>
<div class="line"><span class="lineno">   72</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   73</span>      {</div>
<div class="line"><span class="lineno">   74</span>        t = t + theta;</div>
<div class="line"><span class="lineno">   75</span>        g = g - theta;</div>
<div class="line"><span class="lineno">   76</span>        curr_pair = signal-&gt;predictState(t + boost::posix_time::milliseconds(20)); <span class="comment">// select next phase</span></div>
<div class="line"><span class="lineno">   77</span>        p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">   78</span>        theta = curr_pair.get().first - t;</div>
<div class="line"><span class="lineno">   79</span>      }</div>
<div class="line"><span class="lineno">   80</span>    }</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   82</span>    {</div>
<div class="line"><span class="lineno">   83</span>      t = t + theta;</div>
<div class="line"><span class="lineno">   84</span>      curr_pair = signal-&gt;predictState(t + boost::posix_time::milliseconds(20)); <span class="comment">// select next phase</span></div>
<div class="line"><span class="lineno">   85</span>      p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">   86</span>      theta = curr_pair.get().first - t;</div>
<div class="line"><span class="lineno">   87</span>    }</div>
<div class="line"><span class="lineno">   88</span>  }</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>  <span class="keywordflow">if</span> (t &lt;= eet)</div>
<div class="line"><span class="lineno">   91</span>  {</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordtype">double</span> cycle_duration = signal-&gt;fixed_cycle_duration.total_milliseconds()/1000.0;</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">if</span> (cycle_duration &lt; 0.001) <span class="comment">//if it is a dynamic traffic signal not fixed</span></div>
<div class="line"><span class="lineno">   94</span>      cycle_duration = lanelet::time::toSec(signal-&gt;recorded_time_stamps.back().first) - lanelet::time::toSec(signal-&gt;recorded_start_time_stamps.front());</div>
<div class="line"><span class="lineno">   95</span>    </div>
<div class="line"><span class="lineno">   96</span>    t = t + lanelet::time::durationFromSec(std::floor((eet - t).total_milliseconds()/1000.0/cycle_duration) * cycle_duration); <span class="comment">//fancy logic was needed to compile</span></div>
<div class="line"><span class="lineno">   97</span>    curr_pair = signal-&gt;predictState(t + boost::posix_time::milliseconds(20)); <span class="comment">// select next phase</span></div>
<div class="line"><span class="lineno">   98</span>    p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">   99</span>    theta = curr_pair.get().first - t;</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">while</span> ( t &lt; eet || p != lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED)</div>
<div class="line"><span class="lineno">  101</span>    {</div>
<div class="line"><span class="lineno">  102</span>      <span class="keywordflow">if</span> ( p == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED &amp;&amp; eet - t &lt; theta)</div>
<div class="line"><span class="lineno">  103</span>      {</div>
<div class="line"><span class="lineno">  104</span>        t = eet;</div>
<div class="line"><span class="lineno">  105</span>        theta = theta - (eet - t);</div>
<div class="line"><span class="lineno">  106</span>      }</div>
<div class="line"><span class="lineno">  107</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  108</span>      {</div>
<div class="line"><span class="lineno">  109</span>        t = t + theta;</div>
<div class="line"><span class="lineno">  110</span>        curr_pair = signal-&gt;predictState(t + boost::posix_time::milliseconds(20)); <span class="comment">// select next phase</span></div>
<div class="line"><span class="lineno">  111</span>        p = curr_pair.get().second;</div>
<div class="line"><span class="lineno">  112</span>        theta = curr_pair.get().first - t;</div>
<div class="line"><span class="lineno">  113</span>      }</div>
<div class="line"><span class="lineno">  114</span>    }</div>
<div class="line"><span class="lineno">  115</span>  }</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>  <span class="keywordflow">return</span> ros::Time(lanelet::time::toSec(t));</div>
<div class="line"><span class="lineno">  118</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a354e00aef231534da6af36c6722b8c8f_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a354e00aef231534da6af36c6722b8c8f_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a354e00aef231534da6af36c6722b8c8f_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a354e00aef231534da6af36c6722b8c8f_icgraph">
<area shape="rect" title="Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ..." alt="" coords="520,5,723,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="aa8cd0f3ccdcf467ef946dabd04308b21" name="aa8cd0f3ccdcf467ef946dabd04308b21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8cd0f3ccdcf467ef946dabd04308b21">&#9670;&nbsp;</a></span>get_trajectory_smoothing_activation_distance()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::get_trajectory_smoothing_activation_distance </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>time_remaining_at_free_flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>full_cycle_duration</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_accel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>max_decel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets maximum distance (nearest downtrack) the trajectory smoothing algorithm makes difference than simple lane following within half of one full fixed cycle time boundary compared to free flow arrival time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">time_remaining_at_free_flow</td><td>Free flow arrival at the intersection </td></tr>
    <tr><td class="paramname">full_cycle_duration</td><td>One fixed cycle of the signal </td></tr>
    <tr><td class="paramname">current_speed</td><td>Current speed in m/s </td></tr>
    <tr><td class="paramname">speed_limit</td><td>Speed limit speed in m/s </td></tr>
    <tr><td class="paramname">departure_speed</td><td>Speed into the intersection in m/s. A.k.a target speed at the intersection </td></tr>
    <tr><td class="paramname">max_accel</td><td>The acceleration in m/s^2 of the acceleration segment </td></tr>
    <tr><td class="paramname">max_decel</td><td>The deceleration in m/s^2 of the deceleration segment</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the max distance the plugin should activate to support all speed profile cases of the trajectory smoothing algorithm -1 if it is within the distance already </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00120">120</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  121</span>{</div>
<div class="line"><span class="lineno">  122</span>  <span class="comment">// TSMO USE CASE 2: Figure 7. Trajectory smoothing solution Case 2. Subsituted a+ as max_accel and solved for inflection_speed</span></div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordtype">double</span> accel_ratio = max_accel / max_decel;</div>
<div class="line"><span class="lineno">  124</span>  <span class="keywordtype">double</span> remaining_time = time_remaining_at_free_flow - full_cycle_duration / 2;</div>
<div class="line"><span class="lineno">  125</span>  <span class="keywordtype">double</span> inflection_speed = (max_accel * remaining_time - accel_ratio * departure_speed + current_speed)/ (1 - accel_ratio);</div>
<div class="line"><span class="lineno">  126</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;ENTER TRAJ CALC: time_remaining_at_free_flow: &quot;</span> &lt;&lt; time_remaining_at_free_flow &lt;&lt; <span class="stringliteral">&quot;, full_cycle_duration: &quot;</span> &lt;&lt; full_cycle_duration &lt;&lt; <span class="stringliteral">&quot;, inflection_speed: &quot;</span> &lt;&lt; inflection_speed);</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordflow">if</span> (remaining_time &lt; 0)</div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>  <span class="keywordflow">if</span> (inflection_speed &gt; 0 &amp;&amp; inflection_speed &lt;= speed_limit + epsilon_ &amp;&amp; inflection_speed &gt;= departure_speed - <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  132</span>  {</div>
<div class="line"><span class="lineno">  133</span>    <span class="comment">// kinematic equation to find distance of acceleration + deceleration</span></div>
<div class="line"><span class="lineno">  134</span>    <span class="comment">// (vf^2 - vi^2)/2a = d</span></div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordtype">double</span> d = (std::pow(inflection_speed, 2) - std::pow (current_speed, 2)) / (2 * max_accel) +  (std::pow(departure_speed, 2) - std::pow(inflection_speed, 2)) / (2 * max_decel);</div>
<div class="line"><span class="lineno">  136</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;calculated distance WITHOUT cruising: &quot;</span> &lt;&lt; d);</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">return</span> d;</div>
<div class="line"><span class="lineno">  138</span>  }</div>
<div class="line"><span class="lineno">  139</span>  <span class="keywordflow">else</span> <span class="comment">//there must be cruising</span></div>
<div class="line"><span class="lineno">  140</span>  {</div>
<div class="line"><span class="lineno">  141</span>    <span class="comment">// acceleration and deceleration parts must reach maximum speed</span></div>
<div class="line"><span class="lineno">  142</span>    <span class="comment">// kinematic equation: t = (vf - vi)/ a where vf = 0</span></div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordtype">double</span> decel_time = (current_speed - speed_limit) / max_decel;</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordtype">double</span> accel_time = (speed_limit - current_speed) / max_accel;</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordtype">double</span> cruising_time = remaining_time - decel_time - accel_time;</div>
<div class="line"><span class="lineno">  146</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;decel_time: &quot;</span> &lt;&lt; decel_time &lt;&lt; <span class="stringliteral">&quot;, accel_time: &quot;</span> &lt;&lt; accel_time &lt;&lt; <span class="stringliteral">&quot;, cruising_time: &quot;</span> &lt;&lt; cruising_time);</div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordtype">double</span> d = (std::pow(speed_limit, 2) - std::pow (current_speed, 2)) / (2 * max_accel) +  (std::pow(departure_speed, 2) - std::pow(speed_limit, 2)) / (2 * max_decel) + cruising_time * speed_limit;</div>
<div class="line"><span class="lineno">  148</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;calculated distance with cruising: &quot;</span> &lt;&lt;  d &lt;&lt; <span class="stringliteral">&quot;, accel_seg: &quot;</span> &lt;&lt; (std::pow(speed_limit, 2) - std::pow (current_speed, 2)) / (2 * max_accel) &lt;&lt; </div>
<div class="line"><span class="lineno">  149</span>                      <span class="stringliteral">&quot;, cruising: &quot;</span> &lt;&lt; + cruising_time * speed_limit &lt;&lt; <span class="stringliteral">&quot;, decel_seg:&quot;</span> &lt;&lt; (std::pow(departure_speed, 2) - std::pow(speed_limit, 2)) / (2 * max_decel));</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">return</span> d;</div>
<div class="line"><span class="lineno">  151</span>  }</div>
<div class="line"><span class="lineno">  152</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>.</p>

</div>
</div>
<a id="a9f6b11b8d6c543e15eb501c90bb1d3c3" name="a9f6b11b8d6c543e15eb501c90bb1d3c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f6b11b8d6c543e15eb501c90bb1d3c3">&#9670;&nbsp;</a></span>get_ts_case()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::get_ts_case </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a>&#160;</td>
          <td class="paramname"><em>boundary_distances</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &gt;&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">377</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  378</span>{</div>
<div class="line"><span class="lineno">  379</span>  <span class="keywordtype">double</span> dx1 = boundary_distances.dx1;</div>
<div class="line"><span class="lineno">  380</span>  <span class="keywordtype">double</span> dx2 = boundary_distances.dx2;</div>
<div class="line"><span class="lineno">  381</span>  <span class="keywordtype">double</span> dx3 = boundary_distances.dx3;</div>
<div class="line"><span class="lineno">  382</span>  <span class="keywordtype">double</span> dx4 = boundary_distances.dx4;</div>
<div class="line"><span class="lineno">  383</span>  <span class="keywordtype">double</span> dx5 = boundary_distances.dx5;</div>
<div class="line"><span class="lineno">  384</span>  </div>
<div class="line"><span class="lineno">  385</span>  <span class="keywordflow">if</span> (params.size() != 8)</div>
<div class="line"><span class="lineno">  386</span>  {</div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Not enough trajectory paras given! Given size: &quot;</span> + std::to_string(params.size()));</div>
<div class="line"><span class="lineno">  388</span>  }</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>  TrajectoryParams traj1 = params[0];</div>
<div class="line"><span class="lineno">  391</span>  TrajectoryParams traj2 = params[1];</div>
<div class="line"><span class="lineno">  392</span>  TrajectoryParams traj3 = params[2];</div>
<div class="line"><span class="lineno">  393</span>  TrajectoryParams traj4 = params[3];</div>
<div class="line"><span class="lineno">  394</span>  TrajectoryParams traj5 = params[4];</div>
<div class="line"><span class="lineno">  395</span>  TrajectoryParams traj6 = params[5];</div>
<div class="line"><span class="lineno">  396</span>  TrajectoryParams traj7 = params[6];</div>
<div class="line"><span class="lineno">  397</span>  TrajectoryParams traj8 = params[7];</div>
<div class="line"><span class="lineno">  398</span>  TrajectoryParams veh_traj;</div>
<div class="line"><span class="lineno">  399</span>  veh_traj.is_algorithm_successful = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>  <span class="keywordflow">if</span> (traj1.t3_ &lt;= et &amp;&amp; et &lt; traj2.t3_)</div>
<div class="line"><span class="lineno">  402</span>  {</div>
<div class="line"><span class="lineno">  403</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CALCULATED: case 1&quot;</span>);</div>
<div class="line"><span class="lineno">  404</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a">ts_case1</a>(t, et, v0, v1, v_max, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  405</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5">CASE_1</a>;</div>
<div class="line"><span class="lineno">  406</span>  }</div>
<div class="line"><span class="lineno">  407</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj2.t3_ &lt;= et &amp;&amp; et &lt; traj3.t3_)</div>
<div class="line"><span class="lineno">  408</span>  {</div>
<div class="line"><span class="lineno">  409</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CALCULATED: case 2&quot;</span>);</div>
<div class="line"><span class="lineno">  410</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0">ts_case2</a>(t, et, v0, v1, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  411</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba4fd308faeca0a68a10f65685126fb7d7">CASE_2</a>;</div>
<div class="line"><span class="lineno">  412</span>  }</div>
<div class="line"><span class="lineno">  413</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj3.t3_ &lt;= et &amp;&amp; et &lt; traj4.t3_)</div>
<div class="line"><span class="lineno">  414</span>  {</div>
<div class="line"><span class="lineno">  415</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CALCULATED: case 3&quot;</span>);</div>
<div class="line"><span class="lineno">  416</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d">ts_case3</a>(t, et, v0, v1, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  417</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bad59e0be375c22f4c11ffc34adf7a2df6">CASE_3</a>;</div>
<div class="line"><span class="lineno">  418</span>  }</div>
<div class="line"><span class="lineno">  419</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj4.t3_ &lt;= et &amp;&amp; et &lt; traj5.t3_)</div>
<div class="line"><span class="lineno">  420</span>  {</div>
<div class="line"><span class="lineno">  421</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CALCULATED: case 4&quot;</span>);</div>
<div class="line"><span class="lineno">  422</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a">ts_case4</a>(t, et, v0, v1, v_min, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  423</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273baa8604bf7512e9d512e65ffab0b7f4b8f">CASE_4</a>;</div>
<div class="line"><span class="lineno">  424</span>  }</div>
<div class="line"><span class="lineno">  425</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj5.t3_ &lt;= et &amp;&amp; et &lt; traj6.t3_)</div>
<div class="line"><span class="lineno">  426</span>  {</div>
<div class="line"><span class="lineno">  427</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CALCULATED: case 5&quot;</span>);</div>
<div class="line"><span class="lineno">  428</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e">ts_case5</a>(t, et, v0, a_max, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  429</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273baa710074ef98a151c530aad972bd47779">CASE_5</a>;</div>
<div class="line"><span class="lineno">  430</span>  }</div>
<div class="line"><span class="lineno">  431</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj6.t3_ &lt;= et &amp;&amp; et &lt; traj7.t3_)</div>
<div class="line"><span class="lineno">  432</span>  {</div>
<div class="line"><span class="lineno">  433</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CALCULATED: case 6&quot;</span>);</div>
<div class="line"><span class="lineno">  434</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f">ts_case6</a>(t, et, v0, v_min, a_min, x0, x_end, dx, dx3, traj6);</div>
<div class="line"><span class="lineno">  435</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba661114f6c92a700e6573ec5fc67e60d6">CASE_6</a>;</div>
<div class="line"><span class="lineno">  436</span>  }</div>
<div class="line"><span class="lineno">  437</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (traj7.t3_ &lt;= et &amp;&amp; et &lt;= traj8.t3_)</div>
<div class="line"><span class="lineno">  438</span>  {</div>
<div class="line"><span class="lineno">  439</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CALCULATED: case 7&quot;</span>);</div>
<div class="line"><span class="lineno">  440</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2">ts_case7</a>(t, et, v0, v_min, a_min, x0, x_end, dx);</div>
<div class="line"><span class="lineno">  441</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba19ec3ba898d093501c77fa4ee0e410c4">CASE_7</a>;</div>
<div class="line"><span class="lineno">  442</span>  }</div>
<div class="line"><span class="lineno">  443</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  444</span>  {</div>
<div class="line"><span class="lineno">  445</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CALCULATED: case 8&quot;</span>);</div>
<div class="line"><span class="lineno">  446</span>    veh_traj = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c">ts_case8</a>(dx, dx5, traj8);</div>
<div class="line"><span class="lineno">  447</span>    veh_traj.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">CASE_8</a>;</div>
<div class="line"><span class="lineno">  448</span>  }</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>  <span class="keywordflow">return</span> veh_traj;</div>
<div class="line"><span class="lineno">  451</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a2382d4f0feb6c0ae9db91695f2b552d2"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2">lci_strategic_plugin::LCIStrategicPlugin::ts_case7</a></div><div class="ttdeci">TrajectoryParams ts_case7(double t, double et, double v0, double v_min, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00725">lci_strategic_plugin_algo.cpp:725</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a29c754a4e2f40fdd9170589087d3097a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a">lci_strategic_plugin::LCIStrategicPlugin::ts_case1</a></div><div class="ttdeci">TrajectoryParams ts_case1(double t, double et, double v0, double v1, double v_max, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdoc">Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00454">lci_strategic_plugin_algo.cpp:454</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a7d9d856f7fa523b5b4266601f6c6154f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f">lci_strategic_plugin::LCIStrategicPlugin::ts_case6</a></div><div class="ttdeci">TrajectoryParams ts_case6(double t, double et, double v0, double v_min, double a_min, double x0, double x_end, double dx, double dx3, TrajectoryParams traj6)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00683">lci_strategic_plugin_algo.cpp:683</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a820d938d83b16c8fc7cc3930a062212a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a">lci_strategic_plugin::LCIStrategicPlugin::ts_case4</a></div><div class="ttdeci">TrajectoryParams ts_case4(double t, double et, double v0, double v1, double v_min, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00601">lci_strategic_plugin_algo.cpp:601</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a9af907160a273b7f0dbca36dd5b332a0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0">lci_strategic_plugin::LCIStrategicPlugin::ts_case2</a></div><div class="ttdeci">TrajectoryParams ts_case2(double t, double et, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00503">lci_strategic_plugin_algo.cpp:503</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_abba844206be4f074096240f5d506aa8c"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c">lci_strategic_plugin::LCIStrategicPlugin::ts_case8</a></div><div class="ttdeci">TrajectoryParams ts_case8(double dx, double dx5, TrajectoryParams traj8)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00760">lci_strategic_plugin_algo.cpp:760</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ace4317f84b933acb423175e215de351d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d">lci_strategic_plugin::LCIStrategicPlugin::ts_case3</a></div><div class="ttdeci">TrajectoryParams ts_case3(double t, double et, double v0, double v1, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00557">lci_strategic_plugin_algo.cpp:557</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ada2f61d939ab8184e3eca056b46a8b2e"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e">lci_strategic_plugin::LCIStrategicPlugin::ts_case5</a></div><div class="ttdeci">TrajectoryParams ts_case5(double t, double et, double v0, double a_max, double a_min, double x0, double x_end, double dx)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00651">lci_strategic_plugin_algo.cpp:651</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba19ec3ba898d093501c77fa4ee0e410c4"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba19ec3ba898d093501c77fa4ee0e410c4">lci_strategic_plugin::CASE_7</a></div><div class="ttdeci">@ CASE_7</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00066">lci_strategic_plugin.h:66</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba4fd308faeca0a68a10f65685126fb7d7"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba4fd308faeca0a68a10f65685126fb7d7">lci_strategic_plugin::CASE_2</a></div><div class="ttdeci">@ CASE_2</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00061">lci_strategic_plugin.h:61</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba661114f6c92a700e6573ec5fc67e60d6"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba661114f6c92a700e6573ec5fc67e60d6">lci_strategic_plugin::CASE_6</a></div><div class="ttdeci">@ CASE_6</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00065">lci_strategic_plugin.h:65</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5">lci_strategic_plugin::CASE_1</a></div><div class="ttdeci">@ CASE_1</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00060">lci_strategic_plugin.h:60</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273baa710074ef98a151c530aad972bd47779"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273baa710074ef98a151c530aad972bd47779">lci_strategic_plugin::CASE_5</a></div><div class="ttdeci">@ CASE_5</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00064">lci_strategic_plugin.h:64</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273baa8604bf7512e9d512e65ffab0b7f4b8f"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273baa8604bf7512e9d512e65ffab0b7f4b8f">lci_strategic_plugin::CASE_4</a></div><div class="ttdeci">@ CASE_4</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00063">lci_strategic_plugin.h:63</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">lci_strategic_plugin::CASE_8</a></div><div class="ttdeci">@ CASE_8</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00067">lci_strategic_plugin.h:67</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273bad59e0be375c22f4c11ffc34adf7a2df6"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bad59e0be375c22f4c11ffc34adf7a2df6">lci_strategic_plugin::CASE_3</a></div><div class="ttdeci">@ CASE_3</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00062">lci_strategic_plugin.h:62</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00060">lci_strategic_plugin::CASE_1</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00061">lci_strategic_plugin::CASE_2</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00062">lci_strategic_plugin::CASE_3</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00063">lci_strategic_plugin::CASE_4</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00064">lci_strategic_plugin::CASE_5</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00065">lci_strategic_plugin::CASE_6</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00066">lci_strategic_plugin::CASE_7</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00067">lci_strategic_plugin::CASE_8</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00094">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00101">lci_strategic_plugin::BoundaryDistances::dx1</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00102">lci_strategic_plugin::BoundaryDistances::dx2</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00103">lci_strategic_plugin::BoundaryDistances::dx3</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00104">lci_strategic_plugin::BoundaryDistances::dx4</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00105">lci_strategic_plugin::BoundaryDistances::dx5</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00093">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00454">ts_case1()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00503">ts_case2()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00557">ts_case3()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00601">ts_case4()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00651">ts_case5()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00683">ts_case6()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00725">ts_case7()</a>, and <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00760">ts_case8()</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_cgraph">
<area shape="rect" title=" " alt="" coords="5,285,143,341"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a" title="Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations." alt="" coords="191,5,328,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0" title=" " alt="" coords="191,85,328,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d" title=" " alt="" coords="191,165,328,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a" title=" " alt="" coords="191,245,328,301"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e" title=" " alt="" coords="191,325,328,381"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f" title=" " alt="" coords="191,405,328,461"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2" title=" " alt="" coords="191,485,328,541"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c" title=" " alt="" coords="191,565,328,621"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9f6b11b8d6c543e15eb501c90bb1d3c3_icgraph">
<area shape="rect" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a304a44e84f14d7ad6d12db3079dba98a" name="a304a44e84f14d7ad6d12db3079dba98a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a304a44e84f14d7ad6d12db3079dba98a">&#9670;&nbsp;</a></span>getDiscoveryMsg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cav_msgs::Plugin lci_strategic_plugin::LCIStrategicPlugin::getDiscoveryMsg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current plugin discovery message reflecting system status. </p>
<dl class="section return"><dt>Returns</dt><dd>cav_msgs::Plugin The plugin discovery message </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00055">55</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   56</span>{</div>
<div class="line"><span class="lineno">   57</span>  <span class="keywordflow">return</span> <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a17feaa6b54b8b431f919488936c6465a">plugin_discovery_msg_</a>;</div>
<div class="line"><span class="lineno">   58</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00739">plugin_discovery_msg_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a304a44e84f14d7ad6d12db3079dba98a_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a304a44e84f14d7ad6d12db3079dba98a_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a304a44e84f14d7ad6d12db3079dba98a_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a304a44e84f14d7ad6d12db3079dba98a_icgraph">
<area shape="rect" title="Returns the current plugin discovery message reflecting system status." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a7dd0000bcaf1d2028aeef57416f7c429" name="a7dd0000bcaf1d2028aeef57416f7c429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dd0000bcaf1d2028aeef57416f7c429">&#9670;&nbsp;</a></span>getLaneletsBetweenWithException()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; lanelet::ConstLanelet &gt; lci_strategic_plugin::LCIStrategicPlugin::getLaneletsBetweenWithException </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>start_downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>end_downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>shortest_path_only</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>bounds_inclusive</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack, end_downtrack, shortest_path_only,
bounds_inclusive) and throws and exception if the returned list of lanelets is empty. See the referenced method for additional details on parameters. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00210">210</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  214</span>{</div>
<div class="line"><span class="lineno">  215</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  216</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getLaneletsBetween(start_downtrack, end_downtrack, shortest_path_only, bounds_inclusive);</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">if</span> (crossed_lanelets.size() == 0)</div>
<div class="line"><span class="lineno">  219</span>  {</div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;getLaneletsBetweenWithException called but inputs do not cross any lanelets going &quot;</span></div>
<div class="line"><span class="lineno">  221</span>                                <span class="stringliteral">&quot;from: &quot;</span> +</div>
<div class="line"><span class="lineno">  222</span>                                std::to_string(start_downtrack) + <span class="stringliteral">&quot; to: &quot;</span> + std::to_string(end_downtrack));</div>
<div class="line"><span class="lineno">  223</span>  }</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>  <span class="keywordflow">return</span> crossed_lanelets;</div>
<div class="line"><span class="lineno">  226</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00730">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00105">extractInitialState()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00284">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00328">handleGreenSignalScenario()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00228">handleStopping()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00908">planWhenDEPARTING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a7dd0000bcaf1d2028aeef57416f7c429_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7dd0000bcaf1d2028aeef57416f7c429_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7dd0000bcaf1d2028aeef57416f7c429_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7dd0000bcaf1d2028aeef57416f7c429_icgraph">
<area shape="rect" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="756,159,985,215"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab6220e6c98770c3ccf99e34e5b1d8c16" title="Helper method to extract the initial vehicle state from the planning request method based on if the p..." alt="" coords="312,11,449,67"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="531,39,697,95"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="545,119,683,175"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,199,708,255"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="545,279,683,335"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a233112b93d2ee04c2f149e46f62832e2" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="300,275,461,331"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,163,241,219"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,178,56,205"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,163,472,219"/>
</map>
</div>

</div>
</div>
<a id="ad63f61dae16c63a661de5cff883b6ee2" name="ad63f61dae16c63a661de5cff883b6ee2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad63f61dae16c63a661de5cff883b6ee2">&#9670;&nbsp;</a></span>getTurnDirectionAtIntersection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a> lci_strategic_plugin::LCIStrategicPlugin::getTurnDirectionAtIntersection </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; lanelet::ConstLanelet &gt;&#160;</td>
          <td class="paramname"><em>lanelets_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the turn direction at intersection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lanelets_list</td><td>List of lanelets crossed around the intersection area</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>turn direction in format of straight, left, right </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01008">1008</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1009</span>{</div>
<div class="line"><span class="lineno"> 1010</span>  <a class="code hl_enumeration" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a> turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a>;</div>
<div class="line"><span class="lineno"> 1011</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> l:lanelets_list)</div>
<div class="line"><span class="lineno"> 1012</span>  {</div>
<div class="line"><span class="lineno"> 1013</span>    <span class="keywordflow">if</span>(l.hasAttribute(<span class="stringliteral">&quot;turn_direction&quot;</span>)) {</div>
<div class="line"><span class="lineno"> 1014</span>      std::string direction_attribute = l.attribute(<span class="stringliteral">&quot;turn_direction&quot;</span>).value();</div>
<div class="line"><span class="lineno"> 1015</span>      <span class="keywordflow">if</span> (direction_attribute == <span class="stringliteral">&quot;right&quot;</span>)</div>
<div class="line"><span class="lineno"> 1016</span>      {</div>
<div class="line"><span class="lineno"> 1017</span>        turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">TurnDirection::Right</a>;</div>
<div class="line"><span class="lineno"> 1018</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1019</span>      }</div>
<div class="line"><span class="lineno"> 1020</span>      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (direction_attribute == <span class="stringliteral">&quot;left&quot;</span>)</div>
<div class="line"><span class="lineno"> 1021</span>      {</div>
<div class="line"><span class="lineno"> 1022</span>        turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">TurnDirection::Left</a>;</div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1024</span>      }</div>
<div class="line"><span class="lineno"> 1025</span>      <span class="keywordflow">else</span> turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a>;</div>
<div class="line"><span class="lineno"> 1026</span>    }</div>
<div class="line"><span class="lineno"> 1027</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno"> 1028</span>    {</div>
<div class="line"><span class="lineno"> 1029</span>      <span class="comment">// if there is no attribute, assumption is straight</span></div>
<div class="line"><span class="lineno"> 1030</span>      turn_direction = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a>;</div>
<div class="line"><span class="lineno"> 1031</span>    }</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span>  }</div>
<div class="line"><span class="lineno"> 1034</span>  <span class="keywordflow">return</span> turn_direction;</div>
<div class="line"><span class="lineno"> 1035</span>}</div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a1e0201b2cf65a27f7075fd60ce35e2e9"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">lci_strategic_plugin::TurnDirection</a></div><div class="ttdeci">TurnDirection</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00049">lci_strategic_plugin.h:49</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">lci_strategic_plugin::TurnDirection::Straight</a></div><div class="ttdeci">@ Straight</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a945d5e233cf7d6240f6b783b36a374ff">lci_strategic_plugin::Left</a>, <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9a92b09c7c48c520c3c55e497875da437c">lci_strategic_plugin::Right</a>, and <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">lci_strategic_plugin::Straight</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad63f61dae16c63a661de5cff883b6ee2_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad63f61dae16c63a661de5cff883b6ee2_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad63f61dae16c63a661de5cff883b6ee2_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad63f61dae16c63a661de5cff883b6ee2_icgraph">
<area shape="rect" title="Determine the turn direction at intersection." alt="" coords="520,5,724,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a67c17100cc53d332a913ee8f2359df5c" name="a67c17100cc53d332a913ee8f2359df5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67c17100cc53d332a913ee8f2359df5c">&#9670;&nbsp;</a></span>handleCruisingUntilStop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::handleCruisingUntilStop </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_state_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_down_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;&#160;</td>
          <td class="paramname"><em>ts_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing parameters to go through the intersection with certainty It utilizes canMakeWithCertainty function to determine if it is able to make it. Corresponds to TSCase 1-7. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state_speed</td><td>The current speed to use when planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>CarmaTrafficSignalPtr of the relevant signal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light_down_track</td><td>Downtrack to the given traffic_light </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ts_params</td><td>trajectory smoothing params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. if successful, resp is non-empty. Resp is empty if not able to make it with certainty or ts_params.is_successful is false </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00284">284</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  289</span>{</div>
<div class="line"><span class="lineno">  290</span>  <span class="keywordflow">if</span> (!ts_params.is_algorithm_successful || ts_params.case_num != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>)</div>
<div class="line"><span class="lineno">  291</span>  {</div>
<div class="line"><span class="lineno">  292</span>    ROS_WARN_STREAM(<span class="stringliteral">&quot;handleCruisingUntilStop is called but it is not case_8&quot;</span>);</div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  294</span>  }</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>  <span class="keyword">auto</span> new_ts_params = ts_params; </div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>  <span class="keywordtype">double</span> decel_rate = std::fabs(ts_params.a3_);</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CASE_8: Planning cruise and stop with decel_rate: &quot;</span> &lt;&lt; decel_rate);</div>
<div class="line"><span class="lineno">  301</span>  </div>
<div class="line"><span class="lineno">  302</span>  new_ts_params.t3_ = new_ts_params.t2_;</div>
<div class="line"><span class="lineno">  303</span>  new_ts_params.x3_ = new_ts_params.x2_;</div>
<div class="line"><span class="lineno">  304</span>  new_ts_params.v3_ = new_ts_params.v2_;</div>
<div class="line"><span class="lineno">  305</span>  new_ts_params.a3_ = new_ts_params.a2_;</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers stopping part</span></div>
<div class="line"><span class="lineno">  308</span>  std::vector&lt;lanelet::ConstLanelet&gt; lane_follow_crossed_lanelets =</div>
<div class="line"><span class="lineno">  309</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(new_ts_params.x1_, new_ts_params.x2_, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>  resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622">composeTrajectorySmoothingManeuverMessage</a>(current_state.downtrack, new_ts_params.x2_, lane_follow_crossed_lanelets, </div>
<div class="line"><span class="lineno">  312</span>                                          current_state_speed, new_ts_params.v2_, current_state.stamp, ros::Time(new_ts_params.t2_), new_ts_params));</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers stopping part</span></div>
<div class="line"><span class="lineno">  315</span>  std::vector&lt;lanelet::ConstLanelet&gt; case_8_crossed_lanelets =</div>
<div class="line"><span class="lineno">  316</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(new_ts_params.x2_, traffic_light_down_track, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>  resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1">composeStopAndWaitManeuverMessage</a>(</div>
<div class="line"><span class="lineno">  319</span>    new_ts_params.x2_, traffic_light_down_track, new_ts_params.v2_, case_8_crossed_lanelets.front().id(),</div>
<div class="line"><span class="lineno">  320</span>    case_8_crossed_lanelets.back().id(), ros::Time(new_ts_params.t2_),</div>
<div class="line"><span class="lineno">  321</span>    ros::Time(new_ts_params.t2_) + ros::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a>), decel_rate));</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>;</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>  <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  326</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a66c3d9cd3a128d8bb9cab61d68991806"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">lci_strategic_plugin::LCIStrategicPlugin::case_num_</a></div><div class="ttdeci">TSCase case_num_</div><div class="ttdoc">Useful metrics for LCI Plugin.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00211">lci_strategic_plugin.h:211</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a7510c02543b0ac9b818c5f292dda4622"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622">lci_strategic_plugin::LCIStrategicPlugin::composeTrajectorySmoothingManeuverMessage</a></div><div class="ttdeci">cav_msgs::Maneuver composeTrajectorySmoothingManeuverMessage(double start_dist, double end_dist, const std::vector&lt; lanelet::ConstLanelet &gt; &amp;crossed_lanelets, double start_speed, double target_speed, ros::Time start_time, ros::Time end_time, const TrajectoryParams &amp;tsp) const</div><div class="ttdoc">Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01192">lci_strategic_plugin.cpp:1192</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a8528301c6bda50dde4d55e64ec02e7f1"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1">lci_strategic_plugin::LCIStrategicPlugin::composeStopAndWaitManeuverMessage</a></div><div class="ttdeci">cav_msgs::Maneuver composeStopAndWaitManeuverMessage(double current_dist, double end_dist, double start_speed, const lanelet::Id &amp;starting_lane_id, const lanelet::Id &amp;ending_lane_id, ros::Time start_time, ros::Time end_time, double stopping_accel) const</div><div class="ttdoc">Compose a stop and wait maneuver message based on input params.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01243">lci_strategic_plugin.cpp:1243</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a2cd3403442e86fd75c540efc09238698"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a></div><div class="ttdeci">double min_maneuver_planning_period</div><div class="ttdoc">The minimum period in seconds which a maneuver plan must cover if the plugin wishes to control the wh...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00063">lci_strategic_plugin_config.h:63</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00067">lci_strategic_plugin::CASE_8</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00094">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00211">case_num_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01243">composeStopAndWaitManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01192">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00210">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00093">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00063">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a67c17100cc53d332a913ee8f2359df5c_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a67c17100cc53d332a913ee8f2359df5c_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a67c17100cc53d332a913ee8f2359df5c_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a67c17100cc53d332a913ee8f2359df5c_cgraph">
<area shape="rect" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="5,107,172,163"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1" title="Compose a stop and wait maneuver message based on input params." alt="" coords="227,5,442,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="235,100,435,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="220,195,449,251"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a67c17100cc53d332a913ee8f2359df5c_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a67c17100cc53d332a913ee8f2359df5c_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a67c17100cc53d332a913ee8f2359df5c_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a67c17100cc53d332a913ee8f2359df5c_icgraph">
<area shape="rect" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,5,687,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a3a51dd7dd6c01bb54304a62d482a2e70" name="a3a51dd7dd6c01bb54304a62d482a2e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a51dd7dd6c01bb54304a62d482a2e70">&#9670;&nbsp;</a></span>handleFailureCase()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::handleFailureCase </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_state_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>remaining_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">lanelet::Id&#160;</td>
          <td class="paramname"><em>exit_lanelet_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_down_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;&#160;</td>
          <td class="paramname"><em>ts_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When the vehicle is not able to successfully run the algorithm or not able to stop, this function modifies departure speed as close as possible to the original using max comfortable accelerations with given distance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state_speed</td><td>The current speed to use when planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">speed_limit</td><td>Speed limit to cap the speed </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">remaining_time</td><td>Remaining time until scheduled entry </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet_id</td><td>Id of the exit lanelet </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>CarmaTrafficSignalPtr of the relevant signal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light_down_track</td><td>Downtrack to the given traffic_light </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ts_params</td><td>trajectory smoothing params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. if successful, resp is non-empty. Resp is empty if not able to make it with certainty or ts_params.is_successful is false </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">252</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  260</span>{</div>
<div class="line"><span class="lineno">  261</span>  <span class="keywordtype">double</span> distance_remaining_to_traffic_light = traffic_light_down_track - current_state.downtrack;</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers lane follow maneuver</span></div>
<div class="line"><span class="lineno">  264</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  265</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(current_state.downtrack, traffic_light_down_track, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>  <span class="keyword">auto</span> incomplete_traj_params = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7f7fc780ada2600048d45cc5451cf2af">handleFailureCaseHelper</a>(current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), speed_limit, distance_remaining_to_traffic_light, remaining_time, traffic_light_down_track);</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>  resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622">composeTrajectorySmoothingManeuverMessage</a>(current_state.downtrack, traffic_light_down_track, crossed_lanelets,</div>
<div class="line"><span class="lineno">  270</span>                                          current_state_speed, incomplete_traj_params.modified_departure_speed, current_state.stamp, current_state.stamp + ros::Duration(incomplete_traj_params.modified_remaining_time), incomplete_traj_params));</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>  <span class="keywordtype">double</span> intersection_length = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get() - traffic_light_down_track;</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>  ros::Time intersection_exit_time =</div>
<div class="line"><span class="lineno">  275</span>      current_state.stamp + ros::Duration(incomplete_traj_params.modified_remaining_time) + ros::Duration(intersection_length / incomplete_traj_params.modified_departure_speed);</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>  resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6">composeIntersectionTransitMessage</a>(</div>
<div class="line"><span class="lineno">  278</span>      traffic_light_down_track, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(),</div>
<div class="line"><span class="lineno">  279</span>      incomplete_traj_params.modified_departure_speed, current_state.stamp + ros::Duration(incomplete_traj_params.modified_remaining_time), intersection_exit_time, crossed_lanelets.back().id(), crossed_lanelets.back().id()));</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">TSCase::UNAVAILABLE</a>;</div>
<div class="line"><span class="lineno">  282</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a5e4ecab9f1255d861d20fd21c2b5bdd6"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6">lci_strategic_plugin::LCIStrategicPlugin::composeIntersectionTransitMessage</a></div><div class="ttdeci">cav_msgs::Maneuver composeIntersectionTransitMessage(double start_dist, double end_dist, double start_speed, double target_speed, ros::Time start_time, ros::Time end_time, const lanelet::Id &amp;starting_lane_id, const lanelet::Id &amp;ending_lane_id) const</div><div class="ttdoc">Compose a intersection transit maneuver message based on input params.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01276">lci_strategic_plugin.cpp:1276</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a7f7fc780ada2600048d45cc5451cf2af"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7f7fc780ada2600048d45cc5451cf2af">lci_strategic_plugin::LCIStrategicPlugin::handleFailureCaseHelper</a></div><div class="ttdeci">TrajectoryParams handleFailureCaseHelper(double starting_speed, double departure_speed, double speed_limit, double remaining_downtrack, double remaining_time, double traffic_light_downtrack)</div><div class="ttdoc">Helper function to handleFailureCase that modifies ts_params to desired new parameters....</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00372">lci_strategic_plugin.cpp:372</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_acd45a0e25b428eaed59668141c1a367a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">lci_strategic_plugin::LCIStrategicPlugin::intersection_end_downtrack_</a></div><div class="ttdeci">boost::optional&lt; double &gt; intersection_end_downtrack_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00743">lci_strategic_plugin.h:743</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ae9380f01ef61988443a1229797af0bb6"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">lci_strategic_plugin::LCIStrategicPlugin::intersection_speed_</a></div><div class="ttdeci">boost::optional&lt; double &gt; intersection_speed_</div><div class="ttdoc">Cache variables for storing the current intersection state between state machine transitions.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00742">lci_strategic_plugin.h:742</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">lci_strategic_plugin::UNAVAILABLE</a></div><div class="ttdeci">@ UNAVAILABLE</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00069">lci_strategic_plugin.h:69</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00211">case_num_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01276">composeIntersectionTransitMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01192">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00210">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00372">handleFailureCaseHelper()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00743">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00742">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00069">lci_strategic_plugin::UNAVAILABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a3a51dd7dd6c01bb54304a62d482a2e70_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a51dd7dd6c01bb54304a62d482a2e70_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a51dd7dd6c01bb54304a62d482a2e70_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a51dd7dd6c01bb54304a62d482a2e70_cgraph">
<area shape="rect" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="5,151,143,207"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6" title="Compose a intersection transit maneuver message based on input params." alt="" coords="211,5,400,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="205,100,405,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="191,195,420,251"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7f7fc780ada2600048d45cc5451cf2af" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="219,275,392,331"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1" title="Helper method to print TrajectoryParams." alt="" coords="468,275,605,331"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a3a51dd7dd6c01bb54304a62d482a2e70_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a51dd7dd6c01bb54304a62d482a2e70_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a51dd7dd6c01bb54304a62d482a2e70_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3a51dd7dd6c01bb54304a62d482a2e70_icgraph">
<area shape="rect" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a7f7fc780ada2600048d45cc5451cf2af" name="a7f7fc780ada2600048d45cc5451cf2af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f7fc780ada2600048d45cc5451cf2af">&#9670;&nbsp;</a></span>handleFailureCaseHelper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::handleFailureCaseHelper </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>starting_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>departure_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>speed_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>remaining_downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>remaining_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_downtrack</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to handleFailureCase that modifies ts_params to desired new parameters. See handleFailureCase. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">starting_speed</td><td>starting speed </td></tr>
    <tr><td class="paramname">departure_speed</td><td>departure_speed originally planned </td></tr>
    <tr><td class="paramname">speed_limit</td><td>speed_limit </td></tr>
    <tr><td class="paramname">remaining_downtrack</td><td>remaining_downtrack until the intersection </td></tr>
    <tr><td class="paramname">remaining_time</td><td>remaining_time when vehicle is scheduled to enter </td></tr>
    <tr><td class="paramname">traffic_light_downtrack</td><td>traffic_light_downtrack when vehicle is scheduled to enter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TSP with parameters that is best available to pass the intersection. Either cruising with starting_speed or sacrifice departure speed to meet time and distance </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00372">372</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  373</span>{</div>
<div class="line"><span class="lineno">  374</span>  <span class="comment">//Requested maneuver needs to be modified to meet remaining_dist req</span></div>
<div class="line"><span class="lineno">  375</span>  <span class="comment">//by trying to get close to the target_speed and remaining_time as much as possible</span></div>
<div class="line"><span class="lineno">  376</span>  TrajectoryParams params;</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>  params.is_algorithm_successful = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  379</span>  params.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273ba68d989babe6297b5f85a05a94cd056c5">CASE_1</a>;</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;HANDLE_LAST_RESORT_CASE: Starting...&quot;</span>);</div>
<div class="line"><span class="lineno">  382</span>  <span class="keywordtype">double</span> modified_remaining_time;</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span>  <span class="keywordflow">if</span> (starting_speed &lt;= departure_speed)</div>
<div class="line"><span class="lineno">  385</span>    modified_remaining_time = (sqrt(pow(starting_speed, 2) + (2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a> * remaining_downtrack)) - starting_speed)/ <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>;</div>
<div class="line"><span class="lineno">  386</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  387</span>    modified_remaining_time = (sqrt(pow(starting_speed, 2) + (2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> * remaining_downtrack)) - starting_speed) / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>;</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>  <span class="keywordflow">if</span> (starting_speed &lt;= departure_speed)</div>
<div class="line"><span class="lineno">  390</span>  {</div>
<div class="line"><span class="lineno">  391</span>    params.a1_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>;</div>
<div class="line"><span class="lineno">  392</span>    params.v1_ = sqrt(pow(starting_speed, 2) + (2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a> * remaining_downtrack));</div>
<div class="line"><span class="lineno">  393</span>  }</div>
<div class="line"><span class="lineno">  394</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  395</span>  {</div>
<div class="line"><span class="lineno">  396</span>    params.a1_ = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>;</div>
<div class="line"><span class="lineno">  397</span>    params.v1_ = sqrt(pow(starting_speed, 2) + (2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a> * remaining_downtrack));</div>
<div class="line"><span class="lineno">  398</span>  }</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>  params.x1_ = traffic_light_downtrack;</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>  params.a2_ = 0;</div>
<div class="line"><span class="lineno">  403</span>  params.v2_ = params.v1_;</div>
<div class="line"><span class="lineno">  404</span>  params.x2_ = params.x1_;</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>  params.a3_ = 0;</div>
<div class="line"><span class="lineno">  407</span>  params.v3_ = params.v1_;</div>
<div class="line"><span class="lineno">  408</span>  params.x3_ = params.x1_;</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>  params.modified_departure_speed = params.v1_;</div>
<div class="line"><span class="lineno">  411</span>  params.modified_remaining_time = modified_remaining_time;</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>  <span class="comment">// handle hard failure case such as nan</span></div>
<div class="line"><span class="lineno">  414</span>  <span class="keywordflow">if</span> (!isnan(params.modified_departure_speed) &amp;&amp; params.modified_departure_speed &gt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a> &amp;&amp;</div>
<div class="line"><span class="lineno">  415</span>      params.modified_departure_speed &lt;  speed_limit ) <span class="comment">//80_mph</span></div>
<div class="line"><span class="lineno">  416</span>  {</div>
<div class="line"><span class="lineno">  417</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Updated the speed, and using modified_departure_speed: &quot;</span> &lt;&lt; params.modified_departure_speed);</div>
<div class="line"><span class="lineno">  418</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a>(params);</div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">return</span> params;</div>
<div class="line"><span class="lineno">  420</span>  }</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>  params.a1_ = 0;</div>
<div class="line"><span class="lineno">  423</span>  params.v1_ = starting_speed;</div>
<div class="line"><span class="lineno">  424</span>  params.x1_ = traffic_light_downtrack;</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>  params.a2_ = 0;</div>
<div class="line"><span class="lineno">  427</span>  params.v2_ = params.v1_;</div>
<div class="line"><span class="lineno">  428</span>  params.x2_ = params.x1_;</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>  params.a3_ = 0;</div>
<div class="line"><span class="lineno">  431</span>  params.v3_ = params.v1_;</div>
<div class="line"><span class="lineno">  432</span>  params.x3_ = params.x1_;</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>  params.modified_departure_speed = params.v1_;</div>
<div class="line"><span class="lineno">  435</span>  params.modified_remaining_time = remaining_downtrack / starting_speed;</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Cruising!!! at: &quot;</span> &lt;&lt; params.modified_departure_speed &lt;&lt;<span class="stringliteral">&quot;, for sec: &quot;</span> &lt;&lt; params.modified_remaining_time &lt;&lt; <span class="stringliteral">&quot;, where remaining_time: &quot;</span> &lt;&lt; remaining_time);</div>
<div class="line"><span class="lineno">  438</span>  </div>
<div class="line"><span class="lineno">  439</span>  <span class="comment">// handle hard failure case such as nan</span></div>
<div class="line"><span class="lineno">  440</span>  <span class="keywordflow">if</span> (isnan(params.modified_departure_speed) || params.modified_departure_speed &lt; - <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a> ||</div>
<div class="line"><span class="lineno">  441</span>      params.modified_departure_speed &gt; 35.7632 ) <span class="comment">//80_mph</span></div>
<div class="line"><span class="lineno">  442</span>  {</div>
<div class="line"><span class="lineno">  443</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Calculated departure speed is invalid: &quot;</span> + std::to_string(params.modified_departure_speed));</div>
<div class="line"><span class="lineno">  444</span>  }</div>
<div class="line"><span class="lineno">  445</span>  <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a>(params);</div>
<div class="line"><span class="lineno">  446</span>  </div>
<div class="line"><span class="lineno">  447</span>  <span class="keywordflow">return</span> params;</div>
<div class="line"><span class="lineno">  448</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a90783dcf3764851270354a58d81c27c1"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">lci_strategic_plugin::LCIStrategicPlugin::print_params</a></div><div class="ttdeci">void print_params(TrajectoryParams params)</div><div class="ttdoc">Helper method to print TrajectoryParams.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00267">lci_strategic_plugin_algo.cpp:267</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00060">lci_strategic_plugin::CASE_1</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00094">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00093">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00724">max_comfort_accel_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00725">max_comfort_decel_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00095">lci_strategic_plugin::TrajectoryParams::modified_departure_speed</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00096">lci_strategic_plugin::TrajectoryParams::modified_remaining_time</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00267">print_params()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">handleFailureCase()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a7f7fc780ada2600048d45cc5451cf2af_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7f7fc780ada2600048d45cc5451cf2af_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7f7fc780ada2600048d45cc5451cf2af_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7f7fc780ada2600048d45cc5451cf2af_cgraph">
<area shape="rect" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="5,5,179,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1" title="Helper method to print TrajectoryParams." alt="" coords="227,5,364,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a7f7fc780ada2600048d45cc5451cf2af_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7f7fc780ada2600048d45cc5451cf2af_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7f7fc780ada2600048d45cc5451cf2af_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7f7fc780ada2600048d45cc5451cf2af_icgraph">
<area shape="rect" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="705,5,879,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a024c31e2b9b9e8d28432d2a4f45c8de6" name="a024c31e2b9b9e8d28432d2a4f45c8de6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a024c31e2b9b9e8d28432d2a4f45c8de6">&#9670;&nbsp;</a></span>handleGreenSignalScenario()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::handleGreenSignalScenario </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>current_state_speed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_down_track</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> &amp;&#160;</td>
          <td class="paramname"><em>ts_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>is_certainty_check_optional</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing parameters to go through the intersection with certainty It utilizes canMakeWithCertainty function to determine if it is able to make it. Corresponds to TSCase 1-7. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state_speed</td><td>The current speed to use when planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>CarmaTrafficSignalPtr of the relevant signal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>Entry lanelet in to the intersection along route </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>Exit lanelet in to the intersection along route </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light_down_track</td><td>Downtrack to the given traffic_light </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">ts_params</td><td>trajectory smoothing params</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. if successful, resp is non-empty. Resp is empty if not able to make it with certainty or ts_params.is_successful is false </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00328">328</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  334</span>{</div>
<div class="line"><span class="lineno">  335</span>  <span class="keywordflow">if</span> (!ts_params.is_algorithm_successful || ts_params.case_num == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>) </div>
<div class="line"><span class="lineno">  336</span>  {</div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  338</span>  }</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>  ros::Time light_arrival_time_by_algo = ros::Time(ts_params.t3_);</div>
<div class="line"><span class="lineno">  341</span>  <span class="keywordtype">double</span> remaining_time = light_arrival_time_by_algo.toSec() - req.header.stamp.toSec();</div>
<div class="line"><span class="lineno">  342</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Algo initially successful: New light_arrival_time_by_algo: &quot;</span> &lt;&lt; std::to_string(light_arrival_time_by_algo.toSec()) &lt;&lt; <span class="stringliteral">&quot;, with remaining_time: &quot;</span> &lt;&lt; std::to_string(remaining_time));</div>
<div class="line"><span class="lineno">  343</span>  <span class="keyword">auto</span> can_make_green_optional = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9">canArriveAtGreenWithCertainty</a>(light_arrival_time_by_algo, traffic_light);</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers lane follow maneuver</span></div>
<div class="line"><span class="lineno">  346</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  347</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(current_state.downtrack, traffic_light_down_track, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>  <span class="comment">// no change for maneuver if invalid light states</span></div>
<div class="line"><span class="lineno">  350</span>  <span class="keywordflow">if</span> (!can_make_green_optional) </div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  352</span>  </div>
<div class="line"><span class="lineno">  353</span>  <span class="keywordflow">if</span> (can_make_green_optional.get() || is_certainty_check_optional)</div>
<div class="line"><span class="lineno">  354</span>  {</div>
<div class="line"><span class="lineno">  355</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;HANDLE_SUCCESSFULL: Algorithm successful, and able to make it at green with certainty. Planning traj smooth and intersection transit maneuvers&quot;</span>);</div>
<div class="line"><span class="lineno">  356</span>    </div>
<div class="line"><span class="lineno">  357</span>    resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622">composeTrajectorySmoothingManeuverMessage</a>(current_state.downtrack, traffic_light_down_track, crossed_lanelets,</div>
<div class="line"><span class="lineno">  358</span>                                          current_state_speed, ts_params.v3_, current_state.stamp, light_arrival_time_by_algo, ts_params));</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordtype">double</span> intersection_length = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get() - traffic_light_down_track;</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>    ros::Time intersection_exit_time =</div>
<div class="line"><span class="lineno">  363</span>        light_arrival_time_by_algo + ros::Duration(intersection_length / <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get());</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6">composeIntersectionTransitMessage</a>(</div>
<div class="line"><span class="lineno">  366</span>        traffic_light_down_track, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(),</div>
<div class="line"><span class="lineno">  367</span>        <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), light_arrival_time_by_algo, intersection_exit_time, crossed_lanelets.back().id(), crossed_lanelets.back().id()));</div>
<div class="line"><span class="lineno">  368</span>  }</div>
<div class="line"><span class="lineno">  369</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad0dfe4121507c3080e3d21dd1244bec9"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9">lci_strategic_plugin::LCIStrategicPlugin::canArriveAtGreenWithCertainty</a></div><div class="ttdeci">boost::optional&lt; bool &gt; canArriveAtGreenWithCertainty(const ros::Time &amp;light_arrival_time_by_algo, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, bool check_late, bool check_early) const</div><div class="ttdoc">Return true if the car can arrive at given arrival time within green light time buffer.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00167">lci_strategic_plugin.cpp:167</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00167">canArriveAtGreenWithCertainty()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00067">lci_strategic_plugin::CASE_8</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00094">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01276">composeIntersectionTransitMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01192">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00210">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00743">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00742">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00093">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a024c31e2b9b9e8d28432d2a4f45c8de6_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a024c31e2b9b9e8d28432d2a4f45c8de6_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a024c31e2b9b9e8d28432d2a4f45c8de6_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a024c31e2b9b9e8d28432d2a4f45c8de6_cgraph">
<area shape="rect" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="5,141,193,197"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="252,5,460,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6" title="Compose a intersection transit maneuver message based on input params." alt="" coords="261,86,451,157"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="256,181,456,251"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="241,276,471,332"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="519,5,656,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="704,5,849,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a024c31e2b9b9e8d28432d2a4f45c8de6_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a024c31e2b9b9e8d28432d2a4f45c8de6_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a024c31e2b9b9e8d28432d2a4f45c8de6_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a024c31e2b9b9e8d28432d2a4f45c8de6_icgraph">
<area shape="rect" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,5,708,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a5d84312c63db263a897386c0d026ea75" name="a5d84312c63db263a897386c0d026ea75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d84312c63db263a897386c0d026ea75">&#9670;&nbsp;</a></span>handleStopping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::handleStopping </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>current_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>traffic_light_down_track</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping distance. Given the initial speed, ending speed (which is 0), and remaining_downtrack, this function checks if calculated remaining_time falls on RED. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>Current state of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>CarmaTrafficSignalPtr of the relevant signal </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>Entry lanelet in to the intersection along route </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>Exit lanelet in to the intersection along route </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_lanelet</td><td>Current lanelet </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light_down_track</td><td>Downtrack to the given traffic_light</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>void. if successful, resp is non-empty </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00228">228</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  233</span>{</div>
<div class="line"><span class="lineno">  234</span>  <span class="keywordtype">double</span> distance_remaining_to_traffic_light = traffic_light_down_track - current_state.downtrack;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers lane follow maneuver</span></div>
<div class="line"><span class="lineno">  237</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  238</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(current_state.downtrack, traffic_light_down_track, <span class="keyword">true</span>, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>  <span class="keywordtype">double</span> decel_rate =  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a>; <span class="comment">// Kinematic |(v_f - v_i) / t = a|</span></div>
<div class="line"><span class="lineno">  241</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;HANDLE_STOPPING: Planning stop and wait maneuver at decel_rate: &quot;</span> &lt;&lt; decel_rate);</div>
<div class="line"><span class="lineno">  242</span>  </div>
<div class="line"><span class="lineno">  243</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>;</div>
<div class="line"><span class="lineno">  244</span>  </div>
<div class="line"><span class="lineno">  245</span>  resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1">composeStopAndWaitManeuverMessage</a>(</div>
<div class="line"><span class="lineno">  246</span>    current_state.downtrack, traffic_light_down_track, current_state.speed, crossed_lanelets.front().id(),</div>
<div class="line"><span class="lineno">  247</span>    crossed_lanelets.back().id(), current_state.stamp,</div>
<div class="line"><span class="lineno">  248</span>    current_state.stamp + ros::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a>), decel_rate));</div>
<div class="line"><span class="lineno">  249</span>}</div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">lci_strategic_plugin::STOPPING</a></div><div class="ttdeci">@ STOPPING</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00068">lci_strategic_plugin.h:68</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00211">case_num_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01243">composeStopAndWaitManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00210">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00726">max_comfort_decel_norm_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00063">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00225">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00068">lci_strategic_plugin::STOPPING</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5d84312c63db263a897386c0d026ea75_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5d84312c63db263a897386c0d026ea75_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5d84312c63db263a897386c0d026ea75_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5d84312c63db263a897386c0d026ea75_cgraph">
<area shape="rect" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="5,57,143,113"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1" title="Compose a stop and wait maneuver message based on input params." alt="" coords="198,5,413,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="191,101,420,157"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a5d84312c63db263a897386c0d026ea75_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5d84312c63db263a897386c0d026ea75_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5d84312c63db263a897386c0d026ea75_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a5d84312c63db263a897386c0d026ea75_icgraph">
<area shape="rect" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a0d0c867d5697fa8b7a9c43596815d7c0" name="a0d0c867d5697fa8b7a9c43596815d7c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d0c867d5697fa8b7a9c43596815d7c0">&#9670;&nbsp;</a></span>lookupFrontBumperTransform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::lookupFrontBumperTransform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup transfrom from front bumper to base link. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00088">88</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   89</span>{</div>
<div class="line"><span class="lineno">   90</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aef286b3de570f73e947a6f2e223b0c90">tf2_listener_</a>.reset(<span class="keyword">new</span> tf2_ros::TransformListener(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a>));</div>
<div class="line"><span class="lineno">   91</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a>.setUsingDedicatedThread(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">   93</span>    {</div>
<div class="line"><span class="lineno">   94</span>        geometry_msgs::TransformStamped tf = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">tf2_buffer_</a>.lookupTransform(<span class="stringliteral">&quot;base_link&quot;</span>, <span class="stringliteral">&quot;vehicle_front&quot;</span>, ros::Time(0), ros::Duration(20.0)); <span class="comment">//save to local copy of transform 20 sec timeout</span></div>
<div class="line"><span class="lineno">   95</span>        <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a65a82a5d5dae1cb9cc8e5f8913627dfa">length_to_front_bumper_</a> = tf.transform.translation.x;</div>
<div class="line"><span class="lineno">   96</span>        ROS_DEBUG_STREAM(<span class="stringliteral">&quot;length_to_front_bumper_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a65a82a5d5dae1cb9cc8e5f8913627dfa">length_to_front_bumper_</a>);</div>
<div class="line"><span class="lineno">   97</span>        </div>
<div class="line"><span class="lineno">   98</span>    }</div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">catch</span> (<span class="keyword">const</span> tf2::TransformException &amp;ex)</div>
<div class="line"><span class="lineno">  100</span>    {</div>
<div class="line"><span class="lineno">  101</span>        ROS_WARN(<span class="stringliteral">&quot;%s&quot;</span>, ex.what());</div>
<div class="line"><span class="lineno">  102</span>    }</div>
<div class="line"><span class="lineno">  103</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a4c5c4c4424dbe28de12ecc631c817daa"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c5c4c4424dbe28de12ecc631c817daa">lci_strategic_plugin::LCIStrategicPlugin::tf2_buffer_</a></div><div class="ttdeci">tf2_ros::Buffer tf2_buffer_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00747">lci_strategic_plugin.h:747</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a65a82a5d5dae1cb9cc8e5f8913627dfa"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a65a82a5d5dae1cb9cc8e5f8913627dfa">lci_strategic_plugin::LCIStrategicPlugin::length_to_front_bumper_</a></div><div class="ttdeci">double length_to_front_bumper_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00750">lci_strategic_plugin.h:750</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aef286b3de570f73e947a6f2e223b0c90"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aef286b3de570f73e947a6f2e223b0c90">lci_strategic_plugin::LCIStrategicPlugin::tf2_listener_</a></div><div class="ttdeci">std::unique_ptr&lt; tf2_ros::TransformListener &gt; tf2_listener_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00748">lci_strategic_plugin.h:748</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00750">length_to_front_bumper_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00747">tf2_buffer_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00748">tf2_listener_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a0d0c867d5697fa8b7a9c43596815d7c0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0d0c867d5697fa8b7a9c43596815d7c0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0d0c867d5697fa8b7a9c43596815d7c0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a0d0c867d5697fa8b7a9c43596815d7c0_icgraph">
<area shape="rect" title="Lookup transfrom from front bumper to base link." alt="" coords="104,5,304,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="abe9655c102048ca22d3e02d09d4ae9d8" name="abe9655c102048ca22d3e02d09d4ae9d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe9655c102048ca22d3e02d09d4ae9d8">&#9670;&nbsp;</a></span>mobilityOperationCb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::mobilityOperationCb </td>
          <td>(</td>
          <td class="paramtype">const cav_msgs::MobilityOperationConstPtr &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>callback function for mobility operation </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>input mobility operation msg </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00937">937</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  938</span>{</div>
<div class="line"><span class="lineno">  939</span>  <span class="keywordflow">if</span> (msg-&gt;strategy == <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe899a1e3053d51bd163bda6b5bbd0b8">light_controlled_intersection_strategy_</a>)</div>
<div class="line"><span class="lineno">  940</span>  {</div>
<div class="line"><span class="lineno">  941</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Received Schedule message with id: &quot;</span> &lt;&lt; msg-&gt;m_header.plan_id);</div>
<div class="line"><span class="lineno">  942</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  943</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Approaching light Controlled Intersection: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a>);</div>
<div class="line"><span class="lineno">  944</span>  </div>
<div class="line"><span class="lineno">  945</span>    <span class="keywordflow">if</span> (msg-&gt;m_header.recipient_id == <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1004d0cff80a036bdf02a20c0fbc46cd">vehicle_id</a>)</div>
<div class="line"><span class="lineno">  946</span>    {</div>
<div class="line"><span class="lineno">  947</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63ee8ae7daaa5e8a4222a67dcf48366f">street_msg_timestamp_</a> = msg-&gt;m_header.timestamp;</div>
<div class="line"><span class="lineno">  948</span>      ROS_DEBUG_STREAM(<span class="stringliteral">&quot;street_msg_timestamp_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63ee8ae7daaa5e8a4222a67dcf48366f">street_msg_timestamp_</a>);</div>
<div class="line"><span class="lineno">  949</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10">parseStrategyParams</a>(msg-&gt;strategy_params);</div>
<div class="line"><span class="lineno">  950</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab7d33a0c85f6ba2d709d07a4526774aa">previous_strategy_params_</a> = msg-&gt;strategy_params;</div>
<div class="line"><span class="lineno">  951</span>    }</div>
<div class="line"><span class="lineno">  952</span>  }</div>
<div class="line"><span class="lineno">  953</span>  </div>
<div class="line"><span class="lineno">  954</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a63ee8ae7daaa5e8a4222a67dcf48366f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63ee8ae7daaa5e8a4222a67dcf48366f">lci_strategic_plugin::LCIStrategicPlugin::street_msg_timestamp_</a></div><div class="ttdeci">unsigned long long street_msg_timestamp_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00193">lci_strategic_plugin.h:193</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a912dc09be0b318510a8e50df38f80b10"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10">lci_strategic_plugin::LCIStrategicPlugin::parseStrategyParams</a></div><div class="ttdeci">void parseStrategyParams(const std::string &amp;strategy_params)</div><div class="ttdoc">parse strategy parameters</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00964">lci_strategic_plugin.cpp:964</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab7d33a0c85f6ba2d709d07a4526774aa"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab7d33a0c85f6ba2d709d07a4526774aa">lci_strategic_plugin::LCIStrategicPlugin::previous_strategy_params_</a></div><div class="ttdeci">std::string previous_strategy_params_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00721">lci_strategic_plugin.h:721</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab8247b29655ecc5f132e33c3cad8591d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">lci_strategic_plugin::LCIStrategicPlugin::approaching_light_controlled_intersection_</a></div><div class="ttdeci">bool approaching_light_controlled_intersection_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00189">lci_strategic_plugin.h:189</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00189">approaching_light_controlled_intersection_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00744">light_controlled_intersection_strategy_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00964">parseStrategyParams()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00721">previous_strategy_params_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00193">street_msg_timestamp_</a>, and <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00081">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_id</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_abe9655c102048ca22d3e02d09d4ae9d8_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abe9655c102048ca22d3e02d09d4ae9d8_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abe9655c102048ca22d3e02d09d4ae9d8_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abe9655c102048ca22d3e02d09d4ae9d8_cgraph">
<area shape="rect" title="callback function for mobility operation" alt="" coords="5,5,149,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a912dc09be0b318510a8e50df38f80b10" title="parse strategy parameters" alt="" coords="197,5,351,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_abe9655c102048ca22d3e02d09d4ae9d8_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abe9655c102048ca22d3e02d09d4ae9d8_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abe9655c102048ca22d3e02d09d4ae9d8_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abe9655c102048ca22d3e02d09d4ae9d8_icgraph">
<area shape="rect" title="callback function for mobility operation" alt="" coords="104,5,248,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a3bd7da843391689a01c52b1deff1006c" name="a3bd7da843391689a01c52b1deff1006c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bd7da843391689a01c52b1deff1006c">&#9670;&nbsp;</a></span>mobilityPubSpin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::mobilityPubSpin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to call at fixed rate in execution loop. Will publish plugin discovery and mobility operation msgs. </p>
<dl class="section return"><dt>Returns</dt><dd>True if the node should continue running. False otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01038">1038</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1039</span>{</div>
<div class="line"><span class="lineno"> 1040</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a>)</div>
<div class="line"><span class="lineno"> 1041</span>  {</div>
<div class="line"><span class="lineno"> 1042</span>    cav_msgs::MobilityOperation status_msg = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63354d48a82cceed362b725510157bf6">generateMobilityOperation</a>();</div>
<div class="line"><span class="lineno"> 1043</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6d0b09a745d928a89a0ae92a95eebff8">mobility_operation_pub</a>.publish(status_msg);</div>
<div class="line"><span class="lineno"> 1044</span>  }</div>
<div class="line"><span class="lineno"> 1045</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1046</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a63354d48a82cceed362b725510157bf6"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63354d48a82cceed362b725510157bf6">lci_strategic_plugin::LCIStrategicPlugin::generateMobilityOperation</a></div><div class="ttdeci">cav_msgs::MobilityOperation generateMobilityOperation()</div><div class="ttdoc">Generates Mobility Operation messages.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00983">lci_strategic_plugin.cpp:983</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a6d0b09a745d928a89a0ae92a95eebff8"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6d0b09a745d928a89a0ae92a95eebff8">lci_strategic_plugin::LCIStrategicPlugin::mobility_operation_pub</a></div><div class="ttdeci">ros::Publisher mobility_operation_pub</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00183">lci_strategic_plugin.h:183</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00189">approaching_light_controlled_intersection_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">generateMobilityOperation()</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00183">mobility_operation_pub</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a3bd7da843391689a01c52b1deff1006c_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3bd7da843391689a01c52b1deff1006c_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3bd7da843391689a01c52b1deff1006c_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3bd7da843391689a01c52b1deff1006c_cgraph">
<area shape="rect" title="Method to call at fixed rate in execution loop. Will publish plugin discovery and mobility operation ..." alt="" coords="5,5,143,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a63354d48a82cceed362b725510157bf6" title="Generates Mobility Operation messages." alt="" coords="191,5,369,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a3bd7da843391689a01c52b1deff1006c_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3bd7da843391689a01c52b1deff1006c_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3bd7da843391689a01c52b1deff1006c_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a3bd7da843391689a01c52b1deff1006c_icgraph">
<area shape="rect" title="Method to call at fixed rate in execution loop. Will publish plugin discovery and mobility operation ..." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a912dc09be0b318510a8e50df38f80b10" name="a912dc09be0b318510a8e50df38f80b10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912dc09be0b318510a8e50df38f80b10">&#9670;&nbsp;</a></span>parseStrategyParams()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::parseStrategyParams </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strategy_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>parse strategy parameters </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">strategy_params</td><td>input string of strategy params from mob op msg </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00964">964</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  965</span>{</div>
<div class="line"><span class="lineno">  966</span>  <span class="comment">// sample strategy_params: &quot;et:1634067059&quot;</span></div>
<div class="line"><span class="lineno">  967</span>  std::string params = strategy_params;</div>
<div class="line"><span class="lineno">  968</span>  std::vector&lt;std::string&gt; inputsParams;</div>
<div class="line"><span class="lineno">  969</span>  <a class="code hl_variable" href="namespaceprocess__traj__logs.html#a3682477a3431f2a4aa182fb9a6439125">boost::algorithm::split</a>(inputsParams, params, boost::is_any_of(<span class="stringliteral">&quot;,&quot;</span>));</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>  std::vector&lt;std::string&gt; et_parsed;</div>
<div class="line"><span class="lineno">  972</span>  <a class="code hl_variable" href="namespaceprocess__traj__logs.html#a3682477a3431f2a4aa182fb9a6439125">boost::algorithm::split</a>(et_parsed, inputsParams[0], boost::is_any_of(<span class="stringliteral">&quot;:&quot;</span>));</div>
<div class="line"><span class="lineno">  973</span>  <span class="keyword">auto</span> new_scheduled_enter_time = std::stoull(et_parsed[1]);</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> != new_scheduled_enter_time) <span class="comment">//reset green buffer cache so it can be re-evaluated</span></div>
<div class="line"><span class="lineno">  976</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a> = boost::none;</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> = new_scheduled_enter_time;</div>
<div class="line"><span class="lineno">  979</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;scheduled_enter_time_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a>);</div>
<div class="line"><span class="lineno">  980</span> </div>
<div class="line"><span class="lineno">  981</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a362fee4d3bbe311e23ef1ebfbf852a20"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">lci_strategic_plugin::LCIStrategicPlugin::nearest_green_entry_time_cached_</a></div><div class="ttdeci">boost::optional&lt; ros::Time &gt; nearest_green_entry_time_cached_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00727">lci_strategic_plugin.h:727</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a387a881b43da465efca652474b390b97"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">lci_strategic_plugin::LCIStrategicPlugin::scheduled_enter_time_</a></div><div class="ttdeci">unsigned long long scheduled_enter_time_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00195">lci_strategic_plugin.h:195</a></div></div>
<div class="ttc" id="anamespaceprocess__traj__logs_html_a3682477a3431f2a4aa182fb9a6439125"><div class="ttname"><a href="namespaceprocess__traj__logs.html#a3682477a3431f2a4aa182fb9a6439125">process_traj_logs.split</a></div><div class="ttdeci">split</div><div class="ttdef"><b>Definition:</b> <a href="process__traj__logs_8py_source.html#l00165">process_traj_logs.py:165</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00727">nearest_green_entry_time_cached_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00195">scheduled_enter_time_</a>, and <a class="el" href="process__traj__logs_8py_source.html#l00165">process_traj_logs::split</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00937">mobilityOperationCb()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a912dc09be0b318510a8e50df38f80b10_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a912dc09be0b318510a8e50df38f80b10_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a912dc09be0b318510a8e50df38f80b10_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a912dc09be0b318510a8e50df38f80b10_icgraph">
<area shape="rect" title="parse strategy parameters" alt="" coords="296,5,449,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abe9655c102048ca22d3e02d09d4ae9d8" title="callback function for mobility operation" alt="" coords="104,5,248,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a8b3f0877902b0153950cf4577e7b6ac0" name="a8b3f0877902b0153950cf4577e7b6ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b3f0877902b0153950cf4577e7b6ac0">&#9670;&nbsp;</a></span>planManeuverCb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::planManeuverCb </td>
          <td>(</td>
          <td class="paramtype">cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Service callback for arbitrator maneuver planning. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If service call successed </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">1050</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1051</span>{</div>
<div class="line"><span class="lineno"> 1052</span>  ROS_DEBUG(<span class="stringliteral">&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; STARTING LCI_STRATEGIC_PLAN!!!!!!!!! &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span>);</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getRoute())</div>
<div class="line"><span class="lineno"> 1055</span>  {</div>
<div class="line"><span class="lineno"> 1056</span>    ROS_ERROR_STREAM(<span class="stringliteral">&quot;Could not plan maneuvers as route was not available&quot;</span>);</div>
<div class="line"><span class="lineno"> 1057</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1058</span>  }</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>  <span class="keywordflow">if</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> ==<span class="keyword">true</span>)</div>
<div class="line"><span class="lineno"> 1061</span>  {</div>
<div class="line"><span class="lineno"> 1062</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab8247b29655ecc5f132e33c3cad8591d">approaching_light_controlled_intersection_</a>)</div>
<div class="line"><span class="lineno"> 1063</span>  {</div>
<div class="line"><span class="lineno"> 1064</span>    resp.new_plan.maneuvers = {};</div>
<div class="line"><span class="lineno"> 1065</span>    ROS_WARN_STREAM(<span class="stringliteral">&quot;Not approaching light-controlled intersection so no maneuvers&quot;</span>);</div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1067</span>  }</div>
<div class="line"><span class="lineno"> 1068</span> </div>
<div class="line"><span class="lineno"> 1069</span>  <span class="keywordtype">bool</span> is_empty_schedule_msg = (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> == 0);</div>
<div class="line"><span class="lineno"> 1070</span>  <span class="keywordflow">if</span> (is_empty_schedule_msg)</div>
<div class="line"><span class="lineno"> 1071</span>  {</div>
<div class="line"><span class="lineno"> 1072</span>    resp.new_plan.maneuvers = {};</div>
<div class="line"><span class="lineno"> 1073</span>    ROS_WARN_STREAM(<span class="stringliteral">&quot;Receiving empty schedule message&quot;</span>);</div>
<div class="line"><span class="lineno"> 1074</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1075</span>  }</div>
<div class="line"><span class="lineno"> 1076</span>  }</div>
<div class="line"><span class="lineno"> 1077</span> </div>
<div class="line"><span class="lineno"> 1078</span>  ROS_DEBUG(<span class="stringliteral">&quot;Finding car information&quot;</span>);</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>  <span class="comment">// Extract vehicle data from request</span></div>
<div class="line"><span class="lineno"> 1081</span>  VehicleState current_state = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab6220e6c98770c3ccf99e34e5b1d8c16">extractInitialState</a>(req);</div>
<div class="line"><span class="lineno"> 1082</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>() != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">TransitState::UNAVAILABLE</a> &amp;&amp; !req.prior_plan.maneuvers.empty())</div>
<div class="line"><span class="lineno"> 1083</span>  {</div>
<div class="line"><span class="lineno"> 1084</span>    ROS_WARN_STREAM(<span class="stringliteral">&quot;State is NOT UNAVAILABLE AND Maneuvers in request is NOT empty&quot;</span>);</div>
<div class="line"><span class="lineno"> 1085</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1086</span>  }</div>
<div class="line"><span class="lineno"> 1087</span>  <span class="comment">// Get current traffic light information</span></div>
<div class="line"><span class="lineno"> 1088</span>  ROS_DEBUG(<span class="stringliteral">&quot;\n\nFinding traffic_light information&quot;</span>);</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>  <span class="keyword">auto</span> inter_list = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getSignalizedIntersectionsAlongRoute({ req.veh_x, req.veh_y });</div>
<div class="line"><span class="lineno"> 1091</span>  <span class="keyword">auto</span> <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a31499f8e464eedc17d071335fb9ce1ad">upcoming_id_</a>= inter_list.front()-&gt;id();</div>
<div class="line"><span class="lineno"> 1092</span> </div>
<div class="line"><span class="lineno"> 1093</span>  <span class="keyword">auto</span> traffic_list = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getSignalsAlongRoute({ req.veh_x, req.veh_y });</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Found traffic lights of size: &quot;</span> &lt;&lt; traffic_list.size());</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>  <span class="keyword">auto</span> current_lanelets = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getLaneletsFromPoint({ req.veh_x, req.veh_y});</div>
<div class="line"><span class="lineno"> 1098</span>  lanelet::ConstLanelet current_lanelet;</div>
<div class="line"><span class="lineno"> 1099</span>  </div>
<div class="line"><span class="lineno"> 1100</span>  <span class="keywordflow">if</span> (current_lanelets.empty())</div>
<div class="line"><span class="lineno"> 1101</span>  {</div>
<div class="line"><span class="lineno"> 1102</span>    ROS_ERROR_STREAM(<span class="stringliteral">&quot;Given vehicle position is not on the road! Returning...&quot;</span>);</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1104</span>  }</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>  <span class="comment">// get the lanelet that is on the route in case overlapping ones found</span></div>
<div class="line"><span class="lineno"> 1107</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> llt : current_lanelets)</div>
<div class="line"><span class="lineno"> 1108</span>  {</div>
<div class="line"><span class="lineno"> 1109</span>    <span class="keyword">auto</span> <a class="code hl_namespace" href="namespaceroute.html">route</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getRoute()-&gt;shortestPath();</div>
<div class="line"><span class="lineno"> 1110</span>    <span class="keywordflow">if</span> (std::find(<a class="code hl_namespace" href="namespaceroute.html">route</a>.begin(), <a class="code hl_namespace" href="namespaceroute.html">route</a>.end(), llt) != <a class="code hl_namespace" href="namespaceroute.html">route</a>.end())</div>
<div class="line"><span class="lineno"> 1111</span>    {</div>
<div class="line"><span class="lineno"> 1112</span>      current_lanelet = llt;</div>
<div class="line"><span class="lineno"> 1113</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1114</span>    }</div>
<div class="line"><span class="lineno"> 1115</span>  }</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span>  lanelet::CarmaTrafficSignalPtr nearest_traffic_signal = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno"> 1118</span>  </div>
<div class="line"><span class="lineno"> 1119</span>  lanelet::ConstLanelet entry_lanelet;</div>
<div class="line"><span class="lineno"> 1120</span>  lanelet::ConstLanelet exit_lanelet;</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> signal : traffic_list)</div>
<div class="line"><span class="lineno"> 1123</span>  {</div>
<div class="line"><span class="lineno"> 1124</span>    <span class="keyword">auto</span> optional_entry_exit = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getEntryExitOfSignalAlongRoute(signal);</div>
<div class="line"><span class="lineno"> 1125</span>    <span class="comment">// if signal is not matching our destination skip</span></div>
<div class="line"><span class="lineno"> 1126</span>    <span class="keywordflow">if</span> (!optional_entry_exit)</div>
<div class="line"><span class="lineno"> 1127</span>    {</div>
<div class="line"><span class="lineno"> 1128</span>      ROS_ERROR_STREAM(<span class="stringliteral">&quot;Did not find entry.exit along the route&quot;</span>);</div>
<div class="line"><span class="lineno"> 1129</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno"> 1130</span>    }</div>
<div class="line"><span class="lineno"> 1131</span>      </div>
<div class="line"><span class="lineno"> 1132</span>    entry_lanelet = optional_entry_exit.get().first;</div>
<div class="line"><span class="lineno"> 1133</span>    exit_lanelet = optional_entry_exit.get().second;</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>    nearest_traffic_signal = signal;</div>
<div class="line"><span class="lineno"> 1136</span>    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1137</span>  }</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span>  <a class="code hl_enumeration" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0">TransitState</a> prev_state;</div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>  <span class="keywordflow">do</span></div>
<div class="line"><span class="lineno"> 1143</span>  {</div>
<div class="line"><span class="lineno"> 1144</span>    <span class="comment">// Clear previous maneuvers planned by this plugin as guard against state change since each state generates an</span></div>
<div class="line"><span class="lineno"> 1145</span>    <span class="comment">// independent set of maneuvers</span></div>
<div class="line"><span class="lineno"> 1146</span>    resp.new_plan = cav_msgs::ManeuverPlan();</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    prev_state = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>();  <span class="comment">// Cache previous state to check if state has changed after 1 iteration</span></div>
<div class="line"><span class="lineno"> 1149</span> </div>
<div class="line"><span class="lineno"> 1150</span>    ROS_INFO_STREAM(<span class="stringliteral">&quot;Planning in state: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>());</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>    boost::optional&lt;std::pair&lt;boost::posix_time::ptime, lanelet::CarmaTrafficSignalState&gt;&gt; current_light_state_optional = boost::none;</div>
<div class="line"><span class="lineno"> 1153</span>    <span class="keywordflow">if</span> (nearest_traffic_signal)</div>
<div class="line"><span class="lineno"> 1154</span>    {</div>
<div class="line"><span class="lineno"> 1155</span>      current_light_state_optional = nearest_traffic_signal-&gt;predictState(lanelet::time::timeFromSec(current_state.stamp.toSec()));</div>
<div class="line"><span class="lineno"> 1156</span>      ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Real-time current signal: &quot;</span> &lt;&lt; current_light_state_optional.get().second &lt;&lt; <span class="stringliteral">&quot;, for Id: &quot;</span> &lt;&lt; nearest_traffic_signal-&gt;id());</div>
<div class="line"><span class="lineno"> 1157</span>    }</div>
<div class="line"><span class="lineno"> 1158</span>    <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>())</div>
<div class="line"><span class="lineno"> 1159</span>    {</div>
<div class="line"><span class="lineno"> 1160</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">TransitState::UNAVAILABLE</a>:</div>
<div class="line"><span class="lineno"> 1161</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a839f2a50a5289df5b243a8355850539a">planWhenUNAVAILABLE</a>(req, resp, current_state, nearest_traffic_signal, entry_lanelet, exit_lanelet, current_lanelet);</div>
<div class="line"><span class="lineno"> 1162</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1163</span> </div>
<div class="line"><span class="lineno"> 1164</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">TransitState::APPROACHING</a>:</div>
<div class="line"><span class="lineno"> 1165</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059">planWhenAPPROACHING</a>(req, resp, current_state, nearest_traffic_signal, entry_lanelet, exit_lanelet, current_lanelet);</div>
<div class="line"><span class="lineno"> 1166</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1167</span> </div>
<div class="line"><span class="lineno"> 1168</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">TransitState::WAITING</a>:</div>
<div class="line"><span class="lineno"> 1169</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d">planWhenWAITING</a>(req, resp, current_state, nearest_traffic_signal, entry_lanelet, exit_lanelet, current_lanelet);</div>
<div class="line"><span class="lineno"> 1170</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span>      <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">TransitState::DEPARTING</a>:</div>
<div class="line"><span class="lineno"> 1173</span>        <span class="comment">// Reset intersection state since we are no longer in an intersection</span></div>
<div class="line"><span class="lineno"> 1174</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a> || !<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>)</div>
<div class="line"><span class="lineno"> 1175</span>        {</div>
<div class="line"><span class="lineno"> 1176</span>          <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;State is DEPARTING but the intersection variables are not available&quot;</span>);</div>
<div class="line"><span class="lineno"> 1177</span>        }</div>
<div class="line"><span class="lineno"> 1178</span>        <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a233112b93d2ee04c2f149e46f62832e2">planWhenDEPARTING</a>(req, resp, current_state, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get());</div>
<div class="line"><span class="lineno"> 1179</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1180</span> </div>
<div class="line"><span class="lineno"> 1181</span>      <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno"> 1182</span>        <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;LCIStrategic Strategic Plugin entered unknown state&quot;</span>);</div>
<div class="line"><span class="lineno"> 1183</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1184</span>    }</div>
<div class="line"><span class="lineno"> 1185</span> </div>
<div class="line"><span class="lineno"> 1186</span>  } <span class="keywordflow">while</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">getState</a>() != prev_state);  <span class="comment">// If the state has changed then continue looping</span></div>
<div class="line"><span class="lineno"> 1187</span> </div>
<div class="line"><span class="lineno"> 1188</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno"> 1189</span>  <span class="comment">// We need to evaluate the events so the state transitions can be triggered</span></div>
<div class="line"><span class="lineno"> 1190</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a233112b93d2ee04c2f149e46f62832e2"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a233112b93d2ee04c2f149e46f62832e2">lci_strategic_plugin::LCIStrategicPlugin::planWhenDEPARTING</a></div><div class="ttdeci">void planWhenDEPARTING(const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const VehicleState &amp;current_state, double intersection_end_downtrack, double intersection_speed_limit)</div><div class="ttdoc">Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00908">lci_strategic_plugin.cpp:908</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a839f2a50a5289df5b243a8355850539a"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a839f2a50a5289df5b243a8355850539a">lci_strategic_plugin::LCIStrategicPlugin::planWhenUNAVAILABLE</a></div><div class="ttdeci">void planWhenUNAVAILABLE(const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const VehicleState &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</div><div class="ttdoc">Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00451">lci_strategic_plugin.cpp:451</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ab6220e6c98770c3ccf99e34e5b1d8c16"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab6220e6c98770c3ccf99e34e5b1d8c16">lci_strategic_plugin::LCIStrategicPlugin::extractInitialState</a></div><div class="ttdeci">VehicleState extractInitialState(const cav_srvs::PlanManeuversRequest &amp;req) const</div><div class="ttdoc">Helper method to extract the initial vehicle state from the planning request method based on if the p...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00105">lci_strategic_plugin.cpp:105</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad8e8b761da49c63e31877814d247005d"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d">lci_strategic_plugin::LCIStrategicPlugin::planWhenWAITING</a></div><div class="ttdeci">void planWhenWAITING(const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const VehicleState &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</div><div class="ttdoc">Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00841">lci_strategic_plugin.cpp:841</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ada2e0860177c4a9126e3f7469a555124"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">lci_strategic_plugin::LCIStrategicPlugin::transition_table_</a></div><div class="ttdeci">LCIStrategicStateTransitionTable transition_table_</div><div class="ttdoc">State Machine Transition table.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00736">lci_strategic_plugin.h:736</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_adb5f42d9458f7c1e4b7c87310c015059"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059">lci_strategic_plugin::LCIStrategicPlugin::planWhenAPPROACHING</a></div><div class="ttdeci">void planWhenAPPROACHING(const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const VehicleState &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet)</div><div class="ttdoc">Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00521">lci_strategic_plugin.cpp:521</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicStateTransitionTable_html_a1f935bf4e5750bd07b6d17a198749905"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905">lci_strategic_plugin::LCIStrategicStateTransitionTable::getState</a></div><div class="ttdeci">TransitState getState() const</div><div class="ttdoc">Returns the current state.</div><div class="ttdef"><b>Definition:</b> <a href="lci__state__transition__table_8cpp_source.html#l00029">lci_state_transition_table.cpp:29</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0">lci_strategic_plugin::TransitState</a></div><div class="ttdeci">TransitState</div><div class="ttdoc">Enum describing the possible states of the LCIStrategic Strategic Plugin.</div><div class="ttdef"><b>Definition:</b> <a href="lci__states_8h_source.html#l00024">lci_states.h:25</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">lci_strategic_plugin::TransitState::UNAVAILABLE</a></div><div class="ttdeci">@ UNAVAILABLE</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">lci_strategic_plugin::TransitState::WAITING</a></div><div class="ttdeci">@ WAITING</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">lci_strategic_plugin::TransitState::DEPARTING</a></div><div class="ttdeci">@ DEPARTING</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">lci_strategic_plugin::TransitState::APPROACHING</a></div><div class="ttdeci">@ APPROACHING</div></div>
<div class="ttc" id="anamespaceroute_html"><div class="ttname"><a href="namespaceroute.html">route</a></div><div class="ttdef"><b>Definition:</b> <a href="route__config_8hpp_source.html#l00022">route_config.hpp:23</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a055fcdaa6b5f1b2065df726a6687de84"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a></div><div class="ttdeci">bool enable_carma_streets_connection</div><div class="ttdoc">Bool: Enable carma streets connection.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00075">lci_strategic_plugin_config.h:75</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">lci_strategic_plugin::APPROACHING</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00189">approaching_light_controlled_intersection_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">lci_strategic_plugin::DEPARTING</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00075">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00105">extractInitialState()</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00029">lci_strategic_plugin::LCIStrategicStateTransitionTable::getState()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00743">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00742">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00908">planWhenDEPARTING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">planWhenWAITING()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00195">scheduled_enter_time_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00736">transition_table_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">lci_strategic_plugin::UNAVAILABLE</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00722">upcoming_id_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">lci_strategic_plugin::WAITING</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00730">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a8b3f0877902b0153950cf4577e7b6ac0_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8b3f0877902b0153950cf4577e7b6ac0_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8b3f0877902b0153950cf4577e7b6ac0_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8b3f0877902b0153950cf4577e7b6ac0_cgraph">
<area shape="rect" title="Service callback for arbitrator maneuver planning." alt="" coords="5,407,143,463"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab6220e6c98770c3ccf99e34e5b1d8c16" title="Helper method to extract the initial vehicle state from the planning request method based on if the p..." alt="" coords="217,439,354,495"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1f935bf4e5750bd07b6d17a198749905" title="Returns the current state." alt="" coords="191,921,380,977"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="194,841,377,897"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a233112b93d2ee04c2f149e46f62832e2" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="449,311,611,367"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a839f2a50a5289df5b243a8355850539a" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="196,133,375,189"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="459,231,601,287"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="680,492,909,548"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90" title="Given a Lanelet, find it&#39;s associated Speed Limit." alt="" coords="461,391,599,447"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="440,2336,620,2392"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5" title="Get boundary distances used to compare against current state in order to create trajectory smoothing ..." alt="" coords="461,601,599,657"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="449,921,611,977"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a354e00aef231534da6af36c6722b8c8f" title="Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ..." alt="" coords="429,1001,631,1057"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="461,1404,599,1460"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2" title="Determine the turn direction at intersection." alt="" coords="428,1164,632,1220"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="447,681,613,737"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="461,841,599,897"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1" title="Helper method to print TrajectoryParams." alt="" coords="1001,1276,1139,1332"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="436,761,624,817"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="1001,412,1139,468"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="461,521,599,577"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0" title="Helper method to print TrajectoryParams." alt="" coords="443,1244,617,1300"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="700,165,889,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f" title=" " alt="" coords="715,2789,875,2859"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60" title=" " alt="" coords="707,2883,882,2954"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3" title=" " alt="" coords="707,1855,882,1926"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f" title=" " alt="" coords="707,1950,882,2021"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a" title=" " alt="" coords="707,2045,882,2115"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72" title=" " alt="" coords="715,2139,875,2210"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208" title=" " alt="" coords="715,2234,875,2305"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090" title=" " alt="" coords="715,2329,875,2399"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496" title=" " alt="" coords="681,2424,908,2480"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d" title=" " alt="" coords="703,2505,886,2575"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c" title=" " alt="" coords="698,2599,891,2670"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2" title=" " alt="" coords="707,2694,882,2765"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d" title="Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa..." alt="" coords="715,843,874,914"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0" title="Get required distance to accel then decel, or vise versa &#45; each at least once &#45; to reach departure_sp..." alt="" coords="715,938,874,1009"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c" title="Get the speed between the acceleration and deceleration pieces." alt="" coords="703,1033,887,1089"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a" title="Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations." alt="" coords="726,1244,863,1300"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0" title=" " alt="" coords="726,1324,863,1380"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d" title=" " alt="" coords="726,1404,863,1460"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a" title=" " alt="" coords="726,1484,863,1540"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e" title=" " alt="" coords="726,1564,863,1620"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f" title=" " alt="" coords="726,1644,863,1700"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2" title=" " alt="" coords="726,1724,863,1780"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c" title=" " alt="" coords="726,1164,863,1220"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1" title="Compose a stop and wait maneuver message based on input params." alt="" coords="687,317,902,387"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="695,667,895,738"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6" title="Compose a intersection transit maneuver message based on input params." alt="" coords="700,573,889,643"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7f7fc780ada2600048d45cc5451cf2af" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="708,763,881,819"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="691,412,899,468"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="1253,412,1398,468"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="957,165,1183,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="969,245,1171,301"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="960,5,1180,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="975,85,1165,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="1231,165,1420,221"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="1231,85,1420,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697" title="Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs." alt="" coords="438,100,622,156"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a8b3f0877902b0153950cf4577e7b6ac0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8b3f0877902b0153950cf4577e7b6ac0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8b3f0877902b0153950cf4577e7b6ac0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a8b3f0877902b0153950cf4577e7b6ac0_icgraph">
<area shape="rect" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="adb5f42d9458f7c1e4b7c87310c015059" name="adb5f42d9458f7c1e4b7c87310c015059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb5f42d9458f7c1e4b7c87310c015059">&#9670;&nbsp;</a></span>planWhenAPPROACHING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::planWhenAPPROACHING </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>current_lanelet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a4c260d6101d1401c17ed75443624e59b">TransitState::APPROACHING</a> Therefore the planned maneuvers deal with approaching a traffic light. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>The current state of the vehicle at the start of planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>The single traffic light along the vehicle's route in the intersection that is relevant and in front of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>The entry lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>The exit lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_lanelet</td><td>The current lanelet the vehicle's state is on </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">if</td><td>given entry_lanelet doesn't have stop_line or speed profile case number was failed to be calculated NOTE: if there is empty traffic_light, it signals that the vehicle has crossed the bar, or if invalid light state is given </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">521</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  524</span>{</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>  <span class="keywordflow">if</span> (!traffic_light)  <span class="comment">// If we are in the approaching state and there is no longer any lights ahead of us then</span></div>
<div class="line"><span class="lineno">  527</span>                       <span class="comment">// the vehicle must have crossed the stop bar</span></div>
<div class="line"><span class="lineno">  528</span>  {</div>
<div class="line"><span class="lineno">  529</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb">TransitEvent::CROSSED_STOP_BAR</a>);</div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  531</span>  }</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>  <span class="keywordtype">double</span> current_state_speed = std::max(current_state.speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a> * 1.001);</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>  <span class="keyword">auto</span> stop_line = traffic_light-&gt;getStopLine(entry_lanelet);</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>  <span class="keywordflow">if</span> (!stop_line)</div>
<div class="line"><span class="lineno">  538</span>  {</div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Given entry lanelet doesn&#39;t have stop_line...&quot;</span>);</div>
<div class="line"><span class="lineno">  540</span>  }</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>  <span class="keywordtype">double</span> traffic_light_down_track =</div>
<div class="line"><span class="lineno">  543</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;routeTrackPos(stop_line.get().front().basicPoint2d()).downtrack;</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>  ROS_DEBUG(<span class="stringliteral">&quot;traffic_light_down_track %f&quot;</span>, traffic_light_down_track);</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>  <span class="keywordtype">double</span> distance_remaining_to_traffic_light = traffic_light_down_track - current_state.downtrack;</div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">distance_remaining_to_tf_</a> = distance_remaining_to_traffic_light;</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>  <span class="keywordflow">if</span> (distance_remaining_to_traffic_light &lt; 0) <span class="comment">// there is small discrepancy between signal&#39;s routeTrackPos as well as current</span></div>
<div class="line"><span class="lineno">  552</span>  {                                            <span class="comment">// downtrack calculated using veh_x,y from state. Therefore, it may have crossed it </span></div>
<div class="line"><span class="lineno">  553</span>    ROS_DEBUG(<span class="stringliteral">&quot;Crossed the bar distance_remaining_to_traffic_light: %f&quot;</span>, distance_remaining_to_traffic_light);</div>
<div class="line"><span class="lineno">  554</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb">TransitEvent::CROSSED_STOP_BAR</a>);</div>
<div class="line"><span class="lineno">  555</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  556</span>  }</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>  <span class="comment">// At this point we know the vehicle is within the activation distance and we know the current and next light phases</span></div>
<div class="line"><span class="lineno">  559</span>  <span class="comment">// All we need to now determine is if we should stop or if we should continue</span></div>
<div class="line"><span class="lineno">  560</span>  lanelet::ConstLanelet intersection_lanelet;</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>  <span class="keyword">auto</span> <a class="code hl_namespace" href="namespaceroute.html">route</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;getRoute()-&gt;shortestPath();</div>
<div class="line"><span class="lineno">  563</span>  <span class="keyword">auto</span> entry_llt_iter = std::find(<a class="code hl_namespace" href="namespaceroute.html">route</a>.begin(), <a class="code hl_namespace" href="namespaceroute.html">route</a>.end(), entry_lanelet);</div>
<div class="line"><span class="lineno">  564</span>  <span class="keywordflow">if</span> (entry_llt_iter != <a class="code hl_namespace" href="namespaceroute.html">route</a>.end())</div>
<div class="line"><span class="lineno">  565</span>  {</div>
<div class="line"><span class="lineno">  566</span>    intersection_lanelet = *(entry_llt_iter + 1);</div>
<div class="line"><span class="lineno">  567</span>  }</div>
<div class="line"><span class="lineno">  568</span>  </div>
<div class="line"><span class="lineno">  569</span>  <span class="keywordflow">if</span> (intersection_lanelet.id() != lanelet::InvalId)</div>
<div class="line"><span class="lineno">  570</span>  {</div>
<div class="line"><span class="lineno">  571</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a> = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>(intersection_lanelet); </div>
<div class="line"><span class="lineno">  572</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ab3b737710552367a21447be1918ca210">intersection_turn_direction_</a> = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2">getTurnDirectionAtIntersection</a>({intersection_lanelet});</div>
<div class="line"><span class="lineno">  573</span>  }</div>
<div class="line"><span class="lineno">  574</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  575</span>  {</div>
<div class="line"><span class="lineno">  576</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a> = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>(exit_lanelet); </div>
<div class="line"><span class="lineno">  577</span>  }</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a> = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get() * 0.999; <span class="comment">// so that speed_limit is not exactly same as departure or current speed</span></div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>  <span class="keywordtype">double</span> speed_limit = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>(current_lanelet);</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>  current_state_speed = std::min(current_state_speed, speed_limit - 5 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>); <span class="comment">// so that current_speed is not exactly same as departure or speed limit</span></div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;current_state_speed: &quot;</span> &lt;&lt; current_state_speed);</div>
<div class="line"><span class="lineno">  586</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;intersection_speed_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get());</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a> =</div>
<div class="line"><span class="lineno">  589</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;routeTrackPos(exit_lanelet.centerline2d().front().basicPoint2d()).downtrack;</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;intersection_end_downtrack_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a>.get());</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>  <span class="comment">// If the vehicle is at a stop trigger the stopped state</span></div>
<div class="line"><span class="lineno">  594</span>  <span class="keyword">constexpr</span> <span class="keywordtype">double</span> HALF_MPH_IN_MPS = 0.22352;</div>
<div class="line"><span class="lineno">  595</span>  <span class="keywordflow">if</span> (current_state.speed &lt; HALF_MPH_IN_MPS &amp;&amp;</div>
<div class="line"><span class="lineno">  596</span>      fabs(distance_remaining_to_traffic_light) &lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>)</div>
<div class="line"><span class="lineno">  597</span>  {</div>
<div class="line"><span class="lineno">  598</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a09d4d696b4e935115b9313e3c412509a">TransitEvent::STOPPED</a>);  <span class="comment">// The vehicle has come to a stop at the light</span></div>
<div class="line"><span class="lineno">  599</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CARMA has detected that the vehicle stopped at the stop bar. Transitioning to WAITING STATE&quot;</span>);</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  602</span>  }</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>  <span class="comment">// Start of TSMO UC2 Algorithm</span></div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>  ros::Time earliest_entry_time = current_state.stamp + <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888">get_earliest_entry_time</a>(distance_remaining_to_traffic_light, speed_limit, </div>
<div class="line"><span class="lineno">  607</span>                                                  current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>);</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;earliest_entry_time: &quot;</span> &lt;&lt; std::to_string(earliest_entry_time.toSec()) &lt;&lt; <span class="stringliteral">&quot;, with : &quot;</span> &lt;&lt; earliest_entry_time - current_state.stamp  &lt;&lt; <span class="stringliteral">&quot; left at: &quot;</span> &lt;&lt; std::to_string(current_state.stamp.toSec()));</div>
<div class="line"><span class="lineno">  610</span>  ros::Time nearest_green_entry_time;</div>
<div class="line"><span class="lineno">  611</span>  <span class="keywordtype">bool</span> is_entry_time_within_future_events = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  612</span>  </div>
<div class="line"><span class="lineno">  613</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> ==<span class="keyword">false</span> || <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> == 0) <span class="comment">//UC2</span></div>
<div class="line"><span class="lineno">  614</span>  {</div>
<div class="line"><span class="lineno">  615</span>    nearest_green_entry_time = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a354e00aef231534da6af36c6722b8c8f">get_nearest_green_entry_time</a>(current_state.stamp, earliest_entry_time, traffic_light) </div>
<div class="line"><span class="lineno">  616</span>                                          + ros::Duration(<a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>); <span class="comment">//0.01sec more buffer since green_light algorithm&#39;s timestamp picks the previous signal - Vehicle Estimation</span></div>
<div class="line"><span class="lineno">  617</span>    is_entry_time_within_future_events = <span class="keyword">true</span>; </div>
<div class="line"><span class="lineno">  618</span>  }</div>
<div class="line"><span class="lineno">  619</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> ==<span class="keyword">true</span> &amp;&amp; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a> != 0 ) <span class="comment">// UC3</span></div>
<div class="line"><span class="lineno">  620</span>  {</div>
<div class="line"><span class="lineno">  621</span>    nearest_green_entry_time = ros::Time(std::max(earliest_entry_time.toSec(), (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a387a881b43da465efca652474b390b97">scheduled_enter_time_</a>)/1000.0)) + ros::Duration(<a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>); <span class="comment">//Carma Street </span></div>
<div class="line"><span class="lineno">  622</span>    </div>
<div class="line"><span class="lineno">  623</span>    <span class="comment">// check if scheduled_enter_time_ is inside the available states interval</span></div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0;</div>
<div class="line"><span class="lineno">  625</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> pair : traffic_light-&gt;recorded_time_stamps)</div>
<div class="line"><span class="lineno">  626</span>    {</div>
<div class="line"><span class="lineno">  627</span>      <span class="keywordflow">if</span> (pair.second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED &amp;&amp; </div>
<div class="line"><span class="lineno">  628</span>        lanelet::time::timeFromSec(nearest_green_entry_time.toSec()) &lt; pair.first ) </div>
<div class="line"><span class="lineno">  629</span>      {</div>
<div class="line"><span class="lineno">  630</span>        ROS_DEBUG_STREAM(<span class="stringliteral">&quot;ET is inside the available future events! where starting time: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(traffic_light-&gt;recorded_start_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>])) </div>
<div class="line"><span class="lineno">  631</span>          &lt;&lt; <span class="stringliteral">&quot;, ending time of that green signal is: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(pair.first)));</div>
<div class="line"><span class="lineno">  632</span>        is_entry_time_within_future_events = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  633</span>        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  634</span>      }</div>
<div class="line"><span class="lineno">  635</span>      <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++;</div>
<div class="line"><span class="lineno">  636</span>    }</div>
<div class="line"><span class="lineno">  637</span>  }</div>
<div class="line"><span class="lineno">  638</span>  </div>
<div class="line"><span class="lineno">  639</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;nearest_green_entry_time: &quot;</span> &lt;&lt; std::to_string(nearest_green_entry_time.toSec()) &lt;&lt; <span class="stringliteral">&quot;, with : &quot;</span> &lt;&lt; nearest_green_entry_time - current_state.stamp  &lt;&lt; <span class="stringliteral">&quot; seconds left at: &quot;</span> &lt;&lt; std::to_string(current_state.stamp.toSec()));</div>
<div class="line"><span class="lineno">  640</span>  </div>
<div class="line"><span class="lineno">  641</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a> &amp;&amp; is_entry_time_within_future_events) </div>
<div class="line"><span class="lineno">  642</span>  {</div>
<div class="line"><span class="lineno">  643</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Applying green_light_buffer for the first time and caching! nearest_green_entry_time (without buffer):&quot;</span> &lt;&lt; std::to_string(nearest_green_entry_time.toSec()) &lt;&lt; <span class="stringliteral">&quot;, and earliest_entry_time: &quot;</span> &lt;&lt; std::to_string(earliest_entry_time.toSec()));</div>
<div class="line"><span class="lineno">  644</span>    <span class="comment">// save first calculated nearest_green_entry_time + buffer to compare against in the future as nearest_green_entry_time changes with earliest_entry_time</span></div>
<div class="line"><span class="lineno">  645</span>    </div>
<div class="line"><span class="lineno">  646</span>    <span class="comment">// check if it needs buffer below:</span></div>
<div class="line"><span class="lineno">  647</span>    ros::Time early_arrival_time_green_et =</div>
<div class="line"><span class="lineno">  648</span>        nearest_green_entry_time - ros::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a>);</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;early_arrival_time_green_et: &quot;</span> &lt;&lt; std::to_string(early_arrival_time_green_et.toSec()));</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="keyword">auto</span> early_arrival_state_green_et_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(early_arrival_time_green_et.toSec()));</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">validLightState</a>(early_arrival_state_green_et_optional, early_arrival_time_green_et))</div>
<div class="line"><span class="lineno">  655</span>    {</div>
<div class="line"><span class="lineno">  656</span>      ROS_ERROR_STREAM(<span class="stringliteral">&quot;Unable to resolve give signal...&quot;</span>);</div>
<div class="line"><span class="lineno">  657</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  658</span>    }</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;early_arrival_state_green_et: &quot;</span> &lt;&lt; early_arrival_state_green_et_optional.get().second);</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordtype">bool</span> can_make_early_arrival  = (early_arrival_state_green_et_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED);</div>
<div class="line"><span class="lineno">  663</span>   </div>
<div class="line"><span class="lineno">  664</span>    <span class="comment">// nearest_green_entry_time is by definition on green, so only check early_arrival</span></div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">if</span> (can_make_early_arrival)  <span class="comment">// Green light with Certainty</span></div>
<div class="line"><span class="lineno">  666</span>    {</div>
<div class="line"><span class="lineno">  667</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a> = nearest_green_entry_time;  <span class="comment">//don&#39;t apply buffer if ET is in green</span></div>
<div class="line"><span class="lineno">  668</span>    }  </div>
<div class="line"><span class="lineno">  669</span>    <span class="keywordflow">else</span> <span class="comment">//buffer is needed</span></div>
<div class="line"><span class="lineno">  670</span>    {</div>
<div class="line"><span class="lineno">  671</span>      <span class="comment">// below logic stores correct buffered timestamp into nearest_green_entry_time_cached_ to be used later</span></div>
<div class="line"><span class="lineno">  672</span>      </div>
<div class="line"><span class="lineno">  673</span>      ros::Time nearest_green_signal_start_time;</div>
<div class="line"><span class="lineno">  674</span>      <span class="keywordflow">if</span> (traffic_light-&gt;fixed_cycle_duration.total_milliseconds()/1000.0 &gt; 1.0) <span class="comment">// UC2</span></div>
<div class="line"><span class="lineno">  675</span>      {</div>
<div class="line"><span class="lineno">  676</span>        ROS_DEBUG_STREAM(<span class="stringliteral">&quot;UC2 Handling&quot;</span>);</div>
<div class="line"><span class="lineno">  677</span>        <span class="keyword">auto</span> normal_arrival_state_green_et_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(nearest_green_entry_time.toSec()));</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>        <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">validLightState</a>(normal_arrival_state_green_et_optional, nearest_green_entry_time))</div>
<div class="line"><span class="lineno">  680</span>        {</div>
<div class="line"><span class="lineno">  681</span>          ROS_ERROR_STREAM(<span class="stringliteral">&quot;Unable to resolve give signal...&quot;</span>);</div>
<div class="line"><span class="lineno">  682</span>          <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  683</span>        }</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>        ROS_DEBUG_STREAM(<span class="stringliteral">&quot;normal_arrival_signal_end_time: &quot;</span> &lt;&lt; std::to_string(lanelet::time::toSec(normal_arrival_state_green_et_optional.get().first)));</div>
<div class="line"><span class="lineno">  686</span>        </div>
<div class="line"><span class="lineno">  687</span>        <span class="comment">// nearest_green_signal_start_time = normal_arrival_signal_end_time (green guaranteed) - green_signal_duration</span></div>
<div class="line"><span class="lineno">  688</span>        nearest_green_signal_start_time = ros::Time(lanelet::time::toSec(normal_arrival_state_green_et_optional.get().first - traffic_light-&gt;signal_durations[lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED]));</div>
<div class="line"><span class="lineno">  689</span>      }</div>
<div class="line"><span class="lineno">  690</span>      <span class="keywordflow">else</span>  <span class="comment">// UC3</span></div>
<div class="line"><span class="lineno">  691</span>      {</div>
<div class="line"><span class="lineno">  692</span>        ROS_DEBUG_STREAM(<span class="stringliteral">&quot;UC3 Handling&quot;</span>);</div>
<div class="line"><span class="lineno">  693</span>        </div>
<div class="line"><span class="lineno">  694</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt; traffic_light-&gt;recorded_start_time_stamps.size(); <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++)</div>
<div class="line"><span class="lineno">  695</span>        {</div>
<div class="line"><span class="lineno">  696</span>          <span class="keywordflow">if</span> (traffic_light-&gt;recorded_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED &amp;&amp; </div>
<div class="line"><span class="lineno">  697</span>            lanelet::time::timeFromSec(ros::Time::now().toSec()) &lt; traffic_light-&gt;recorded_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].first ) <span class="comment">//if not outdated</span></div>
<div class="line"><span class="lineno">  698</span>          {</div>
<div class="line"><span class="lineno">  699</span>            nearest_green_signal_start_time = ros::Time(lanelet::time::toSec(traffic_light-&gt;recorded_start_time_stamps[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>])); <span class="comment">// by using this, we are assuming the ET given by streets falls into this green signal time</span></div>
<div class="line"><span class="lineno">  700</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  701</span>          }</div>
<div class="line"><span class="lineno">  702</span>        }</div>
<div class="line"><span class="lineno">  703</span>      }</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>      <span class="keywordflow">if</span> (early_arrival_time_green_et.toSec() - nearest_green_signal_start_time.toSec() &lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a>)</div>
<div class="line"><span class="lineno">  706</span>      {</div>
<div class="line"><span class="lineno">  707</span>        <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a> = nearest_green_signal_start_time + ros::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a> + <a class="code hl_define" href="lci__strategic__plugin_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>);</div>
<div class="line"><span class="lineno">  708</span>        </div>
<div class="line"><span class="lineno">  709</span>        <span class="comment">// EPSILON=0.01 is there because if predicState&#39;s input exactly falls on ending_time it picks the previous state.</span></div>
<div class="line"><span class="lineno">  710</span>        <span class="comment">//For example, if 0 - 10s is GREEN, and 10 - 12s is YELLOW, checking exactly 10.0s will return GREEN,</span></div>
<div class="line"><span class="lineno">  711</span>        <span class="comment">//but 10.01s will return YELLOW. This 0.01 convention is used throughout the file, so thought it is better</span></div>
<div class="line"><span class="lineno">  712</span>        <span class="comment">//to keep it consistent and probably too detailed for the user to think about, which is why it is not included in the buffer.</span></div>
<div class="line"><span class="lineno">  713</span>        <span class="comment">//Actually including in the buffer doesn&#39;t work because it uses that same buffer to check early and late. If buffer is 2s and </span></div>
<div class="line"><span class="lineno">  714</span>        <span class="comment">//green starts at 10s, it will check +/-2s from 12s. If the buffer was 2.01s and green starts at 10s again, it checks +/-2.01 </span></div>
<div class="line"><span class="lineno">  715</span>        <span class="comment">//from 12.01, so both checks 10s.</span></div>
<div class="line"><span class="lineno">  716</span>      }</div>
<div class="line"><span class="lineno">  717</span>      <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  718</span>      {</div>
<div class="line"><span class="lineno">  719</span>        <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a> = nearest_green_entry_time + ros::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3081657f4f8d1d20729ac84897561c27">green_light_time_buffer</a>);</div>
<div class="line"><span class="lineno">  720</span>        <span class="comment">// NOTE: around ending time of green signal duration, this buffer addition might push ET out of green phase.</span></div>
<div class="line"><span class="lineno">  721</span>        <span class="comment">// However, that is okay because those timestamps that fit this criteria is treated non-green by later late/early arrival checks</span></div>
<div class="line"><span class="lineno">  722</span>      }</div>
<div class="line"><span class="lineno">  723</span>    }</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    nearest_green_entry_time = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a>.get();</div>
<div class="line"><span class="lineno">  726</span>  }</div>
<div class="line"><span class="lineno">  727</span>  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a>) </div>
<div class="line"><span class="lineno">  728</span>  { <span class="comment">// always pick later of buffered green entry time, or earliest entry time</span></div>
<div class="line"><span class="lineno">  729</span>    nearest_green_entry_time = ros::Time(std::max(nearest_green_entry_time.toSec(), <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a>.get().toSec()));</div>
<div class="line"><span class="lineno">  730</span>  }</div>
<div class="line"><span class="lineno">  731</span>  </div>
<div class="line"><span class="lineno">  732</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a> &amp;&amp; nearest_green_entry_time &gt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a>.get())</div>
<div class="line"><span class="lineno">  733</span>  {</div>
<div class="line"><span class="lineno">  734</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Earliest entry time has gone past the cached green light. nearest_green_entry_time_cached_:&quot;</span> &lt;&lt; std::to_string(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a362fee4d3bbe311e23ef1ebfbf852a20">nearest_green_entry_time_cached_</a>.get().toSec()) &lt;&lt; <span class="stringliteral">&quot;, and earliest_entry_time: &quot;</span> &lt;&lt; std::to_string(earliest_entry_time.toSec()));</div>
<div class="line"><span class="lineno">  735</span>  }</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Final nearest_green_entry_time: &quot;</span> &lt;&lt; std::to_string(nearest_green_entry_time.toSec()));</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>  <span class="keyword">auto</span> et_state = traffic_light-&gt;predictState(lanelet::time::timeFromSec(nearest_green_entry_time.toSec()));</div>
<div class="line"><span class="lineno">  740</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Signal at ET: &quot;</span> &lt;&lt; et_state.get().second);</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>  <span class="keywordtype">double</span> remaining_time = nearest_green_entry_time.toSec() - current_state.stamp.toSec();</div>
<div class="line"><span class="lineno">  743</span>  <span class="keywordtype">double</span> remaining_time_earliest_entry = earliest_entry_time.toSec() - current_state.stamp.toSec();</div>
<div class="line"><span class="lineno">  744</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">scheduled_entry_time_</a> = remaining_time; <span class="comment">// performance metric</span></div>
<div class="line"><span class="lineno">  745</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad58c69bcf68ab67c8d15fd91d46fcb87">earliest_entry_time_</a> = remaining_time_earliest_entry; <span class="comment">// performance metric</span></div>
<div class="line"><span class="lineno">  746</span>  </div>
<div class="line"><span class="lineno">  747</span>  <span class="comment">// CASE SELECTION START</span></div>
<div class="line"><span class="lineno">  748</span>  <span class="keyword">auto</span> boundary_distances = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5">get_delta_x</a>(current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), speed_limit, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>);</div>
<div class="line"><span class="lineno">  749</span>  <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0">print_boundary_distances</a>(boundary_distances); <span class="comment">//debug</span></div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>  <span class="keyword">auto</span> boundary_traj_params = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8">get_boundary_traj_params</a>(req.header.stamp.toSec(), current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), speed_limit, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>, current_state.downtrack, traffic_light_down_track, distance_remaining_to_traffic_light, boundary_distances);</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>  TrajectoryParams ts_params = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3">get_ts_case</a>(req.header.stamp.toSec(), nearest_green_entry_time.toSec(), current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a>.get(), speed_limit, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a6f0f8f878a2a1cdaffa1f28ee20336d0">max_comfort_accel_</a>, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a>, current_state.downtrack, traffic_light_down_track, distance_remaining_to_traffic_light, boundary_distances, boundary_traj_params);</div>
<div class="line"><span class="lineno">  754</span>  <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a>(ts_params);</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;SPEED PROFILE CASE:&quot;</span> &lt;&lt; ts_params.case_num);</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>  <span class="comment">// CASE SELECTION END</span></div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>  <span class="comment">// Although algorithm determines nearest_green_time is possible, check if the vehicle can arrive with certainty (Case 1-7)</span></div>
<div class="line"><span class="lineno">  761</span>  <span class="keywordflow">if</span> (ts_params.is_algorithm_successful &amp;&amp; ts_params.case_num != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>) </div>
<div class="line"><span class="lineno">  762</span>  {</div>
<div class="line"><span class="lineno">  763</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6">handleGreenSignalScenario</a>(req, resp, current_state, current_state_speed, traffic_light, entry_lanelet, exit_lanelet, traffic_light_down_track, ts_params, !is_entry_time_within_future_events);</div>
<div class="line"><span class="lineno">  764</span>  </div>
<div class="line"><span class="lineno">  765</span>    <span class="keywordflow">if</span> (!resp.new_plan.maneuvers.empty()) <span class="comment">// able to pass at green</span></div>
<div class="line"><span class="lineno">  766</span>    {</div>
<div class="line"><span class="lineno">  767</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = ts_params.case_num;</div>
<div class="line"><span class="lineno">  768</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">case_num_</a> = ts_params.case_num; <span class="comment">//to print for debugging</span></div>
<div class="line"><span class="lineno">  769</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  770</span>    }</div>
<div class="line"><span class="lineno">  771</span>    </div>
<div class="line"><span class="lineno">  772</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Not able to make it with certainty: TSCase: &quot;</span> &lt;&lt; ts_params.case_num &lt;&lt; <span class="stringliteral">&quot;, changing it to 8&quot;</span>);</div>
<div class="line"><span class="lineno">  773</span>    ts_params = boundary_traj_params[7];</div>
<div class="line"><span class="lineno">  774</span>    ts_params.is_algorithm_successful = <span class="keyword">true</span>; <span class="comment">//false correspond to cases when vehicle is beyond safe_distance to stop for case8</span></div>
<div class="line"><span class="lineno">  775</span>    ts_params.case_num = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">CASE_8</a>;</div>
<div class="line"><span class="lineno">  776</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1">print_params</a>(ts_params);</div>
<div class="line"><span class="lineno">  777</span>  }</div>
<div class="line"><span class="lineno">  778</span>  </div>
<div class="line"><span class="lineno">  779</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Not able to make it with certainty: NEW TSCase: &quot;</span> &lt;&lt; ts_params.case_num);</div>
<div class="line"><span class="lineno">  780</span>  <span class="comment">// if algorithm is NOT successful or if the vehicle cannot make the green light with certainty</span></div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>  <span class="keywordtype">double</span> safe_distance_to_stop = pow(current_state.speed, 2)/(2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a>);</div>
<div class="line"><span class="lineno">  783</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;safe_distance_to_stop at max_comfort_decel:  &quot;</span> &lt;&lt; safe_distance_to_stop &lt;&lt; <span class="stringliteral">&quot;, max_comfort_decel_norm_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a>);</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>  <span class="keywordtype">double</span> desired_distance_to_stop = pow(current_state.speed, 2)/(2 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">deceleration_fraction</a>) + <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab79bce20a6f3373603ad92b33b1f4232">desired_distance_to_stop_buffer</a>;</div>
<div class="line"><span class="lineno">  786</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;desired_distance_to_stop at: &quot;</span> &lt;&lt; desired_distance_to_stop &lt;&lt; <span class="stringliteral">&quot;, where effective deceleration rate is: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a44fdab48c5bd34c844b45bb10702d985">max_comfort_decel_norm_</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">deceleration_fraction</a>);</div>
<div class="line"><span class="lineno">  787</span>  </div>
<div class="line"><span class="lineno">  788</span>  desired_distance_to_stop = std::max(desired_distance_to_stop, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a3a0e8c26f578b34ca773be49061364a6">stopping_location_buffer</a>);</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;new desired_distance_to_stop: &quot;</span> &lt;&lt; desired_distance_to_stop);</div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;distance_remaining_to_traffic_light:  &quot;</span> &lt;&lt; distance_remaining_to_traffic_light &lt;&lt; <span class="stringliteral">&quot;, current_state.speed: &quot;</span> &lt;&lt; current_state.speed);</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>  <span class="keywordflow">if</span> (desired_distance_to_stop &lt; distance_remaining_to_traffic_light &amp;&amp; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>) <span class="comment">// do not switch from STOPPING to case8 again</span></div>
<div class="line"><span class="lineno">  795</span>  {</div>
<div class="line"><span class="lineno">  796</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Way too early to stop. Cruising at CASE8&quot;</span>);</div>
<div class="line"><span class="lineno">  797</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c">handleCruisingUntilStop</a>(req, resp, current_state, current_state_speed, traffic_light, traffic_light_down_track, ts_params);</div>
<div class="line"><span class="lineno">  798</span>    </div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordflow">if</span> (!resp.new_plan.maneuvers.empty())</div>
<div class="line"><span class="lineno">  800</span>    {</div>
<div class="line"><span class="lineno">  801</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = ts_params.case_num; <span class="comment">//case 8</span></div>
<div class="line"><span class="lineno">  802</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  803</span>    }</div>
<div class="line"><span class="lineno">  804</span>  }</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>  <span class="keywordflow">if</span> ((safe_distance_to_stop &lt;= distance_remaining_to_traffic_light &amp;&amp; desired_distance_to_stop &gt;= distance_remaining_to_traffic_light) || </div>
<div class="line"><span class="lineno">  807</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> == <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>) <span class="comment">// if stopping continue stopping until transition to planwhenWAITING</span></div>
<div class="line"><span class="lineno">  808</span>  {</div>
<div class="line"><span class="lineno">  809</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Planning stopping now. last case:&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a>));</div>
<div class="line"><span class="lineno">  810</span>    <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75">handleStopping</a>(req,resp, current_state, traffic_light, entry_lanelet, exit_lanelet, current_lanelet, traffic_light_down_track); <span class="comment">//case_9</span></div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <span class="keywordflow">if</span> (!resp.new_plan.maneuvers.empty()) <span class="comment">// able to stop</span></div>
<div class="line"><span class="lineno">  813</span>    {</div>
<div class="line"><span class="lineno">  814</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>;</div>
<div class="line"><span class="lineno">  815</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  816</span>    }</div>
<div class="line"><span class="lineno">  817</span>  }</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>  <span class="keywordflow">if</span> (safe_distance_to_stop &gt; distance_remaining_to_traffic_light)</div>
<div class="line"><span class="lineno">  820</span>  {</div>
<div class="line"><span class="lineno">  821</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;No longer within safe distance to stop! Decide to continue stopping or continue into intersection&quot;</span>);</div>
<div class="line"><span class="lineno">  822</span>    </div>
<div class="line"><span class="lineno">  823</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a> &amp;&amp; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">TSCase::UNAVAILABLE</a> &amp;&amp; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a> != <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab3a92d4f4f925b8c566bd63101cf412f">TSCase::CASE_8</a>) <span class="comment">//case 1-7</span></div>
<div class="line"><span class="lineno">  824</span>    {</div>
<div class="line"><span class="lineno">  825</span>      <span class="comment">// 3. if not able to stop nor reach target speed at green, attempt its best to reach the target parameters at the intersection</span></div>
<div class="line"><span class="lineno">  826</span>      ROS_DEBUG_STREAM(<span class="stringliteral">&quot;HANDLE_LAST_RESORT: The vehicle is not able to stop at red/yellow light nor is able to reach target speed at green. Attempting its best to pass through at green!&quot;</span>);</div>
<div class="line"><span class="lineno">  827</span>      </div>
<div class="line"><span class="lineno">  828</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70">handleFailureCase</a>(req, resp, current_state, current_state_speed, speed_limit, remaining_time, </div>
<div class="line"><span class="lineno">  829</span>                                    exit_lanelet.id(), traffic_light, traffic_light_down_track, ts_params);</div>
<div class="line"><span class="lineno">  830</span>    }</div>
<div class="line"><span class="lineno">  831</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  832</span>    {</div>
<div class="line"><span class="lineno">  833</span>      ROS_DEBUG_STREAM(<span class="stringliteral">&quot;HANDLE_SAFETY: Planning to keep stopping now. last case:&quot;</span> &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">last_case_num_</a>));</div>
<div class="line"><span class="lineno">  834</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75">handleStopping</a>(req,resp, current_state, traffic_light, entry_lanelet, exit_lanelet, current_lanelet, traffic_light_down_track); <span class="comment">//case_9</span></div>
<div class="line"><span class="lineno">  835</span>    }</div>
<div class="line"><span class="lineno">  836</span>  }</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a024c31e2b9b9e8d28432d2a4f45c8de6"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6">lci_strategic_plugin::LCIStrategicPlugin::handleGreenSignalScenario</a></div><div class="ttdeci">void handleGreenSignalScenario(const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const VehicleState &amp;current_state, double current_state_speed, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, double traffic_light_down_track, const TrajectoryParams &amp;ts_params, bool is_certainty_check_optional)</div><div class="ttdoc">This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00328">lci_strategic_plugin.cpp:328</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a146dad761ed5158d0d6371f7335c4888"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888">lci_strategic_plugin::LCIStrategicPlugin::get_earliest_entry_time</a></div><div class="ttdeci">ros::Duration get_earliest_entry_time(double remaining_distance, double free_flow_speed, double current_speed, double departure_speed, double max_accel, double max_decel) const</div><div class="ttdoc">Gets the earliest entry time into the intersection that is kinematically possible for the vehicle....</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00154">lci_strategic_plugin_algo.cpp:154</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a14874ac18eac605f9285d965fee1e7d5"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5">lci_strategic_plugin::LCIStrategicPlugin::get_delta_x</a></div><div class="ttdeci">BoundaryDistances get_delta_x(double v0, double v1, double v_max, double v_min, double a_max, double a_min)</div><div class="ttdoc">Get boundary distances used to compare against current state in order to create trajectory smoothing ...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00250">lci_strategic_plugin_algo.cpp:250</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a354e00aef231534da6af36c6722b8c8f"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a354e00aef231534da6af36c6722b8c8f">lci_strategic_plugin::LCIStrategicPlugin::get_nearest_green_entry_time</a></div><div class="ttdeci">ros::Time get_nearest_green_entry_time(const ros::Time &amp;current_time, const ros::Time &amp;earliest_entry_time, lanelet::CarmaTrafficSignalPtr signal, double minimum_required_green_time=0.0) const</div><div class="ttdoc">Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00050">lci_strategic_plugin_algo.cpp:50</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a3a26d736705389e017c4c41097806e90"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">lci_strategic_plugin::LCIStrategicPlugin::findSpeedLimit</a></div><div class="ttdeci">double findSpeedLimit(const lanelet::ConstLanelet &amp;llt) const</div><div class="ttdoc">Given a Lanelet, find it's associated Speed Limit.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00133">lci_strategic_plugin.cpp:133</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a3a51dd7dd6c01bb54304a62d482a2e70"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70">lci_strategic_plugin::LCIStrategicPlugin::handleFailureCase</a></div><div class="ttdeci">void handleFailureCase(const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const VehicleState &amp;current_state, double current_state_speed, double speed_limit, double remaining_time, lanelet::Id exit_lanelet_id, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double traffic_light_down_track, const TrajectoryParams &amp;ts_params)</div><div class="ttdoc">When the vehicle is not able to successfully run the algorithm or not able to stop,...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00252">lci_strategic_plugin.cpp:252</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a5d84312c63db263a897386c0d026ea75"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75">lci_strategic_plugin::LCIStrategicPlugin::handleStopping</a></div><div class="ttdeci">void handleStopping(const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const VehicleState &amp;current_state, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, const lanelet::ConstLanelet &amp;entry_lanelet, const lanelet::ConstLanelet &amp;exit_lanelet, const lanelet::ConstLanelet &amp;current_lanelet, double traffic_light_down_track)</div><div class="ttdoc">This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00228">lci_strategic_plugin.cpp:228</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a67c17100cc53d332a913ee8f2359df5c"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c">lci_strategic_plugin::LCIStrategicPlugin::handleCruisingUntilStop</a></div><div class="ttdeci">void handleCruisingUntilStop(const cav_srvs::PlanManeuversRequest &amp;req, cav_srvs::PlanManeuversResponse &amp;resp, const VehicleState &amp;current_state, double current_state_speed, const lanelet::CarmaTrafficSignalPtr &amp;traffic_light, double traffic_light_down_track, const TrajectoryParams &amp;ts_params)</div><div class="ttdoc">This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00284">lci_strategic_plugin.cpp:284</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a8fb96553dc6acf995b4de2db46998856"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">lci_strategic_plugin::LCIStrategicPlugin::distance_remaining_to_tf_</a></div><div class="ttdeci">double distance_remaining_to_tf_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00213">lci_strategic_plugin.h:213</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_a9f6b11b8d6c543e15eb501c90bb1d3c3"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3">lci_strategic_plugin::LCIStrategicPlugin::get_ts_case</a></div><div class="ttdeci">TrajectoryParams get_ts_case(double t, double et, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx, BoundaryDistances boundary_distances, std::vector&lt; TrajectoryParams &gt; params)</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00377">lci_strategic_plugin_algo.cpp:377</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad58c69bcf68ab67c8d15fd91d46fcb87"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad58c69bcf68ab67c8d15fd91d46fcb87">lci_strategic_plugin::LCIStrategicPlugin::earliest_entry_time_</a></div><div class="ttdeci">double earliest_entry_time_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00214">lci_strategic_plugin.h:214</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad63f61dae16c63a661de5cff883b6ee2"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2">lci_strategic_plugin::LCIStrategicPlugin::getTurnDirectionAtIntersection</a></div><div class="ttdeci">TurnDirection getTurnDirectionAtIntersection(std::vector&lt; lanelet::ConstLanelet &gt; lanelets_list)</div><div class="ttdoc">Determine the turn direction at intersection.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l01008">lci_strategic_plugin.cpp:1008</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ad8d7dbe5783d3b96fdc46a6f91cf6ae9"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">lci_strategic_plugin::LCIStrategicPlugin::scheduled_entry_time_</a></div><div class="ttdeci">double scheduled_entry_time_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00215">lci_strategic_plugin.h:215</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_adf303b014faf0df91b93e2a7a37df9a8"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8">lci_strategic_plugin::LCIStrategicPlugin::get_boundary_traj_params</a></div><div class="ttdeci">std::vector&lt; TrajectoryParams &gt; get_boundary_traj_params(double t, double v0, double v1, double v_max, double v_min, double a_max, double a_min, double x0, double x_end, double dx, BoundaryDistances boundary_distances)</div><div class="ttdoc">Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00302">lci_strategic_plugin_algo.cpp:302</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_adf73e3ba365c4fa683912f0bf17143bc"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf73e3ba365c4fa683912f0bf17143bc">lci_strategic_plugin::LCIStrategicPlugin::last_case_num_</a></div><div class="ttdeci">TSCase last_case_num_</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8h_source.html#l00212">lci_strategic_plugin.h:212</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ae31009ebcfe2704b9ee0562e1b9fb2a0"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0">lci_strategic_plugin::LCIStrategicPlugin::print_boundary_distances</a></div><div class="ttdeci">void print_boundary_distances(BoundaryDistances delta_xs)</div><div class="ttdoc">Helper method to print TrajectoryParams.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00292">lci_strategic_plugin_algo.cpp:292</a></div></div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicStateTransitionTable_html_a6dc204c919a4df801ed0b5ff6e1486ea"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal</a></div><div class="ttdeci">void signal(TransitEvent signal)</div><div class="ttdoc">Trigger signal for the transition table.</div><div class="ttdef"><b>Definition:</b> <a href="lci__state__transition__table_8cpp_source.html#l00034">lci_state_transition_table.cpp:34</a></div></div>
<div class="ttc" id="alci__strategic__plugin_8cpp_html_a002b2f4894492820fe708b1b7e7c5e70"><div class="ttname"><a href="lci__strategic__plugin_8cpp.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a></div><div class="ttdeci">#define EPSILON</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00019">lci_strategic_plugin.cpp:19</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08a09d4d696b4e935115b9313e3c412509a"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a09d4d696b4e935115b9313e3c412509a">lci_strategic_plugin::TransitEvent::STOPPED</a></div><div class="ttdeci">@ STOPPED</div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb">lci_strategic_plugin::TransitEvent::CROSSED_STOP_BAR</a></div><div class="ttdeci">@ CROSSED_STOP_BAR</div></div>
<div class="ttc" id="anamespaceprocess__bag_html_af102a02c97622dd30b0dbf7bafb0d199"><div class="ttname"><a href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">process_bag.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="process__bag_8py_source.html#l00059">process_bag.py:59</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_aa23372bc397e9fd707e0acd75b9aa941"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#aa23372bc397e9fd707e0acd75b9aa941">lci_strategic_plugin::LCIStrategicPluginConfig::deceleration_fraction</a></div><div class="ttdeci">double deceleration_fraction</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00057">lci_strategic_plugin_config.h:57</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_ab79bce20a6f3373603ad92b33b1f4232"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#ab79bce20a6f3373603ad92b33b1f4232">lci_strategic_plugin::LCIStrategicPluginConfig::desired_distance_to_stop_buffer</a></div><div class="ttdeci">double desired_distance_to_stop_buffer</div><div class="ttdoc">Double: Desired distance to stop buffer in meters.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00060">lci_strategic_plugin_config.h:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00053">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00067">lci_strategic_plugin::CASE_8</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00094">lci_strategic_plugin::TrajectoryParams::case_num</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00211">case_num_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08ac1a1e510ff5c25dd5fe9ada21069d2cb">lci_strategic_plugin::CROSSED_STOP_BAR</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00057">lci_strategic_plugin::LCIStrategicPluginConfig::deceleration_fraction</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00060">lci_strategic_plugin::LCIStrategicPluginConfig::desired_distance_to_stop_buffer</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00213">distance_remaining_to_tf_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00214">earliest_entry_time_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00075">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00019">EPSILON</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00133">findSpeedLimit()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00302">get_boundary_traj_params()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00250">get_delta_x()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00154">get_earliest_entry_time()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00050">get_nearest_green_entry_time()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01008">getTurnDirectionAtIntersection()</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00047">lci_strategic_plugin::LCIStrategicPluginConfig::green_light_time_buffer</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00284">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00328">handleGreenSignalScenario()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00228">handleStopping()</a>, <a class="el" href="process__bag_8py_source.html#l00059">process_bag::i</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00743">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00742">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00188">intersection_turn_direction_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00093">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00212">last_case_num_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00724">max_comfort_accel_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00725">max_comfort_decel_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00726">max_comfort_decel_norm_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00727">nearest_green_entry_time_cached_</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00292">print_boundary_distances()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00267">print_params()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00195">scheduled_enter_time_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00215">scheduled_entry_time_</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00034">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00225">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a09d4d696b4e935115b9313e3c412509a">lci_strategic_plugin::STOPPED</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00068">lci_strategic_plugin::STOPPING</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00044">lci_strategic_plugin::LCIStrategicPluginConfig::stopping_location_buffer</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00736">transition_table_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00069">lci_strategic_plugin::UNAVAILABLE</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00146">validLightState()</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00730">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_adb5f42d9458f7c1e4b7c87310c015059_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adb5f42d9458f7c1e4b7c87310c015059_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adb5f42d9458f7c1e4b7c87310c015059_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adb5f42d9458f7c1e4b7c87310c015059_cgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="5,2054,188,2110"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90" title="Given a Lanelet, find it&#39;s associated Speed Limit." alt="" coords="269,549,407,605"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adf303b014faf0df91b93e2a7a37df9a8" title="Get all possible trajectory smoothing parameters for each segments. Later this will be used to genera..." alt="" coords="248,629,428,685"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a14874ac18eac605f9285d965fee1e7d5" title="Get boundary distances used to compare against current state in order to create trajectory smoothing ..." alt="" coords="269,1238,407,1294"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a146dad761ed5158d0d6371f7335c4888" title="Gets the earliest entry time into the intersection that is kinematically possible for the vehicle...." alt="" coords="257,1318,419,1374"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a354e00aef231534da6af36c6722b8c8f" title="Provides the scheduled entry time for the vehicle in the future. This scheduled time is the earliest ..." alt="" coords="237,1678,439,1734"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="269,1758,407,1814"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad63f61dae16c63a661de5cff883b6ee2" title="Determine the turn direction at intersection." alt="" coords="236,1974,440,2030"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a67c17100cc53d332a913ee8f2359df5c" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="255,2134,421,2190"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="269,2298,407,2354"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a90783dcf3764851270354a58d81c27c1" title="Helper method to print TrajectoryParams." alt="" coords="791,2549,929,2605"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="244,2218,432,2274"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="791,2363,929,2419"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5d84312c63db263a897386c0d026ea75" title="This function returns stopping maneuver if the vehicle is able to stop at red and in safe stopping di..." alt="" coords="269,2054,407,2110"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae31009ebcfe2704b9ee0562e1b9fb2a0" title="Helper method to print TrajectoryParams." alt="" coords="251,2667,425,2723"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="243,2798,433,2854"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a71eb5d63d2d1338440cb2da3dec5a45f" title=" " alt="" coords="523,5,683,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a293a179317673ebdcda7890f4f933f60" title=" " alt="" coords="515,100,690,171"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a58675498122012f18f8a686b551f70d3" title=" " alt="" coords="515,195,690,265"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2a02000689636fe971a9080c20b2e48f" title=" " alt="" coords="515,289,690,360"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2f21fa9d57192b727b649f538b90087a" title=" " alt="" coords="515,384,690,455"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa3a3866067ba8e2808e785f29909bc72" title=" " alt="" coords="523,479,683,549"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8cc331c61cde633f2ef571b8ca86a208" title=" " alt="" coords="523,573,683,644"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0796279675323a1dc0c4e5be7b2a3090" title=" " alt="" coords="523,668,683,739"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a739ee8e685d7d651c2c3826df0a43496" title=" " alt="" coords="489,763,716,819"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa1b880660d58500ab32abc453096a38d" title=" " alt="" coords="511,844,694,915"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5941c3b49c97c3c55ef3bb2dd9e4c96c" title=" " alt="" coords="506,939,699,1009"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0401f858c83b717d4525c4ac8aeedcd2" title=" " alt="" coords="515,1033,690,1104"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa2bd4aa59c217c225a29fcf2d6c3552d" title="Get required distance to accel or decel to reach departure_speed with given speed and acceleration pa..." alt="" coords="523,1128,682,1199"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a1677e95026e7023261613dd84ee82ef0" title="Get required distance to accel then decel, or vise versa &#45; each at least once &#45; to reach departure_sp..." alt="" coords="523,1223,682,1293"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa64916c2b9a3b7eedc359c68931f967c" title="Get the speed between the acceleration and deceleration pieces." alt="" coords="511,1318,695,1374"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a29c754a4e2f40fdd9170589087d3097a" title="Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations." alt="" coords="534,1718,671,1774"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9af907160a273b7f0dbca36dd5b332a0" title=" " alt="" coords="534,1798,671,1854"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace4317f84b933acb423175e215de351d" title=" " alt="" coords="534,1878,671,1934"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a820d938d83b16c8fc7cc3930a062212a" title=" " alt="" coords="534,1958,671,2014"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2f61d939ab8184e3eca056b46a8b2e" title=" " alt="" coords="534,1398,671,1454"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7d9d856f7fa523b5b4266601f6c6154f" title=" " alt="" coords="534,1478,671,1534"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2382d4f0feb6c0ae9db91695f2b552d2" title=" " alt="" coords="534,1558,671,1614"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#abba844206be4f074096240f5d506aa8c" title=" " alt="" coords="534,1638,671,1694"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1" title="Compose a stop and wait maneuver message based on input params." alt="" coords="495,2039,710,2109"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7510c02543b0ac9b818c5f292dda4622" title="Compose a trajectory smoothing maneuver msg (sent as transit maneuver message)" alt="" coords="503,2215,703,2285"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="488,2134,717,2190"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6" title="Compose a intersection transit maneuver message based on input params." alt="" coords="508,2391,697,2461"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7f7fc780ada2600048d45cc5451cf2af" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="516,2486,689,2542"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="499,2310,707,2366"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="1003,2363,1148,2419"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="490,2798,715,2854"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="501,2878,704,2934"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="493,2958,713,3014"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="508,2718,697,2774"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="765,2798,955,2854"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="765,2878,955,2934"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_adb5f42d9458f7c1e4b7c87310c015059_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adb5f42d9458f7c1e4b7c87310c015059_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adb5f42d9458f7c1e4b7c87310c015059_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_adb5f42d9458f7c1e4b7c87310c015059_icgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a233112b93d2ee04c2f149e46f62832e2" name="a233112b93d2ee04c2f149e46f62832e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a233112b93d2ee04c2f149e46f62832e2">&#9670;&nbsp;</a></span>planWhenDEPARTING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::planWhenDEPARTING </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>intersection_end_downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>intersection_speed_limit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a2b848128bb8786c999e137b1d94d93f8">TransitState::DEPARTING</a> Therefor the planned maneuvers deal with the transit of the intersection once the stop bar has been crossed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>The current state of the vehicle at the start of planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">intersection_end_downtrack</td><td>The ending downtrack in meters of the current intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">intersection_speed_limit</td><td>The speed limit of the current intersection </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00908">908</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  911</span>{</div>
<div class="line"><span class="lineno">  912</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">TSCase::UNAVAILABLE</a>;</div>
<div class="line"><span class="lineno">  913</span>  </div>
<div class="line"><span class="lineno">  914</span>  <span class="keywordflow">if</span> (current_state.downtrack &gt; intersection_end_downtrack)</div>
<div class="line"><span class="lineno">  915</span>  {</div>
<div class="line"><span class="lineno">  916</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08aa5fddee61ed85f2400edc4c31163624e">TransitEvent::INTERSECTION_EXIT</a>);  <span class="comment">// If we are past the most recent</span></div>
<div class="line"><span class="lineno">  917</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  918</span>  }</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>  <span class="comment">// Calculate exit time assuming constant acceleration</span></div>
<div class="line"><span class="lineno">  921</span>  ros::Time intersection_exit_time =</div>
<div class="line"><span class="lineno">  922</span>      current_state.stamp +</div>
<div class="line"><span class="lineno">  923</span>      ros::Duration(2.0 * (intersection_end_downtrack - current_state.downtrack) / (current_state.speed + intersection_speed_limit));</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>  <span class="comment">// Identify the lanelets which will be crossed by approach maneuvers lane follow maneuver</span></div>
<div class="line"><span class="lineno">  926</span>  std::vector&lt;lanelet::ConstLanelet&gt; crossed_lanelets =</div>
<div class="line"><span class="lineno">  927</span>      <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429">getLaneletsBetweenWithException</a>(current_state.downtrack, intersection_end_downtrack, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>  <span class="comment">// Compose intersection transit maneuver</span></div>
<div class="line"><span class="lineno">  930</span>  resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6">composeIntersectionTransitMessage</a>(</div>
<div class="line"><span class="lineno">  931</span>      current_state.downtrack, intersection_end_downtrack, current_state.speed, intersection_speed_limit,</div>
<div class="line"><span class="lineno">  932</span>      current_state.stamp, intersection_exit_time, crossed_lanelets.back().id(), crossed_lanelets.back().id()));</div>
<div class="line"><span class="lineno">  933</span>}</div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08aa5fddee61ed85f2400edc4c31163624e"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08aa5fddee61ed85f2400edc4c31163624e">lci_strategic_plugin::TransitEvent::INTERSECTION_EXIT</a></div><div class="ttdeci">@ INTERSECTION_EXIT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00211">case_num_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01276">composeIntersectionTransitMessage()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00210">getLaneletsBetweenWithException()</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08aa5fddee61ed85f2400edc4c31163624e">lci_strategic_plugin::INTERSECTION_EXIT</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00034">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00225">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00736">transition_table_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00069">lci_strategic_plugin::UNAVAILABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a233112b93d2ee04c2f149e46f62832e2_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a233112b93d2ee04c2f149e46f62832e2_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a233112b93d2ee04c2f149e46f62832e2_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a233112b93d2ee04c2f149e46f62832e2_cgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="5,101,167,157"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a5e4ecab9f1255d861d20fd21c2b5bdd6" title="Compose a intersection transit maneuver message based on input params." alt="" coords="235,5,424,76"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7dd0000bcaf1d2028aeef57416f7c429" title="Helper method which calls carma_wm::WorldModel::getLaneletsBetween(start_downtrack,..." alt="" coords="215,101,444,157"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="235,205,424,261"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="492,205,717,261"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="503,285,706,341"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="495,365,715,421"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="510,125,699,181"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="765,205,955,261"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="765,285,955,341"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a233112b93d2ee04c2f149e46f62832e2_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a233112b93d2ee04c2f149e46f62832e2_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a233112b93d2ee04c2f149e46f62832e2_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a233112b93d2ee04c2f149e46f62832e2_icgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::DEPARTING Ther..." alt="" coords="289,5,451,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a839f2a50a5289df5b243a8355850539a" name="a839f2a50a5289df5b243a8355850539a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a839f2a50a5289df5b243a8355850539a">&#9670;&nbsp;</a></span>planWhenUNAVAILABLE()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::planWhenUNAVAILABLE </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>current_lanelet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a084f4ca2c0fe703e46514a144b4d6ead">TransitState::UNAVAILABLE</a> Therefor no maneuvers are planned but the system checks for the precense of traffic lights ahead of it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>The current state of the vehicle at the start of planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>The single traffic light along the vehicle's route in the intersection that is relevant and in front of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>The entry lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>The exit lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_lanelet</td><td>The current lanelet the vehicle's state is on </td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">if</td><td>given entry_lanelet doesn't have stop_line NOTE: returns empty if the given traffic light is empty </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">451</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  454</span>{</div>
<div class="line"><span class="lineno">  455</span>  <span class="comment">// Reset intersection state since in this state we are not yet known to be in or approaching an intersection</span></div>
<div class="line"><span class="lineno">  456</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ae9380f01ef61988443a1229797af0bb6">intersection_speed_</a> = boost::none;</div>
<div class="line"><span class="lineno">  457</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#acd45a0e25b428eaed59668141c1a367a">intersection_end_downtrack_</a> = boost::none;</div>
<div class="line"><span class="lineno">  458</span>  <span class="keywordtype">double</span> current_state_speed = std::max(current_state.speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a26987cdb2e41209df729d5f5c087bec2">algo_minimum_speed</a> * 1.001);</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>  <span class="keywordflow">if</span> (!traffic_light)</div>
<div class="line"><span class="lineno">  462</span>  {</div>
<div class="line"><span class="lineno">  463</span>    ROS_DEBUG(<span class="stringliteral">&quot;No lights found along route. Returning maneuver plan unchanged&quot;</span>);</div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  465</span>  }</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordtype">double</span> max_comfort_accel = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a9e7218d1580a5813879ed975e02b75ad">vehicle_accel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a287e3511b9dcc1ec1ec28c6034c15799">vehicle_accel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  468</span>  <span class="keywordtype">double</span> max_comfort_decel = -1.0 * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>;</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>  <span class="keyword">auto</span> stop_line = traffic_light-&gt;getStopLine(entry_lanelet);</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>  <span class="keywordflow">if</span> (!stop_line)</div>
<div class="line"><span class="lineno">  473</span>  {</div>
<div class="line"><span class="lineno">  474</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Given entry lanelet doesn&#39;t have stop_line...&quot;</span>);</div>
<div class="line"><span class="lineno">  475</span>  }</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>  <span class="keywordtype">double</span> traffic_light_down_track =</div>
<div class="line"><span class="lineno">  478</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;routeTrackPos(stop_line.get().front().basicPoint2d()).downtrack;</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>  ROS_DEBUG(<span class="stringliteral">&quot;traffic_light_down_track %f&quot;</span>, traffic_light_down_track);</div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>  <span class="keywordtype">double</span> distance_remaining_to_traffic_light = traffic_light_down_track - current_state.downtrack;</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;distance_remaining_to_traffic_light: &quot;</span> &lt;&lt; distance_remaining_to_traffic_light &lt;&lt;</div>
<div class="line"><span class="lineno">  485</span>                    <span class="stringliteral">&quot;, current_state.downtrack: &quot;</span> &lt;&lt; current_state.downtrack);</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8fb96553dc6acf995b4de2db46998856">distance_remaining_to_tf_</a> = distance_remaining_to_traffic_light; <span class="comment">// performance metric</span></div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>  <span class="keyword">auto</span> speed_limit = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90">findSpeedLimit</a>(current_lanelet);</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>  current_state_speed = std::min(speed_limit, current_state_speed);</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;speed_limit (free flow speed): &quot;</span> &lt;&lt; speed_limit);</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;trajectory_smoothing_activation_distance: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">trajectory_smoothing_activation_distance</a>);</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span>  <span class="keywordtype">double</span> stopping_dist = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">estimate_distance_to_stop</a>(current_state_speed, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a>  *</div>
<div class="line"><span class="lineno">  498</span>                                                                            <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a>); <span class="comment">//accepts positive decel</span></div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Stopping distance: &quot;</span> &lt;&lt; stopping_dist);</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>  <span class="keywordtype">double</span> plugin_activation_distance = std::max(stopping_dist, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a8a79158c6b90827592dbc7d6a2cb5d4a">min_approach_distance</a>);</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>  plugin_activation_distance = std::max(plugin_activation_distance, <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">trajectory_smoothing_activation_distance</a>);</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;plugin_activation_distance: &quot;</span> &lt;&lt; plugin_activation_distance);</div>
<div class="line"><span class="lineno">  507</span> </div>
<div class="line"><span class="lineno">  508</span>  <span class="keywordflow">if</span> (distance_remaining_to_traffic_light &lt;= plugin_activation_distance)</div>
<div class="line"><span class="lineno">  509</span>  {</div>
<div class="line"><span class="lineno">  510</span>    ROS_INFO_STREAM(<span class="stringliteral">&quot;Within intersection range&quot;</span>);</div>
<div class="line"><span class="lineno">  511</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a569d8b96cd56030224add9e573729de8">TransitEvent::IN_STOPPING_RANGE</a>);  <span class="comment">// Evaluate Signal and Run Trajectory Smoothing Algorithm</span></div>
<div class="line"><span class="lineno">  512</span>  }</div>
<div class="line"><span class="lineno">  513</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  514</span>  {</div>
<div class="line"><span class="lineno">  515</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">TSCase::UNAVAILABLE</a>;</div>
<div class="line"><span class="lineno">  516</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;Not within intersection range&quot;</span>);</div>
<div class="line"><span class="lineno">  517</span>  }</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_ace9fb36575ef6b54f01291ef8cf1d697"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697">lci_strategic_plugin::LCIStrategicPlugin::estimate_distance_to_stop</a></div><div class="ttdeci">double estimate_distance_to_stop(double v, double a) const</div><div class="ttdoc">Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__algo_8cpp_source.html#l00022">lci_strategic_plugin_algo.cpp:22</a></div></div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08a569d8b96cd56030224add9e573729de8"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a569d8b96cd56030224add9e573729de8">lci_strategic_plugin::TransitEvent::IN_STOPPING_RANGE</a></div><div class="ttdeci">@ IN_STOPPING_RANGE</div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a1b6855596f36c0929143bb379c9dc937"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a1b6855596f36c0929143bb379c9dc937">lci_strategic_plugin::LCIStrategicPluginConfig::trajectory_smoothing_activation_distance</a></div><div class="ttdeci">double trajectory_smoothing_activation_distance</div><div class="ttdoc">Downtrack distance until nearest intersection where the Trajectory Smoothing algorithm should activat...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00041">lci_strategic_plugin_config.h:41</a></div></div>
<div class="ttc" id="astructlci__strategic__plugin_1_1LCIStrategicPluginConfig_html_a8a79158c6b90827592dbc7d6a2cb5d4a"><div class="ttname"><a href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a8a79158c6b90827592dbc7d6a2cb5d4a">lci_strategic_plugin::LCIStrategicPluginConfig::min_approach_distance</a></div><div class="ttdeci">double min_approach_distance</div><div class="ttdoc">The minimum distance in meters that the vehicle can be at before requiring a transition to the APPROA...</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin__config_8h_source.html#l00038">lci_strategic_plugin_config.h:38</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00053">lci_strategic_plugin::LCIStrategicPluginConfig::algo_minimum_speed</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00211">case_num_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00213">distance_remaining_to_tf_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00022">estimate_distance_to_stop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00133">findSpeedLimit()</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a569d8b96cd56030224add9e573729de8">lci_strategic_plugin::IN_STOPPING_RANGE</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00743">intersection_end_downtrack_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00742">intersection_speed_</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00038">lci_strategic_plugin::LCIStrategicPluginConfig::min_approach_distance</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00034">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00225">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00041">lci_strategic_plugin::LCIStrategicPluginConfig::trajectory_smoothing_activation_distance</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00736">transition_table_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00069">lci_strategic_plugin::UNAVAILABLE</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00032">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00035">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_accel_limit_multiplier</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00730">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a839f2a50a5289df5b243a8355850539a_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a839f2a50a5289df5b243a8355850539a_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a839f2a50a5289df5b243a8355850539a_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a839f2a50a5289df5b243a8355850539a_cgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="5,85,184,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ace9fb36575ef6b54f01291ef8cf1d697" title="Helper method to use basic kinematics to compute an estimated stopping distance from from the inputs." alt="" coords="235,5,419,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a26d736705389e017c4c41097806e90" title="Given a Lanelet, find it&#39;s associated Speed Limit." alt="" coords="258,85,395,141"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="232,189,421,245"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="469,189,695,245"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="481,269,683,325"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="472,349,692,405"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="487,109,677,165"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="743,189,932,245"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="743,269,932,325"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a839f2a50a5289df5b243a8355850539a_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a839f2a50a5289df5b243a8355850539a_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a839f2a50a5289df5b243a8355850539a_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a839f2a50a5289df5b243a8355850539a_icgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::UNAVAILABLE Th..." alt="" coords="289,5,468,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="ad8e8b761da49c63e31877814d247005d" name="ad8e8b761da49c63e31877814d247005d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8e8b761da49c63e31877814d247005d">&#9670;&nbsp;</a></span>planWhenWAITING()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::planWhenWAITING </td>
          <td>(</td>
          <td class="paramtype">const cav_srvs::PlanManeuversRequest &amp;&#160;</td>
          <td class="paramname"><em>req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cav_srvs::PlanManeuversResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPlugin_1_1VehicleState.html">VehicleState</a> &amp;&#160;</td>
          <td class="paramname"><em>current_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::CarmaTrafficSignalPtr &amp;&#160;</td>
          <td class="paramname"><em>traffic_light</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>entry_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>exit_lanelet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::ConstLanelet &amp;&#160;</td>
          <td class="paramname"><em>current_lanelet</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Method for performing maneuver planning when the current plugin state is <a class="el" href="namespacelci__strategic__plugin.html#a4fe72a2d01efe2944d2a4cf06a6058c0a1869d56535e8b1449a6da54ff5e11f50">TransitState::WAITING</a> Therefor the planned maneuvers deal with waiting at a red light. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">req</td><td>Plan maneuver request </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">resp</td><td>Plan maneuver response with a list of maneuver plan </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_state</td><td>The current state of the vehicle at the start of planning </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">traffic_light</td><td>The single traffic light along the vehicle's route in the intersection that is relevant and in front of the vehicle </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">entry_lanelet</td><td>The entry lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">exit_lanelet</td><td>The exit lanelet into the intersection </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">current_lanelet</td><td>The current lanelet the vehicle's state is on NOTE: returns empty if the given traffic light is empty </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">841</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  844</span>{</div>
<div class="line"><span class="lineno">  845</span>  <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a66c3d9cd3a128d8bb9cab61d68991806">case_num_</a> = <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273badd0a350fa9aa0480df27d0db9e960964">TSCase::STOPPING</a>;</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>  <span class="keywordflow">if</span> (!traffic_light)</div>
<div class="line"><span class="lineno">  848</span>  {</div>
<div class="line"><span class="lineno">  849</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;While in WAITING state, the traffic lights disappeared.&quot;</span>);</div>
<div class="line"><span class="lineno">  850</span>  }</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>  <span class="keyword">auto</span> stop_line = traffic_light-&gt;getStopLine(entry_lanelet);</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span>  <span class="keywordflow">if</span> (!stop_line)</div>
<div class="line"><span class="lineno">  855</span>  {</div>
<div class="line"><span class="lineno">  856</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;Given entry lanelet doesn&#39;t have stop_line...&quot;</span>);</div>
<div class="line"><span class="lineno">  857</span>  }</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>  <span class="keywordtype">double</span> traffic_light_down_track =</div>
<div class="line"><span class="lineno">  860</span>      <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a2962a4cd6062a6c5b0191b574fbaa8cf">wm_</a>-&gt;routeTrackPos(stop_line.get().front().basicPoint2d()).downtrack;</div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span>  ROS_DEBUG(<span class="stringliteral">&quot;traffic_light_down_track %f&quot;</span>, traffic_light_down_track);</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>  <span class="keywordtype">double</span> entering_time = current_state.stamp.toSec();</div>
<div class="line"><span class="lineno">  865</span>  </div>
<div class="line"><span class="lineno">  866</span>  <span class="keyword">auto</span> current_light_state_optional = traffic_light-&gt;predictState(lanelet::time::timeFromSec(entering_time));</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;WAITING STATE: requested time to req.header.stamp check: &quot;</span> &lt;&lt; std::to_string(req.header.stamp.toSec()));</div>
<div class="line"><span class="lineno">  869</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;WAITING STATE: requested time to CURRENT STATE check: &quot;</span> &lt;&lt; std::to_string(entering_time));</div>
<div class="line"><span class="lineno">  870</span>  </div>
<div class="line"><span class="lineno">  871</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e">validLightState</a>(current_light_state_optional, ros::Time(entering_time)))</div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>  <span class="keyword">auto</span> bool_optional_late_certainty = <a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9">canArriveAtGreenWithCertainty</a>(ros::Time(entering_time), traffic_light, <span class="keyword">true</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  875</span>  </div>
<div class="line"><span class="lineno">  876</span>  <span class="keywordflow">if</span> (!bool_optional_late_certainty)</div>
<div class="line"><span class="lineno">  877</span>  {</div>
<div class="line"><span class="lineno">  878</span>    ROS_ERROR_STREAM(<span class="stringliteral">&quot;Unable to resolve green light...&quot;</span>);</div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  880</span>  }</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span>  <span class="keywordtype">bool</span> should_enter = <span class="keyword">true</span>; <span class="comment">//uc2</span></div>
<div class="line"><span class="lineno">  883</span>  </div>
<div class="line"><span class="lineno">  884</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a055fcdaa6b5f1b2065df726a6687de84">enable_carma_streets_connection</a> &amp;&amp; entering_time &gt; current_state.stamp.toSec()) <span class="comment">//uc3</span></div>
<div class="line"><span class="lineno">  885</span>    should_enter = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  886</span> </div>
<div class="line"><span class="lineno">  887</span>  <span class="keywordflow">if</span> (current_light_state_optional.get().second == lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED &amp;&amp;</div>
<div class="line"><span class="lineno">  888</span>        bool_optional_late_certainty.get() &amp;&amp; should_enter) <span class="comment">// if can make with certainty</span></div>
<div class="line"><span class="lineno">  889</span>  {</div>
<div class="line"><span class="lineno">  890</span>    <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ada2e0860177c4a9126e3f7469a555124">transition_table_</a>.<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea">signal</a>(<a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a3f0df471a5fb3e6d42fda706dc896157">TransitEvent::RED_TO_GREEN_LIGHT</a>);  <span class="comment">// If the light is green send the light transition</span></div>
<div class="line"><span class="lineno">  891</span>                                                                 <span class="comment">// signal</span></div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  893</span>  }</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>  <span class="comment">// A fixed buffer to add to stopping maneuvers once the vehicle is already stopped to ensure that they can have their</span></div>
<div class="line"><span class="lineno">  896</span>  <span class="comment">// trajectory planned</span></div>
<div class="line"><span class="lineno">  897</span>  <span class="keyword">constexpr</span> <span class="keywordtype">double</span> stop_maneuver_buffer = 10.0;</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>  <span class="comment">// If the light is not green then continue waiting by creating a stop and wait maneuver on top of the vehicle</span></div>
<div class="line"><span class="lineno">  900</span>  <span class="keywordtype">double</span> stopping_accel = <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a803ac90d8ed6a841a1e5f7343d65a1aa">vehicle_decel_limit_multiplier</a> * <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a78e238191c3ba5b1a495a32df80c240b">vehicle_decel_limit</a>;</div>
<div class="line"><span class="lineno">  901</span> </div>
<div class="line"><span class="lineno">  902</span>  resp.new_plan.maneuvers.push_back(<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1">composeStopAndWaitManeuverMessage</a>(</div>
<div class="line"><span class="lineno">  903</span>      current_state.downtrack - stop_maneuver_buffer, traffic_light_down_track, current_state.speed,</div>
<div class="line"><span class="lineno">  904</span>      current_state.lane_id, current_state.lane_id, ros::Time(entering_time),</div>
<div class="line"><span class="lineno">  905</span>      ros::Time(entering_time) + ros::Duration(<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a0f8440a6d3bb9476a477961a2a9d1126">config_</a>.<a class="code hl_variable" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html#a2cd3403442e86fd75c540efc09238698">min_maneuver_planning_period</a>), stopping_accel));</div>
<div class="line"><span class="lineno">  906</span>}</div>
<div class="ttc" id="anamespacelci__strategic__plugin_html_a30ec591be59af7f7b98c679e8ecfaa08a3f0df471a5fb3e6d42fda706dc896157"><div class="ttname"><a href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a3f0df471a5fb3e6d42fda706dc896157">lci_strategic_plugin::TransitEvent::RED_TO_GREEN_LIGHT</a></div><div class="ttdeci">@ RED_TO_GREEN_LIGHT</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00167">canArriveAtGreenWithCertainty()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00211">case_num_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01243">composeStopAndWaitManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">config_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00224">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::downtrack</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00075">lci_strategic_plugin::LCIStrategicPluginConfig::enable_carma_streets_connection</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00226">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::lane_id</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00063">lci_strategic_plugin::LCIStrategicPluginConfig::min_maneuver_planning_period</a>, <a class="el" href="namespacelci__strategic__plugin.html#a30ec591be59af7f7b98c679e8ecfaa08a3f0df471a5fb3e6d42fda706dc896157">lci_strategic_plugin::RED_TO_GREEN_LIGHT</a>, <a class="el" href="lci__state__transition__table_8cpp_source.html#l00034">lci_strategic_plugin::LCIStrategicStateTransitionTable::signal()</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00225">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::speed</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00223">lci_strategic_plugin::LCIStrategicPlugin::VehicleState::stamp</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00068">lci_strategic_plugin::STOPPING</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00736">transition_table_</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00146">validLightState()</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00026">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit</a>, <a class="el" href="lci__strategic__plugin__config_8h_source.html#l00029">lci_strategic_plugin::LCIStrategicPluginConfig::vehicle_decel_limit_multiplier</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00730">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad8e8b761da49c63e31877814d247005d_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad8e8b761da49c63e31877814d247005d_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad8e8b761da49c63e31877814d247005d_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad8e8b761da49c63e31877814d247005d_cgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="5,88,148,144"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="199,44,407,100"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="503,5,640,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8528301c6bda50dde4d55e64ec02e7f1" title="Compose a stop and wait maneuver message based on input params." alt="" coords="196,125,411,195"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a6dc204c919a4df801ed0b5ff6e1486ea" title="Trigger signal for the transition table." alt="" coords="209,244,398,300"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="754,5,899,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a4737562012420f1e6d7a5ce25bd927e5" title=" " alt="" coords="459,404,684,460"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a44bd26ef4b3d86b0b6890b96b3373b66" title=" " alt="" coords="470,164,673,220"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a631bce476ffdb5a8a3230b497bd459c7" title=" " alt="" coords="461,244,681,300"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a56893fc24b1a263a0783ba3194737b57" title=" " alt="" coords="477,324,666,380"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a1be896f0242c04f33991b86008320e06" title="Helper function for logging the provide signal." alt="" coords="732,244,921,300"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html#a425d7f16324829fdef5b1d2bfbd9bf87" title="Function to change the current state and log the details of the transition." alt="" coords="732,324,921,380"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ad8e8b761da49c63e31877814d247005d_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad8e8b761da49c63e31877814d247005d_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad8e8b761da49c63e31877814d247005d_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ad8e8b761da49c63e31877814d247005d_icgraph">
<area shape="rect" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="289,5,432,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="ae31009ebcfe2704b9ee0562e1b9fb2a0" name="ae31009ebcfe2704b9ee0562e1b9fb2a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31009ebcfe2704b9ee0562e1b9fb2a0">&#9670;&nbsp;</a></span>print_boundary_distances()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::print_boundary_distances </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1BoundaryDistances.html">BoundaryDistances</a>&#160;</td>
          <td class="paramname"><em>delta_xs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to print <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00292">292</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>{</div>
<div class="line"><span class="lineno">  294</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  295</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;dx1: &quot;</span> &lt;&lt; delta_xs.dx1);</div>
<div class="line"><span class="lineno">  296</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;dx2: &quot;</span> &lt;&lt; delta_xs.dx2);</div>
<div class="line"><span class="lineno">  297</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;dx3: &quot;</span> &lt;&lt; delta_xs.dx3);</div>
<div class="line"><span class="lineno">  298</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;dx4: &quot;</span> &lt;&lt; delta_xs.dx4);</div>
<div class="line"><span class="lineno">  299</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;dx5: &quot;</span> &lt;&lt; delta_xs.dx5 &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  300</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00101">lci_strategic_plugin::BoundaryDistances::dx1</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00102">lci_strategic_plugin::BoundaryDistances::dx2</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00103">lci_strategic_plugin::BoundaryDistances::dx3</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00104">lci_strategic_plugin::BoundaryDistances::dx4</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00105">lci_strategic_plugin::BoundaryDistances::dx5</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ae31009ebcfe2704b9ee0562e1b9fb2a0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae31009ebcfe2704b9ee0562e1b9fb2a0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae31009ebcfe2704b9ee0562e1b9fb2a0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ae31009ebcfe2704b9ee0562e1b9fb2a0_icgraph">
<area shape="rect" title="Helper method to print TrajectoryParams." alt="" coords="520,5,695,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a90783dcf3764851270354a58d81c27c1" name="a90783dcf3764851270354a58d81c27c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90783dcf3764851270354a58d81c27c1">&#9670;&nbsp;</a></span>print_params()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void lci_strategic_plugin::LCIStrategicPlugin::print_params </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td>
          <td class="paramname"><em>params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to print <a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00267">267</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>{</div>
<div class="line"><span class="lineno">  269</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  270</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;t0: &quot;</span> &lt;&lt; std::to_string(params.t0_));</div>
<div class="line"><span class="lineno">  271</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;v0: &quot;</span> &lt;&lt; params.v0_);</div>
<div class="line"><span class="lineno">  272</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;x0: &quot;</span> &lt;&lt; params.x0_);</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;t1: &quot;</span> &lt;&lt; std::to_string(params.t1_));</div>
<div class="line"><span class="lineno">  275</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;v1: &quot;</span> &lt;&lt; params.v1_);</div>
<div class="line"><span class="lineno">  276</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;x1: &quot;</span> &lt;&lt; params.x1_);</div>
<div class="line"><span class="lineno">  277</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;a1: &quot;</span> &lt;&lt; params.a1_);</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;t2: &quot;</span> &lt;&lt; std::to_string(params.t2_));</div>
<div class="line"><span class="lineno">  280</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;v2: &quot;</span> &lt;&lt; params.v2_);</div>
<div class="line"><span class="lineno">  281</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;x2: &quot;</span> &lt;&lt; params.x2_);</div>
<div class="line"><span class="lineno">  282</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;a2: &quot;</span> &lt;&lt; params.a2_);</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;t3: &quot;</span> &lt;&lt; std::to_string(params.t3_));</div>
<div class="line"><span class="lineno">  285</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;v3: &quot;</span> &lt;&lt; params.v3_);</div>
<div class="line"><span class="lineno">  286</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;x3: &quot;</span> &lt;&lt; params.x3_);</div>
<div class="line"><span class="lineno">  287</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;a3: &quot;</span> &lt;&lt; params.a3_);</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>  ROS_DEBUG_STREAM(<span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno">  290</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00372">handleFailureCaseHelper()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a90783dcf3764851270354a58d81c27c1_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a90783dcf3764851270354a58d81c27c1_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a90783dcf3764851270354a58d81c27c1_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a90783dcf3764851270354a58d81c27c1_icgraph">
<area shape="rect" title="Helper method to print TrajectoryParams." alt="" coords="927,39,1064,95"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a7f7fc780ada2600048d45cc5451cf2af" title="Helper function to handleFailureCase that modifies ts_params to desired new parameters...." alt="" coords="705,5,879,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,39,472,95"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a3a51dd7dd6c01bb54304a62d482a2e70" title="When the vehicle is not able to successfully run the algorithm or not able to stop,..." alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,39,241,95"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,53,56,80"/>
</map>
</div>

</div>
</div>
<a id="aedf733561a0ca72170d664f4414f624e" name="aedf733561a0ca72170d664f4414f624e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf733561a0ca72170d664f4414f624e">&#9670;&nbsp;</a></span>supportedLightState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::supportedLightState </td>
          <td>(</td>
          <td class="paramtype">lanelet::CarmaTrafficSignalState&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method to evaluate if the given traffic light state is supported by this plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The state to evaluate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the state is supported, flase otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00060">60</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>{</div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">switch</span> (state)</div>
<div class="line"><span class="lineno">   63</span>  {</div>
<div class="line"><span class="lineno">   64</span>    <span class="comment">// NOTE: Following cases are intentional fall through.</span></div>
<div class="line"><span class="lineno">   65</span>    <span class="comment">// Supported light states</span></div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::STOP_AND_REMAIN:              <span class="comment">// Solid Red</span></div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PROTECTED_CLEARANCE:          <span class="comment">// Yellow Solid no chance of conflicting traffic</span></div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PROTECTED_MOVEMENT_ALLOWED:   <span class="comment">// Solid Green no chance of conflict traffic</span></div>
<div class="line"><span class="lineno">   69</span>                                                                        <span class="comment">// (normally used with arrows)</span></div>
<div class="line"><span class="lineno">   70</span>      <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>    <span class="comment">// Unsupported light states</span></div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PERMISSIVE_MOVEMENT_ALLOWED:  <span class="comment">// Solid Green there could be conflict traffic</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PERMISSIVE_CLEARANCE:         <span class="comment">// Yellow Solid there is a chance of conflicting</span></div>
<div class="line"><span class="lineno">   75</span>                                                                        <span class="comment">// traffic</span></div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273bab7d0527f72b2019a46ec64928c7f2063">lanelet::CarmaTrafficSignalState::UNAVAILABLE</a>:                  <span class="comment">// No data available</span></div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::DARK:                         <span class="comment">// Light is non-functional</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::STOP_THEN_PROCEED:            <span class="comment">// Flashing Red</span></div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::PRE_MOVEMENT:                 <span class="comment">// Yellow Red transition (Found only in the EU)</span></div>
<div class="line"><span class="lineno">   81</span>                                                                        <span class="comment">// (normally used with arrows)</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">case</span> lanelet::CarmaTrafficSignalState::CAUTION_CONFLICTING_TRAFFIC:  <span class="comment">// Yellow Flashing</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">   84</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   85</span>  }</div>
<div class="line"><span class="lineno">   86</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00069">lci_strategic_plugin::UNAVAILABLE</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00146">validLightState()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_aedf733561a0ca72170d664f4414f624e_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aedf733561a0ca72170d664f4414f624e_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aedf733561a0ca72170d664f4414f624e_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_aedf733561a0ca72170d664f4414f624e_icgraph">
<area shape="rect" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="1197,45,1343,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a23192777055fbb632e0676e56a2d182e" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="1012,45,1149,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="756,45,964,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,38,472,94"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="543,118,685,174"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,38,708,94"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,78,241,134"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,93,56,119"/>
</map>
</div>

</div>
</div>
<a id="a29c754a4e2f40fdd9170589087d3097a" name="a29c754a4e2f40fdd9170589087d3097a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c754a4e2f40fdd9170589087d3097a">&#9670;&nbsp;</a></span>ts_case1()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case1 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00454">454</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  455</span>{ </div>
<div class="line"><span class="lineno">  456</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  459</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  460</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  463</span>  <span class="keywordtype">double</span> nom1 = 2 * dx * (((1 - (a_max / a_min)) * v_max) + ((a_max / a_min) * v1) - v0);</div>
<div class="line"><span class="lineno">  464</span>  <span class="keywordtype">double</span> nom2 = dt * (((1 - (a_max / a_min)) * pow(v_max, 2)) + ((a_max / a_min) * pow(v1, 2)) - pow(v0, 2));</div>
<div class="line"><span class="lineno">  465</span>  <span class="keywordtype">double</span> den = pow(v_max - v0, 2) - ((a_max / a_min) * pow(v_max - v1, 2));</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>  <span class="keywordflow">if</span> (den &lt;= epsilon_ &amp;&amp; den &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  468</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE1: Received den near zero...&quot;</span> + std::to_string(den));</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>  <span class="keywordtype">double</span> tc = (nom1 - nom2) / den;</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>  traj.v1_ = v_max;</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span>  <span class="keywordflow">if</span> (dt - tc &lt;= epsilon_ &amp;&amp; dt - tc &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE1: Received dt - tc near zero...&quot;</span> + std::to_string(dt - tc));</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>  traj.a1_ = (((1 - (a_max / a_min)) * v_max) + ((a_max / a_min) * v1) - v0) / (dt - tc);</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  480</span>  {</div>
<div class="line"><span class="lineno">  481</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CASE1: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  482</span>    traj.t1_ = traj.t0_ + ((dt - tc) * (a_max / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  483</span>    traj.x1_ = traj.x0_ + (v_max * (traj.t1_ - traj.t0_));    </div>
<div class="line"><span class="lineno">  484</span>  }</div>
<div class="line"><span class="lineno">  485</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  486</span>  {</div>
<div class="line"><span class="lineno">  487</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  488</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  489</span>  }</div>
<div class="line"><span class="lineno">  490</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  491</span>  traj.v2_ = v_max;</div>
<div class="line"><span class="lineno">  492</span>  traj.t2_ = traj.t1_ + tc;</div>
<div class="line"><span class="lineno">  493</span>  traj.x2_ = traj.x1_ + (v_max * tc);</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>  traj.t3_ = et;</div>
<div class="line"><span class="lineno">  496</span>  traj.a3_ = traj.a1_ * (a_min / a_max);</div>
<div class="line"><span class="lineno">  497</span>  traj.v3_ = v1;</div>
<div class="line"><span class="lineno">  498</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00753">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a29c754a4e2f40fdd9170589087d3097a_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a29c754a4e2f40fdd9170589087d3097a_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a29c754a4e2f40fdd9170589087d3097a_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a29c754a4e2f40fdd9170589087d3097a_icgraph">
<area shape="rect" title="Trajectory Smoothing Algorithm 8 cases. TSMO UC2, UC3 algorithm equations." alt="" coords="705,5,843,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a9af907160a273b7f0dbca36dd5b332a0" name="a9af907160a273b7f0dbca36dd5b332a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af907160a273b7f0dbca36dd5b332a0">&#9670;&nbsp;</a></span>ts_case2()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case2 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00503">503</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  504</span>{ </div>
<div class="line"><span class="lineno">  505</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  508</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  509</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>  <span class="keywordflow">if</span> (dt &lt;= epsilon_ &amp;&amp; dt &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  514</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE2: Received dt near zero...&quot;</span> + std::to_string(dt));</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>  <span class="keywordtype">double</span> sqr1 = pow(1 - (a_max / a_min), 2) * pow(dx / dt, 2);</div>
<div class="line"><span class="lineno">  517</span>  <span class="keywordtype">double</span> sqr2 = (1 - (a_max / a_min)) * (((a_max / a_min) * v1 * (v1 - (2 * dx / dt))) + (v0 * ((2 * dx / dt) - v0)));</div>
<div class="line"><span class="lineno">  518</span>  <span class="keywordtype">double</span> v_hat = (dx / dt) + (sqrt(sqr1 - sqr2) / (1 - (a_max / a_min)));</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  521</span>  traj.a1_ = (((1 - (a_max / a_min)) * v_hat) + ((a_max / a_min) * v1) - v0) / dt;</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  524</span>  {</div>
<div class="line"><span class="lineno">  525</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CASE2: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  526</span>    traj.t1_ = traj.t0_ + (dt * (a_max / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  527</span>    traj.x1_ = traj.x0_ + (v_hat * (traj.t1_ - traj.t0_));        </div>
<div class="line"><span class="lineno">  528</span>  }</div>
<div class="line"><span class="lineno">  529</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  530</span>  {</div>
<div class="line"><span class="lineno">  531</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  532</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  533</span>  }</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno">  536</span>  traj.a2_ = traj.a1_ * a_min / a_max;</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>  <span class="keywordflow">if</span> (traj.a2_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a2_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  539</span>  {</div>
<div class="line"><span class="lineno">  540</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CASE2: Received traj.a2_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  541</span>    traj.t2_ = traj.t1_ + (dt * (a_min / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  542</span>    traj.x2_ = traj.x1_ + (v_hat * (traj.t2_ - traj.t1_));    </div>
<div class="line"><span class="lineno">  543</span>  }</div>
<div class="line"><span class="lineno">  544</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  545</span>  {</div>
<div class="line"><span class="lineno">  546</span>    traj.t2_ = traj.t1_ + ((traj.v2_ - traj.v1_) / traj.a2_);</div>
<div class="line"><span class="lineno">  547</span>    traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  548</span>  }</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  551</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  552</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  553</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  556</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00753">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a9af907160a273b7f0dbca36dd5b332a0_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9af907160a273b7f0dbca36dd5b332a0_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9af907160a273b7f0dbca36dd5b332a0_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a9af907160a273b7f0dbca36dd5b332a0_icgraph">
<area shape="rect" title=" " alt="" coords="705,5,843,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="ace4317f84b933acb423175e215de351d" name="ace4317f84b933acb423175e215de351d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4317f84b933acb423175e215de351d">&#9670;&nbsp;</a></span>ts_case3()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case3 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00557">557</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  558</span>{ </div>
<div class="line"><span class="lineno">  559</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  562</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  563</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  566</span>  </div>
<div class="line"><span class="lineno">  567</span>  <span class="keywordflow">if</span> (dt &lt;= epsilon_ &amp;&amp; dt &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  568</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE3: Received dt near zero...&quot;</span> + std::to_string(dt));</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>  <span class="keywordtype">double</span> sqr1 = pow((a_max / a_min) - 1, 2) * pow(dx / dt, 2);</div>
<div class="line"><span class="lineno">  571</span>  <span class="keywordtype">double</span> sqr2 = ((a_max / a_min) - 1) * ((v1 * (v1 - (2 * dx / dt))) + ((a_max / a_min) * v0 * ((2 * dx / dt) - v0)));</div>
<div class="line"><span class="lineno">  572</span>  <span class="keywordtype">double</span> v_hat = (dx / dt) + (sqrt(sqr1 - sqr2) / ((a_max / a_min) - 1));</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  575</span>  traj.a1_ = (((1 - (a_min / a_max)) * v_hat) + ((a_min / a_max) * v1) - v0) / dt;</div>
<div class="line"><span class="lineno">  576</span>  </div>
<div class="line"><span class="lineno">  577</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  578</span>  {</div>
<div class="line"><span class="lineno">  579</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CASE3: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  580</span>    traj.t1_ = traj.t0_ + (dt * (a_max / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  581</span>    traj.x1_ = traj.x0_ + (v_hat * (traj.t1_ - traj.t0_));    </div>
<div class="line"><span class="lineno">  582</span>  }</div>
<div class="line"><span class="lineno">  583</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  584</span>  {</div>
<div class="line"><span class="lineno">  585</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  586</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  587</span>  }</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>  traj.v2_ = v1;</div>
<div class="line"><span class="lineno">  590</span>  traj.a2_ = traj.a1_ * a_max / a_min;</div>
<div class="line"><span class="lineno">  591</span>  traj.t2_ = traj.t1_ + ((traj.v2_ - traj.v1_) / traj.a2_);</div>
<div class="line"><span class="lineno">  592</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  595</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  596</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  597</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  600</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00753">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ace4317f84b933acb423175e215de351d_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace4317f84b933acb423175e215de351d_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace4317f84b933acb423175e215de351d_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ace4317f84b933acb423175e215de351d_icgraph">
<area shape="rect" title=" " alt="" coords="705,5,843,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a820d938d83b16c8fc7cc3930a062212a" name="a820d938d83b16c8fc7cc3930a062212a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820d938d83b16c8fc7cc3930a062212a">&#9670;&nbsp;</a></span>ts_case4()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case4 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00601">601</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  602</span>{ </div>
<div class="line"><span class="lineno">  603</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  606</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  607</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  610</span>  <span class="keywordtype">double</span> nom1 = 2 * dx * ((((a_max / a_min) - 1) * v_min) + v1 - ((a_max / a_min) * v0));</div>
<div class="line"><span class="lineno">  611</span>  <span class="keywordtype">double</span> nom2 = dt * ((((a_max / a_min) - 1) * pow(v_min, 2)) + pow(v1, 2) - ((a_max / a_min) * pow(v0, 2)));</div>
<div class="line"><span class="lineno">  612</span>  <span class="keywordtype">double</span> den = ((a_max / a_min) * pow(v_min - v0, 2)) - pow(v_min - v1, 2);</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>  <span class="keywordflow">if</span> (den &lt;= epsilon_ &amp;&amp; den &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE4: Received den near zero...&quot;</span> + std::to_string(den));</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>  <span class="keywordtype">double</span> tc = (nom1 - nom2) / den;</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>  <span class="keywordflow">if</span> (dt - tc &lt;= epsilon_ &amp;&amp; dt - tc &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  622</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE4: Received dt - tc near zero...&quot;</span> + std::to_string(dt - tc));</div>
<div class="line"><span class="lineno">  623</span> </div>
<div class="line"><span class="lineno">  624</span>  traj.a1_ = (((1 - (a_min / a_max)) * v_min) + ((a_min / a_max) * v1) - v0) / (dt - tc);</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>  <span class="keywordflow">if</span> (traj.a1_ &lt;= <a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a> &amp;&amp; traj.a1_ &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a733ee3426af2de05ab01a787e6d7ab76">accel_epsilon_</a>)</div>
<div class="line"><span class="lineno">  627</span>  {</div>
<div class="line"><span class="lineno">  628</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CASE4: Received traj.a1_ near zero...&quot;</span>);</div>
<div class="line"><span class="lineno">  629</span>    traj.t1_ = traj.t0_ + ((dt - tc) * (a_min / (a_min + a_max)));</div>
<div class="line"><span class="lineno">  630</span>    traj.x1_ = traj.x0_ + (v_min * (traj.t1_ - traj.t0_));    </div>
<div class="line"><span class="lineno">  631</span>  }</div>
<div class="line"><span class="lineno">  632</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  633</span>  {</div>
<div class="line"><span class="lineno">  634</span>    traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  635</span>    traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  636</span>  }</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno">  639</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  640</span>  traj.t2_ = traj.t1_ + tc;</div>
<div class="line"><span class="lineno">  641</span>  traj.x2_ = traj.x1_ + (v_min * tc);</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>  traj.t3_ = et;</div>
<div class="line"><span class="lineno">  644</span>  traj.a3_ = traj.a1_ * a_max / a_min;</div>
<div class="line"><span class="lineno">  645</span>  traj.v3_ = v1;</div>
<div class="line"><span class="lineno">  646</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  649</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00753">accel_epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a820d938d83b16c8fc7cc3930a062212a_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a820d938d83b16c8fc7cc3930a062212a_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a820d938d83b16c8fc7cc3930a062212a_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a820d938d83b16c8fc7cc3930a062212a_icgraph">
<area shape="rect" title=" " alt="" coords="705,5,843,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="ada2f61d939ab8184e3eca056b46a8b2e" name="ada2f61d939ab8184e3eca056b46a8b2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2f61d939ab8184e3eca056b46a8b2e">&#9670;&nbsp;</a></span>ts_case5()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case5 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00651">651</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  652</span>{ </div>
<div class="line"><span class="lineno">  653</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  656</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  657</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  660</span>  <span class="keywordtype">double</span> sqr = ((a_max / a_min) - 1) * ((2 * a_min * (dx - (v0 * dt))) - pow(a_min * dt, 2));</div>
<div class="line"><span class="lineno">  661</span>  <span class="keywordtype">double</span> v_hat = (v0 + (a_min * dt)) - (sqrt(sqr) / ((a_max / a_min) - 1));</div>
<div class="line"><span class="lineno">  662</span>  <span class="keywordtype">double</span> v_p = ((1 - (a_max / a_min)) * v_hat) + ((a_max / a_min) * v0) + (a_max * dt);</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>  traj.v1_ = v_hat;</div>
<div class="line"><span class="lineno">  665</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  668</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>  traj.v2_ = v_p;</div>
<div class="line"><span class="lineno">  671</span>  traj.a2_ = a_max;</div>
<div class="line"><span class="lineno">  672</span>  traj.t2_ = traj.t1_ + ((traj.v2_ - traj.v1_) / traj.a2_);</div>
<div class="line"><span class="lineno">  673</span>  traj.x2_ = x_end;</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>  traj.t3_ = traj.t2_;</div>
<div class="line"><span class="lineno">  676</span>  traj.a3_ = 0;</div>
<div class="line"><span class="lineno">  677</span>  traj.v3_ = traj.v2_;</div>
<div class="line"><span class="lineno">  678</span>  traj.x3_ = traj.x2_;</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  681</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_ada2f61d939ab8184e3eca056b46a8b2e_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ada2f61d939ab8184e3eca056b46a8b2e_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ada2f61d939ab8184e3eca056b46a8b2e_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_ada2f61d939ab8184e3eca056b46a8b2e_icgraph">
<area shape="rect" title=" " alt="" coords="705,5,843,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a7d9d856f7fa523b5b4266601f6c6154f" name="a7d9d856f7fa523b5b4266601f6c6154f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d9d856f7fa523b5b4266601f6c6154f">&#9670;&nbsp;</a></span>ts_case6()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case6 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td>
          <td class="paramname"><em>traj6</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00683">683</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  684</span>{ </div>
<div class="line"><span class="lineno">  685</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  688</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  689</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno">  694</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  695</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  696</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>  <span class="keywordtype">double</span> tc;</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>  <span class="keywordflow">if</span> (dx &lt;= dx3)</div>
<div class="line"><span class="lineno">  701</span>    tc = 0;</div>
<div class="line"><span class="lineno">  702</span>  <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  703</span>    tc = traj6.t2_ - traj6.t1_;</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno">  706</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  707</span>  traj.t2_ = traj.t1_ + tc;</div>
<div class="line"><span class="lineno">  708</span>  traj.x2_ = traj.x1_ + (v_min * tc);</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>  <span class="keywordtype">double</span> dt_p = dt - (traj.t1_ - traj.t0_) - tc;</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>  <span class="keywordflow">if</span> (dt_p &lt;= epsilon_ &amp;&amp; dt_p &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  713</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE6: Received dt_p near zero...&quot;</span> + std::to_string(dt_p));</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>  <span class="keywordtype">double</span> v_p = ((2 * a_min * (dx - (v_min * tc))) - (pow(v_min, 2) - pow(v0, 2)) - (v_min * dt_p * a_min)) / (dt_p * a_min);</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>  traj.v3_ = v_p;</div>
<div class="line"><span class="lineno">  718</span>  traj.a3_ = (v_p - v_min) / dt_p;</div>
<div class="line"><span class="lineno">  719</span>  traj.t3_ = et;</div>
<div class="line"><span class="lineno">  720</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  723</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a7d9d856f7fa523b5b4266601f6c6154f_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7d9d856f7fa523b5b4266601f6c6154f_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7d9d856f7fa523b5b4266601f6c6154f_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a7d9d856f7fa523b5b4266601f6c6154f_icgraph">
<area shape="rect" title=" " alt="" coords="705,5,843,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a2382d4f0feb6c0ae9db91695f2b552d2" name="a2382d4f0feb6c0ae9db91695f2b552d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2382d4f0feb6c0ae9db91695f2b552d2">&#9670;&nbsp;</a></span>ts_case7()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case7 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>et</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>v_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>a_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x_end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00725">725</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  726</span>{ </div>
<div class="line"><span class="lineno">  727</span>  TrajectoryParams traj;</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>  traj.t0_ = t;</div>
<div class="line"><span class="lineno">  730</span>  traj.v0_ = v0;</div>
<div class="line"><span class="lineno">  731</span>  traj.x0_ = x0;</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>  traj.v1_ = v_min;</div>
<div class="line"><span class="lineno">  734</span>  traj.a1_ = a_min;</div>
<div class="line"><span class="lineno">  735</span>  traj.t1_ = traj.t0_ + ((traj.v1_ - traj.v0_) / traj.a1_);</div>
<div class="line"><span class="lineno">  736</span>  traj.x1_ = traj.x0_ + ((pow(traj.v1_, 2) - pow(traj.v0_, 2)) / (2 * traj.a1_));</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>  <span class="keywordtype">double</span> dt = et - t;</div>
<div class="line"><span class="lineno">  739</span>  <span class="keywordtype">double</span> v_p = v_min - sqrt(pow(v_min - v0, 2) - (2 * a_min * ((v_min * dt) - dx)));</div>
<div class="line"><span class="lineno">  740</span>  <span class="keywordtype">double</span> dt_p = (v_p - v_min) / a_min;</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>  <span class="keywordflow">if</span> (dt_p &lt;= epsilon_ &amp;&amp; dt_p &gt;= -<a class="code hl_variable" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a4c261bd6007106d5787469f4f0cc5482">epsilon_</a>)</div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;CASE7: Received dt_p near zero...&quot;</span> + std::to_string(dt_p));</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>  <span class="keywordtype">double</span> tc = dt - ((v_p - v0) / a_min);</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>  traj.v2_ = v_min;</div>
<div class="line"><span class="lineno">  748</span>  traj.a2_ = 0;</div>
<div class="line"><span class="lineno">  749</span>  traj.t2_ = traj.t1_ + tc;</div>
<div class="line"><span class="lineno">  750</span>  traj.x2_ = traj.x1_ + (v_min * tc);</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>  traj.v3_ = v_p;</div>
<div class="line"><span class="lineno">  753</span>  traj.a3_ = (v_p - v_min) / dt_p;</div>
<div class="line"><span class="lineno">  754</span>  traj.t3_ = et;</div>
<div class="line"><span class="lineno">  755</span>  traj.x3_ = x_end;</div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  758</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00078">lci_strategic_plugin::TrajectoryParams::a1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00083">lci_strategic_plugin::TrajectoryParams::a2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00088">lci_strategic_plugin::TrajectoryParams::a3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">epsilon_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00074">lci_strategic_plugin::TrajectoryParams::t0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00079">lci_strategic_plugin::TrajectoryParams::t1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00084">lci_strategic_plugin::TrajectoryParams::t2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00089">lci_strategic_plugin::TrajectoryParams::t3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00075">lci_strategic_plugin::TrajectoryParams::v0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00080">lci_strategic_plugin::TrajectoryParams::v1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00085">lci_strategic_plugin::TrajectoryParams::v2_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00090">lci_strategic_plugin::TrajectoryParams::v3_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00076">lci_strategic_plugin::TrajectoryParams::x0_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00081">lci_strategic_plugin::TrajectoryParams::x1_</a>, <a class="el" href="lci__strategic__plugin_8h_source.html#l00086">lci_strategic_plugin::TrajectoryParams::x2_</a>, and <a class="el" href="lci__strategic__plugin_8h_source.html#l00091">lci_strategic_plugin::TrajectoryParams::x3_</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a2382d4f0feb6c0ae9db91695f2b552d2_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2382d4f0feb6c0ae9db91695f2b552d2_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2382d4f0feb6c0ae9db91695f2b552d2_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a2382d4f0feb6c0ae9db91695f2b552d2_icgraph">
<area shape="rect" title=" " alt="" coords="705,5,843,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="abba844206be4f074096240f5d506aa8c" name="abba844206be4f074096240f5d506aa8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abba844206be4f074096240f5d506aa8c">&#9670;&nbsp;</a></span>ts_case8()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a> lci_strategic_plugin::LCIStrategicPlugin::ts_case8 </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>dx5</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlci__strategic__plugin_1_1TrajectoryParams.html">TrajectoryParams</a>&#160;</td>
          <td class="paramname"><em>traj8</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00760">760</a> of file <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  761</span>{ </div>
<div class="line"><span class="lineno">  762</span>  TrajectoryParams traj = traj8;</div>
<div class="line"><span class="lineno">  763</span>  <span class="keywordflow">if</span> (dx &lt; dx5)</div>
<div class="line"><span class="lineno">  764</span>  { </div>
<div class="line"><span class="lineno">  765</span>    traj.is_algorithm_successful = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  766</span>    ROS_DEBUG_STREAM(<span class="stringliteral">&quot;CASE8: Not within safe stopping distance originally planned!&quot;</span>);</div>
<div class="line"><span class="lineno">  767</span>  }</div>
<div class="line"><span class="lineno">  768</span>  <span class="keywordflow">return</span> traj;</div>
<div class="line"><span class="lineno">  769</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8h_source.html#l00093">lci_strategic_plugin::TrajectoryParams::is_algorithm_successful</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00377">get_ts_case()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_abba844206be4f074096240f5d506aa8c_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abba844206be4f074096240f5d506aa8c_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abba844206be4f074096240f5d506aa8c_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_abba844206be4f074096240f5d506aa8c_icgraph">
<area shape="rect" title=" " alt="" coords="705,5,843,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a9f6b11b8d6c543e15eb501c90bb1d3c3" title=" " alt="" coords="520,5,657,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,5,472,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,5,241,61"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a23192777055fbb632e0676e56a2d182e" name="a23192777055fbb632e0676e56a2d182e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23192777055fbb632e0676e56a2d182e">&#9670;&nbsp;</a></span>validLightState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::validLightState </td>
          <td>(</td>
          <td class="paramtype">const boost::optional&lt; std::pair&lt; boost::posix_time::ptime, lanelet::CarmaTrafficSignalState &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>optional_state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const ros::Time &amp;&#160;</td>
          <td class="paramname"><em>source_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper method that checks both if the input optional light state is set and if the state it contains is supported via supportedLightState. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">optional_state</td><td>An optional light state and its min_end_time pair. If this is unset the method will return false </td></tr>
    <tr><td class="paramname">source_time</td><td>The time used to optain the optional light state. This is used for logging only</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the optional is set and the contained state signal is supported. False otherwise </dd></dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00146">146</a> of file <a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  148</span>{</div>
<div class="line"><span class="lineno">  149</span>  <span class="keywordflow">if</span> (!optional_state)</div>
<div class="line"><span class="lineno">  150</span>  {</div>
<div class="line"><span class="lineno">  151</span>    ROS_WARN_STREAM(<span class="stringliteral">&quot;Traffic light data not available for source_time &quot;</span> &lt;&lt; std::to_string(source_time.toSec()));</div>
<div class="line"><span class="lineno">  152</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  153</span>  }</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>  lanelet::CarmaTrafficSignalState light_state = optional_state.get().second;</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">supportedLightState</a>(light_state))</div>
<div class="line"><span class="lineno">  158</span>  {</div>
<div class="line"><span class="lineno">  159</span>    ROS_ERROR_STREAM(<span class="stringliteral">&quot;LCIStrategic Plugin asked to handle CarmaTrafficSignalState: &quot;</span> &lt;&lt; light_state</div>
<div class="line"><span class="lineno">  160</span>                                                                                &lt;&lt; <span class="stringliteral">&quot; which is not supported.&quot;</span>);</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  162</span>  }</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  165</span>}</div>
<div class="ttc" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_html_aedf733561a0ca72170d664f4414f624e"><div class="ttname"><a href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e">lci_strategic_plugin::LCIStrategicPlugin::supportedLightState</a></div><div class="ttdeci">bool supportedLightState(lanelet::CarmaTrafficSignalState state) const</div><div class="ttdoc">Helper method to evaluate if the given traffic light state is supported by this plugin.</div><div class="ttdef"><b>Definition:</b> <a href="lci__strategic__plugin_8cpp_source.html#l00060">lci_strategic_plugin.cpp:60</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00060">supportedLightState()</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00167">canArriveAtGreenWithCertainty()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">planWhenWAITING()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a23192777055fbb632e0676e56a2d182e_cgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23192777055fbb632e0676e56a2d182e_cgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23192777055fbb632e0676e56a2d182e_cgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23192777055fbb632e0676e56a2d182e_cgraph">
<area shape="rect" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="5,5,143,61"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aedf733561a0ca72170d664f4414f624e" title="Helper method to evaluate if the given traffic light state is supported by this plugin." alt="" coords="191,5,336,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classlci__strategic__plugin_1_1LCIStrategicPlugin_a23192777055fbb632e0676e56a2d182e_icgraph.png" border="0" usemap="#aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23192777055fbb632e0676e56a2d182e_icgraph" alt=""/></div>
<map name="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23192777055fbb632e0676e56a2d182e_icgraph" id="aclasslci__strategic__plugin_1_1LCIStrategicPlugin_a23192777055fbb632e0676e56a2d182e_icgraph">
<area shape="rect" title="Helper method that checks both if the input optional light state is set and if the state it contains ..." alt="" coords="1012,45,1149,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad0dfe4121507c3080e3d21dd1244bec9" title="Return true if the car can arrive at given arrival time within green light time buffer." alt="" coords="756,45,964,101"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#adb5f42d9458f7c1e4b7c87310c015059" title="Method for performing maneuver planning when the current plugin state is TransitState::APPROACHING Th..." alt="" coords="289,38,472,94"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#ad8e8b761da49c63e31877814d247005d" title="Method for performing maneuver planning when the current plugin state is TransitState::WAITING Theref..." alt="" coords="543,118,685,174"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a024c31e2b9b9e8d28432d2a4f45c8de6" title="This function returns valid maneuvers if the vehicle is able to utilize trajectory smoothing paramete..." alt="" coords="520,38,708,94"/>
<area shape="rect" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#a8b3f0877902b0153950cf4577e7b6ac0" title="Service callback for arbitrator maneuver planning." alt="" coords="104,78,241,134"/>
<area shape="rect" href="lci__strategic__plugin_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,93,56,119"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a733ee3426af2de05ab01a787e6d7ab76" name="a733ee3426af2de05ab01a787e6d7ab76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a733ee3426af2de05ab01a787e6d7ab76">&#9670;&nbsp;</a></span>accel_epsilon_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::accel_epsilon_ = 0.0001</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00753">753</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00875">boundary_accel_nocruise_maxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00454">ts_case1()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00503">ts_case2()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00557">ts_case3()</a>, and <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00601">ts_case4()</a>.</p>

</div>
</div>
<a id="ab8247b29655ecc5f132e33c3cad8591d" name="ab8247b29655ecc5f132e33c3cad8591d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8247b29655ecc5f132e33c3cad8591d">&#9670;&nbsp;</a></span>approaching_light_controlled_intersection_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> lci_strategic_plugin::LCIStrategicPlugin::approaching_light_controlled_intersection_ = false</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00189">189</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00937">mobilityOperationCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01038">mobilityPubSpin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>.</p>

</div>
</div>
<a id="aab8ebae22d31d704cdee82b3efcec263" name="aab8ebae22d31d704cdee82b3efcec263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8ebae22d31d704cdee82b3efcec263">&#9670;&nbsp;</a></span>bsm_id_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::bsm_id_ = &quot;default_bsm_id&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00198">198</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00956">BSMCb()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">generateMobilityOperation()</a>.</p>

</div>
</div>
<a id="a01df237e1b50c546b2088036c4a1b477" name="a01df237e1b50c546b2088036c4a1b477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01df237e1b50c546b2088036c4a1b477">&#9670;&nbsp;</a></span>bsm_msg_count_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#aba7bc1797add20fe3efdf37ced1182c5">uint8_t</a> lci_strategic_plugin::LCIStrategicPlugin::bsm_msg_count_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00199">199</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00956">BSMCb()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">generateMobilityOperation()</a>.</p>

</div>
</div>
<a id="a21cb9188fd1f5f4330fdf8ef3e571a78" name="a21cb9188fd1f5f4330fdf8ef3e571a78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21cb9188fd1f5f4330fdf8ef3e571a78">&#9670;&nbsp;</a></span>bsm_sec_mark_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="stdint_8h.html#a273cf69d639a59973b6019625df33e30">uint16_t</a> lci_strategic_plugin::LCIStrategicPlugin::bsm_sec_mark_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00200">200</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00956">BSMCb()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">generateMobilityOperation()</a>.</p>

</div>
</div>
<a id="a66c3d9cd3a128d8bb9cab61d68991806" name="a66c3d9cd3a128d8bb9cab61d68991806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c3d9cd3a128d8bb9cab61d68991806">&#9670;&nbsp;</a></span>case_num_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273b">TSCase</a> lci_strategic_plugin::LCIStrategicPlugin::case_num_ = TSCase::UNAVAILABLE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Useful metrics for LCI Plugin. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">case_num_</td><td>Current speed profile case generated </td></tr>
    <tr><td class="paramname">distance_remaining_to_tf_</td><td>distance_remaining_to_traffic signal meters </td></tr>
    <tr><td class="paramname">earliest_entry_time_</td><td>earliest_entry_time in sec </td></tr>
    <tr><td class="paramname">scheduled_entry_time_</td><td>scheduled_entry_time in sec </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00211">211</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00284">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00228">handleStopping()</a>, <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00908">planWhenDEPARTING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">planWhenWAITING()</a>.</p>

</div>
</div>
<a id="a0f8440a6d3bb9476a477961a2a9d1126" name="a0f8440a6d3bb9476a477961a2a9d1126"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f8440a6d3bb9476a477961a2a9d1126">&#9670;&nbsp;</a></span>config_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structlci__strategic__plugin_1_1LCIStrategicPluginConfig.html">LCIStrategicPluginConfig</a> lci_strategic_plugin::LCIStrategicPlugin::config_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Config containing configurable algorithm parameters. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00733">733</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00040">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00167">canArriveAtGreenWithCertainty()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01276">composeIntersectionTransitMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01243">composeStopAndWaitManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01192">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">generateMobilityOperation()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00154">get_earliest_entry_time()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00284">handleCruisingUntilStop()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00228">handleStopping()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00937">mobilityOperationCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">planWhenWAITING()</a>.</p>

</div>
</div>
<a id="a8fb96553dc6acf995b4de2db46998856" name="a8fb96553dc6acf995b4de2db46998856"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb96553dc6acf995b4de2db46998856">&#9670;&nbsp;</a></span>distance_remaining_to_tf_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::distance_remaining_to_tf_ = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00213">213</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>.</p>

</div>
</div>
<a id="ad58c69bcf68ab67c8d15fd91d46fcb87" name="ad58c69bcf68ab67c8d15fd91d46fcb87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad58c69bcf68ab67c8d15fd91d46fcb87">&#9670;&nbsp;</a></span>earliest_entry_time_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::earliest_entry_time_ = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00214">214</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="a4c261bd6007106d5787469f4f0cc5482" name="a4c261bd6007106d5787469f4f0cc5482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c261bd6007106d5787469f4f0cc5482">&#9670;&nbsp;</a></span>epsilon_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::epsilon_ = 0.001</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00752">752</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00875">boundary_accel_nocruise_maxspeed_decel()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00926">boundary_accel_or_decel_complete_upper()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00772">boundary_accel_or_decel_incomplete_upper()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l01020">boundary_decel_nocruise_minspeed_accel_complete()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00038">get_distance_to_accel_or_decel_once()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00154">get_earliest_entry_time()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00120">get_trajectory_smoothing_activation_distance()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00372">handleFailureCaseHelper()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00454">ts_case1()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00503">ts_case2()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00557">ts_case3()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00601">ts_case4()</a>, <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00683">ts_case6()</a>, and <a class="el" href="lci__strategic__plugin__algo_8cpp_source.html#l00725">ts_case7()</a>.</p>

</div>
</div>
<a id="a039753d101ec5ef40b4906f44a4a987f" name="a039753d101ec5ef40b4906f44a4a987f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a039753d101ec5ef40b4906f44a4a987f">&#9670;&nbsp;</a></span>frontbumper_transform_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tf2::Stamped&lt;tf2::Transform&gt; lci_strategic_plugin::LCIStrategicPlugin::frontbumper_transform_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00749">749</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

</div>
</div>
<a id="acd45a0e25b428eaed59668141c1a367a" name="acd45a0e25b428eaed59668141c1a367a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd45a0e25b428eaed59668141c1a367a">&#9670;&nbsp;</a></span>intersection_end_downtrack_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt;double&gt; lci_strategic_plugin::LCIStrategicPlugin::intersection_end_downtrack_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00743">743</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00328">handleGreenSignalScenario()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>.</p>

</div>
</div>
<a id="ae9380f01ef61988443a1229797af0bb6" name="ae9380f01ef61988443a1229797af0bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9380f01ef61988443a1229797af0bb6">&#9670;&nbsp;</a></span>intersection_speed_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt;double&gt; lci_strategic_plugin::LCIStrategicPlugin::intersection_speed_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cache variables for storing the current intersection state between state machine transitions. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00742">742</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00252">handleFailureCase()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00328">handleGreenSignalScenario()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>.</p>

</div>
</div>
<a id="ab3b737710552367a21447be1918ca210" name="ab3b737710552367a21447be1918ca210"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b737710552367a21447be1918ca210">&#9670;&nbsp;</a></span>intersection_turn_direction_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9">TurnDirection</a> lci_strategic_plugin::LCIStrategicPlugin::intersection_turn_direction_ = <a class="el" href="namespacelci__strategic__plugin.html#a1e0201b2cf65a27f7075fd60ce35e2e9ab6bd418b8879851e86bcaccd553b74db">TurnDirection::Straight</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00188">188</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">generateMobilityOperation()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="adf73e3ba365c4fa683912f0bf17143bc" name="adf73e3ba365c4fa683912f0bf17143bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf73e3ba365c4fa683912f0bf17143bc">&#9670;&nbsp;</a></span>last_case_num_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacelci__strategic__plugin.html#a8c6e35d446c028b1e38bd354bb3a273b">TSCase</a> lci_strategic_plugin::LCIStrategicPlugin::last_case_num_ = TSCase::UNAVAILABLE</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00212">212</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="a65a82a5d5dae1cb9cc8e5f8913627dfa" name="a65a82a5d5dae1cb9cc8e5f8913627dfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65a82a5d5dae1cb9cc8e5f8913627dfa">&#9670;&nbsp;</a></span>length_to_front_bumper_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::length_to_front_bumper_ = 3.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00750">750</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00088">lookupFrontBumperTransform()</a>.</p>

</div>
</div>
<a id="abe899a1e3053d51bd163bda6b5bbd0b8" name="abe899a1e3053d51bd163bda6b5bbd0b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe899a1e3053d51bd163bda6b5bbd0b8">&#9670;&nbsp;</a></span>light_controlled_intersection_strategy_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::light_controlled_intersection_strategy_ = &quot;Carma/signalized_intersection&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00744">744</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01192">composeTrajectorySmoothingManeuverMessage()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">generateMobilityOperation()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00937">mobilityOperationCb()</a>.</p>

</div>
</div>
<a id="a6f0f8f878a2a1cdaffa1f28ee20336d0" name="a6f0f8f878a2a1cdaffa1f28ee20336d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f0f8f878a2a1cdaffa1f28ee20336d0">&#9670;&nbsp;</a></span>max_comfort_accel_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::max_comfort_accel_ = 2.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00724">724</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00040">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00372">handleFailureCaseHelper()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="aa302a99c74e957f175bfcf2d30411612" name="aa302a99c74e957f175bfcf2d30411612"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa302a99c74e957f175bfcf2d30411612">&#9670;&nbsp;</a></span>max_comfort_decel_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::max_comfort_decel_ = -2.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00725">725</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00040">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00372">handleFailureCaseHelper()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="a44fdab48c5bd34c844b45bb10702d985" name="a44fdab48c5bd34c844b45bb10702d985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44fdab48c5bd34c844b45bb10702d985">&#9670;&nbsp;</a></span>max_comfort_decel_norm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::max_comfort_decel_norm_ = -1 * <a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html#aa302a99c74e957f175bfcf2d30411612">max_comfort_decel_</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00726">726</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00040">LCIStrategicPlugin()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00228">handleStopping()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="a6d0b09a745d928a89a0ae92a95eebff8" name="a6d0b09a745d928a89a0ae92a95eebff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d0b09a745d928a89a0ae92a95eebff8">&#9670;&nbsp;</a></span>mobility_operation_pub</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher lci_strategic_plugin::LCIStrategicPlugin::mobility_operation_pub</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00183">183</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01038">mobilityPubSpin()</a>.</p>

</div>
</div>
<a id="a362fee4d3bbe311e23ef1ebfbf852a20" name="a362fee4d3bbe311e23ef1ebfbf852a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a362fee4d3bbe311e23ef1ebfbf852a20">&#9670;&nbsp;</a></span>nearest_green_entry_time_cached_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::optional&lt;ros::Time&gt; lci_strategic_plugin::LCIStrategicPlugin::nearest_green_entry_time_cached_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00727">727</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00964">parseStrategyParams()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="a17feaa6b54b8b431f919488936c6465a" name="a17feaa6b54b8b431f919488936c6465a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17feaa6b54b8b431f919488936c6465a">&#9670;&nbsp;</a></span>plugin_discovery_msg_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cav_msgs::Plugin lci_strategic_plugin::LCIStrategicPlugin::plugin_discovery_msg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Plugin discovery message. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00739">739</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00040">LCIStrategicPlugin()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00055">getDiscoveryMsg()</a>.</p>

</div>
</div>
<a id="ab7d33a0c85f6ba2d709d07a4526774aa" name="ab7d33a0c85f6ba2d709d07a4526774aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7d33a0c85f6ba2d709d07a4526774aa">&#9670;&nbsp;</a></span>previous_strategy_params_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::previous_strategy_params_ = &quot;&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00721">721</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00937">mobilityOperationCb()</a>.</p>

</div>
</div>
<a id="a387a881b43da465efca652474b390b97" name="a387a881b43da465efca652474b390b97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a387a881b43da465efca652474b390b97">&#9670;&nbsp;</a></span>scheduled_enter_time_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long lci_strategic_plugin::LCIStrategicPlugin::scheduled_enter_time_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00195">195</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00964">parseStrategyParams()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="ad8d7dbe5783d3b96fdc46a6f91cf6ae9" name="ad8d7dbe5783d3b96fdc46a6f91cf6ae9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d7dbe5783d3b96fdc46a6f91cf6ae9">&#9670;&nbsp;</a></span>scheduled_entry_time_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double lci_strategic_plugin::LCIStrategicPlugin::scheduled_entry_time_ = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00215">215</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_2src_2main_8cpp_source.html#l00024">main()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>.</p>

</div>
</div>
<a id="a63ee8ae7daaa5e8a4222a67dcf48366f" name="a63ee8ae7daaa5e8a4222a67dcf48366f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63ee8ae7daaa5e8a4222a67dcf48366f">&#9670;&nbsp;</a></span>street_msg_timestamp_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long long lci_strategic_plugin::LCIStrategicPlugin::street_msg_timestamp_ = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00193">193</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00937">mobilityOperationCb()</a>.</p>

</div>
</div>
<a id="a4c5c4c4424dbe28de12ecc631c817daa" name="a4c5c4c4424dbe28de12ecc631c817daa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c5c4c4424dbe28de12ecc631c817daa">&#9670;&nbsp;</a></span>tf2_buffer_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tf2_ros::Buffer lci_strategic_plugin::LCIStrategicPlugin::tf2_buffer_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00747">747</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00088">lookupFrontBumperTransform()</a>.</p>

</div>
</div>
<a id="aef286b3de570f73e947a6f2e223b0c90" name="aef286b3de570f73e947a6f2e223b0c90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef286b3de570f73e947a6f2e223b0c90">&#9670;&nbsp;</a></span>tf2_listener_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;tf2_ros::TransformListener&gt; lci_strategic_plugin::LCIStrategicPlugin::tf2_listener_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00748">748</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00088">lookupFrontBumperTransform()</a>.</p>

</div>
</div>
<a id="ada2e0860177c4a9126e3f7469a555124" name="ada2e0860177c4a9126e3f7469a555124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada2e0860177c4a9126e3f7469a555124">&#9670;&nbsp;</a></span>transition_table_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicStateTransitionTable.html">LCIStrategicStateTransitionTable</a> lci_strategic_plugin::LCIStrategicPlugin::transition_table_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State Machine Transition table. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00736">736</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00908">planWhenDEPARTING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">planWhenWAITING()</a>.</p>

</div>
</div>
<a id="a31499f8e464eedc17d071335fb9ce1ad" name="a31499f8e464eedc17d071335fb9ce1ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31499f8e464eedc17d071335fb9ce1ad">&#9670;&nbsp;</a></span>upcoming_id_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string lci_strategic_plugin::LCIStrategicPlugin::upcoming_id_ = &quot;&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00722">722</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00983">generateMobilityOperation()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>.</p>

</div>
</div>
<a id="a2962a4cd6062a6c5b0191b574fbaa8cf" name="a2962a4cd6062a6c5b0191b574fbaa8cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2962a4cd6062a6c5b0191b574fbaa8cf">&#9670;&nbsp;</a></span>wm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecarma__wm.html#af4db1afaead7afeb1868ba91a8dfd39a">carma_wm::WorldModelConstPtr</a> lci_strategic_plugin::LCIStrategicPlugin::wm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>World Model pointer. </p>

<p class="definition">Definition at line <a class="el" href="lci__strategic__plugin_8h_source.html#l00730">730</a> of file <a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a>.</p>

<p class="reference">Referenced by <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00133">findSpeedLimit()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00210">getLaneletsBetweenWithException()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l01050">planManeuverCb()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00521">planWhenAPPROACHING()</a>, <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00451">planWhenUNAVAILABLE()</a>, and <a class="el" href="lci__strategic__plugin_8cpp_source.html#l00841">planWhenWAITING()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>lci_strategic_plugin/include/lci_strategic_plugin/<a class="el" href="lci__strategic__plugin_8h_source.html">lci_strategic_plugin.h</a></li>
<li>lci_strategic_plugin/src/<a class="el" href="lci__strategic__plugin_8cpp_source.html">lci_strategic_plugin.cpp</a></li>
<li>lci_strategic_plugin/src/<a class="el" href="lci__strategic__plugin__algo_8cpp_source.html">lci_strategic_plugin_algo.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacelci__strategic__plugin.html">lci_strategic_plugin</a></li><li class="navelem"><a class="el" href="classlci__strategic__plugin_1_1LCIStrategicPlugin.html">LCIStrategicPlugin</a></li>
    <li class="footer">Generated on Thu Jan 19 2023 16:03:36 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
