<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: lightbar_manager/src/lightbar_manager_worker.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('lightbar__manager__worker_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">lightbar_manager_worker.cpp</div></div>
</div><!--header-->
<div class="contents">
<a href="lightbar__manager__worker_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="comment">/*</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span><span class="comment"> * Copyright (C) 2023 LEIDOS.</span></div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="comment"> *</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span><span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); you may not</span></div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="comment"> * use this file except in compliance with the License. You may obtain a copy of</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span><span class="comment"> * the License at</span></div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="comment"> *</span></div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span><span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span><span class="comment"> *</span></div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span><span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span><span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, WITHOUT</span></div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span><span class="comment"> * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the</span></div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span><span class="comment"> * License for the specific language governing permissions and limitations under</span></div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span><span class="comment"> * the License.</span></div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span><span class="comment"> */</span></div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span> </div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span><span class="preprocessor">#include &quot;<a class="code" href="lightbar__manager__worker_8hpp.html">lightbar_manager/lightbar_manager_worker.hpp</a>&quot;</span></div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span> </div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span><span class="keyword">namespace </span><a class="code hl_namespace" href="namespacelightbar__manager.html">lightbar_manager</a></div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>{</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#aa345cfa59e849bed2ad711ef6d701fe6">   22</a></span>    <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#aa345cfa59e849bed2ad711ef6d701fe6">LightBarManagerWorker::LightBarManagerWorker</a>(){};</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span> </div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a702dd03bbbf71db4ed844ea36aca5d52">   24</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a702dd03bbbf71db4ed844ea36aca5d52">LightBarManagerWorker::next</a>(<span class="keyword">const</span> <a class="code hl_enumeration" href="namespacelightbar__manager.html#adceb65c2a950c18cf2b4178b3bf97138">LightBarEvent</a>&amp; event)</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>    {</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>        <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a9802b2f145a3f39461ecc9bf16757589">lbsm_</a>.<a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerStateMachine.html#a76c496e88d00d7e6099f3755f483b1e4">next</a>(event);</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>    }</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span> </div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#aa0813ce1187fa19e85b6d81d786fd80c">   29</a></span>    <a class="code hl_enumeration" href="namespacelightbar__manager.html#aab380495443d8cbd852a707cf8478f49">LightBarState</a> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#aa0813ce1187fa19e85b6d81d786fd80c">LightBarManagerWorker::getCurrentState</a>()</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>    {</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a9802b2f145a3f39461ecc9bf16757589">lbsm_</a>.<a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerStateMachine.html#a393463cfebd28b324093b8710b3a7ae9">getCurrentState</a>();</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>    }</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span> </div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a5d97eea8554603686b771b5f1452a140">   34</a></span>    std::vector&lt;carma_msgs::msg::LightBarIndicator&gt; <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a5d97eea8554603686b771b5f1452a140">LightBarManagerWorker::getMsg</a>(std::vector&lt;LightBarIndicator&gt; indicators)</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>    {</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>        std::vector&lt;carma_msgs::msg::LightBarIndicator&gt; return_msg;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> indicator : indicators)</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>        {</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>            <a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">carma_msgs::msg::LightBarIndicator</a> msg;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>            msg.indicator = indicator;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>            return_msg.push_back(msg);</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>        }</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>        <span class="keywordflow">return</span> return_msg;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>    }</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span> </div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#ae6c34fc6fc03ad22b2beddf233e9a807">   46</a></span>    std::vector&lt;carma_msgs::msg::LightBarCDAType&gt; <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a5d97eea8554603686b771b5f1452a140">LightBarManagerWorker::getMsg</a>(std::vector&lt;LightBarCDAType&gt; cda_types)</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>    {</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>        std::vector&lt;carma_msgs::msg::LightBarCDAType&gt; return_msg;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> cda_type : cda_types)</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>        {</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>            <a class="code hl_enumeration" href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6">carma_msgs::msg::LightBarCDAType</a> msg;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>            msg.type = cda_type;</div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>            return_msg.push_back(msg);</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>        }</div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>        <span class="keywordflow">return</span> return_msg;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>    }</div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a9f224d93c6c61eafdd7c625489acc1c9">   57</a></span>    carma_msgs::msg::LightBarIndicatorControllers <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a5d97eea8554603686b771b5f1452a140">LightBarManagerWorker::getMsg</a>(std::map&lt;LightBarIndicator, std::string&gt; ind_ctrl_map)</div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span>    {</div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span>        carma_msgs::msg::LightBarIndicatorControllers curr;</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        curr.green_solid_owner = ind_ctrl_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a5f52fb059d68323069762b6b9dcce921">GREEN_SOLID</a>];</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>        curr.green_flash_owner = ind_ctrl_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>];</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        curr.yellow_sides_owner= ind_ctrl_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a12bd8782875f12186b66e3f298d8c96b">YELLOW_SIDES</a>];</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        curr.yellow_dim_owner = ind_ctrl_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5ac33b4736a79ec97a0dc9b83978c15715">YELLOW_DIM</a>];</div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span>        curr.yellow_flash_owner = ind_ctrl_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>];</div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span>        curr.yellow_arrow_left_owner = ind_ctrl_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">YELLOW_ARROW_LEFT</a>];</div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span>        curr.yellow_arrow_right_owner = ind_ctrl_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">YELLOW_ARROW_RIGHT</a>];</div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span>        curr.yellow_arrow_out_owner = ind_ctrl_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>];</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span> </div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span>        <span class="keywordflow">return</span> curr;</div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span>    }</div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span> </div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#ab63ee2bb6465ded03f6ac3f6b0a19dad">   72</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#ab63ee2bb6465ded03f6ac3f6b0a19dad">LightBarManagerWorker::handleStateChange</a>(<span class="keyword">const</span> carma_planning_msgs::msg::GuidanceState&amp; msg)</div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span>    {</div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span>        <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a9802b2f145a3f39461ecc9bf16757589">lbsm_</a>.<a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerStateMachine.html#a8569debf2f68e7ab842eab6e811e2745">handleStateChange</a>(msg);</div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>    }</div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span> </div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a580db904eba11671deadd2e242a221e7">   78</a></span>    std::vector&lt;lightbar_manager::LightBarIndicator&gt; <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a580db904eba11671deadd2e242a221e7">LightBarManagerWorker::handleTurnSignal</a>(<span class="keyword">const</span> automotive_platform_msgs::msg::TurnSignalCommand&amp; msg)</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>    {</div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span>        std::vector&lt;lightbar_manager::LightBarIndicator&gt; turn_signal;</div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span>        <span class="keywordflow">if</span> (msg.turn_signal == <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a87ec4e95e74a610ce28531e2546667e0">current_turn_signal_</a>)</div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span>        {</div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span>            <span class="keywordflow">return</span> {};</div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span>        }</div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span>        <span class="keywordflow">if</span> (msg.turn_signal == automotive_platform_msgs::msg::TurnSignalCommand::LEFT) <span class="comment">//NONE -&gt; LEFT</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span>        {</div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span>            turn_signal.push_back(<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">lightbar_manager::LightBarIndicator::YELLOW_ARROW_LEFT</a>);  </div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span>        }</div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg.turn_signal == automotive_platform_msgs::msg::TurnSignalCommand::RIGHT) <span class="comment">//NONE -&gt; RIGHT</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>        {</div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span>            turn_signal.push_back(<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">lightbar_manager::LightBarIndicator::YELLOW_ARROW_RIGHT</a>);</div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span>        }</div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg.turn_signal == automotive_platform_msgs::msg::TurnSignalCommand::NONE) </div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span>        {</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>            <span class="comment">// check previous signal</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a87ec4e95e74a610ce28531e2546667e0">current_turn_signal_</a> == automotive_platform_msgs::msg::TurnSignalCommand::RIGHT) <span class="comment">// RIGHT -&gt; NONE</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span>                turn_signal.push_back(<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">lightbar_manager::LightBarIndicator::YELLOW_ARROW_RIGHT</a>);</div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a87ec4e95e74a610ce28531e2546667e0">current_turn_signal_</a> == automotive_platform_msgs::msg::TurnSignalCommand::LEFT) <span class="comment">// LEFT -&gt; NONE</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>                turn_signal.push_back(<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">lightbar_manager::LightBarIndicator::YELLOW_ARROW_LEFT</a>);</div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span>        }</div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span> </div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>        <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a87ec4e95e74a610ce28531e2546667e0">current_turn_signal_</a> = msg.turn_signal;</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>        <span class="keywordflow">return</span> turn_signal;</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>    }</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#aa448d7efe94015f27631c01700b0271a">  106</a></span>    std::map&lt;LightBarIndicator, std::string&gt; <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#aa448d7efe94015f27631c01700b0271a">LightBarManagerWorker::getIndicatorControllers</a>()</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span>    {</div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>;</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>    }</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>    </div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span> </div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a44855b60fce8a4b7dc63a179803fef3f">  112</a></span>    std::map&lt;LightBarCDAType, LightBarIndicator&gt; <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a44855b60fce8a4b7dc63a179803fef3f">LightBarManagerWorker::setIndicatorCDAMap</a>(<span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; lightbar_cda_table, <span class="keyword">const</span> std::vector&lt;std::string&gt;&amp; lightbar_ind_table)</div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span>    {</div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span>        <span class="comment">// In case if the parameter is not loaded corretly and there is an error, return this</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span>        std::map&lt;std::string, std::string&gt; raw_map;</div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt; lightbar_cda_table.size(); <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> ++)</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        {</div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span>            raw_map[lightbar_cda_table[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>]] = lightbar_ind_table[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>];</div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span>        }</div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span>        </div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span>        std::map&lt;LightBarCDAType, LightBarIndicator&gt; default_map;</div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span>        </div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span>        default_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6a15f3f07c49145483a0deee5693bb6fd3">TYPE_A</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5ac33b4736a79ec97a0dc9b83978c15715">YELLOW_DIM</a>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        default_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6a8b718fa266db941c976a5f49a6202747">TYPE_B</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5ac33b4736a79ec97a0dc9b83978c15715">YELLOW_DIM</a>;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>        default_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6ac7805f8c3fbbfc7b32c5ffb674e63c20">TYPE_C</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>;</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>        default_map[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6ae194fd35226548432a61d26000de46f8">TYPE_D</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a12bd8782875f12186b66e3f298d8c96b">YELLOW_SIDES</a>;</div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span> </div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span>        <span class="keywordflow">if</span> (raw_map.size() &lt; 4)</div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span>        {</div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span>            RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lightbar_manager&quot;</span>),<span class="stringliteral">&quot;In function: &quot;</span> &lt;&lt; __FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;: LightBarManager&#39;s CDAType to Indicator table is not configured correctly. Using default mapping...&quot;</span>);</div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span>            <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a> = default_map;</div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span>            <span class="keywordflow">return</span> <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a>;</div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span>        }</div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span>        </div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span>        <span class="comment">// Convert from string:string mapping to correct enums</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span>        <span class="keywordflow">for</span> (std::pair&lt;std::string, std::string&gt; element : raw_map)</div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span>        {</div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span>            <a class="code hl_enumeration" href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6">LightBarCDAType</a> cda_type;</div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span>            <a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a> indicator;</div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span>            <span class="keywordflow">try</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span>            {</div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span>                cda_type = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#abfa7dfb690d001500f0481db016994cc">cda_type_dict_</a>.at(element.first);</div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span>            }</div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span>            <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception&amp; e)</div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span>            {</div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span>                RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lightbar_manager&quot;</span>),<span class="stringliteral">&quot;In function: &quot;</span> &lt;&lt; __FUNCTION__ &lt;&lt; </div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span>                <span class="stringliteral">&quot;: LightBarManager Received unknown CDA Msg Type. Using default mapping for cda-indicators...&quot;</span>);</div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a> = default_map;</div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a>;</div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span>            }</div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span>            <span class="keywordflow">try</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span>            {</div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span>                indicator = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a400e249dd7a77a92376bd4340ae0f265">ind_dict</a>.at(element.second);</div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span>            }</div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span>            <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception&amp; e)</div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span>            {</div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span>                RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lightbar_manager&quot;</span>),<span class="stringliteral">&quot;In function: &quot;</span> &lt;&lt; __FUNCTION__ &lt;&lt; </div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span>                <span class="stringliteral">&quot;: LightBarManager Received unknown indicator type. Using default mapping for cda-indicators...&quot;</span>);</div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a> = default_map;</div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a>;</div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span>            }</div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span>            <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a>.emplace(cda_type, indicator);</div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span>        }</div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a>;</div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span>    }</div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span> </div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">  167</a></span>    <span class="keywordtype">bool</span> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">LightBarManagerWorker::hasHigherPriority</a> (std::string requester, std::string controller)</div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span>    {</div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span>        <span class="keyword">auto</span> start = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a46e765158a50128289e76a0913c70faa">control_priorities</a>.begin();</div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span>        <span class="keyword">auto</span> end = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a46e765158a50128289e76a0913c70faa">control_priorities</a>.end();</div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span>        </div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span>        <span class="keyword">auto</span> requesterPriority = std::find(start, end, requester);</div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span>        <span class="keyword">auto</span> controllerPriority = std::find(start, end, controller);</div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span> </div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span>        <span class="comment">// Components not in the priority list are assumed to have the lowest priority</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span>        <span class="keywordflow">if</span> (requesterPriority == end)</div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span>        {</div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span>            RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lightbar_manager&quot;</span>),requester &lt;&lt; <span class="stringliteral">&quot; is referenced in lightbar_manager, but is not in the priority list&quot;</span>);</div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span>        }  </div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (controllerPriority == end)</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>        {</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>            RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lightbar_manager&quot;</span>),controller &lt;&lt; <span class="stringliteral">&quot; is referenced in lightbar_manager and is controlling an indicator, but is not in the priority list&quot;</span>);</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>        }</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>        <span class="keywordflow">return</span> (requesterPriority - end) &lt;= (controllerPriority - end);</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>    }</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span> </div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#ac3da8c268b0d6fb5bf556ce181f20916">  189</a></span>    std::vector&lt;LightBarIndicator&gt; <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#ac3da8c268b0d6fb5bf556ce181f20916">LightBarManagerWorker::requestControl</a>(std::vector&lt;LightBarIndicator&gt; ind_list, std::string requester_name)</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>    {</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>        std::vector&lt;LightBarIndicator&gt; denied_list;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>        std::string indicator_owner;</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>        <span class="comment">// Attempt to acquire control of every indicators</span></div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>        <span class="keywordflow">for</span> (<a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a> indicator: ind_list) </div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>        {</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>            <span class="comment">// Attempt control</span></div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>            <span class="keywordflow">try</span></div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>            {</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>                indicator_owner = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>.at(indicator);</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>            }</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>            <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception&amp; e)</div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span>            {</div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span>                RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lightbar_manager&quot;</span>),<span class="stringliteral">&quot;In function: &quot;</span> &lt;&lt; __FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;, the component, &quot;</span> &lt;&lt; requester_name </div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span>                    &lt;&lt; <span class="stringliteral">&quot;, requested a control of invalid indicator. Skipping with WARNING:&quot;</span> &lt;&lt; e.what() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>            }</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>        </div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>            <span class="keywordflow">if</span> (indicator_owner == <span class="stringliteral">&quot;&quot;</span>) </div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>            {   </div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>                <span class="comment">// Add new controller If no other component has claimed this indicator</span></div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>                <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1ab20ebfd5b51741a279e0db95e22ace">handleControlChange</a>(indicator, requester_name, <a class="code hl_enumvalue" href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595a05b3b3edde2417e2e6f7946fc276bc34">CONTROL_GAINED</a>);</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>            } </div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (indicator_owner != requester_name) </div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>            {   </div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>                <span class="comment">// If this indicator is already controlled</span></div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>                <span class="comment">// If the requesting component has higher priority it may take control of this indicator</span></div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">hasHigherPriority</a>(requester_name, indicator_owner)) </div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>                {</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>                    <span class="comment">// Handle previous controller</span></div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>                    <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1ab20ebfd5b51741a279e0db95e22ace">handleControlChange</a>(indicator, indicator_owner, <a class="code hl_enumvalue" href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595a235509dd9a0e73a902e6c0367d0d6de9">CONTROL_LOST</a>);</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>                    <span class="comment">// Add new controller</span></div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>                    <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1ab20ebfd5b51741a279e0db95e22ace">handleControlChange</a>(indicator, requester_name, <a class="code hl_enumvalue" href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595a05b3b3edde2417e2e6f7946fc276bc34">CONTROL_GAINED</a>);</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>                } </div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>                <span class="keywordflow">else</span> </div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>                {</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>                    denied_list.push_back(indicator); <span class="comment">// Notify caller of failure to take control of component</span></div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>                }</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>            }</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>        }</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>        <span class="keywordflow">return</span> denied_list;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>    }   </div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span> </div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a82bb65255d8dba00ae624d7e41b2643b">  233</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a82bb65255d8dba00ae624d7e41b2643b">LightBarManagerWorker::releaseControl</a>(std::vector&lt;LightBarIndicator&gt; ind_list, std::string owner_name)</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>    {</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>        std::string current_owner;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>        </div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>        <span class="comment">// Attempt to release control of all indicators</span></div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>        <span class="keywordflow">for</span> (<a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a> indicator: ind_list) </div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>        {</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>            <span class="comment">// Attempt release control</span></div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>            <span class="keywordflow">try</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>            {</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>                current_owner = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>.at(indicator);</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>            }</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>            <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception&amp; e)</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>            {</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>                RCLCPP_WARN_STREAM(rclcpp::get_logger(<span class="stringliteral">&quot;lightbar_manager&quot;</span>),<span class="stringliteral">&quot;In function: &quot;</span> &lt;&lt; __FUNCTION__ &lt;&lt; <span class="stringliteral">&quot;, the component, &quot;</span> &lt;&lt; owner_name </div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>                    &lt;&lt; <span class="stringliteral">&quot;, requested a release of an invalid indicator. Skipping with WARNING:&quot;</span> &lt;&lt; e.what() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>            }</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span> </div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>            <span class="comment">// Lose control only if the requester is currently controlling it</span></div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>            <span class="keywordflow">if</span> (current_owner == owner_name) </div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>            {   </div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>                <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1ab20ebfd5b51741a279e0db95e22ace">handleControlChange</a>(indicator,owner_name, <a class="code hl_enumvalue" href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595a235509dd9a0e73a902e6c0367d0d6de9">CONTROL_LOST</a>);</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>            }</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>        }</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span> </div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>    }</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>    </div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1ab20ebfd5b51741a279e0db95e22ace">  262</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1ab20ebfd5b51741a279e0db95e22ace">LightBarManagerWorker::handleControlChange</a>(<a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a> indicator, std::string controller, <a class="code hl_enumeration" href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595">IndicatorControlEvent</a> event)</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>    {</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>        <span class="comment">// Pick new owner name depending on losing or gaining control</span></div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>        std::string new_owner;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>        <span class="keywordflow">if</span> (event == <a class="code hl_enumvalue" href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595a05b3b3edde2417e2e6f7946fc276bc34">CONTROL_GAINED</a>)</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>            new_owner = controller;</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>            new_owner = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>        </div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>        <span class="comment">// Handle mutually in-exclusive indicators</span></div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>        <span class="comment">// These are indicators that are controlled indirectly due to change in one indicator</span></div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>        <span class="comment">// Priority of every one of those indicators, must be compared to that of requester to change it.</span></div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>        <span class="comment">// e.g. if A&gt;B and YELLOW_RIGHT= &quot;&quot; &amp; YELLOW_LEFT = A (means YELLOW_FLASH = A &amp; YELLOW_OUT = A)</span></div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>        <span class="comment">// Then if YELLOW_RIGHT = &quot;&quot; -&gt; YELLOW_RIGHT = &quot;B&quot;, B should not be able to control YELLOW_FLASH nor YELLOW_OUT</span></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>        <span class="keywordflow">switch</span> (indicator)</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>        {</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">YELLOW_ARROW_LEFT</a>:</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">YELLOW_ARROW_RIGHT</a>:</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>] = </div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>                    <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">hasHigherPriority</a>(controller, <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>]) ? new_owner :<a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>];</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>] = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>]; <span class="comment">//they always have same owner</span></div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[indicator] = new_owner;</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>:</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>:</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">YELLOW_ARROW_LEFT</a>] = </div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>                    <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">hasHigherPriority</a>(controller, <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">YELLOW_ARROW_LEFT</a>]) ? new_owner :<a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">YELLOW_ARROW_LEFT</a>];</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">YELLOW_ARROW_RIGHT</a>] = </div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>                    <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">hasHigherPriority</a>(controller, <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">YELLOW_ARROW_RIGHT</a>]) ? new_owner :<a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">YELLOW_ARROW_RIGHT</a>];</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>] = </div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>                    <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">hasHigherPriority</a>(controller, <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>]) ? new_owner :<a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>];</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>] = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>]; <span class="comment">//they always have same owner</span></div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>:</div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a5f52fb059d68323069762b6b9dcce921">GREEN_SOLID</a>:</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>] = </div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>                    <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">hasHigherPriority</a>(controller, <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>]) ? new_owner :<a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>];</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a5f52fb059d68323069762b6b9dcce921">GREEN_SOLID</a>] = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>]; <span class="comment">//they always have same owner</span></div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>            <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>                <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[indicator] = new_owner;</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>        }</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>    }</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span> </div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a3d03c3986dabd975dcaa84814df3fe9a">  308</a></span>    std::vector&lt;IndicatorStatus&gt; <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a3d03c3986dabd975dcaa84814df3fe9a">LightBarManagerWorker::setIndicator</a>(<a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a> ind, <a class="code hl_enumeration" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22">IndicatorStatus</a> ind_status, std::string requester_name)</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>    {</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>        std::string current_controller = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[ind];</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span> </div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>        <span class="comment">// Use a local copy in case manager fails to set the light</span></div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>        std::vector&lt;IndicatorStatus&gt; light_status_copy = <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a09a60f7ba35e8d7a4b5af0c201c717cb">light_status</a>;</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span> </div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>        <span class="comment">// Handle mutually non-exclusive cases</span></div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>        <span class="comment">// If desired indicator is already at the status do not change any indicators </span></div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>        <span class="keywordflow">if</span> (ind_status != light_status_copy[ind])</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>        {</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>            <span class="keywordflow">switch</span>(ind)</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>            {</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">YELLOW_ARROW_LEFT</a>:</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">YELLOW_ARROW_RIGHT</a>:</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>                    light_status_copy[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">OFF</a>;</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>                    light_status_copy[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">OFF</a>;</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>:</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>:</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>                    light_status_copy[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">OFF</a>;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>                    light_status_copy[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">OFF</a>;</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>                    light_status_copy[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">YELLOW_ARROW_LEFT</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">OFF</a>;</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>                    light_status_copy[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">YELLOW_ARROW_RIGHT</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">OFF</a>;</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>:</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>                <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a5f52fb059d68323069762b6b9dcce921">GREEN_SOLID</a>:</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>                    light_status_copy[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">OFF</a>;</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>                    light_status_copy[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a5f52fb059d68323069762b6b9dcce921">GREEN_SOLID</a>] = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">OFF</a>;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>            }</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>        }</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>        </div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>        <span class="comment">// Set the desired indicator now that there is no conflict.</span></div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>        light_status_copy[ind] = ind_status;</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>        <span class="keywordflow">return</span> light_status_copy;</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span> </div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>    }</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span> </div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a2b38945747c85d581c95a7c232adde80">  349</a></span>    carma_driver_msgs::msg::LightBarStatus <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a2b38945747c85d581c95a7c232adde80">LightBarManagerWorker::getLightBarStatusMsg</a>(std::vector&lt;IndicatorStatus&gt; indicators)</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>    {</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>        <span class="comment">// it is assumed that mutually exclusive cases are handled properly.</span></div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>        carma_driver_msgs::msg::LightBarStatus msg;</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>        msg.green_solid = indicators[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a5f52fb059d68323069762b6b9dcce921">GREEN_SOLID</a>] == <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">ON</a> ? <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a> : <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">carma_driver_msgs::msg::LightBarStatus::OFF</a>;</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>        msg.green_flash = indicators[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">GREEN_FLASH</a>]== <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">ON</a> ? <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a> : <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">carma_driver_msgs::msg::LightBarStatus::OFF</a>;</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>        msg.sides_solid = indicators[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a12bd8782875f12186b66e3f298d8c96b">YELLOW_SIDES</a>]== <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">ON</a> ? <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a> : <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">carma_driver_msgs::msg::LightBarStatus::OFF</a>;</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>        msg.yellow_solid = indicators[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5ac33b4736a79ec97a0dc9b83978c15715">YELLOW_DIM</a>]== <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">ON</a> ? <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a> : <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">carma_driver_msgs::msg::LightBarStatus::OFF</a>;</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>        msg.flash = indicators[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">YELLOW_FLASH</a>]== <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">ON</a> ? <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a> : <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">carma_driver_msgs::msg::LightBarStatus::OFF</a>;</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span> </div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>        msg.left_arrow = indicators[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">YELLOW_ARROW_LEFT</a>]== <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">ON</a> ? <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a> : <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">carma_driver_msgs::msg::LightBarStatus::OFF</a>;</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>        msg.right_arrow = indicators[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">YELLOW_ARROW_RIGHT</a>]== <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">ON</a> ? <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a> : <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">carma_driver_msgs::msg::LightBarStatus::OFF</a>;</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>        <span class="comment">// for YELLOW_ARROW_OUT set left and right</span></div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>        <span class="keywordflow">if</span> (indicators[<a class="code hl_enumvalue" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">YELLOW_ARROW_OUT</a>] == <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">ON</a>)</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>        {</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>            msg.left_arrow = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a>;</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>            msg.right_arrow = <a class="code hl_enumvalue" href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">carma_driver_msgs::msg::LightBarStatus::ON</a>;</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>        }</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>        <span class="keywordflow">return</span> msg;</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>    }</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span> </div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a490f514653cff11e8771caefe31d1dd8">  370</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a490f514653cff11e8771caefe31d1dd8">LightBarManagerWorker::setIndicatorControllers</a>()</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>    {</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt;= <a class="code hl_define" href="lightbar__manager__worker_8hpp.html#a1d23dff8c7a77020551af311f6791995">INDICATOR_COUNT</a>; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++ )</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>        {</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>            <a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a> indicator = <span class="keyword">static_cast&lt;</span><a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a><span class="keyword">&gt;</span>(<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>);</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>            <span class="comment">// initialize the owner as empty string</span></div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>            <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a>[indicator] = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>        }</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>    }</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span> </div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a30f96b835b522c0fc7331dd162658940">  380</a></span>    <span class="keywordtype">void</span> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a490f514653cff11e8771caefe31d1dd8">LightBarManagerWorker::setIndicatorControllers</a>(std::map&lt;LightBarIndicator, std::string&gt; ind_ctrl_map)</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>    {</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>        <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">ind_ctrl_map_</a> = ind_ctrl_map;</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>    }</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span> </div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a65f1d2fae6dbf61646fbde34a29f5719">  385</a></span>    <a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a65f1d2fae6dbf61646fbde34a29f5719">LightBarManagerWorker::getIndicatorFromCDAType</a>(<a class="code hl_enumeration" href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6">LightBarCDAType</a> cda_type)</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>    {</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a>[cda_type];</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>    }</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span> </div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno"><a class="line" href="classlightbar__manager_1_1LightBarManagerWorker.html#a22a90f9d016f05c57c7498f62ac0db04">  390</a></span>    <a class="code hl_enumeration" href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6">LightBarCDAType</a> <a class="code hl_function" href="classlightbar__manager_1_1LightBarManagerWorker.html#a22a90f9d016f05c57c7498f62ac0db04">LightBarManagerWorker::getCDATypeFromIndicator</a>(<a class="code hl_enumeration" href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">LightBarIndicator</a> indicator)</div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>    {</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>        <span class="keywordflow">for</span> (std::pair&lt;LightBarCDAType,LightBarIndicator&gt; element : <a class="code hl_variable" href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">cda_ind_map_</a>) </div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>        {</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>            <span class="keywordflow">if</span> (element.second == indicator)</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>                <span class="keywordflow">return</span> element.first;</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>        }</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>        <span class="comment">// if the indicator does not have any mapped CDA Msg Type, throw and handle outside</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span>        <span class="keywordflow">throw</span> <a class="code hl_struct" href="structlightbar__manager_1_1INDICATOR__NOT__MAPPED.html">INDICATOR_NOT_MAPPED</a>(std::string(<span class="stringliteral">&quot;Specified indicator does not have a mapped CDA Msg Type. Skipping...&quot;</span>)); </div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span>    }</div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span> </div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span>}</div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerStateMachine_html_a393463cfebd28b324093b8710b3a7ae9"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerStateMachine.html#a393463cfebd28b324093b8710b3a7ae9">lightbar_manager::LightBarManagerStateMachine::getCurrentState</a></div><div class="ttdeci">LightBarState getCurrentState()</div><div class="ttdoc">Get current state machine status.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8cpp_source.html#l00114">lightbar_manager_sm.cpp:114</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerStateMachine_html_a76c496e88d00d7e6099f3755f483b1e4"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerStateMachine.html#a76c496e88d00d7e6099f3755f483b1e4">lightbar_manager::LightBarManagerStateMachine::next</a></div><div class="ttdeci">void next(const LightBarEvent &amp;event)</div><div class="ttdoc">Transition to the next state of the LightBarStateMachine.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8cpp_source.html#l00025">lightbar_manager_sm.cpp:25</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerStateMachine_html_a8569debf2f68e7ab842eab6e811e2745"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerStateMachine.html#a8569debf2f68e7ab842eab6e811e2745">lightbar_manager::LightBarManagerStateMachine::handleStateChange</a></div><div class="ttdeci">void handleStateChange(const carma_planning_msgs::msg::GuidanceState &amp;msg)</div><div class="ttdoc">This function triggers the transitioning to the next state in LightBarStateMachine based on the guida...</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8cpp_source.html#l00062">lightbar_manager_sm.cpp:62</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a09a60f7ba35e8d7a4b5af0c201c717cb"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a09a60f7ba35e8d7a4b5af0c201c717cb">lightbar_manager::LightBarManagerWorker::light_status</a></div><div class="ttdeci">std::vector&lt; IndicatorStatus &gt; light_status</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00177">lightbar_manager_worker.hpp:177</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a1ab20ebfd5b51741a279e0db95e22ace"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a1ab20ebfd5b51741a279e0db95e22ace">lightbar_manager::LightBarManagerWorker::handleControlChange</a></div><div class="ttdeci">void handleControlChange(LightBarIndicator indicator, std::string controller, IndicatorControlEvent event)</div><div class="ttdoc">Helper function that handles control lost/gained event of a component. This function registers/remove...</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00262">lightbar_manager_worker.cpp:262</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a1cc71dbc68afd3f667aecfb269a98055"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a1cc71dbc68afd3f667aecfb269a98055">lightbar_manager::LightBarManagerWorker::cda_ind_map_</a></div><div class="ttdeci">std::map&lt; LightBarCDAType, LightBarIndicator &gt; cda_ind_map_</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00189">lightbar_manager_worker.hpp:189</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a22a90f9d016f05c57c7498f62ac0db04"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a22a90f9d016f05c57c7498f62ac0db04">lightbar_manager::LightBarManagerWorker::getCDATypeFromIndicator</a></div><div class="ttdeci">LightBarCDAType getCDATypeFromIndicator(LightBarIndicator indicator)</div><div class="ttdoc">Helper functions that translates a CDA msg type to its corresponding indicator   The mapping between ...</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00390">lightbar_manager_worker.cpp:390</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a2b38945747c85d581c95a7c232adde80"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a2b38945747c85d581c95a7c232adde80">lightbar_manager::LightBarManagerWorker::getLightBarStatusMsg</a></div><div class="ttdeci">carma_driver_msgs::msg::LightBarStatus getLightBarStatusMsg(std::vector&lt; IndicatorStatus &gt; indicators)</div><div class="ttdoc">Helper function that translates IndicatorStatus vector into LightBarStatus.msg, a lightbar driver com...</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00349">lightbar_manager_worker.cpp:349</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a3d03c3986dabd975dcaa84814df3fe9a"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a3d03c3986dabd975dcaa84814df3fe9a">lightbar_manager::LightBarManagerWorker::setIndicator</a></div><div class="ttdeci">std::vector&lt; IndicatorStatus &gt; setIndicator(LightBarIndicator ind, IndicatorStatus ind_status, std::string requester_name)</div><div class="ttdoc">Try to turn the given indicator ON or OFF (locally) upon the given component's request.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00308">lightbar_manager_worker.cpp:308</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a400e249dd7a77a92376bd4340ae0f265"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a400e249dd7a77a92376bd4340ae0f265">lightbar_manager::LightBarManagerWorker::ind_dict</a></div><div class="ttdeci">std::map&lt; std::string, LightBarIndicator &gt; ind_dict</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00201">lightbar_manager_worker.hpp:201</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a44855b60fce8a4b7dc63a179803fef3f"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a44855b60fce8a4b7dc63a179803fef3f">lightbar_manager::LightBarManagerWorker::setIndicatorCDAMap</a></div><div class="ttdeci">std::map&lt; LightBarCDAType, LightBarIndicator &gt; setIndicatorCDAMap(const std::vector&lt; std::string &gt; &amp;lightbar_cda_table, const std::vector&lt; std::string &gt; &amp;lightbar_ind_table)</div><div class="ttdoc">Helper function that initializes CDAType to Indicator Mapping (updates internal copy)</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00112">lightbar_manager_worker.cpp:112</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a46e765158a50128289e76a0913c70faa"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a46e765158a50128289e76a0913c70faa">lightbar_manager::LightBarManagerWorker::control_priorities</a></div><div class="ttdeci">std::vector&lt; std::string &gt; control_priorities</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00174">lightbar_manager_worker.hpp:174</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a490f514653cff11e8771caefe31d1dd8"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a490f514653cff11e8771caefe31d1dd8">lightbar_manager::LightBarManagerWorker::setIndicatorControllers</a></div><div class="ttdeci">void setIndicatorControllers()</div><div class="ttdoc">Helper function that initializes supporting Indicators and their owner mapping as empty strings.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00370">lightbar_manager_worker.cpp:370</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a580db904eba11671deadd2e242a221e7"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a580db904eba11671deadd2e242a221e7">lightbar_manager::LightBarManagerWorker::handleTurnSignal</a></div><div class="ttdeci">std::vector&lt; lightbar_manager::LightBarIndicator &gt; handleTurnSignal(const automotive_platform_msgs::msg::TurnSignalCommand &amp;msg)</div><div class="ttdoc">This function checks if the turn signal should be changed on the lightbar.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00078">lightbar_manager_worker.cpp:78</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a5d97eea8554603686b771b5f1452a140"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a5d97eea8554603686b771b5f1452a140">lightbar_manager::LightBarManagerWorker::getMsg</a></div><div class="ttdeci">std::vector&lt; carma_msgs::msg::LightBarIndicator &gt; getMsg(std::vector&lt; LightBarIndicator &gt; indicators)</div><div class="ttdoc">Helper function that translates LightBarIndicator vector into LightBarIndicator.msg vector.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00034">lightbar_manager_worker.cpp:34</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a65f1d2fae6dbf61646fbde34a29f5719"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a65f1d2fae6dbf61646fbde34a29f5719">lightbar_manager::LightBarManagerWorker::getIndicatorFromCDAType</a></div><div class="ttdeci">LightBarIndicator getIndicatorFromCDAType(LightBarCDAType cda_type)</div><div class="ttdoc">Helper functions that translates an indicator to its corresponding CDA msg type   The mapping between...</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00385">lightbar_manager_worker.cpp:385</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a702dd03bbbf71db4ed844ea36aca5d52"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a702dd03bbbf71db4ed844ea36aca5d52">lightbar_manager::LightBarManagerWorker::next</a></div><div class="ttdeci">void next(const LightBarEvent &amp;event)</div><div class="ttdoc">Transition to the next state of the LightBarStateMachine Not used at the moment as state machine full...</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00024">lightbar_manager_worker.cpp:24</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a82bb65255d8dba00ae624d7e41b2643b"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a82bb65255d8dba00ae624d7e41b2643b">lightbar_manager::LightBarManagerWorker::releaseControl</a></div><div class="ttdeci">void releaseControl(std::vector&lt; LightBarIndicator &gt; ind_list, std::string owner_name)</div><div class="ttdoc">Releases the specified owner plugin or component's control of the given indicator list....</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00233">lightbar_manager_worker.cpp:233</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a87ec4e95e74a610ce28531e2546667e0"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a87ec4e95e74a610ce28531e2546667e0">lightbar_manager::LightBarManagerWorker::current_turn_signal_</a></div><div class="ttdeci">uint8_t current_turn_signal_</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00192">lightbar_manager_worker.hpp:192</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a8c69c8813a8e89ed9f9e9a99d904d04c"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a8c69c8813a8e89ed9f9e9a99d904d04c">lightbar_manager::LightBarManagerWorker::ind_ctrl_map_</a></div><div class="ttdeci">std::map&lt; LightBarIndicator, std::string &gt; ind_ctrl_map_</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00186">lightbar_manager_worker.hpp:186</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_a9802b2f145a3f39461ecc9bf16757589"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#a9802b2f145a3f39461ecc9bf16757589">lightbar_manager::LightBarManagerWorker::lbsm_</a></div><div class="ttdeci">LightBarManagerStateMachine lbsm_</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00183">lightbar_manager_worker.hpp:183</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_aa0813ce1187fa19e85b6d81d786fd80c"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#aa0813ce1187fa19e85b6d81d786fd80c">lightbar_manager::LightBarManagerWorker::getCurrentState</a></div><div class="ttdeci">LightBarState getCurrentState()</div><div class="ttdoc">Get current state of the LightBarStateMachine.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00029">lightbar_manager_worker.cpp:29</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_aa345cfa59e849bed2ad711ef6d701fe6"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#aa345cfa59e849bed2ad711ef6d701fe6">lightbar_manager::LightBarManagerWorker::LightBarManagerWorker</a></div><div class="ttdeci">LightBarManagerWorker()</div><div class="ttdoc">Default constructor for LightBarManager.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00022">lightbar_manager_worker.cpp:22</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_aa448d7efe94015f27631c01700b0271a"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#aa448d7efe94015f27631c01700b0271a">lightbar_manager::LightBarManagerWorker::getIndicatorControllers</a></div><div class="ttdeci">std::map&lt; LightBarIndicator, std::string &gt; getIndicatorControllers()</div><div class="ttdoc">Helper function that gets all current owners of the indicator.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00106">lightbar_manager_worker.cpp:106</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_ab63ee2bb6465ded03f6ac3f6b0a19dad"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#ab63ee2bb6465ded03f6ac3f6b0a19dad">lightbar_manager::LightBarManagerWorker::handleStateChange</a></div><div class="ttdeci">void handleStateChange(const carma_planning_msgs::msg::GuidanceState &amp;msg)</div><div class="ttdoc">This function relays the state change msg to the state maching. It triggers the transitioning to the ...</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00072">lightbar_manager_worker.cpp:72</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_abfa7dfb690d001500f0481db016994cc"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#abfa7dfb690d001500f0481db016994cc">lightbar_manager::LightBarManagerWorker::cda_type_dict_</a></div><div class="ttdeci">std::map&lt; std::string, LightBarCDAType &gt; cda_type_dict_</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00195">lightbar_manager_worker.hpp:195</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_ac3da8c268b0d6fb5bf556ce181f20916"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#ac3da8c268b0d6fb5bf556ce181f20916">lightbar_manager::LightBarManagerWorker::requestControl</a></div><div class="ttdeci">std::vector&lt; LightBarIndicator &gt; requestControl(std::vector&lt; LightBarIndicator &gt; ind_list, std::string requester_name)</div><div class="ttdoc">Requests the control of the given list of indicators to the requester. This function handles successf...</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00189">lightbar_manager_worker.cpp:189</a></div></div>
<div class="ttc" id="aclasslightbar__manager_1_1LightBarManagerWorker_html_af3d10b2392abae33e33afe5a9bb3a2de"><div class="ttname"><a href="classlightbar__manager_1_1LightBarManagerWorker.html#af3d10b2392abae33e33afe5a9bb3a2de">lightbar_manager::LightBarManagerWorker::hasHigherPriority</a></div><div class="ttdeci">bool hasHigherPriority(std::string requester, std::string controller)</div><div class="ttdoc">Helper function that checks if the first input component has higher priority than the second.</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8cpp_source.html#l00167">lightbar_manager_worker.cpp:167</a></div></div>
<div class="ttc" id="alightbar__manager__worker_8hpp_html"><div class="ttname"><a href="lightbar__manager__worker_8hpp.html">lightbar_manager_worker.hpp</a></div></div>
<div class="ttc" id="alightbar__manager__worker_8hpp_html_a1d23dff8c7a77020551af311f6791995"><div class="ttname"><a href="lightbar__manager__worker_8hpp.html#a1d23dff8c7a77020551af311f6791995">INDICATOR_COUNT</a></div><div class="ttdeci">#define INDICATOR_COUNT</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__worker_8hpp_source.html#l00039">lightbar_manager_worker.hpp:39</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html"><div class="ttname"><a href="namespacelightbar__manager.html">lightbar_manager</a></div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__node_8hpp_source.html#l00040">lightbar_manager_node.hpp:41</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_a58c8ddeadc5c19beba4d78726f79a5b6"><div class="ttname"><a href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6">lightbar_manager::LightBarCDAType</a></div><div class="ttdeci">LightBarCDAType</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00039">lightbar_manager_sm.hpp:39</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_a58c8ddeadc5c19beba4d78726f79a5b6a15f3f07c49145483a0deee5693bb6fd3"><div class="ttname"><a href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6a15f3f07c49145483a0deee5693bb6fd3">lightbar_manager::TYPE_A</a></div><div class="ttdeci">@ TYPE_A</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00039">lightbar_manager_sm.hpp:39</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_a58c8ddeadc5c19beba4d78726f79a5b6a8b718fa266db941c976a5f49a6202747"><div class="ttname"><a href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6a8b718fa266db941c976a5f49a6202747">lightbar_manager::TYPE_B</a></div><div class="ttdeci">@ TYPE_B</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00039">lightbar_manager_sm.hpp:39</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_a58c8ddeadc5c19beba4d78726f79a5b6ac7805f8c3fbbfc7b32c5ffb674e63c20"><div class="ttname"><a href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6ac7805f8c3fbbfc7b32c5ffb674e63c20">lightbar_manager::TYPE_C</a></div><div class="ttdeci">@ TYPE_C</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00039">lightbar_manager_sm.hpp:39</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_a58c8ddeadc5c19beba4d78726f79a5b6ae194fd35226548432a61d26000de46f8"><div class="ttname"><a href="namespacelightbar__manager.html#a58c8ddeadc5c19beba4d78726f79a5b6ae194fd35226548432a61d26000de46f8">lightbar_manager::TYPE_D</a></div><div class="ttdeci">@ TYPE_D</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00039">lightbar_manager_sm.hpp:39</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_a91d9a15f8f9254d400b2123adb042c22"><div class="ttname"><a href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22">lightbar_manager::IndicatorStatus</a></div><div class="ttdeci">IndicatorStatus</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00034">lightbar_manager_sm.hpp:34</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac"><div class="ttname"><a href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22aa263418aef070612ba69e03cc2325fac">lightbar_manager::OFF</a></div><div class="ttdeci">@ OFF</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00034">lightbar_manager_sm.hpp:34</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3"><div class="ttname"><a href="namespacelightbar__manager.html#a91d9a15f8f9254d400b2123adb042c22ac04c0a5e7e0dbe8c83b7cb3dcee893f3">lightbar_manager::ON</a></div><div class="ttdeci">@ ON</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00034">lightbar_manager_sm.hpp:34</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_aab380495443d8cbd852a707cf8478f49"><div class="ttname"><a href="namespacelightbar__manager.html#aab380495443d8cbd852a707cf8478f49">lightbar_manager::LightBarState</a></div><div class="ttdeci">LightBarState</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00033">lightbar_manager_sm.hpp:33</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5">lightbar_manager::LightBarIndicator</a></div><div class="ttdeci">LightBarIndicator</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5a12bd8782875f12186b66e3f298d8c96b"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a12bd8782875f12186b66e3f298d8c96b">lightbar_manager::YELLOW_SIDES</a></div><div class="ttdeci">@ YELLOW_SIDES</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a326289b175712a9553f2832f2bb3c49a">lightbar_manager::YELLOW_ARROW_LEFT</a></div><div class="ttdeci">@ YELLOW_ARROW_LEFT</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a3ee4bb51dae324f0189de9d1a26f33c8">lightbar_manager::YELLOW_ARROW_RIGHT</a></div><div class="ttdeci">@ YELLOW_ARROW_RIGHT</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5a5f52fb059d68323069762b6b9dcce921"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a5f52fb059d68323069762b6b9dcce921">lightbar_manager::GREEN_SOLID</a></div><div class="ttdeci">@ GREEN_SOLID</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a691df4ceae93c8689c2ec7cc98521798">lightbar_manager::YELLOW_FLASH</a></div><div class="ttdeci">@ YELLOW_FLASH</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5a78f5ff7490fed87469e8e85daee3bfa7">lightbar_manager::GREEN_FLASH</a></div><div class="ttdeci">@ GREEN_FLASH</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5ac33b4736a79ec97a0dc9b83978c15715"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5ac33b4736a79ec97a0dc9b83978c15715">lightbar_manager::YELLOW_DIM</a></div><div class="ttdeci">@ YELLOW_DIM</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0"><div class="ttname"><a href="namespacelightbar__manager.html#ad65e92a99b6a98bdd0f10d921e9df5a5afe711ba8de3311ab7db7b80d7acb46a0">lightbar_manager::YELLOW_ARROW_OUT</a></div><div class="ttdeci">@ YELLOW_ARROW_OUT</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00031">lightbar_manager_sm.hpp:31</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_adceb65c2a950c18cf2b4178b3bf97138"><div class="ttname"><a href="namespacelightbar__manager.html#adceb65c2a950c18cf2b4178b3bf97138">lightbar_manager::LightBarEvent</a></div><div class="ttdeci">LightBarEvent</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00032">lightbar_manager_sm.hpp:32</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_aeae77409769a5bae91ce5a512a5f1595"><div class="ttname"><a href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595">lightbar_manager::IndicatorControlEvent</a></div><div class="ttdeci">IndicatorControlEvent</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00035">lightbar_manager_sm.hpp:35</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_aeae77409769a5bae91ce5a512a5f1595a05b3b3edde2417e2e6f7946fc276bc34"><div class="ttname"><a href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595a05b3b3edde2417e2e6f7946fc276bc34">lightbar_manager::CONTROL_GAINED</a></div><div class="ttdeci">@ CONTROL_GAINED</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00035">lightbar_manager_sm.hpp:35</a></div></div>
<div class="ttc" id="anamespacelightbar__manager_html_aeae77409769a5bae91ce5a512a5f1595a235509dd9a0e73a902e6c0367d0d6de9"><div class="ttname"><a href="namespacelightbar__manager.html#aeae77409769a5bae91ce5a512a5f1595a235509dd9a0e73a902e6c0367d0d6de9">lightbar_manager::CONTROL_LOST</a></div><div class="ttdeci">@ CONTROL_LOST</div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00035">lightbar_manager_sm.hpp:35</a></div></div>
<div class="ttc" id="anamespaceprocess__bag_html_af102a02c97622dd30b0dbf7bafb0d199"><div class="ttname"><a href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">process_bag.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="process__bag_8py_source.html#l00059">process_bag.py:59</a></div></div>
<div class="ttc" id="astructlightbar__manager_1_1INDICATOR__NOT__MAPPED_html"><div class="ttname"><a href="structlightbar__manager_1_1INDICATOR__NOT__MAPPED.html">lightbar_manager::INDICATOR_NOT_MAPPED</a></div><div class="ttdef"><b>Definition:</b> <a href="lightbar__manager__sm_8hpp_source.html#l00050">lightbar_manager_sm.hpp:50</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_6de6d91ae28aa232e144ef03014a8c1d.html">lightbar_manager</a></li><li class="navelem"><a class="el" href="dir_95f83c858c32ed29f3e1ff4d0731da9a.html">src</a></li><li class="navelem"><a class="el" href="lightbar__manager__worker_8cpp.html">lightbar_manager_worker.cpp</a></li>
    <li class="footer">Generated on Tue Oct 17 2023 13:32:36 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
