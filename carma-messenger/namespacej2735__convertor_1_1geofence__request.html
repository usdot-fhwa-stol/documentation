<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: j2735_convertor::geofence_request Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Messenger will be a scaled down version of CARMA Platform for a non-automated vehicle to participate in Cooperative Driving Automation (CDA).</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('namespacej2735__convertor_1_1geofence__request.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">j2735_convertor::geofence_request Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Namespace responsible for converting j2735 style Geofence request messages to CARMA usable control messages.  
<a href="namespacej2735__convertor_1_1geofence__request.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a965d11a836c3eea8bc259ee25e9332e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#a965d11a836c3eea8bc259ee25e9332e4">convert</a> (const j2735_v2x_msgs::msg::OffsetPoint &amp;in_msg, carma_v2x_msgs::msg::OffsetPoint &amp;out_msg, const int8_t scale)</td></tr>
<tr class="memdesc:a965d11a836c3eea8bc259ee25e9332e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the contents of a j2735_v2x_msgs::msg::OffsetPoint into a carma_v2x_msgs::msg::OffsetPoint.  <a href="namespacej2735__convertor_1_1geofence__request.html#a965d11a836c3eea8bc259ee25e9332e4">More...</a><br /></td></tr>
<tr class="separator:a965d11a836c3eea8bc259ee25e9332e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d125f70f3d448a7ae6632644ad5ff5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#a16d125f70f3d448a7ae6632644ad5ff5">convert</a> (const j2735_v2x_msgs::msg::TrafficControlBounds &amp;in_msg, carma_v2x_msgs::msg::TrafficControlBounds &amp;out_msg, const int8_t scale)</td></tr>
<tr class="memdesc:a16d125f70f3d448a7ae6632644ad5ff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the contents of a j2735_v2x_msgs::msg::TrafficControlBounds into a carma_v2x_msgs::msg::TrafficControlBounds.  <a href="namespacej2735__convertor_1_1geofence__request.html#a16d125f70f3d448a7ae6632644ad5ff5">More...</a><br /></td></tr>
<tr class="separator:a16d125f70f3d448a7ae6632644ad5ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f0c2b7cb115a5df48a757ffb7bd8da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#af2f0c2b7cb115a5df48a757ffb7bd8da">convert</a> (const j2735_v2x_msgs::msg::TrafficControlRequestV01 &amp;in_msg, carma_v2x_msgs::msg::TrafficControlRequestV01 &amp;out_msg)</td></tr>
<tr class="memdesc:af2f0c2b7cb115a5df48a757ffb7bd8da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the contents of a j2735_v2x_msgs::msg::TrafficControlRequestV01 into a carma_v2x_msgs::msg::TrafficControlRequestV01.  <a href="namespacej2735__convertor_1_1geofence__request.html#af2f0c2b7cb115a5df48a757ffb7bd8da">More...</a><br /></td></tr>
<tr class="separator:af2f0c2b7cb115a5df48a757ffb7bd8da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac00b145aeff231fe37dfab8af3c2c5e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#ac00b145aeff231fe37dfab8af3c2c5e6">convert</a> (const j2735_v2x_msgs::msg::TrafficControlRequest &amp;in_msg, carma_v2x_msgs::msg::TrafficControlRequest &amp;out_msg)</td></tr>
<tr class="memdesc:ac00b145aeff231fe37dfab8af3c2c5e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the contents of a j2735_v2x_msgs::msg::TrafficControlRequest into a carma_v2x_msgs::msg::TrafficControlRequest.  <a href="namespacej2735__convertor_1_1geofence__request.html#ac00b145aeff231fe37dfab8af3c2c5e6">More...</a><br /></td></tr>
<tr class="separator:ac00b145aeff231fe37dfab8af3c2c5e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22a137521980c43291b6ee200bcabf2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#a22a137521980c43291b6ee200bcabf2e">convert</a> (const carma_v2x_msgs::msg::TrafficControlBounds &amp;in_msg, j2735_v2x_msgs::msg::TrafficControlBounds &amp;out_msg, const int8_t scale)</td></tr>
<tr class="memdesc:a22a137521980c43291b6ee200bcabf2e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the contents of a carma_v2x_msgs::msg::TrafficControlBounds into a j2735_v2x_msgs::msg::TrafficControlBounds.  <a href="namespacej2735__convertor_1_1geofence__request.html#a22a137521980c43291b6ee200bcabf2e">More...</a><br /></td></tr>
<tr class="separator:a22a137521980c43291b6ee200bcabf2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb79e3f8caa3997f2d5c2d0a5ea664e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#abb79e3f8caa3997f2d5c2d0a5ea664e5">convert</a> (const carma_v2x_msgs::msg::TrafficControlRequestV01 &amp;in_msg, j2735_v2x_msgs::msg::TrafficControlRequestV01 &amp;out_msg)</td></tr>
<tr class="memdesc:abb79e3f8caa3997f2d5c2d0a5ea664e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the contents of a carma_v2x_msgs::msg::TrafficControlRequestV01 into a j2735_v2x_msgs::msg::TrafficControlRequestV01.  <a href="namespacej2735__convertor_1_1geofence__request.html#abb79e3f8caa3997f2d5c2d0a5ea664e5">More...</a><br /></td></tr>
<tr class="separator:abb79e3f8caa3997f2d5c2d0a5ea664e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f42a1c1382e968508096843daf8af51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#a7f42a1c1382e968508096843daf8af51">convert</a> (const carma_v2x_msgs::msg::TrafficControlRequest &amp;in_msg, j2735_v2x_msgs::msg::TrafficControlRequest &amp;out_msg)</td></tr>
<tr class="memdesc:a7f42a1c1382e968508096843daf8af51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the contents of a carma_v2x_msgs::msg::TrafficControlRequest into a j2735_v2x_msgs::msg::TrafficControlRequest.  <a href="namespacej2735__convertor_1_1geofence__request.html#a7f42a1c1382e968508096843daf8af51">More...</a><br /></td></tr>
<tr class="separator:a7f42a1c1382e968508096843daf8af51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaedb6359fc66a8061aa0bfc378907b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1">isIntegerDivisable</a> (const std::vector&lt; double &gt; &amp;data, int16_t divisor)</td></tr>
<tr class="separator:abaedb6359fc66a8061aa0bfc378907b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac590ce116ed71f9c41d87b520e3eaf4e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e">isLessThan</a> (const std::vector&lt; double &gt; &amp;data, int16_t threshold)</td></tr>
<tr class="separator:ac590ce116ed71f9c41d87b520e3eaf4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Namespace responsible for converting j2735 style Geofence request messages to CARMA usable control messages. </p>
<p >Handles conversion between ControlRequest in the j2735_msgs and cav_msgs packages. Unit conversions and presence flags are also handled </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a22a137521980c43291b6ee200bcabf2e" name="a22a137521980c43291b6ee200bcabf2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22a137521980c43291b6ee200bcabf2e">&#9670;&nbsp;</a></span>convert() <span class="overload">[1/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void j2735_convertor::geofence_request::convert </td>
          <td>(</td>
          <td class="paramtype">const carma_v2x_msgs::msg::TrafficControlBounds &amp;&#160;</td>
          <td class="paramname"><em>in_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">j2735_v2x_msgs::msg::TrafficControlBounds &amp;&#160;</td>
          <td class="paramname"><em>out_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int8_t&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the contents of a carma_v2x_msgs::msg::TrafficControlBounds into a j2735_v2x_msgs::msg::TrafficControlBounds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_msg</td><td>The message to be converted </td></tr>
    <tr><td class="paramname">out_msg</td><td>The message to store the output </td></tr>
    <tr><td class="paramname">scale</td><td>The scaling exponent to apply to the bound position. Units applied as 10^n. This normally comes from a ControlRequest message. The scaling here should be the same as what would appear in the ControlRequest (ie. it is not an inverted scaling)</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">std::invalid_argument</td><td>If the provided scale will result in a value that does not fit within the 16 bit int bounds of the out message.</td></tr>
  </table>
  </dd>
</dl>
<p>Unit conversions and presence flags are handled </p>

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00121">121</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>{</div>
<div class="line"><span class="lineno">  123</span>  rclcpp::Time oldest(in_msg.oldest.sec , in_msg.oldest.nanosec);</div>
<div class="line"><span class="lineno">  124</span>  out_msg.oldest = oldest.seconds() / <a class="code hl_variable" href="namespacej2735__convertor_1_1units.html#a1fb5a4dd4c6081910896c289478a47f8">units::SEC_PER_MIN</a>;</div>
<div class="line"><span class="lineno">  125</span>  out_msg.reflat = in_msg.reflat * <a class="code hl_variable" href="namespacej2735__convertor_1_1units.html#aa0d36b7a62e9c411e294b5792a44a026">units::TENTH_MICRO_DEG_PER_DEG</a>;</div>
<div class="line"><span class="lineno">  126</span>  out_msg.reflon = in_msg.reflon * <a class="code hl_variable" href="namespacej2735__convertor_1_1units.html#aa0d36b7a62e9c411e294b5792a44a026">units::TENTH_MICRO_DEG_PER_DEG</a>;</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>  <span class="keywordtype">double</span> scaled_deltax0 = in_msg.offsets[0].deltax / pow(10, scale);</div>
<div class="line"><span class="lineno">  129</span>  <span class="keywordtype">double</span> scaled_deltay0 = in_msg.offsets[0].deltay / pow(10, scale);</div>
<div class="line"><span class="lineno">  130</span>  <span class="keywordtype">double</span> scaled_deltax1 = in_msg.offsets[1].deltax / pow(10, scale);</div>
<div class="line"><span class="lineno">  131</span>  <span class="keywordtype">double</span> scaled_deltay1 = in_msg.offsets[1].deltay / pow(10, scale);</div>
<div class="line"><span class="lineno">  132</span>  <span class="keywordtype">double</span> scaled_deltax2 = in_msg.offsets[2].deltax / pow(10, scale);</div>
<div class="line"><span class="lineno">  133</span>  <span class="keywordtype">double</span> scaled_deltay2 = in_msg.offsets[2].deltay / pow(10, scale);</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>  <span class="comment">// Check bounds of message storage ability</span></div>
<div class="line"><span class="lineno">  136</span>  <span class="keyword">constexpr</span> <span class="keywordtype">int</span> INT_16_MIN = -32768;</div>
<div class="line"><span class="lineno">  137</span>  <span class="keyword">constexpr</span> <span class="keywordtype">int</span> INT_16_MAX = 32767; </div>
<div class="line"><span class="lineno">  138</span>  <span class="keywordflow">if</span> (scaled_deltax0 &lt; INT_16_MIN || INT_16_MAX &lt; scaled_deltax0 ||</div>
<div class="line"><span class="lineno">  139</span>      scaled_deltay0 &lt; INT_16_MIN || INT_16_MAX &lt; scaled_deltay0 ||</div>
<div class="line"><span class="lineno">  140</span>      scaled_deltax1 &lt; INT_16_MIN || INT_16_MAX &lt; scaled_deltax1 ||</div>
<div class="line"><span class="lineno">  141</span>      scaled_deltay1 &lt; INT_16_MIN || INT_16_MAX &lt; scaled_deltay1 ||</div>
<div class="line"><span class="lineno">  142</span>      scaled_deltax2 &lt; INT_16_MIN || INT_16_MAX &lt; scaled_deltay2 ||</div>
<div class="line"><span class="lineno">  143</span>      scaled_deltay2 &lt; INT_16_MIN || INT_16_MAX &lt; scaled_deltay2 ) </div>
<div class="line"><span class="lineno">  144</span>  {</div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">throw</span> std::invalid_argument(<span class="stringliteral">&quot;carma_v2x_msgs::msg::ControlBounds cannot be converted because the provided bounds cannot be scaled into the 16 bit integer range without reducing precision below 1m.&quot;</span>);</div>
<div class="line"><span class="lineno">  146</span>  }</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>  out_msg.offsets[0].deltax=scaled_deltax0;</div>
<div class="line"><span class="lineno">  149</span>  out_msg.offsets[0].deltay=scaled_deltay0;</div>
<div class="line"><span class="lineno">  150</span>  out_msg.offsets[1].deltax=scaled_deltax1;</div>
<div class="line"><span class="lineno">  151</span>  out_msg.offsets[1].deltay=scaled_deltay1;</div>
<div class="line"><span class="lineno">  152</span>  out_msg.offsets[2].deltax=scaled_deltax2;</div>
<div class="line"><span class="lineno">  153</span>  out_msg.offsets[2].deltay=scaled_deltay2;</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>}</div>
<div class="ttc" id="anamespacej2735__convertor_1_1units_html_a1fb5a4dd4c6081910896c289478a47f8"><div class="ttname"><a href="namespacej2735__convertor_1_1units.html#a1fb5a4dd4c6081910896c289478a47f8">j2735_convertor::units::SEC_PER_MIN</a></div><div class="ttdeci">constexpr double SEC_PER_MIN</div><div class="ttdef"><b>Definition:</b> <a href="units_8hpp_source.html#l00044">units.hpp:44</a></div></div>
<div class="ttc" id="anamespacej2735__convertor_1_1units_html_aa0d36b7a62e9c411e294b5792a44a026"><div class="ttname"><a href="namespacej2735__convertor_1_1units.html#aa0d36b7a62e9c411e294b5792a44a026">j2735_convertor::units::TENTH_MICRO_DEG_PER_DEG</a></div><div class="ttdeci">constexpr double TENTH_MICRO_DEG_PER_DEG</div><div class="ttdef"><b>Definition:</b> <a href="units_8hpp_source.html#l00032">units.hpp:32</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="units_8hpp_source.html#l00044">j2735_convertor::units::SEC_PER_MIN</a>, and <a class="el" href="units_8hpp_source.html#l00032">j2735_convertor::units::TENTH_MICRO_DEG_PER_DEG</a>.</p>

</div>
</div>
<a id="a7f42a1c1382e968508096843daf8af51" name="a7f42a1c1382e968508096843daf8af51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f42a1c1382e968508096843daf8af51">&#9670;&nbsp;</a></span>convert() <span class="overload">[2/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void j2735_convertor::geofence_request::convert </td>
          <td>(</td>
          <td class="paramtype">const carma_v2x_msgs::msg::TrafficControlRequest &amp;&#160;</td>
          <td class="paramname"><em>in_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">j2735_v2x_msgs::msg::TrafficControlRequest &amp;&#160;</td>
          <td class="paramname"><em>out_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the contents of a carma_v2x_msgs::msg::TrafficControlRequest into a j2735_v2x_msgs::msg::TrafficControlRequest. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_msg</td><td>The message to be converted </td></tr>
    <tr><td class="paramname">out_msg</td><td>The message to store the output</td></tr>
  </table>
  </dd>
</dl>
<p>NOTE: Scale determined dynamically based on bound size. This function estimates the required scaling based on the following algorithm. If all input bounds are less than 1000, 100, or 10 then use a scale of -1, -2, -3 respectively. This gives higher resolution for smaller bounds while ensuring there is not integer overflow.</p>
<p >If the bounds are larger than 1000, the resolution will cap at 1m accuracy and determine a scaling of 1, 2, or 3 based on if all bounds can be cleanly divided by 10, 100, or 1000 respectively after integer truncation.</p>
<p >If the numbers cannot be scaled and they exceed the bounds of the output 16 bit int, then an exception will be thrown. <br  />
</p>
<p >Unit conversions and presence flags are handled </p>

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00260">260</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span>  {</div>
<div class="line"><span class="lineno">  262</span>     <span class="comment">// uint8 choice</span></div>
<div class="line"><span class="lineno">  263</span>     out_msg.choice = in_msg.choice;</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>     <span class="keywordflow">switch</span>(in_msg.choice)</div>
<div class="line"><span class="lineno">  266</span>     {</div>
<div class="line"><span class="lineno">  267</span>       <span class="keywordflow">case</span> carma_v2x_msgs::msg::TrafficControlRequest::RESERVED : </div>
<div class="line"><span class="lineno">  268</span>       <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  269</span>       <span class="keywordflow">case</span> carma_v2x_msgs::msg::TrafficControlRequest::TCRV01 : </div>
<div class="line"><span class="lineno">  270</span>       <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__control.html#a972c97cf0f966ca2da1bc229c082060f">convert</a>(in_msg.tcr_v01, out_msg.tcr_v01);</div>
<div class="line"><span class="lineno">  271</span>       <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  272</span>       default : </div>
<div class="line"><span class="lineno">  273</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  274</span>     }</div>
<div class="line"><span class="lineno">  275</span>  }</div>
<div class="ttc" id="anamespacej2735__convertor_1_1geofence__control_html_a972c97cf0f966ca2da1bc229c082060f"><div class="ttname"><a href="namespacej2735__convertor_1_1geofence__control.html#a972c97cf0f966ca2da1bc229c082060f">j2735_convertor::geofence_control::convert</a></div><div class="ttdeci">void convert(const j2735_v2x_msgs::msg::DailySchedule &amp;in_msg, carma_v2x_msgs::msg::DailySchedule &amp;out_msg)</div><div class="ttdoc">Convert the contents of a j2735_v2x_msgs::msg::DailySchedule into a carma_v2x_msgs::msg::DailySchedul...</div><div class="ttdef"><b>Definition:</b> <a href="control__message__convertor_8cpp_source.html#l00029">control_message_convertor.cpp:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="control__request__convertor_8cpp_source.html#l00029">convert()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacej2735__convertor_1_1geofence__request_a7f42a1c1382e968508096843daf8af51_cgraph.png" border="0" usemap="#anamespacej2735__convertor_1_1geofence__request_a7f42a1c1382e968508096843daf8af51_cgraph" alt=""/></div>
<map name="anamespacej2735__convertor_1_1geofence__request_a7f42a1c1382e968508096843daf8af51_cgraph" id="anamespacej2735__convertor_1_1geofence__request_a7f42a1c1382e968508096843daf8af51_cgraph">
<area shape="rect" title="Convert the contents of a carma_v2x_msgs::msg::TrafficControlRequest into a j2735_v2x_msgs::msg::Traf..." alt="" coords="5,5,179,47"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#a965d11a836c3eea8bc259ee25e9332e4" title="Convert the contents of a j2735_v2x_msgs::msg::OffsetPoint into a carma_v2x_msgs::msg::OffsetPoint." alt="" coords="227,5,400,47"/>
</map>
</div>

</div>
</div>
<a id="abb79e3f8caa3997f2d5c2d0a5ea664e5" name="abb79e3f8caa3997f2d5c2d0a5ea664e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb79e3f8caa3997f2d5c2d0a5ea664e5">&#9670;&nbsp;</a></span>convert() <span class="overload">[3/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void j2735_convertor::geofence_request::convert </td>
          <td>(</td>
          <td class="paramtype">const carma_v2x_msgs::msg::TrafficControlRequestV01 &amp;&#160;</td>
          <td class="paramname"><em>in_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">j2735_v2x_msgs::msg::TrafficControlRequestV01 &amp;&#160;</td>
          <td class="paramname"><em>out_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the contents of a carma_v2x_msgs::msg::TrafficControlRequestV01 into a j2735_v2x_msgs::msg::TrafficControlRequestV01. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_msg</td><td>The message to be converted </td></tr>
    <tr><td class="paramname">out_msg</td><td>The message to store the output</td></tr>
  </table>
  </dd>
</dl>
<p>Unit conversions and presence flags are handled </p>

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00157">157</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  158</span>{</div>
<div class="line"><span class="lineno">  159</span>  <span class="comment">// # reqid ::= Id64b</span></div>
<div class="line"><span class="lineno">  160</span>  <span class="comment">// j2735_msgs/Id64b reqid</span></div>
<div class="line"><span class="lineno">  161</span>  out_msg.reqid = in_msg.reqid;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  <span class="comment">// # reqseq ::= INTEGER (0..255)</span></div>
<div class="line"><span class="lineno">  164</span>  <span class="comment">// uint8 reqseq</span></div>
<div class="line"><span class="lineno">  165</span>  out_msg.reqseq = in_msg.reqseq;</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>  <span class="keywordtype">bool</span> canScale_neg_1_x = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  168</span>  <span class="keywordtype">bool</span> canScale_neg_2_x = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  169</span>  <span class="keywordtype">bool</span> canScale_neg_3_x = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>  <span class="keywordtype">bool</span> canScale_neg_1_y = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  172</span>  <span class="keywordtype">bool</span> canScale_neg_2_y = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  173</span>  <span class="keywordtype">bool</span> canScale_neg_3_y = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> bound : in_msg.bounds) </div>
<div class="line"><span class="lineno">  176</span>  {</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    std::vector&lt;double&gt; offsetsx; </div>
<div class="line"><span class="lineno">  179</span>    std::vector&lt;double&gt; offsetsy;</div>
<div class="line"><span class="lineno">  180</span>  </div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> offset : bound.offsets) </div>
<div class="line"><span class="lineno">  182</span>    {</div>
<div class="line"><span class="lineno">  183</span>        offsetsx.push_back(offset.deltax);</div>
<div class="line"><span class="lineno">  184</span>        offsetsy.push_back(offset.deltay);</div>
<div class="line"><span class="lineno">  185</span>    }</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>    canScale_neg_1_x = canScale_neg_1_x &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e">isLessThan</a>(offsetsx, 1000);</div>
<div class="line"><span class="lineno">  188</span>    canScale_neg_2_x = canScale_neg_2_x &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e">isLessThan</a>(offsetsx, 100);</div>
<div class="line"><span class="lineno">  189</span>    canScale_neg_3_x = canScale_neg_3_x &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e">isLessThan</a>(offsetsx, 10);</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    canScale_neg_1_y = canScale_neg_1_y &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e">isLessThan</a>(offsetsy, 1000);</div>
<div class="line"><span class="lineno">  192</span>    canScale_neg_2_y = canScale_neg_2_y &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e">isLessThan</a>(offsetsy, 100);</div>
<div class="line"><span class="lineno">  193</span>    canScale_neg_3_y = canScale_neg_3_y &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e">isLessThan</a>(offsetsy, 10);</div>
<div class="line"><span class="lineno">  194</span>  }</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>  <span class="keywordflow">if</span> (canScale_neg_3_x &amp;&amp; canScale_neg_3_y )</div>
<div class="line"><span class="lineno">  197</span>  {</div>
<div class="line"><span class="lineno">  198</span>    out_msg.scale = -3;</div>
<div class="line"><span class="lineno">  199</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (canScale_neg_2_x &amp;&amp; canScale_neg_2_y )</div>
<div class="line"><span class="lineno">  200</span>  {</div>
<div class="line"><span class="lineno">  201</span>    out_msg.scale = -2;</div>
<div class="line"><span class="lineno">  202</span>  } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (canScale_neg_1_x &amp;&amp; canScale_neg_1_y)</div>
<div class="line"><span class="lineno">  203</span>  {</div>
<div class="line"><span class="lineno">  204</span>    out_msg.scale = -1;</div>
<div class="line"><span class="lineno">  205</span>  } <span class="keywordflow">else</span> </div>
<div class="line"><span class="lineno">  206</span>  {</div>
<div class="line"><span class="lineno">  207</span>    out_msg.scale = 0;</div>
<div class="line"><span class="lineno">  208</span>  }     </div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>  <span class="keywordflow">if</span> (out_msg.scale == 0) </div>
<div class="line"><span class="lineno">  211</span>  {</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordtype">bool</span> canScale_1_x = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordtype">bool</span> canScale_2_x = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordtype">bool</span> canScale_3_x = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordtype">bool</span> canScale_1_y = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordtype">bool</span> canScale_2_y = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordtype">bool</span> canScale_3_y = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span> bound : in_msg.bounds) </div>
<div class="line"><span class="lineno">  221</span>    {</div>
<div class="line"><span class="lineno">  222</span>      std::vector&lt;double&gt; offsetsx;</div>
<div class="line"><span class="lineno">  223</span>      std::vector&lt;double&gt; offsetsy;</div>
<div class="line"><span class="lineno">  224</span>  </div>
<div class="line"><span class="lineno">  225</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> offset : bound.offsets) </div>
<div class="line"><span class="lineno">  226</span>        {   </div>
<div class="line"><span class="lineno">  227</span>        offsetsx.push_back(offset.deltax);</div>
<div class="line"><span class="lineno">  228</span>        offsetsy.push_back(offset.deltay);</div>
<div class="line"><span class="lineno">  229</span>        }</div>
<div class="line"><span class="lineno">  230</span>     <span class="comment">// std::vector&lt;carma_v2x_msgs::msg::OffsetPoint&gt; offsets(bound.offsets.begin(), bound.offsets.end());</span></div>
<div class="line"><span class="lineno">  231</span>      canScale_1_x = canScale_1_x &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1">isIntegerDivisable</a>(offsetsx, 10);</div>
<div class="line"><span class="lineno">  232</span>      canScale_2_x = canScale_2_x &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1">isIntegerDivisable</a>(offsetsx, 100);</div>
<div class="line"><span class="lineno">  233</span>      canScale_3_x = canScale_3_x &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1">isIntegerDivisable</a>(offsetsx, 1000); </div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>      canScale_1_y = canScale_1_y &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1">isIntegerDivisable</a>(offsetsy, 10);</div>
<div class="line"><span class="lineno">  236</span>      canScale_2_y = canScale_2_y &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1">isIntegerDivisable</a>(offsetsy, 100);</div>
<div class="line"><span class="lineno">  237</span>      canScale_3_y = canScale_3_y &amp;&amp; <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1">isIntegerDivisable</a>(offsetsy, 1000); </div>
<div class="line"><span class="lineno">  238</span>    }</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">if</span> (canScale_3_x &amp;&amp; canScale_3_y) </div>
<div class="line"><span class="lineno">  241</span>    {</div>
<div class="line"><span class="lineno">  242</span>      out_msg.scale = 3;</div>
<div class="line"><span class="lineno">  243</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (canScale_2_x &amp;&amp; canScale_3_y) </div>
<div class="line"><span class="lineno">  244</span>    {</div>
<div class="line"><span class="lineno">  245</span>      out_msg.scale = 2;</div>
<div class="line"><span class="lineno">  246</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (canScale_1_x &amp;&amp; canScale_1_y)</div>
<div class="line"><span class="lineno">  247</span>    {</div>
<div class="line"><span class="lineno">  248</span>      out_msg.scale = 1;</div>
<div class="line"><span class="lineno">  249</span>    }</div>
<div class="line"><span class="lineno">  250</span>  }</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> bound : in_msg.bounds)</div>
<div class="line"><span class="lineno">  253</span>  {</div>
<div class="line"><span class="lineno">  254</span>    j2735_v2x_msgs::msg::TrafficControlBounds out_bound;</div>
<div class="line"><span class="lineno">  255</span>    <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__control.html#a972c97cf0f966ca2da1bc229c082060f">convert</a>(bound, out_bound, out_msg.scale);</div>
<div class="line"><span class="lineno">  256</span>    out_msg.bounds.emplace_back(out_bound);</div>
<div class="line"><span class="lineno">  257</span>  }</div>
<div class="line"><span class="lineno">  258</span>}</div>
<div class="ttc" id="anamespacej2735__convertor_1_1geofence__request_html_abaedb6359fc66a8061aa0bfc378907b1"><div class="ttname"><a href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1">j2735_convertor::geofence_request::isIntegerDivisable</a></div><div class="ttdeci">bool isIntegerDivisable(const std::vector&lt; double &gt; &amp;data, int16_t divisor)</div><div class="ttdef"><b>Definition:</b> <a href="control__request__convertor_8cpp_source.html#l00094">control_request_convertor.cpp:94</a></div></div>
<div class="ttc" id="anamespacej2735__convertor_1_1geofence__request_html_ac590ce116ed71f9c41d87b520e3eaf4e"><div class="ttname"><a href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e">j2735_convertor::geofence_request::isLessThan</a></div><div class="ttdeci">bool isLessThan(const std::vector&lt; double &gt; &amp;data, int16_t threshold)</div><div class="ttdef"><b>Definition:</b> <a href="control__request__convertor_8cpp_source.html#l00108">control_request_convertor.cpp:108</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="control__request__convertor_8cpp_source.html#l00029">convert()</a>, <a class="el" href="control__request__convertor_8cpp_source.html#l00094">isIntegerDivisable()</a>, and <a class="el" href="control__request__convertor_8cpp_source.html#l00108">isLessThan()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacej2735__convertor_1_1geofence__request_abb79e3f8caa3997f2d5c2d0a5ea664e5_cgraph.png" border="0" usemap="#anamespacej2735__convertor_1_1geofence__request_abb79e3f8caa3997f2d5c2d0a5ea664e5_cgraph" alt=""/></div>
<map name="anamespacej2735__convertor_1_1geofence__request_abb79e3f8caa3997f2d5c2d0a5ea664e5_cgraph" id="anamespacej2735__convertor_1_1geofence__request_abb79e3f8caa3997f2d5c2d0a5ea664e5_cgraph">
<area shape="rect" title="Convert the contents of a carma_v2x_msgs::msg::TrafficControlRequestV01 into a j2735_v2x_msgs::msg::T..." alt="" coords="5,71,179,112"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#a965d11a836c3eea8bc259ee25e9332e4" title="Convert the contents of a j2735_v2x_msgs::msg::OffsetPoint into a carma_v2x_msgs::msg::OffsetPoint." alt="" coords="231,5,404,47"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#abaedb6359fc66a8061aa0bfc378907b1" title=" " alt="" coords="227,71,408,112"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#ac590ce116ed71f9c41d87b520e3eaf4e" title=" " alt="" coords="231,136,404,177"/>
</map>
</div>

</div>
</div>
<a id="a965d11a836c3eea8bc259ee25e9332e4" name="a965d11a836c3eea8bc259ee25e9332e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965d11a836c3eea8bc259ee25e9332e4">&#9670;&nbsp;</a></span>convert() <span class="overload">[4/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void j2735_convertor::geofence_request::convert </td>
          <td>(</td>
          <td class="paramtype">const j2735_v2x_msgs::msg::OffsetPoint &amp;&#160;</td>
          <td class="paramname"><em>in_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_v2x_msgs::msg::OffsetPoint &amp;&#160;</td>
          <td class="paramname"><em>out_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int8_t&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the contents of a j2735_v2x_msgs::msg::OffsetPoint into a carma_v2x_msgs::msg::OffsetPoint. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_msg</td><td>The message to be converted </td></tr>
    <tr><td class="paramname">out_msg</td><td>The message to store the output</td></tr>
  </table>
  </dd>
</dl>
<p>Unit conversions and presence flags are handled </p>

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00029">29</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   30</span>{</div>
<div class="line"><span class="lineno">   31</span>  out_msg.deltax = (double)in_msg.deltax* pow(10, scale);</div>
<div class="line"><span class="lineno">   32</span>  out_msg.deltay = (double)in_msg.deltay* pow(10, scale);</div>
<div class="line"><span class="lineno">   33</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="j2735__convertor__node_8cpp_source.html#l00175">j2735_convertor::Node::ControlRequestHandler()</a>, <a class="el" href="control__request__convertor_8cpp_source.html#l00035">convert()</a>, and <a class="el" href="j2735__convertor__node_8cpp_source.html#l00181">j2735_convertor::Node::j2735ControlRequestHandler()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacej2735__convertor_1_1geofence__request_a965d11a836c3eea8bc259ee25e9332e4_icgraph.png" border="0" usemap="#anamespacej2735__convertor_1_1geofence__request_a965d11a836c3eea8bc259ee25e9332e4_icgraph" alt=""/></div>
<map name="anamespacej2735__convertor_1_1geofence__request_a965d11a836c3eea8bc259ee25e9332e4_icgraph" id="anamespacej2735__convertor_1_1geofence__request_a965d11a836c3eea8bc259ee25e9332e4_icgraph">
<area shape="rect" title="Convert the contents of a j2735_v2x_msgs::msg::OffsetPoint into a carma_v2x_msgs::msg::OffsetPoint." alt="" coords="445,71,619,112"/>
<area shape="rect" href="classj2735__convertor_1_1Node.html#aaa12cc508c28498771a102aa3050a542" title="Converts carma_v2x_msgs::msg::ControlRequest messages to j2735_v2x_msgs::msg::ControlRequest and publ..." alt="" coords="219,5,382,47"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#a16d125f70f3d448a7ae6632644ad5ff5" title="Convert the contents of a j2735_v2x_msgs::msg::TrafficControlBounds into a carma_v2x_msgs::msg::Traff..." alt="" coords="214,71,387,112"/>
<area shape="rect" href="classj2735__convertor_1_1Node.html#a5ebd530218d0871a1d9f2e6c37a6fbda" title="Converts j2735_v2x_msgs::msg::ControlRequest messages to carma_v2x_msgs::msg::ControlRequest and publ..." alt="" coords="204,136,397,177"/>
<area shape="rect" href="classj2735__convertor_1_1Node.html#a76152eda4c6f7c9a12347754e6d9be14" title=" " alt="" coords="5,71,156,112"/>
</map>
</div>

</div>
</div>
<a id="a16d125f70f3d448a7ae6632644ad5ff5" name="a16d125f70f3d448a7ae6632644ad5ff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d125f70f3d448a7ae6632644ad5ff5">&#9670;&nbsp;</a></span>convert() <span class="overload">[5/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void j2735_convertor::geofence_request::convert </td>
          <td>(</td>
          <td class="paramtype">const j2735_v2x_msgs::msg::TrafficControlBounds &amp;&#160;</td>
          <td class="paramname"><em>in_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_v2x_msgs::msg::TrafficControlBounds &amp;&#160;</td>
          <td class="paramname"><em>out_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int8_t&#160;</td>
          <td class="paramname"><em>scale</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the contents of a j2735_v2x_msgs::msg::TrafficControlBounds into a carma_v2x_msgs::msg::TrafficControlBounds. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_msg</td><td>The message to be converted </td></tr>
    <tr><td class="paramname">out_msg</td><td>The message to store the output </td></tr>
    <tr><td class="paramname">scale</td><td>The scaling exponent to apply to the bound position. Units applied as 10^n. This normally comes from a ControlRequest message.</td></tr>
  </table>
  </dd>
</dl>
<p>Unit conversions and presence flags are handled </p>

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00035">35</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   36</span>{</div>
<div class="line"><span class="lineno">   37</span>  out_msg.oldest = rclcpp::Time(in_msg.oldest * <a class="code hl_variable" href="namespacej2735__convertor_1_1units.html#a1fb5a4dd4c6081910896c289478a47f8">units::SEC_PER_MIN</a>, 0);</div>
<div class="line"><span class="lineno">   38</span>  out_msg.reflat = (double)in_msg.reflat / <a class="code hl_variable" href="namespacej2735__convertor_1_1units.html#aa0d36b7a62e9c411e294b5792a44a026">units::TENTH_MICRO_DEG_PER_DEG</a>;</div>
<div class="line"><span class="lineno">   39</span>  out_msg.reflon = (<span class="keywordtype">double</span>)in_msg.reflon / <a class="code hl_variable" href="namespacej2735__convertor_1_1units.html#aa0d36b7a62e9c411e294b5792a44a026">units::TENTH_MICRO_DEG_PER_DEG</a>;</div>
<div class="line"><span class="lineno">   40</span> </div>
<div class="line"><span class="lineno">   41</span>  <span class="keywordflow">for</span>(<span class="keywordtype">int</span> i = 0; i &lt; 3; i++)</div>
<div class="line"><span class="lineno">   42</span>  {</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__control.html#a972c97cf0f966ca2da1bc229c082060f">convert</a>(in_msg.offsets[i], out_msg.offsets[i],scale);</div>
<div class="line"><span class="lineno">   44</span>  }</div>
<div class="line"><span class="lineno">   45</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="control__request__convertor_8cpp_source.html#l00029">convert()</a>, <a class="el" href="units_8hpp_source.html#l00044">j2735_convertor::units::SEC_PER_MIN</a>, and <a class="el" href="units_8hpp_source.html#l00032">j2735_convertor::units::TENTH_MICRO_DEG_PER_DEG</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacej2735__convertor_1_1geofence__request_a16d125f70f3d448a7ae6632644ad5ff5_cgraph.png" border="0" usemap="#anamespacej2735__convertor_1_1geofence__request_a16d125f70f3d448a7ae6632644ad5ff5_cgraph" alt=""/></div>
<map name="anamespacej2735__convertor_1_1geofence__request_a16d125f70f3d448a7ae6632644ad5ff5_cgraph" id="anamespacej2735__convertor_1_1geofence__request_a16d125f70f3d448a7ae6632644ad5ff5_cgraph">
<area shape="rect" title="Convert the contents of a j2735_v2x_msgs::msg::TrafficControlBounds into a carma_v2x_msgs::msg::Traff..." alt="" coords="5,5,179,47"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#a965d11a836c3eea8bc259ee25e9332e4" title="Convert the contents of a j2735_v2x_msgs::msg::OffsetPoint into a carma_v2x_msgs::msg::OffsetPoint." alt="" coords="227,5,400,47"/>
</map>
</div>

</div>
</div>
<a id="ac00b145aeff231fe37dfab8af3c2c5e6" name="ac00b145aeff231fe37dfab8af3c2c5e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac00b145aeff231fe37dfab8af3c2c5e6">&#9670;&nbsp;</a></span>convert() <span class="overload">[6/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void j2735_convertor::geofence_request::convert </td>
          <td>(</td>
          <td class="paramtype">const j2735_v2x_msgs::msg::TrafficControlRequest &amp;&#160;</td>
          <td class="paramname"><em>in_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_v2x_msgs::msg::TrafficControlRequest &amp;&#160;</td>
          <td class="paramname"><em>out_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the contents of a j2735_v2x_msgs::msg::TrafficControlRequest into a carma_v2x_msgs::msg::TrafficControlRequest. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_msg</td><td>The message to be converted </td></tr>
    <tr><td class="paramname">out_msg</td><td>The message to store the output</td></tr>
  </table>
  </dd>
</dl>
<p>Unit conversions and presence flags are handled </p>

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00068">68</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>{</div>
<div class="line"><span class="lineno">   70</span>  <span class="comment">// uint8 choice</span></div>
<div class="line"><span class="lineno">   71</span>  out_msg.choice = in_msg.choice;</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>  <span class="keywordflow">switch</span>(in_msg.choice)</div>
<div class="line"><span class="lineno">   74</span>  {</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">case</span> j2735_v2x_msgs::msg::TrafficControlRequest::RESERVED : </div>
<div class="line"><span class="lineno">   76</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">case</span> j2735_v2x_msgs::msg::TrafficControlRequest::TCRV01 : </div>
<div class="line"><span class="lineno">   78</span>      <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__control.html#a972c97cf0f966ca2da1bc229c082060f">convert</a>(in_msg.tcr_v01, out_msg.tcr_v01);</div>
<div class="line"><span class="lineno">   79</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">   81</span>      <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   82</span>  }</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="control__request__convertor_8cpp_source.html#l00029">convert()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacej2735__convertor_1_1geofence__request_ac00b145aeff231fe37dfab8af3c2c5e6_cgraph.png" border="0" usemap="#anamespacej2735__convertor_1_1geofence__request_ac00b145aeff231fe37dfab8af3c2c5e6_cgraph" alt=""/></div>
<map name="anamespacej2735__convertor_1_1geofence__request_ac00b145aeff231fe37dfab8af3c2c5e6_cgraph" id="anamespacej2735__convertor_1_1geofence__request_ac00b145aeff231fe37dfab8af3c2c5e6_cgraph">
<area shape="rect" title="Convert the contents of a j2735_v2x_msgs::msg::TrafficControlRequest into a carma_v2x_msgs::msg::Traf..." alt="" coords="5,5,179,47"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#a965d11a836c3eea8bc259ee25e9332e4" title="Convert the contents of a j2735_v2x_msgs::msg::OffsetPoint into a carma_v2x_msgs::msg::OffsetPoint." alt="" coords="227,5,400,47"/>
</map>
</div>

</div>
</div>
<a id="af2f0c2b7cb115a5df48a757ffb7bd8da" name="af2f0c2b7cb115a5df48a757ffb7bd8da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f0c2b7cb115a5df48a757ffb7bd8da">&#9670;&nbsp;</a></span>convert() <span class="overload">[7/7]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void j2735_convertor::geofence_request::convert </td>
          <td>(</td>
          <td class="paramtype">const j2735_v2x_msgs::msg::TrafficControlRequestV01 &amp;&#160;</td>
          <td class="paramname"><em>in_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">carma_v2x_msgs::msg::TrafficControlRequestV01 &amp;&#160;</td>
          <td class="paramname"><em>out_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convert the contents of a j2735_v2x_msgs::msg::TrafficControlRequestV01 into a carma_v2x_msgs::msg::TrafficControlRequestV01. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">in_msg</td><td>The message to be converted </td></tr>
    <tr><td class="paramname">out_msg</td><td>The message to store the output</td></tr>
  </table>
  </dd>
</dl>
<p>Unit conversions and presence flags are handled </p>

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00047">47</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>{</div>
<div class="line"><span class="lineno">   49</span>  <span class="comment">// # reqid ::= Id64b</span></div>
<div class="line"><span class="lineno">   50</span>  <span class="comment">// j2735_msgs/Id64b reqid</span></div>
<div class="line"><span class="lineno">   51</span>  out_msg.reqid = in_msg.reqid;</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>  <span class="comment">// # reqseq ::= INTEGER (0..255)</span></div>
<div class="line"><span class="lineno">   54</span>  <span class="comment">// uint8 reqseq</span></div>
<div class="line"><span class="lineno">   55</span>  out_msg.reqseq = in_msg.reqseq;</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>  <span class="comment">//# Bounds SEQUENCE (SIZE(1..63)) OF TrafficControlBounds</span></div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> in_bound : in_msg.bounds)</div>
<div class="line"><span class="lineno">   60</span>  {</div>
<div class="line"><span class="lineno">   61</span>    carma_v2x_msgs::msg::TrafficControlBounds out_bound;</div>
<div class="line"><span class="lineno">   62</span>    <a class="code hl_function" href="namespacej2735__convertor_1_1geofence__control.html#a972c97cf0f966ca2da1bc229c082060f">convert</a>(in_bound, out_bound, in_msg.scale);</div>
<div class="line"><span class="lineno">   63</span>    out_msg.bounds.emplace_back(out_bound);</div>
<div class="line"><span class="lineno">   64</span>  }</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>} </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="control__request__convertor_8cpp_source.html#l00029">convert()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacej2735__convertor_1_1geofence__request_af2f0c2b7cb115a5df48a757ffb7bd8da_cgraph.png" border="0" usemap="#anamespacej2735__convertor_1_1geofence__request_af2f0c2b7cb115a5df48a757ffb7bd8da_cgraph" alt=""/></div>
<map name="anamespacej2735__convertor_1_1geofence__request_af2f0c2b7cb115a5df48a757ffb7bd8da_cgraph" id="anamespacej2735__convertor_1_1geofence__request_af2f0c2b7cb115a5df48a757ffb7bd8da_cgraph">
<area shape="rect" title="Convert the contents of a j2735_v2x_msgs::msg::TrafficControlRequestV01 into a carma_v2x_msgs::msg::T..." alt="" coords="5,5,179,47"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#a965d11a836c3eea8bc259ee25e9332e4" title="Convert the contents of a j2735_v2x_msgs::msg::OffsetPoint into a carma_v2x_msgs::msg::OffsetPoint." alt="" coords="227,5,400,47"/>
</map>
</div>

</div>
</div>
<a id="abaedb6359fc66a8061aa0bfc378907b1" name="abaedb6359fc66a8061aa0bfc378907b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaedb6359fc66a8061aa0bfc378907b1">&#9670;&nbsp;</a></span>isIntegerDivisable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool j2735_convertor::geofence_request::isIntegerDivisable </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>divisor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00094">94</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   95</span>{</div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> element : data) </div>
<div class="line"><span class="lineno">   97</span>  {</div>
<div class="line"><span class="lineno">   98</span>    int64_t int_element = (int64_t)element; <span class="comment">// Cast to integer to allow use of modulo</span></div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">if</span> (int_element % divisor != 0) </div>
<div class="line"><span class="lineno">  100</span>    {</div>
<div class="line"><span class="lineno">  101</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  102</span>    }</div>
<div class="line"><span class="lineno">  103</span>  }</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  106</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="control__request__convertor_8cpp_source.html#l00157">convert()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacej2735__convertor_1_1geofence__request_abaedb6359fc66a8061aa0bfc378907b1_icgraph.png" border="0" usemap="#anamespacej2735__convertor_1_1geofence__request_abaedb6359fc66a8061aa0bfc378907b1_icgraph" alt=""/></div>
<map name="anamespacej2735__convertor_1_1geofence__request_abaedb6359fc66a8061aa0bfc378907b1_icgraph" id="anamespacej2735__convertor_1_1geofence__request_abaedb6359fc66a8061aa0bfc378907b1_icgraph">
<area shape="rect" title=" " alt="" coords="227,5,408,47"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#abb79e3f8caa3997f2d5c2d0a5ea664e5" title="Convert the contents of a carma_v2x_msgs::msg::TrafficControlRequestV01 into a j2735_v2x_msgs::msg::T..." alt="" coords="5,5,179,47"/>
</map>
</div>

</div>
</div>
<a id="ac590ce116ed71f9c41d87b520e3eaf4e" name="ac590ce116ed71f9c41d87b520e3eaf4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac590ce116ed71f9c41d87b520e3eaf4e">&#9670;&nbsp;</a></span>isLessThan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool j2735_convertor::geofence_request::isLessThan </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="control__request__convertor_8cpp_source.html#l00108">108</a> of file <a class="el" href="control__request__convertor_8cpp_source.html">control_request_convertor.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>{</div>
<div class="line"><span class="lineno">  110</span>  <span class="keywordflow">for</span> (<span class="keyword">auto</span> element : data) </div>
<div class="line"><span class="lineno">  111</span>  {</div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">if</span> (element &gt; fabs(threshold))</div>
<div class="line"><span class="lineno">  113</span>    {</div>
<div class="line"><span class="lineno">  114</span>      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  115</span>    }</div>
<div class="line"><span class="lineno">  116</span>  }</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  119</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="control__request__convertor_8cpp_source.html#l00157">convert()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacej2735__convertor_1_1geofence__request_ac590ce116ed71f9c41d87b520e3eaf4e_icgraph.png" border="0" usemap="#anamespacej2735__convertor_1_1geofence__request_ac590ce116ed71f9c41d87b520e3eaf4e_icgraph" alt=""/></div>
<map name="anamespacej2735__convertor_1_1geofence__request_ac590ce116ed71f9c41d87b520e3eaf4e_icgraph" id="anamespacej2735__convertor_1_1geofence__request_ac590ce116ed71f9c41d87b520e3eaf4e_icgraph">
<area shape="rect" title=" " alt="" coords="227,5,400,47"/>
<area shape="rect" href="namespacej2735__convertor_1_1geofence__request.html#abb79e3f8caa3997f2d5c2d0a5ea664e5" title="Convert the contents of a carma_v2x_msgs::msg::TrafficControlRequestV01 into a j2735_v2x_msgs::msg::T..." alt="" coords="5,5,179,47"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacej2735__convertor.html">j2735_convertor</a></li><li class="navelem"><a class="el" href="namespacej2735__convertor_1_1geofence__request.html">geofence_request</a></li>
    <li class="footer">Generated on Wed Apr 5 2023 19:57:50 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
