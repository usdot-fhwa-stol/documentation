<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-streets: signal_opt_service::signal_opt_service Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-streets<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Streets is a component of CARMA ecosystem that improves the efficiency and performance of the Transportation Systems Management and Operations (TSMO) strategies.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classsignal__opt__service_1_1signal__opt__service.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classsignal__opt__service_1_1signal__opt__service-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">signal_opt_service::signal_opt_service Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for signal_opt_service::signal_opt_service:</div>
<div class="dyncontent">
<div class="center"><img src="classsignal__opt__service_1_1signal__opt__service__coll__graph.png" border="0" usemap="#asignal__opt__service_1_1signal__opt__service_coll__map" alt="Collaboration graph"/></div>
<map name="asignal__opt__service_1_1signal__opt__service_coll__map" id="asignal__opt__service_1_1signal__opt__service_coll__map">
<area shape="rect" title=" " alt="" coords="1086,564,1290,891"/>
<area shape="rect" title=" " alt="" coords="5,219,176,325"/>
<area shape="rect" title=" " alt="" coords="201,219,375,325"/>
<area shape="rect" title=" " alt="" coords="458,233,513,311"/>
<area shape="rect" title=" " alt="" coords="609,233,647,311"/>
<area shape="rect" title=" " alt="" coords="698,233,745,311"/>
<area shape="rect" title=" " alt="" coords="782,5,850,83"/>
<area shape="rect" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html" title=" " alt="" coords="919,219,1113,325"/>
<area shape="rect" title=" " alt="" coords="1137,233,1239,311"/>
<area shape="rect" title=" " alt="" coords="1263,226,1444,318"/>
<area shape="rect" title=" " alt="" coords="1469,226,1643,318"/>
<area shape="rect" title=" " alt="" coords="1003,5,1063,83"/>
<area shape="rect" title=" " alt="" coords="1101,5,1163,83"/>
<area shape="rect" title=" " alt="" coords="1668,219,1815,325"/>
<area shape="rect" title=" " alt="" coords="1839,226,1998,318"/>
<area shape="rect" title=" " alt="" coords="2023,226,2199,318"/>
<area shape="rect" title=" " alt="" coords="2223,226,2382,318"/>
<area shape="rect" title=" " alt="" coords="2406,219,2573,325"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afd84585cb22897ece5f6cb02cebdf4c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#afd84585cb22897ece5f6cb02cebdf4c9">signal_opt_service</a> ()=default</td></tr>
<tr class="memdesc:afd84585cb22897ece5f6cb02cebdf4c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the consumer and producer configurations.  <a href="classsignal__opt__service_1_1signal__opt__service.html#afd84585cb22897ece5f6cb02cebdf4c9">More...</a><br /></td></tr>
<tr class="separator:afd84585cb22897ece5f6cb02cebdf4c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d08faf7254086e5e9507957fa4b2acc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a0d08faf7254086e5e9507957fa4b2acc">~signal_opt_service</a> ()</td></tr>
<tr class="memdesc:a0d08faf7254086e5e9507957fa4b2acc"><td class="mdescLeft">&#160;</td><td class="mdescRight">stop the consumer and producer  <a href="classsignal__opt__service_1_1signal__opt__service.html#a0d08faf7254086e5e9507957fa4b2acc">More...</a><br /></td></tr>
<tr class="separator:a0d08faf7254086e5e9507957fa4b2acc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5270550fc00e6e7b4f7822fcac522dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#ac5270550fc00e6e7b4f7822fcac522dc">initialize</a> ()</td></tr>
<tr class="memdesc:ac5270550fc00e6e7b4f7822fcac522dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the consumer and producer configurations.  <a href="classsignal__opt__service_1_1signal__opt__service.html#ac5270550fc00e6e7b4f7822fcac522dc">More...</a><br /></td></tr>
<tr class="separator:ac5270550fc00e6e7b4f7822fcac522dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad12855361a0142c7a4e52439169ccc43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#ad12855361a0142c7a4e52439169ccc43">start</a> ()</td></tr>
<tr class="memdesc:ad12855361a0142c7a4e52439169ccc43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create threads and consume messages.  <a href="classsignal__opt__service_1_1signal__opt__service.html#ad12855361a0142c7a4e52439169ccc43">More...</a><br /></td></tr>
<tr class="separator:ad12855361a0142c7a4e52439169ccc43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ec147e3dacd67b830825ecca3d03da2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a7ec147e3dacd67b830825ecca3d03da2">consume_spat</a> (const std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt; spat_consumer, const std::shared_ptr&lt; <a class="el" href="classsignal__phase__and__timing_1_1spat.html">signal_phase_and_timing::spat</a> &gt; _spat_ptr) const</td></tr>
<tr class="memdesc:a7ec147e3dacd67b830825ecca3d03da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to consume SPaT JSON from kafka consumer and update spat pointer.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a7ec147e3dacd67b830825ecca3d03da2">More...</a><br /></td></tr>
<tr class="separator:a7ec147e3dacd67b830825ecca3d03da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bf6f1bfa75563286ff32a61df80e96f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a7bf6f1bfa75563286ff32a61df80e96f">consume_vsi</a> (const std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt; vsi_consumer, const std::shared_ptr&lt; <a class="el" href="classstreets__vehicles_1_1vehicle__list.html">streets_vehicles::vehicle_list</a> &gt; _vehicle_list_ptr) const</td></tr>
<tr class="memdesc:a7bf6f1bfa75563286ff32a61df80e96f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to consume vehicle status and intent JSON from kafka consumer and vehicle list pointer.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a7bf6f1bfa75563286ff32a61df80e96f">More...</a><br /></td></tr>
<tr class="separator:a7bf6f1bfa75563286ff32a61df80e96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b70d2b908ea9a867d49a7f809c98e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a31b70d2b908ea9a867d49a7f809c98e8">consume_tsc_config</a> (const std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt; tsc_config_consumer, const std::shared_ptr&lt; <a class="el" href="structstreets__tsc__configuration_1_1tsc__configuration__state.html">streets_tsc_configuration::tsc_configuration_state</a> &gt; _tsc_config_ptr) const</td></tr>
<tr class="memdesc:a31b70d2b908ea9a867d49a7f809c98e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to consume a single TSC <a class="el" href="structConfiguration.html">Configuration</a> JSON message from kafka and update the tsc configuration state pointer.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a31b70d2b908ea9a867d49a7f809c98e8">More...</a><br /></td></tr>
<tr class="separator:a31b70d2b908ea9a867d49a7f809c98e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5360de5c3760ef1994bb48c737f3989c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a5360de5c3760ef1994bb48c737f3989c">produce_dpp</a> (const std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__producer__worker.html">kafka_clients::kafka_producer_worker</a> &gt; dpp_producer, const std::shared_ptr&lt; <a class="el" href="classOpenAPI_1_1OAIIntersection__info.html">OpenAPI::OAIIntersection_info</a> &gt; _intersection_info_ptr, const std::shared_ptr&lt; <a class="el" href="classstreets__vehicles_1_1vehicle__list.html">streets_vehicles::vehicle_list</a> &gt; _vehicle_list_ptr, const std::shared_ptr&lt; <a class="el" href="classsignal__phase__and__timing_1_1spat.html">signal_phase_and_timing::spat</a> &gt; _spat_ptr, const std::shared_ptr&lt; <a class="el" href="structstreets__tsc__configuration_1_1tsc__configuration__state.html">streets_tsc_configuration::tsc_configuration_state</a> &gt; _tsc_config_ptr, const std::shared_ptr&lt; <a class="el" href="structstreets__signal__optimization_1_1movement__groups.html">streets_signal_optimization::movement_groups</a> &gt; _movement_groups_ptr, const <a class="el" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html">streets_signal_optimization::streets_desired_phase_plan_generator_configuration</a> &amp;_dpp_config, const int &amp;_so_sleep_time) const</td></tr>
<tr class="memdesc:a5360de5c3760ef1994bb48c737f3989c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to produce desired phase plan Json to kafka.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a5360de5c3760ef1994bb48c737f3989c">More...</a><br /></td></tr>
<tr class="separator:a5360de5c3760ef1994bb48c737f3989c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69da1a8f88693f184f76642c7674c151"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a69da1a8f88693f184f76642c7674c151">populate_movement_groups</a> (std::shared_ptr&lt; <a class="el" href="structstreets__signal__optimization_1_1movement__groups.html">streets_signal_optimization::movement_groups</a> &gt; _groups, const std::shared_ptr&lt; <a class="el" href="structstreets__tsc__configuration_1_1tsc__configuration__state.html">streets_tsc_configuration::tsc_configuration_state</a> &gt; tsc_config) const</td></tr>
<tr class="memdesc:a69da1a8f88693f184f76642c7674c151"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to use the tsc_config_state pointer from the signal_opt_message_worker to populate movement_groups pointer.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a69da1a8f88693f184f76642c7674c151">More...</a><br /></td></tr>
<tr class="separator:a69da1a8f88693f184f76642c7674c151"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a605d6fc843afcaf4f667be4bd8db65c4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a605d6fc843afcaf4f667be4bd8db65c4">update_intersection_info</a> (unsigned long sleep_millisecs, unsigned long int_client_request_attempts) const</td></tr>
<tr class="memdesc:a605d6fc843afcaf4f667be4bd8db65c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the intersection info.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a605d6fc843afcaf4f667be4bd8db65c4">More...</a><br /></td></tr>
<tr class="separator:a605d6fc843afcaf4f667be4bd8db65c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41b10efc5ef2997dffd2bc6b3d2c04be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a41b10efc5ef2997dffd2bc6b3d2c04be">configure_csv_logger</a> () const</td></tr>
<tr class="memdesc:a41b10efc5ef2997dffd2bc6b3d2c04be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method to configure spdlog::logger for logging signal optimization metrics into daily rotating csv file.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a41b10efc5ef2997dffd2bc6b3d2c04be">More...</a><br /></td></tr>
<tr class="separator:a41b10efc5ef2997dffd2bc6b3d2c04be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ed940771637f27c1a3e776e3a5f67c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a87ed940771637f27c1a3e776e3a5f67c">read_configuration_params</a> ()</td></tr>
<tr class="memdesc:a87ed940771637f27c1a3e776e3a5f67c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Method for reading the configuration parameters from manifest.json.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a87ed940771637f27c1a3e776e3a5f67c">More...</a><br /></td></tr>
<tr class="separator:a87ed940771637f27c1a3e776e3a5f67c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102df0b797eafff0571d8864fdd897d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a102df0b797eafff0571d8864fdd897d9">remove_signal_groups</a> (const std::shared_ptr&lt; <a class="el" href="structstreets__signal__optimization_1_1movement__groups.html">streets_signal_optimization::movement_groups</a> &gt; &amp;movement_groups, const std::vector&lt; uint &gt; &amp;rm_signal_groups) const</td></tr>
<tr class="memdesc:a102df0b797eafff0571d8864fdd897d9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove list of provided signal groups from movement groups considered for signal optmization.  <a href="classsignal__opt__service_1_1signal__opt__service.html#a102df0b797eafff0571d8864fdd897d9">More...</a><br /></td></tr>
<tr class="separator:a102df0b797eafff0571d8864fdd897d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1f8507039e239e67cabb713f779ae95c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a1f8507039e239e67cabb713f779ae95c">FRIEND_TEST</a> (<a class="el" href="classsignal__opt__service_1_1signal__opt__service.html">signal_opt_service</a>, test_produce_dpp)</td></tr>
<tr class="separator:a1f8507039e239e67cabb713f779ae95c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757a7c19cee6d67925750c2b6c2e90f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a757a7c19cee6d67925750c2b6c2e90f2">FRIEND_TEST</a> (<a class="el" href="classsignal__opt__service_1_1signal__opt__service.html">signal_opt_service</a>, test_read_configuration_params)</td></tr>
<tr class="separator:a757a7c19cee6d67925750c2b6c2e90f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a40b90f97eca99e1c1c478bc1af8d8636"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classsignal__opt__service_1_1signal__opt__messages__worker.html">signal_opt_messages_worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a40b90f97eca99e1c1c478bc1af8d8636">_so_msgs_worker_ptr</a></td></tr>
<tr class="separator:a40b90f97eca99e1c1c478bc1af8d8636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af160db76eb5211684aa6af08ad4155ae"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classsignal__opt__service_1_1signal__opt__processing__worker.html">signal_opt_processing_worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">_so_processing_worker_ptr</a></td></tr>
<tr class="separator:af160db76eb5211684aa6af08ad4155ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf4964e5d228326b1caf8ccb20afd1fa"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#aaf4964e5d228326b1caf8ccb20afd1fa">_bootstrap_server</a></td></tr>
<tr class="separator:aaf4964e5d228326b1caf8ccb20afd1fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255149a2d37457917f8caa8d3be9338f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a255149a2d37457917f8caa8d3be9338f">_spat_group_id</a></td></tr>
<tr class="separator:a255149a2d37457917f8caa8d3be9338f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad2215a642361fd7d2aea0e3deca6e9f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#aad2215a642361fd7d2aea0e3deca6e9f">_spat_topic_name</a></td></tr>
<tr class="separator:aad2215a642361fd7d2aea0e3deca6e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bc6138e550e75240fc960b5bdc42167"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a1bc6138e550e75240fc960b5bdc42167">_vsi_group_id</a></td></tr>
<tr class="separator:a1bc6138e550e75240fc960b5bdc42167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffacb7300b6b824cb57e3909b507f44"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#afffacb7300b6b824cb57e3909b507f44">_vsi_topic_name</a></td></tr>
<tr class="separator:afffacb7300b6b824cb57e3909b507f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae506646a13a0095f30b0c8d8bb83c8e"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#aae506646a13a0095f30b0c8d8bb83c8e">_tsc_config_group_id</a></td></tr>
<tr class="separator:aae506646a13a0095f30b0c8d8bb83c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf0978d023f849f33d344ef9050e897"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#abbf0978d023f849f33d344ef9050e897">_tsc_config_topic_name</a></td></tr>
<tr class="separator:abbf0978d023f849f33d344ef9050e897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a153d48de8039e359b1cf54e792eacdba"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a153d48de8039e359b1cf54e792eacdba">_dpp_topic_name</a></td></tr>
<tr class="separator:a153d48de8039e359b1cf54e792eacdba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63b3778014407f414ec2ef3feb1fe9eb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a63b3778014407f414ec2ef3feb1fe9eb">_so_log_path</a></td></tr>
<tr class="separator:a63b3778014407f414ec2ef3feb1fe9eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa5e1c514052fe3a732e93c80271eab"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a4fa5e1c514052fe3a732e93c80271eab">_so_log_filename</a></td></tr>
<tr class="separator:a4fa5e1c514052fe3a732e93c80271eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba1ab395b49119dcf56fcf2879310f7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#aeba1ab395b49119dcf56fcf2879310f7">_exp_delta</a></td></tr>
<tr class="separator:aeba1ab395b49119dcf56fcf2879310f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d8e71a33246db5a2b5f5554ae6ecfb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#ad4d8e71a33246db5a2b5f5554ae6ecfb">enable_so_logging</a> = false</td></tr>
<tr class="separator:ad4d8e71a33246db5a2b5f5554ae6ecfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d81194188d0b87e37edf87d7ef5bc25"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a5d81194188d0b87e37edf87d7ef5bc25">so_sleep_time</a></td></tr>
<tr class="separator:a5d81194188d0b87e37edf87d7ef5bc25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa34bd6ed0dd1ac44d8734ff64051b4cb"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#aa34bd6ed0dd1ac44d8734ff64051b4cb">_time_to_yellow</a></td></tr>
<tr class="separator:aa34bd6ed0dd1ac44d8734ff64051b4cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c0d2d31eebe66ad90c932fb79e7bdc"><td class="memItemLeft" align="right" valign="top">std::vector&lt; uint &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a99c0d2d31eebe66ad90c932fb79e7bdc">ignore_signal_groups</a></td></tr>
<tr class="separator:a99c0d2d31eebe66ad90c932fb79e7bdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4f6b6db88a4db913601a305a358c94d"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">_vsi_consumer</a></td></tr>
<tr class="separator:ac4f6b6db88a4db913601a305a358c94d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af822874b21cb36ebb69c7281e335b52e"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">_spat_consumer</a></td></tr>
<tr class="separator:af822874b21cb36ebb69c7281e335b52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a43d8695ae32f24458b8a3bbb12245"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">_tsc_config_consumer</a></td></tr>
<tr class="separator:aa2a43d8695ae32f24458b8a3bbb12245"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f3ea9c8c0cd6fd7db03e9b88397e41"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__producer__worker.html">kafka_clients::kafka_producer_worker</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a47f3ea9c8c0cd6fd7db03e9b88397e41">_dpp_producer</a></td></tr>
<tr class="separator:a47f3ea9c8c0cd6fd7db03e9b88397e41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf9984393be96afc0835979fa2d1b086"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html">streets_signal_optimization::streets_desired_phase_plan_generator_configuration</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a></td></tr>
<tr class="separator:aaf9984393be96afc0835979fa2d1b086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cc78f85eb81194fa1ebf6fb0135642"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structstreets__signal__optimization_1_1movement__groups.html">streets_signal_optimization::movement_groups</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#ae5cc78f85eb81194fa1ebf6fb0135642">movement_groups_ptr</a></td></tr>
<tr class="separator:ae5cc78f85eb81194fa1ebf6fb0135642"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ee72d793771ab310db63848aa718a5"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classOpenAPI_1_1OAIIntersection__info.html">OpenAPI::OAIIntersection_info</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a06ee72d793771ab310db63848aa718a5">intersection_info_ptr</a></td></tr>
<tr class="separator:a06ee72d793771ab310db63848aa718a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3bb85cdf8115d6d8a6d485dbc530f8d"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classsignal__phase__and__timing_1_1spat.html">signal_phase_and_timing::spat</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#ad3bb85cdf8115d6d8a6d485dbc530f8d">spat_ptr</a></td></tr>
<tr class="separator:ad3bb85cdf8115d6d8a6d485dbc530f8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29c999b9731ec51292e272a00c144105"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="classstreets__vehicles_1_1vehicle__list.html">streets_vehicles::vehicle_list</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#a29c999b9731ec51292e272a00c144105">vehicle_list_ptr</a></td></tr>
<tr class="separator:a29c999b9731ec51292e272a00c144105"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2fd15130cf86f34fb3aca4724beac5"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="structstreets__tsc__configuration_1_1tsc__configuration__state.html">streets_tsc_configuration::tsc_configuration_state</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html#aba2fd15130cf86f34fb3aca4724beac5">tsc_configuration_ptr</a></td></tr>
<tr class="separator:aba2fd15130cf86f34fb3aca4724beac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00013">13</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afd84585cb22897ece5f6cb02cebdf4c9" name="afd84585cb22897ece5f6cb02cebdf4c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd84585cb22897ece5f6cb02cebdf4c9">&#9670;&nbsp;</a></span>signal_opt_service()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">signal_opt_service::signal_opt_service::signal_opt_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the consumer and producer configurations. </p>

</div>
</div>
<a id="a0d08faf7254086e5e9507957fa4b2acc" name="a0d08faf7254086e5e9507957fa4b2acc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d08faf7254086e5e9507957fa4b2acc">&#9670;&nbsp;</a></span>~signal_opt_service()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">signal_opt_service::signal_opt_service::~signal_opt_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>stop the consumer and producer </p>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00456">456</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  457</span>    {</div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">_spat_consumer</a>)</div>
<div class="line"><span class="lineno">  459</span>        {</div>
<div class="line"><span class="lineno">  460</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">_spat_consumer</a>-&gt;stop();</div>
<div class="line"><span class="lineno">  461</span>        }</div>
<div class="line"><span class="lineno">  462</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">_vsi_consumer</a>)</div>
<div class="line"><span class="lineno">  463</span>        {</div>
<div class="line"><span class="lineno">  464</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">_vsi_consumer</a>-&gt;stop();</div>
<div class="line"><span class="lineno">  465</span>        }</div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">_tsc_config_consumer</a>) </div>
<div class="line"><span class="lineno">  467</span>        {</div>
<div class="line"><span class="lineno">  468</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">_tsc_config_consumer</a>-&gt;stop();</div>
<div class="line"><span class="lineno">  469</span>        }</div>
<div class="line"><span class="lineno">  470</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a47f3ea9c8c0cd6fd7db03e9b88397e41">_dpp_producer</a>) </div>
<div class="line"><span class="lineno">  471</span>        {</div>
<div class="line"><span class="lineno">  472</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a47f3ea9c8c0cd6fd7db03e9b88397e41">_dpp_producer</a>-&gt;stop();</div>
<div class="line"><span class="lineno">  473</span>        }</div>
<div class="line"><span class="lineno">  474</span>    }</div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a47f3ea9c8c0cd6fd7db03e9b88397e41"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a47f3ea9c8c0cd6fd7db03e9b88397e41">signal_opt_service::signal_opt_service::_dpp_producer</a></div><div class="ttdeci">std::shared_ptr&lt; kafka_clients::kafka_producer_worker &gt; _dpp_producer</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00038">signal_opt_service.h:38</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_aa2a43d8695ae32f24458b8a3bbb12245"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">signal_opt_service::signal_opt_service::_tsc_config_consumer</a></div><div class="ttdeci">std::shared_ptr&lt; kafka_clients::kafka_consumer_worker &gt; _tsc_config_consumer</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00037">signal_opt_service.h:37</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_ac4f6b6db88a4db913601a305a358c94d"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">signal_opt_service::signal_opt_service::_vsi_consumer</a></div><div class="ttdeci">std::shared_ptr&lt; kafka_clients::kafka_consumer_worker &gt; _vsi_consumer</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00035">signal_opt_service.h:35</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_af822874b21cb36ebb69c7281e335b52e"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">signal_opt_service::signal_opt_service::_spat_consumer</a></div><div class="ttdeci">std::shared_ptr&lt; kafka_clients::kafka_consumer_worker &gt; _spat_consumer</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00036">signal_opt_service.h:36</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a41b10efc5ef2997dffd2bc6b3d2c04be" name="a41b10efc5ef2997dffd2bc6b3d2c04be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41b10efc5ef2997dffd2bc6b3d2c04be">&#9670;&nbsp;</a></span>configure_csv_logger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::configure_csv_logger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to configure spdlog::logger for logging signal optimization metrics into daily rotating csv file. </p>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00361">361</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  362</span>    {</div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">try</span>{</div>
<div class="line"><span class="lineno">  364</span>            SPDLOG_INFO(<span class="stringliteral">&quot;csv log path: {0}&quot;</span>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a63b3778014407f414ec2ef3feb1fe9eb">_so_log_path</a> + <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a4fa5e1c514052fe3a732e93c80271eab">_so_log_filename</a> + <span class="stringliteral">&quot;.csv&quot;</span>);</div>
<div class="line"><span class="lineno">  365</span>            <span class="keyword">auto</span> csv_logger = spdlog::daily_logger_mt&lt;spdlog::async_factory&gt;(</div>
<div class="line"><span class="lineno">  366</span>                <span class="stringliteral">&quot;so_csv_logger&quot;</span>,  <span class="comment">// logger name</span></div>
<div class="line"><span class="lineno">  367</span>                <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a63b3778014407f414ec2ef3feb1fe9eb">_so_log_path</a> + <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a4fa5e1c514052fe3a732e93c80271eab">_so_log_filename</a> +<span class="stringliteral">&quot;.csv&quot;</span>,  <span class="comment">// log file name and path</span></div>
<div class="line"><span class="lineno">  368</span>                23, <span class="comment">// hours to rotate</span></div>
<div class="line"><span class="lineno">  369</span>                59 <span class="comment">// minutes to rotate</span></div>
<div class="line"><span class="lineno">  370</span>                );</div>
<div class="line"><span class="lineno">  371</span>            <span class="comment">// Only log log statement content</span></div>
<div class="line"><span class="lineno">  372</span>            csv_logger-&gt;set_pattern(<span class="stringliteral">&quot;%v&quot;</span>);</div>
<div class="line"><span class="lineno">  373</span>            csv_logger-&gt;set_level(spdlog::level::info);</div>
<div class="line"><span class="lineno">  374</span>            csv_logger-&gt;flush_on(spdlog::level::info);</div>
<div class="line"><span class="lineno">  375</span>        }</div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">catch</span> (<span class="keyword">const</span> spdlog::spdlog_ex&amp; ex)</div>
<div class="line"><span class="lineno">  377</span>        {</div>
<div class="line"><span class="lineno">  378</span>            spdlog::error( <span class="stringliteral">&quot;Log initialization failed: {0}!&quot;</span>,ex.what());</div>
<div class="line"><span class="lineno">  379</span>        }</div>
<div class="line"><span class="lineno">  380</span>    }</div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a4fa5e1c514052fe3a732e93c80271eab"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a4fa5e1c514052fe3a732e93c80271eab">signal_opt_service::signal_opt_service::_so_log_filename</a></div><div class="ttdeci">std::string _so_log_filename</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00028">signal_opt_service.h:28</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a63b3778014407f414ec2ef3feb1fe9eb"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a63b3778014407f414ec2ef3feb1fe9eb">signal_opt_service::signal_opt_service::_so_log_path</a></div><div class="ttdeci">std::string _so_log_path</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00027">signal_opt_service.h:27</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ec147e3dacd67b830825ecca3d03da2" name="a7ec147e3dacd67b830825ecca3d03da2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ec147e3dacd67b830825ecca3d03da2">&#9670;&nbsp;</a></span>consume_spat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::consume_spat </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt;&#160;</td>
          <td class="paramname"><em>spat_consumer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classsignal__phase__and__timing_1_1spat.html">signal_phase_and_timing::spat</a> &gt;&#160;</td>
          <td class="paramname"><em>_spat_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to consume SPaT JSON from kafka consumer and update spat pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">spat_consumer</td><td>shared pointer to kafka consumer. </td></tr>
    <tr><td class="paramname">_spat_ptr</td><td>shared pointer to spat object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00108">108</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  109</span>                                                                                                              {</div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">while</span>( spat_consumer-&gt;is_running()) {</div>
<div class="line"><span class="lineno">  111</span>            <span class="keyword">const</span> std::string payload = spat_consumer-&gt;consume(1000); </div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">if</span> (!payload.empty()) {</div>
<div class="line"><span class="lineno">  113</span>                <span class="keywordtype">bool</span> update = <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a40b90f97eca99e1c1c478bc1af8d8636">_so_msgs_worker_ptr</a>-&gt;update_spat(payload,_spat_ptr);</div>
<div class="line"><span class="lineno">  114</span>                <span class="keywordflow">if</span> ( !update ){</div>
<div class="line"><span class="lineno">  115</span>                    SPDLOG_CRITICAL(<span class="stringliteral">&quot;Failed to update SPaT with update {0}!&quot;</span>, payload);</div>
<div class="line"><span class="lineno">  116</span>                }</div>
<div class="line"><span class="lineno">  117</span>            }   </div>
<div class="line"><span class="lineno">  118</span>        }</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a40b90f97eca99e1c1c478bc1af8d8636"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a40b90f97eca99e1c1c478bc1af8d8636">signal_opt_service::signal_opt_service::_so_msgs_worker_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; signal_opt_messages_worker &gt; _so_msgs_worker_ptr</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00016">signal_opt_service.h:16</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a31b70d2b908ea9a867d49a7f809c98e8" name="a31b70d2b908ea9a867d49a7f809c98e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31b70d2b908ea9a867d49a7f809c98e8">&#9670;&nbsp;</a></span>consume_tsc_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::consume_tsc_config </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt;&#160;</td>
          <td class="paramname"><em>tsc_config_consumer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="structstreets__tsc__configuration_1_1tsc__configuration__state.html">streets_tsc_configuration::tsc_configuration_state</a> &gt;&#160;</td>
          <td class="paramname"><em>_tsc_config_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to consume a single TSC <a class="el" href="structConfiguration.html">Configuration</a> JSON message from kafka and update the tsc configuration state pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tsc_config_consumer</td><td>shared pointer to kafka consumer. </td></tr>
    <tr><td class="paramname">_tsc_config_ptr</td><td>shared pointer to tsc configuration state pointer. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00134">134</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  135</span>                                                                                                                                             {</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">while</span>( tsc_config_consumer-&gt;is_running()) {</div>
<div class="line"><span class="lineno">  137</span>            <span class="keyword">const</span> std::string payload = tsc_config_consumer-&gt;consume(1000); </div>
<div class="line"><span class="lineno">  138</span>            <span class="keywordflow">if</span> (!payload.empty()) {</div>
<div class="line"><span class="lineno">  139</span>                <span class="keywordtype">bool</span> update = <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a40b90f97eca99e1c1c478bc1af8d8636">_so_msgs_worker_ptr</a>-&gt;update_tsc_config(payload,_tsc_config_ptr);</div>
<div class="line"><span class="lineno">  140</span>                <span class="keywordflow">if</span> (!update) {</div>
<div class="line"><span class="lineno">  141</span>                    SPDLOG_CRITICAL(<span class="stringliteral">&quot;Failed to update TSC Configuration with update {0}!&quot;</span>, payload);</div>
<div class="line"><span class="lineno">  142</span>                }<span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  143</span>                    <span class="comment">// Stop consumer after receiving tsc_configuration information</span></div>
<div class="line"><span class="lineno">  144</span>                    SPDLOG_INFO(<span class="stringliteral">&quot;TSC Configuration sucessfully loaded : \n{0}&quot;</span>, payload );</div>
<div class="line"><span class="lineno">  145</span>                    tsc_config_consumer-&gt;stop();</div>
<div class="line"><span class="lineno">  146</span>                    <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  147</span>                }</div>
<div class="line"><span class="lineno">  148</span>            }</div>
<div class="line"><span class="lineno">  149</span>        }</div>
<div class="line"><span class="lineno">  150</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7bf6f1bfa75563286ff32a61df80e96f" name="a7bf6f1bfa75563286ff32a61df80e96f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bf6f1bfa75563286ff32a61df80e96f">&#9670;&nbsp;</a></span>consume_vsi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::consume_vsi </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a> &gt;&#160;</td>
          <td class="paramname"><em>vsi_consumer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classstreets__vehicles_1_1vehicle__list.html">streets_vehicles::vehicle_list</a> &gt;&#160;</td>
          <td class="paramname"><em>_vehicle_list_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to consume vehicle status and intent JSON from kafka consumer and vehicle list pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vsi_consumer</td><td>shared pointer to kafka consumer. </td></tr>
    <tr><td class="paramname">_vehicle_list_ptr</td><td>shared pointer to vehicle list object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00121">121</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>                                                                                                                   {</div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">while</span>( vsi_consumer-&gt;is_running()) {</div>
<div class="line"><span class="lineno">  124</span>            <span class="keyword">const</span> std::string payload = vsi_consumer-&gt;consume(1000); </div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">if</span> (!payload.empty()) {</div>
<div class="line"><span class="lineno">  126</span>                <span class="keywordtype">bool</span> update = <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a40b90f97eca99e1c1c478bc1af8d8636">_so_msgs_worker_ptr</a>-&gt;update_vehicle_list(payload,_vehicle_list_ptr);</div>
<div class="line"><span class="lineno">  127</span>                <span class="keywordflow">if</span> (!update) {</div>
<div class="line"><span class="lineno">  128</span>                    SPDLOG_CRITICAL(<span class="stringliteral">&quot;Failed to update Vehicle List with update {0}!&quot;</span>, payload);</div>
<div class="line"><span class="lineno">  129</span>                }</div>
<div class="line"><span class="lineno">  130</span>            }   </div>
<div class="line"><span class="lineno">  131</span>        }</div>
<div class="line"><span class="lineno">  132</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f8507039e239e67cabb713f779ae95c" name="a1f8507039e239e67cabb713f779ae95c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f8507039e239e67cabb713f779ae95c">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">signal_opt_service::signal_opt_service::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html">signal_opt_service</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">test_produce_dpp&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a757a7c19cee6d67925750c2b6c2e90f2" name="a757a7c19cee6d67925750c2b6c2e90f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a757a7c19cee6d67925750c2b6c2e90f2">&#9670;&nbsp;</a></span>FRIEND_TEST() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">signal_opt_service::signal_opt_service::FRIEND_TEST </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html">signal_opt_service</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">test_read_configuration_params&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac5270550fc00e6e7b4f7822fcac522dc" name="ac5270550fc00e6e7b4f7822fcac522dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5270550fc00e6e7b4f7822fcac522dc">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool signal_opt_service::signal_opt_service::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the consumer and producer configurations. </p>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00005">5</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    6</span>    {</div>
<div class="line"><span class="lineno">    7</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">    8</span>        {</div>
<div class="line"><span class="lineno">    9</span>            <a class="code hl_function" href="classsignal__opt__service_1_1signal__opt__service.html#a87ed940771637f27c1a3e776e3a5f67c">read_configuration_params</a>();</div>
<div class="line"><span class="lineno">   10</span>            </div>
<div class="line"><span class="lineno">   11</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a40b90f97eca99e1c1c478bc1af8d8636">_so_msgs_worker_ptr</a> = std::make_shared&lt;signal_opt_messages_worker&gt;();</div>
<div class="line"><span class="lineno">   12</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">_so_processing_worker_ptr</a> = std::make_shared&lt;signal_opt_processing_worker&gt;();</div>
<div class="line"><span class="lineno">   13</span> </div>
<div class="line"><span class="lineno">   14</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ae5cc78f85eb81194fa1ebf6fb0135642">movement_groups_ptr</a> = std::make_shared&lt;streets_signal_optimization::movement_groups&gt;();</div>
<div class="line"><span class="lineno">   15</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a29c999b9731ec51292e272a00c144105">vehicle_list_ptr</a> = std::make_shared&lt;streets_vehicles::vehicle_list&gt;();</div>
<div class="line"><span class="lineno">   16</span>            <span class="keyword">auto</span> processor = std::make_shared&lt;streets_vehicles::signalized_status_intent_processor&gt;();</div>
<div class="line"><span class="lineno">   17</span>            processor-&gt;set_timeout(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aeba1ab395b49119dcf56fcf2879310f7">_exp_delta</a>);</div>
<div class="line"><span class="lineno">   18</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a29c999b9731ec51292e272a00c144105">vehicle_list_ptr</a>-&gt;set_processor(processor);</div>
<div class="line"><span class="lineno">   19</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a06ee72d793771ab310db63848aa718a5">intersection_info_ptr</a> = std::make_shared&lt;OpenAPI::OAIIntersection_info&gt;();</div>
<div class="line"><span class="lineno">   20</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ad3bb85cdf8115d6d8a6d485dbc530f8d">spat_ptr</a> = std::make_shared&lt;signal_phase_and_timing::spat&gt;();</div>
<div class="line"><span class="lineno">   21</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aba2fd15130cf86f34fb3aca4724beac5">tsc_configuration_ptr</a> = std::make_shared&lt;streets_tsc_configuration::tsc_configuration_state&gt;();</div>
<div class="line"><span class="lineno">   22</span> </div>
<div class="line"><span class="lineno">   23</span>            <span class="comment">// Kafka config</span></div>
<div class="line"><span class="lineno">   24</span>            <span class="keyword">auto</span> client = std::make_unique&lt;kafka_clients::kafka_client&gt;();</div>
<div class="line"><span class="lineno">   25</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">_spat_consumer</a> = client-&gt;create_consumer(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf4964e5d228326b1caf8ccb20afd1fa">_bootstrap_server</a>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aad2215a642361fd7d2aea0e3deca6e9f">_spat_topic_name</a>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a255149a2d37457917f8caa8d3be9338f">_spat_group_id</a>);</div>
<div class="line"><span class="lineno">   26</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">_vsi_consumer</a> = client-&gt;create_consumer(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf4964e5d228326b1caf8ccb20afd1fa">_bootstrap_server</a>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#afffacb7300b6b824cb57e3909b507f44">_vsi_topic_name</a>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a1bc6138e550e75240fc960b5bdc42167">_vsi_group_id</a>);</div>
<div class="line"><span class="lineno">   27</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">_tsc_config_consumer</a> = client-&gt;create_consumer(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf4964e5d228326b1caf8ccb20afd1fa">_bootstrap_server</a>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#abbf0978d023f849f33d344ef9050e897">_tsc_config_topic_name</a>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aae506646a13a0095f30b0c8d8bb83c8e">_tsc_config_group_id</a>);</div>
<div class="line"><span class="lineno">   28</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a47f3ea9c8c0cd6fd7db03e9b88397e41">_dpp_producer</a> = client-&gt;create_producer(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf4964e5d228326b1caf8ccb20afd1fa">_bootstrap_server</a>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a153d48de8039e359b1cf54e792eacdba">_dpp_topic_name</a>);</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>            <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">_spat_consumer</a>-&gt;init() || !<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">_vsi_consumer</a>-&gt;init() || !<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">_tsc_config_consumer</a>-&gt;init() )</div>
<div class="line"><span class="lineno">   32</span>            {</div>
<div class="line"><span class="lineno">   33</span>                SPDLOG_CRITICAL(<span class="stringliteral">&quot;kafka consumers ( _spat_consumer, _tsc_config_consumer  or _vsi_consumer ) initialize error!&quot;</span>);</div>
<div class="line"><span class="lineno">   34</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   35</span>            }</div>
<div class="line"><span class="lineno">   36</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   37</span>            {</div>
<div class="line"><span class="lineno">   38</span>                <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">_spat_consumer</a>-&gt;subscribe();</div>
<div class="line"><span class="lineno">   39</span>                <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">_vsi_consumer</a>-&gt;subscribe();</div>
<div class="line"><span class="lineno">   40</span>                <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">_tsc_config_consumer</a>-&gt;subscribe();</div>
<div class="line"><span class="lineno">   41</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">_spat_consumer</a>-&gt;is_running() || !<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">_vsi_consumer</a>-&gt;is_running() || !<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">_tsc_config_consumer</a>-&gt;is_running())</div>
<div class="line"><span class="lineno">   42</span>                {</div>
<div class="line"><span class="lineno">   43</span>                    SPDLOG_CRITICAL(<span class="stringliteral">&quot;kafka consumers ( _spat_consumer, _tsc_config_consumer or _vsi_consumer) is not running!&quot;</span>);</div>
<div class="line"><span class="lineno">   44</span>                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   45</span>                }</div>
<div class="line"><span class="lineno">   46</span>            }</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>            <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a47f3ea9c8c0cd6fd7db03e9b88397e41">_dpp_producer</a>-&gt;init())</div>
<div class="line"><span class="lineno">   49</span>            {</div>
<div class="line"><span class="lineno">   50</span>                SPDLOG_CRITICAL(<span class="stringliteral">&quot;kafka producer (_dpp_producer) initialize error!&quot;</span>);</div>
<div class="line"><span class="lineno">   51</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   52</span>            }</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>            <span class="comment">// Create logger</span></div>
<div class="line"><span class="lineno">   55</span>            <span class="keywordflow">if</span> ( <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ad4d8e71a33246db5a2b5f5554ae6ecfb">enable_so_logging</a> ) {</div>
<div class="line"><span class="lineno">   56</span>                <a class="code hl_function" href="classsignal__opt__service_1_1signal__opt__service.html#a41b10efc5ef2997dffd2bc6b3d2c04be">configure_csv_logger</a>();</div>
<div class="line"><span class="lineno">   57</span>                <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">_so_processing_worker_ptr</a>-&gt;set_enable_so_logging(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ad4d8e71a33246db5a2b5f5554ae6ecfb">enable_so_logging</a>);</div>
<div class="line"><span class="lineno">   58</span>            }</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>            <span class="comment">// Service config</span></div>
<div class="line"><span class="lineno">   61</span>            <span class="keyword">auto</span> sleep_millisecs = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;sleep_millisecs&quot;</span>);</div>
<div class="line"><span class="lineno">   62</span>            <span class="keyword">auto</span> int_client_request_attempts = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;int_client_request_attempts&quot;</span>);            </div>
<div class="line"><span class="lineno">   63</span>            <span class="comment">// HTTP request to update intersection information</span></div>
<div class="line"><span class="lineno">   64</span>            <span class="keywordflow">if</span> (!<a class="code hl_function" href="classsignal__opt__service_1_1signal__opt__service.html#a605d6fc843afcaf4f667be4bd8db65c4">update_intersection_info</a>(sleep_millisecs, int_client_request_attempts))</div>
<div class="line"><span class="lineno">   65</span>            {</div>
<div class="line"><span class="lineno">   66</span>                SPDLOG_CRITICAL(<span class="stringliteral">&quot;Failed to initialize signal_opt_service due to intersection client request failure!&quot;</span>);</div>
<div class="line"><span class="lineno">   67</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   68</span>            }</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>            <span class="comment">//Configure signal_opt_processing_worker</span></div>
<div class="line"><span class="lineno">   71</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">_so_processing_worker_ptr</a>-&gt;configure_signal_opt_processing_worker(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>);</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>            SPDLOG_INFO(<span class="stringliteral">&quot;signal_opt_service initialized successfully!!!&quot;</span>);</div>
<div class="line"><span class="lineno">   74</span>            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   75</span>        }</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">catch</span> (<span class="keyword">const</span> <a class="code hl_class" href="classstreets__service_1_1streets__configuration__exception.html">streets_service::streets_configuration_exception</a> &amp;ex)</div>
<div class="line"><span class="lineno">   77</span>        {</div>
<div class="line"><span class="lineno">   78</span>            SPDLOG_ERROR(<span class="stringliteral">&quot;Signal Optimization Service Initialization failure: {0} &quot;</span>, ex.what());</div>
<div class="line"><span class="lineno">   79</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   80</span>        }</div>
<div class="line"><span class="lineno">   81</span>    }</div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a06ee72d793771ab310db63848aa718a5"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a06ee72d793771ab310db63848aa718a5">signal_opt_service::signal_opt_service::intersection_info_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; OpenAPI::OAIIntersection_info &gt; intersection_info_ptr</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00042">signal_opt_service.h:42</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a153d48de8039e359b1cf54e792eacdba"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a153d48de8039e359b1cf54e792eacdba">signal_opt_service::signal_opt_service::_dpp_topic_name</a></div><div class="ttdeci">std::string _dpp_topic_name</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00026">signal_opt_service.h:26</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a1bc6138e550e75240fc960b5bdc42167"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a1bc6138e550e75240fc960b5bdc42167">signal_opt_service::signal_opt_service::_vsi_group_id</a></div><div class="ttdeci">std::string _vsi_group_id</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00022">signal_opt_service.h:22</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a255149a2d37457917f8caa8d3be9338f"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a255149a2d37457917f8caa8d3be9338f">signal_opt_service::signal_opt_service::_spat_group_id</a></div><div class="ttdeci">std::string _spat_group_id</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00020">signal_opt_service.h:20</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a29c999b9731ec51292e272a00c144105"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a29c999b9731ec51292e272a00c144105">signal_opt_service::signal_opt_service::vehicle_list_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; streets_vehicles::vehicle_list &gt; vehicle_list_ptr</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00044">signal_opt_service.h:44</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a41b10efc5ef2997dffd2bc6b3d2c04be"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a41b10efc5ef2997dffd2bc6b3d2c04be">signal_opt_service::signal_opt_service::configure_csv_logger</a></div><div class="ttdeci">void configure_csv_logger() const</div><div class="ttdoc">Method to configure spdlog::logger for logging signal optimization metrics into daily rotating csv fi...</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8cpp_source.html#l00361">signal_opt_service.cpp:361</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a605d6fc843afcaf4f667be4bd8db65c4"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a605d6fc843afcaf4f667be4bd8db65c4">signal_opt_service::signal_opt_service::update_intersection_info</a></div><div class="ttdeci">bool update_intersection_info(unsigned long sleep_millisecs, unsigned long int_client_request_attempts) const</div><div class="ttdoc">Updating the intersection info.</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8cpp_source.html#l00342">signal_opt_service.cpp:342</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a87ed940771637f27c1a3e776e3a5f67c"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a87ed940771637f27c1a3e776e3a5f67c">signal_opt_service::signal_opt_service::read_configuration_params</a></div><div class="ttdeci">void read_configuration_params()</div><div class="ttdoc">Method for reading the configuration parameters from manifest.json.</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8cpp_source.html#l00382">signal_opt_service.cpp:382</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_aad2215a642361fd7d2aea0e3deca6e9f"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#aad2215a642361fd7d2aea0e3deca6e9f">signal_opt_service::signal_opt_service::_spat_topic_name</a></div><div class="ttdeci">std::string _spat_topic_name</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00021">signal_opt_service.h:21</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_aae506646a13a0095f30b0c8d8bb83c8e"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#aae506646a13a0095f30b0c8d8bb83c8e">signal_opt_service::signal_opt_service::_tsc_config_group_id</a></div><div class="ttdeci">std::string _tsc_config_group_id</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00024">signal_opt_service.h:24</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_aaf4964e5d228326b1caf8ccb20afd1fa"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#aaf4964e5d228326b1caf8ccb20afd1fa">signal_opt_service::signal_opt_service::_bootstrap_server</a></div><div class="ttdeci">std::string _bootstrap_server</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00019">signal_opt_service.h:19</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_aaf9984393be96afc0835979fa2d1b086"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">signal_opt_service::signal_opt_service::dpp_config</a></div><div class="ttdeci">streets_signal_optimization::streets_desired_phase_plan_generator_configuration dpp_config</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00040">signal_opt_service.h:40</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_aba2fd15130cf86f34fb3aca4724beac5"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#aba2fd15130cf86f34fb3aca4724beac5">signal_opt_service::signal_opt_service::tsc_configuration_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; streets_tsc_configuration::tsc_configuration_state &gt; tsc_configuration_ptr</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00045">signal_opt_service.h:45</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_abbf0978d023f849f33d344ef9050e897"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#abbf0978d023f849f33d344ef9050e897">signal_opt_service::signal_opt_service::_tsc_config_topic_name</a></div><div class="ttdeci">std::string _tsc_config_topic_name</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00025">signal_opt_service.h:25</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_ad3bb85cdf8115d6d8a6d485dbc530f8d"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#ad3bb85cdf8115d6d8a6d485dbc530f8d">signal_opt_service::signal_opt_service::spat_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; signal_phase_and_timing::spat &gt; spat_ptr</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00043">signal_opt_service.h:43</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_ad4d8e71a33246db5a2b5f5554ae6ecfb"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#ad4d8e71a33246db5a2b5f5554ae6ecfb">signal_opt_service::signal_opt_service::enable_so_logging</a></div><div class="ttdeci">bool enable_so_logging</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00030">signal_opt_service.h:30</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_ae5cc78f85eb81194fa1ebf6fb0135642"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#ae5cc78f85eb81194fa1ebf6fb0135642">signal_opt_service::signal_opt_service::movement_groups_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; streets_signal_optimization::movement_groups &gt; movement_groups_ptr</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00041">signal_opt_service.h:41</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_aeba1ab395b49119dcf56fcf2879310f7"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#aeba1ab395b49119dcf56fcf2879310f7">signal_opt_service::signal_opt_service::_exp_delta</a></div><div class="ttdeci">int _exp_delta</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00029">signal_opt_service.h:29</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_af160db76eb5211684aa6af08ad4155ae"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">signal_opt_service::signal_opt_service::_so_processing_worker_ptr</a></div><div class="ttdeci">std::shared_ptr&lt; signal_opt_processing_worker &gt; _so_processing_worker_ptr</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00017">signal_opt_service.h:17</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_afffacb7300b6b824cb57e3909b507f44"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#afffacb7300b6b824cb57e3909b507f44">signal_opt_service::signal_opt_service::_vsi_topic_name</a></div><div class="ttdeci">std::string _vsi_topic_name</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00023">signal_opt_service.h:23</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__configuration__exception_html"><div class="ttname"><a href="classstreets__service_1_1streets__configuration__exception.html">streets_service::streets_configuration_exception</a></div><div class="ttdoc">Streets Configuration Exception thrown when manifest.json configuration files are incorrectly formatt...</div><div class="ttdef"><b>Definition:</b> <a href="streets__configuration__exception_8h_source.html#l00011">streets_configuration_exception.h:11</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__configuration_html_ab33a5d183c0ca2b2f0d757f5466f200b"><div class="ttname"><a href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a></div><div class="ttdeci">static int get_int_config(const std::string &amp;config_param_name)</div><div class="ttdoc">Retreive configuration parameter integer value with provided name.</div><div class="ttdef"><b>Definition:</b> <a href="streets__configuration_8cpp_source.html#l00119">streets_configuration.cpp:119</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="streets__configuration_8cpp_source.html#l00119">streets_service::streets_configuration::get_int_config()</a>.</p>

<p class="reference">Referenced by <a class="el" href="signal__opt__service_2src_2main_8cpp_source.html#l00004">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc_cgraph.png" border="0" usemap="#aclasssignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc_cgraph" alt=""/></div>
<map name="aclasssignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc_cgraph" id="aclasssignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc_cgraph">
<area shape="rect" title="Initialize the consumer and producer configurations." alt="" coords="5,5,141,61"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b" title="Retreive configuration parameter integer value with provided name." alt="" coords="189,13,377,54"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="425,13,611,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc_icgraph.png" border="0" usemap="#aclasssignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc_icgraph" alt=""/></div>
<map name="aclasssignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc_icgraph" id="aclasssignal__opt__service_1_1signal__opt__service_ac5270550fc00e6e7b4f7822fcac522dc_icgraph">
<area shape="rect" title="Initialize the consumer and producer configurations." alt="" coords="104,5,240,61"/>
<area shape="rect" href="signal__opt__service_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a69da1a8f88693f184f76642c7674c151" name="a69da1a8f88693f184f76642c7674c151"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69da1a8f88693f184f76642c7674c151">&#9670;&nbsp;</a></span>populate_movement_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::populate_movement_groups </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="structstreets__signal__optimization_1_1movement__groups.html">streets_signal_optimization::movement_groups</a> &gt;&#160;</td>
          <td class="paramname"><em>_groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="structstreets__tsc__configuration_1_1tsc__configuration__state.html">streets_tsc_configuration::tsc_configuration_state</a> &gt;&#160;</td>
          <td class="paramname"><em>tsc_config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to use the tsc_config_state pointer from the signal_opt_message_worker to populate movement_groups pointer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">movement_groups</td><td>shared pointer to list of movement groups </td></tr>
    <tr><td class="paramname">tsc_config</td><td>shared pointer to tsc configuration state object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00296">296</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>    {</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">if</span> (tsc_config) {</div>
<div class="line"><span class="lineno">  300</span>            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;phase_config : tsc_config-&gt;tsc_config_list) {</div>
<div class="line"><span class="lineno">  301</span>                <span class="comment">// If signal group has one or more concurrent phase</span></div>
<div class="line"><span class="lineno">  302</span>                <span class="keywordflow">if</span> ( !phase_config.concurrent_signal_groups.empty() ) {</div>
<div class="line"><span class="lineno">  303</span>                    <span class="comment">// Loop through concurrent phases and create a movement group for each pair</span></div>
<div class="line"><span class="lineno">  304</span>                    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;concur : phase_config.concurrent_signal_groups) {</div>
<div class="line"><span class="lineno">  305</span>                        <a class="code hl_struct" href="structstreets__signal__optimization_1_1movement__group.html">streets_signal_optimization::movement_group</a> new_group;</div>
<div class="line"><span class="lineno">  306</span>                        new_group.<a class="code hl_variable" href="structstreets__signal__optimization_1_1movement__group.html#af1f1b26380de8f35224dc4cbd75843b8">signal_groups</a> = {phase_config.signal_group_id, concur};</div>
<div class="line"><span class="lineno">  307</span>                        <span class="comment">// Initialize a flag for if this pair already exists in the movement groups in reverse.</span></div>
<div class="line"><span class="lineno">  308</span>                        <span class="keywordtype">bool</span> already_added = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  309</span>                        <span class="comment">// loop through movement groups and set flag to true if pair already exists in reverse order.</span></div>
<div class="line"><span class="lineno">  310</span>                        <span class="keywordflow">for</span> ( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;add_group: _groups-&gt;groups ) {</div>
<div class="line"><span class="lineno">  311</span>                            <span class="keywordflow">if</span> ( add_group.signal_groups.second == new_group.<a class="code hl_variable" href="structstreets__signal__optimization_1_1movement__group.html#af1f1b26380de8f35224dc4cbd75843b8">signal_groups</a>.first &amp;&amp; </div>
<div class="line"><span class="lineno">  312</span>                                    add_group.signal_groups.first == new_group.<a class="code hl_variable" href="structstreets__signal__optimization_1_1movement__group.html#af1f1b26380de8f35224dc4cbd75843b8">signal_groups</a>.second) {</div>
<div class="line"><span class="lineno">  313</span>                                already_added = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  314</span>                            }</div>
<div class="line"><span class="lineno">  315</span>                        }</div>
<div class="line"><span class="lineno">  316</span>                        <span class="comment">// Only add a new pair if it does not already exist in movement groups in reverse.</span></div>
<div class="line"><span class="lineno">  317</span>                        <span class="keywordflow">if</span> (!already_added) {</div>
<div class="line"><span class="lineno">  318</span>                            _groups-&gt;groups.push_back(new_group);</div>
<div class="line"><span class="lineno">  319</span>                        }</div>
<div class="line"><span class="lineno">  320</span>                    }</div>
<div class="line"><span class="lineno">  321</span>                }</div>
<div class="line"><span class="lineno">  322</span>                <span class="comment">// If signal group does not have any concurrent phases add it as a movement group pair of between itself and 0 since</span></div>
<div class="line"><span class="lineno">  323</span>                <span class="comment">// 0 is an invalid signal group</span></div>
<div class="line"><span class="lineno">  324</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  325</span>                    <a class="code hl_struct" href="structstreets__signal__optimization_1_1movement__group.html">streets_signal_optimization::movement_group</a> new_group;</div>
<div class="line"><span class="lineno">  326</span>                    <span class="comment">// Add invalid signal group 0 as current signal group to indicate there is none.</span></div>
<div class="line"><span class="lineno">  327</span>                    new_group.<a class="code hl_variable" href="structstreets__signal__optimization_1_1movement__group.html#af1f1b26380de8f35224dc4cbd75843b8">signal_groups</a> = { phase_config.signal_group_id, 0};</div>
<div class="line"><span class="lineno">  328</span>                    _groups-&gt;groups.push_back(new_group);</div>
<div class="line"><span class="lineno">  329</span>                }</div>
<div class="line"><span class="lineno">  330</span>            }</div>
<div class="line"><span class="lineno">  331</span>            SPDLOG_DEBUG(<span class="stringliteral">&quot;Movement Groups: &quot;</span>);</div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">for</span> ( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;mg : _groups-&gt;groups) {</div>
<div class="line"><span class="lineno">  333</span>                SPDLOG_DEBUG(<span class="stringliteral">&quot;Signal Group {0} and Signal Group {1}.&quot;</span>, mg.signal_groups.first, mg.signal_groups.second );</div>
<div class="line"><span class="lineno">  334</span>            }</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>            <a class="code hl_function" href="classsignal__opt__service_1_1signal__opt__service.html#a102df0b797eafff0571d8864fdd897d9">remove_signal_groups</a>( _groups ,<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a99c0d2d31eebe66ad90c932fb79e7bdc">ignore_signal_groups</a>);</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>        }</div>
<div class="line"><span class="lineno">  339</span>    }</div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a102df0b797eafff0571d8864fdd897d9"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a102df0b797eafff0571d8864fdd897d9">signal_opt_service::signal_opt_service::remove_signal_groups</a></div><div class="ttdeci">void remove_signal_groups(const std::shared_ptr&lt; streets_signal_optimization::movement_groups &gt; &amp;movement_groups, const std::vector&lt; uint &gt; &amp;rm_signal_groups) const</div><div class="ttdoc">Remove list of provided signal groups from movement groups considered for signal optmization.</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8cpp_source.html#l00420">signal_opt_service.cpp:420</a></div></div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a99c0d2d31eebe66ad90c932fb79e7bdc"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a99c0d2d31eebe66ad90c932fb79e7bdc">signal_opt_service::signal_opt_service::ignore_signal_groups</a></div><div class="ttdeci">std::vector&lt; uint &gt; ignore_signal_groups</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00033">signal_opt_service.h:33</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1movement__group_html"><div class="ttname"><a href="structstreets__signal__optimization_1_1movement__group.html">streets_signal_optimization::movement_group</a></div><div class="ttdoc">A movement group is a combination of signal groups with non-conflicting directions....</div><div class="ttdef"><b>Definition:</b> <a href="movement__group_8h_source.html#l00011">movement_group.h:12</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1movement__group_html_af1f1b26380de8f35224dc4cbd75843b8"><div class="ttname"><a href="structstreets__signal__optimization_1_1movement__group.html#af1f1b26380de8f35224dc4cbd75843b8">streets_signal_optimization::movement_group::signal_groups</a></div><div class="ttdeci">std::pair&lt; int, int &gt; signal_groups</div><div class="ttdoc">List of signal groups. Each movement group contains a set of signal groups with non-conflicting direc...</div><div class="ttdef"><b>Definition:</b> <a href="movement__group_8h_source.html#l00017">movement_group.h:17</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="movement__group_8h_source.html#l00017">streets_signal_optimization::movement_group::signal_groups</a>.</p>

</div>
</div>
<a id="a5360de5c3760ef1994bb48c737f3989c" name="a5360de5c3760ef1994bb48c737f3989c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5360de5c3760ef1994bb48c737f3989c">&#9670;&nbsp;</a></span>produce_dpp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::produce_dpp </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classkafka__clients_1_1kafka__producer__worker.html">kafka_clients::kafka_producer_worker</a> &gt;&#160;</td>
          <td class="paramname"><em>dpp_producer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classOpenAPI_1_1OAIIntersection__info.html">OpenAPI::OAIIntersection_info</a> &gt;&#160;</td>
          <td class="paramname"><em>_intersection_info_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classstreets__vehicles_1_1vehicle__list.html">streets_vehicles::vehicle_list</a> &gt;&#160;</td>
          <td class="paramname"><em>_vehicle_list_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="classsignal__phase__and__timing_1_1spat.html">signal_phase_and_timing::spat</a> &gt;&#160;</td>
          <td class="paramname"><em>_spat_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="structstreets__tsc__configuration_1_1tsc__configuration__state.html">streets_tsc_configuration::tsc_configuration_state</a> &gt;&#160;</td>
          <td class="paramname"><em>_tsc_config_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="structstreets__signal__optimization_1_1movement__groups.html">streets_signal_optimization::movement_groups</a> &gt;&#160;</td>
          <td class="paramname"><em>_movement_groups_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html">streets_signal_optimization::streets_desired_phase_plan_generator_configuration</a> &amp;&#160;</td>
          <td class="paramname"><em>_dpp_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>_so_sleep_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method to produce desired phase plan Json to kafka. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dpp_producer</td><td>shared pointer to kafka producer. </td></tr>
    <tr><td class="paramname">_intersection_info_ptr</td><td>shared pointer to intersection info object. </td></tr>
    <tr><td class="paramname">_vehicle_list_ptr</td><td>shared pointer to vehicle list object. </td></tr>
    <tr><td class="paramname">_spat_ptr</td><td>shared pointer to spat object. </td></tr>
    <tr><td class="paramname">_tsc_config_ptr</td><td>shared pointer to tsc configuration state object. </td></tr>
    <tr><td class="paramname">_movement_groups_ptr</td><td>shared pointer to movement groups object. </td></tr>
    <tr><td class="paramname">_dpp_config</td><td>desired phase plan generator configuration object. </td></tr>
    <tr><td class="paramname">_so_sleep_time</td><td>the time interval between two iterations of calling signal optimization libraries </td></tr>
  </table>
  </dd>
</dl>
<p >If the number of future movement groups in the spat has changed compared to the previous step and it is less than or equal to the desired numNo vehicles presenter of future movement groups, run <a class="el" href="namespacestreets__signal__optimization.html">streets_signal_optimization</a> libraries to get optimal desired_phase_plan.</p>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00152">152</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  160</span>    {</div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">_so_processing_worker_ptr</a>-&gt;get_is_configured()) {</div>
<div class="line"><span class="lineno">  162</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">_so_processing_worker_ptr</a>-&gt;configure_signal_opt_processing_worker(_dpp_config);</div>
<div class="line"><span class="lineno">  163</span>        }</div>
<div class="line"><span class="lineno">  164</span>        </div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordtype">int</span> prev_future_move_group_count = 0;</div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordtype">int</span> current_future_move_group_count = 0;</div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordtype">bool</span> new_dpp_generated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  168</span>        <span class="comment">// Keeps track of sequential SO iteration skips caused by percieved missing DPP data in spat.</span></div>
<div class="line"><span class="lineno">  169</span>        <span class="comment">// TODO: More robust fix could use check last entry in sent DPP vs last entry in received spat </span></div>
<div class="line"><span class="lineno">  170</span>        <span class="comment">// instead of future movement group counts/</span></div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordtype">int</span> sequential_skips_for_missing_dpp = 0;</div>
<div class="line"><span class="lineno">  172</span>               </div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">while</span> ( dpp_producer-&gt;is_running() ) {</div>
<div class="line"><span class="lineno">  174</span>            <span class="keyword">auto</span> current_timestamp = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(std::chrono::system_clock::now().time_since_epoch()).count();</div>
<div class="line"><span class="lineno">  175</span>            SPDLOG_DEBUG(<span class="stringliteral">&quot;Signal Optimization iteration start time {0}!&quot;</span>, current_timestamp);</div>
<div class="line"><span class="lineno">  176</span>            <span class="keywordflow">try</span>{</div>
<div class="line"><span class="lineno">  177</span>                <span class="keywordflow">if</span> ( _spat_ptr ) {</div>
<div class="line"><span class="lineno">  178</span>                    <span class="keyword">auto</span> spat_lag =  current_timestamp - _spat_ptr-&gt;get_intersection().get_epoch_timestamp() ;</div>
<div class="line"><span class="lineno">  179</span>                        <span class="keywordflow">if</span> ( spat_lag &gt; 200 ) {</div>
<div class="line"><span class="lineno">  180</span>                            SPDLOG_WARN(<span class="stringliteral">&quot;Current SPat Lag exceends 200 ms!&quot;</span>);</div>
<div class="line"><span class="lineno">  181</span>                        } </div>
<div class="line"><span class="lineno">  182</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Current spat lag is {0} ms!&quot;</span>, spat_lag); </div>
<div class="line"><span class="lineno">  183</span>                }</div>
<div class="line"><span class="lineno">  184</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  185</span>                    SPDLOG_WARN(<span class="stringliteral">&quot;SPaT Pointer is unset, skipping SO Iteration&quot;</span>);</div>
<div class="line"><span class="lineno">  186</span>                    std::this_thread::sleep_for(std::chrono::milliseconds(_so_sleep_time));</div>
<div class="line"><span class="lineno">  187</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  188</span>                }</div>
<div class="line"><span class="lineno">  189</span>            }</div>
<div class="line"><span class="lineno">  190</span>            <span class="keywordflow">catch</span>( <span class="keyword">const</span> <a class="code hl_class" href="classsignal__phase__and__timing_1_1signal__phase__and__timing__exception.html">signal_phase_and_timing::signal_phase_and_timing_exception</a> &amp;e) {</div>
<div class="line"><span class="lineno">  191</span>                SPDLOG_ERROR(<span class="stringliteral">&quot;Cannot interpret SPAT due to exception :  {0}&quot;</span>, e.what());</div>
<div class="line"><span class="lineno">  192</span>                std::this_thread::sleep_for(std::chrono::milliseconds(_so_sleep_time));</div>
<div class="line"><span class="lineno">  193</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  194</span>            }</div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordflow">if</span> ( !_vehicle_list_ptr-&gt;get_vehicles().empty() ) {</div>
<div class="line"><span class="lineno">  196</span>                <a class="code hl_struct" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html">streets_desired_phase_plan::streets_desired_phase_plan</a> spat_dpp;</div>
<div class="line"><span class="lineno">  197</span>                <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  198</span>                {</div>
<div class="line"><span class="lineno">  199</span>                    spat_dpp = <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">_so_processing_worker_ptr</a>-&gt;convert_spat_to_dpp(_spat_ptr, _movement_groups_ptr);</div>
<div class="line"><span class="lineno">  200</span>                }</div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::runtime_error &amp;ex)</div>
<div class="line"><span class="lineno">  202</span>                {</div>
<div class="line"><span class="lineno">  203</span>                    SPDLOG_ERROR(<span class="stringliteral">&quot;Encountered Exception : {0} &quot;</span>, ex.what());</div>
<div class="line"><span class="lineno">  204</span>                    std::this_thread::sleep_for(std::chrono::milliseconds(_so_sleep_time));</div>
<div class="line"><span class="lineno">  205</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  206</span>                }</div>
<div class="line"><span class="lineno">  207</span>                SPDLOG_INFO(<span class="stringliteral">&quot;Base DPP is {0}&quot;</span>, spat_dpp.<a class="code hl_function" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#ae2a335d599173d37b8a12abe26948c01">toJson</a>());</div>
<div class="line"><span class="lineno">  208</span>                current_future_move_group_count = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(spat_dpp.<a class="code hl_variable" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#a03eca534118891c3c183eed332b33810">desired_phase_plan</a>.size());</div>
<div class="line"><span class="lineno">  209</span>                <span class="keywordflow">if</span> ( current_future_move_group_count &lt; 1) {</div>
<div class="line"><span class="lineno">  210</span>                    SPDLOG_ERROR(<span class="stringliteral">&quot;DPP size is zero! Skipping SO iteration&quot;</span>);</div>
<div class="line"><span class="lineno">  211</span>                    std::this_thread::sleep_for(std::chrono::milliseconds(_so_sleep_time));</div>
<div class="line"><span class="lineno">  212</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  213</span>                }</div>
<div class="line"><span class="lineno">  214</span>                <span class="keywordflow">if</span> (new_dpp_generated) {</div>
<div class="line"><span class="lineno">  215</span>                    SPDLOG_INFO(<span class="stringliteral">&quot;Current number of movement groups represented in SPAT : {0}!&quot;</span>, prev_future_move_group_count);</div>
<div class="line"><span class="lineno">  216</span>                    <span class="keywordflow">if</span> (current_future_move_group_count &gt; prev_future_move_group_count) {</div>
<div class="line"><span class="lineno">  217</span>                        new_dpp_generated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  218</span>                    }</div>
<div class="line"><span class="lineno">  219</span>                    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  220</span>                        <span class="comment">// Increment sequential skip count for each skip</span></div>
<div class="line"><span class="lineno">  221</span>                        sequential_skips_for_missing_dpp++;</div>
<div class="line"><span class="lineno">  222</span>                        SPDLOG_WARN(<span class="stringliteral">&quot;Skipping SO iteration {0}. Previously sent DPP is not yet reflected in SPaT!&quot;</span>, sequential_skips_for_missing_dpp);</div>
<div class="line"><span class="lineno">  223</span>                        <span class="keywordflow">if</span> (sequential_skips_for_missing_dpp &gt; 5 ) {</div>
<div class="line"><span class="lineno">  224</span>                            <span class="comment">// Log error and attempt to reset previous movement group count and new dpp generated flag if error occurs more than 5 times sequentially.</span></div>
<div class="line"><span class="lineno">  225</span>                            SPDLOG_ERROR(<span class="stringliteral">&quot;DPP producer is in error state, attempting to reset previous future movement group count {0} and new DPP generated flag {1}&quot;</span>, new_dpp_generated, prev_future_move_group_count);</div>
<div class="line"><span class="lineno">  226</span>                            new_dpp_generated = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  227</span>                            prev_future_move_group_count  = 0;</div>
<div class="line"><span class="lineno">  228</span>                        } </div>
<div class="line"><span class="lineno">  229</span>                        std::this_thread::sleep_for(std::chrono::milliseconds(_so_sleep_time));</div>
<div class="line"><span class="lineno">  230</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  231</span>                    }</div>
<div class="line"><span class="lineno">  232</span>                }</div>
<div class="line"><span class="lineno">  233</span>                <span class="comment">// If we do not skip an iteration for this purpose, reset counter to 0</span></div>
<div class="line"><span class="lineno">  234</span>                sequential_skips_for_missing_dpp = 0;</div>
<div class="line"><span class="lineno">  235</span>                current_timestamp = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(std::chrono::system_clock::now().time_since_epoch()).count();</div>
<div class="line"><span class="lineno">  236</span>              </div>
<div class="line"><span class="lineno">  237</span>                <span class="keywordflow">if</span> ( current_timestamp &gt; spat_dpp.<a class="code hl_variable" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#a03eca534118891c3c183eed332b33810">desired_phase_plan</a>.front().end_time ) {</div>
<div class="line"><span class="lineno">  238</span>                    SPDLOG_WARN(<span class="stringliteral">&quot;Spat DPP does not include current time!\n DPP : {0}&quot;</span>,spat_dpp.<a class="code hl_function" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#ae2a335d599173d37b8a12abe26948c01">toJson</a>());</div>
<div class="line"><span class="lineno">  239</span>                    std::this_thread::sleep_for(std::chrono::milliseconds(_so_sleep_time));</div>
<div class="line"><span class="lineno">  240</span>                    <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  241</span>                }</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>                <span class="keyword">auto</span> time_to_yellow = spat_dpp.<a class="code hl_variable" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#a03eca534118891c3c183eed332b33810">desired_phase_plan</a>.front().end_time - current_timestamp;</div>
<div class="line"><span class="lineno">  244</span>                SPDLOG_INFO(<span class="stringliteral">&quot;Time to yellow is : {0}&quot;</span>, time_to_yellow );</div>
<div class="line"><span class="lineno">  245</span>                <span class="comment">// Check that time to yellow is within configured threshold and also above 200 ms to account for DPP transimission latency</span></div>
<div class="line"><span class="lineno">  246</span>                <span class="keywordflow">if</span> ( time_to_yellow &lt;= _time_to_yellow &amp;&amp; time_to_yellow &gt; 200 ) {</div>
<div class="line"><span class="lineno">  252</span>                    <span class="keywordflow">if</span> (current_future_move_group_count &lt;= <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#af1fe0710dcf4720b5edd7c3169cc7a81">desired_future_move_group_count</a> ) {</div>
<div class="line"><span class="lineno">  253</span>                        SPDLOG_INFO(<span class="stringliteral">&quot;The number of future movement groups in the spat is {0} which is less than the max desired future movement groups {1}.&quot;</span>, </div>
<div class="line"><span class="lineno">  254</span>                                                                    current_future_move_group_count-1, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#af1fe0710dcf4720b5edd7c3169cc7a81">desired_future_move_group_count</a> );</div>
<div class="line"><span class="lineno">  255</span>                        <span class="comment">// Current movement group count includes current fix momvement group.</span></div>
<div class="line"><span class="lineno">  256</span>                        <span class="comment">// Desired future movemement group count only includes future movement groups</span></div>
<div class="line"><span class="lineno">  257</span>                        <a class="code hl_struct" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html">streets_desired_phase_plan::streets_desired_phase_plan</a> optimal_dpp = </div>
<div class="line"><span class="lineno">  258</span>                                    <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af160db76eb5211684aa6af08ad4155ae">_so_processing_worker_ptr</a>-&gt;select_optimal_dpp(_intersection_info_ptr, </div>
<div class="line"><span class="lineno">  259</span>                                                                                _spat_ptr, </div>
<div class="line"><span class="lineno">  260</span>                                                                                _tsc_config_ptr, </div>
<div class="line"><span class="lineno">  261</span>                                                                                _vehicle_list_ptr, </div>
<div class="line"><span class="lineno">  262</span>                                                                                _movement_groups_ptr, </div>
<div class="line"><span class="lineno">  263</span>                                                                                _dpp_config);</div>
<div class="line"><span class="lineno">  264</span>                        <span class="keywordflow">if</span> (!optimal_dpp.<a class="code hl_variable" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#a03eca534118891c3c183eed332b33810">desired_phase_plan</a>.empty()) {</div>
<div class="line"><span class="lineno">  265</span>                            std::string msg_to_send = optimal_dpp.<a class="code hl_function" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#ae2a335d599173d37b8a12abe26948c01">toJson</a>();</div>
<div class="line"><span class="lineno">  266</span>                            <span class="comment">/* produce the optimal desired phase plan to kafka */</span></div>
<div class="line"><span class="lineno">  267</span>                            dpp_producer-&gt;send(msg_to_send);</div>
<div class="line"><span class="lineno">  268</span>                            current_timestamp = std::chrono::duration_cast&lt;std::chrono::milliseconds&gt;(std::chrono::system_clock::now().time_since_epoch()).count();</div>
<div class="line"><span class="lineno">  269</span>                            SPDLOG_DEBUG(<span class="stringliteral">&quot;Signal Optimization iteration end time {0}!&quot;</span>, current_timestamp);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>                            prev_future_move_group_count = current_future_move_group_count;</div>
<div class="line"><span class="lineno">  272</span>                            new_dpp_generated = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  273</span>                        }</div>
<div class="line"><span class="lineno">  274</span>                        </div>
<div class="line"><span class="lineno">  275</span>                    }</div>
<div class="line"><span class="lineno">  276</span>                    <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  277</span>                        SPDLOG_INFO(<span class="stringliteral">&quot;The number of future movement groups in spat is greater than or equal to the desired number future movement groups&quot;</span>);</div>
<div class="line"><span class="lineno">  278</span>                    }</div>
<div class="line"><span class="lineno">  279</span>                }</div>
<div class="line"><span class="lineno">  280</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  281</span>                    SPDLOG_WARN(<span class="stringliteral">&quot;Currently {0} ms to yellow! Waiting for {1} ms or lower time to yellow!&quot;</span>, time_to_yellow, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa34bd6ed0dd1ac44d8734ff64051b4cb">_time_to_yellow</a>);</div>
<div class="line"><span class="lineno">  282</span>                }</div>
<div class="line"><span class="lineno">  283</span>            }</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  285</span>                SPDLOG_DEBUG(<span class="stringliteral">&quot;No vehicles present&quot;</span>);</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>            }</div>
<div class="line"><span class="lineno">  288</span>            std::this_thread::sleep_for(std::chrono::milliseconds(_so_sleep_time));</div>
<div class="line"><span class="lineno">  289</span>        }</div>
<div class="line"><span class="lineno">  290</span>        SPDLOG_WARN(<span class="stringliteral">&quot;Stopping desired phase plan producer thread!&quot;</span>);</div>
<div class="line"><span class="lineno">  291</span>        dpp_producer-&gt;stop();</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    }</div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_aa34bd6ed0dd1ac44d8734ff64051b4cb"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#aa34bd6ed0dd1ac44d8734ff64051b4cb">signal_opt_service::signal_opt_service::_time_to_yellow</a></div><div class="ttdeci">uint64_t _time_to_yellow</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00032">signal_opt_service.h:32</a></div></div>
<div class="ttc" id="aclasssignal__phase__and__timing_1_1signal__phase__and__timing__exception_html"><div class="ttname"><a href="classsignal__phase__and__timing_1_1signal__phase__and__timing__exception.html">signal_phase_and_timing::signal_phase_and_timing_exception</a></div><div class="ttdoc">Runtime error related to processing signal_phase_and_timing JSON updates.</div><div class="ttdef"><b>Definition:</b> <a href="signal__phase__and__timing__exception_8h_source.html#l00013">signal_phase_and_timing_exception.h:13</a></div></div>
<div class="ttc" id="astructstreets__desired__phase__plan_1_1streets__desired__phase__plan_html"><div class="ttname"><a href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html">streets_desired_phase_plan::streets_desired_phase_plan</a></div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan_8h_source.html#l00029">streets_desired_phase_plan.h:30</a></div></div>
<div class="ttc" id="astructstreets__desired__phase__plan_1_1streets__desired__phase__plan_html_a03eca534118891c3c183eed332b33810"><div class="ttname"><a href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#a03eca534118891c3c183eed332b33810">streets_desired_phase_plan::streets_desired_phase_plan::desired_phase_plan</a></div><div class="ttdeci">std::vector&lt; signal_group2green_phase_timing &gt; desired_phase_plan</div><div class="ttdoc">Descriptive name for this collection.</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan_8h_source.html#l00038">streets_desired_phase_plan.h:38</a></div></div>
<div class="ttc" id="astructstreets__desired__phase__plan_1_1streets__desired__phase__plan_html_ae2a335d599173d37b8a12abe26948c01"><div class="ttname"><a href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#ae2a335d599173d37b8a12abe26948c01">streets_desired_phase_plan::streets_desired_phase_plan::toJson</a></div><div class="ttdeci">std::string toJson() const</div><div class="ttdoc">Serialize Desired phase plan object to rapidjson::Value for writing as JSON string.</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan_8cpp_source.html#l00006">streets_desired_phase_plan.cpp:6</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration_html_af1fe0710dcf4720b5edd7c3169cc7a81"><div class="ttname"><a href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#af1fe0710dcf4720b5edd7c3169cc7a81">streets_signal_optimization::streets_desired_phase_plan_generator_configuration::desired_future_move_group_count</a></div><div class="ttdeci">uint8_t desired_future_move_group_count</div><div class="ttdoc">The configurable parameter that defines the desired number of fixed future movement groups in the spa...</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan__generator__configuration_8h_source.html#l00059">streets_desired_phase_plan_generator_configuration.h:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="streets__desired__phase__plan_8h_source.html#l00038">streets_desired_phase_plan::streets_desired_phase_plan::desired_phase_plan</a>, and <a class="el" href="streets__desired__phase__plan_8cpp_source.html#l00006">streets_desired_phase_plan::streets_desired_phase_plan::toJson()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsignal__opt__service_1_1signal__opt__service_a5360de5c3760ef1994bb48c737f3989c_cgraph.png" border="0" usemap="#aclasssignal__opt__service_1_1signal__opt__service_a5360de5c3760ef1994bb48c737f3989c_cgraph" alt=""/></div>
<map name="aclasssignal__opt__service_1_1signal__opt__service_a5360de5c3760ef1994bb48c737f3989c_cgraph" id="aclasssignal__opt__service_1_1signal__opt__service_a5360de5c3760ef1994bb48c737f3989c_cgraph">
<area shape="rect" title="Method to produce desired phase plan Json to kafka." alt="" coords="5,5,141,61"/>
<area shape="rect" href="structstreets__desired__phase__plan_1_1streets__desired__phase__plan.html#ae2a335d599173d37b8a12abe26948c01" title="Serialize Desired phase plan object to rapidjson::Value for writing as JSON string." alt="" coords="189,5,343,61"/>
</map>
</div>

</div>
</div>
<a id="a87ed940771637f27c1a3e776e3a5f67c" name="a87ed940771637f27c1a3e776e3a5f67c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ed940771637f27c1a3e776e3a5f67c">&#9670;&nbsp;</a></span>read_configuration_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::read_configuration_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Method for reading the configuration parameters from manifest.json. </p>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00382">382</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>    {</div>
<div class="line"><span class="lineno">  384</span>        <span class="comment">// TODO: Replace initialization by extending streets_service_base and overiding initialize and start methods</span></div>
<div class="line"><span class="lineno">  385</span>        <a class="code hl_function" href="classstreets__service_1_1streets__singleton.html#a2661e8317c90be8ba5d18b37b5bc3df8">streets_service::streets_configuration::create</a>(<span class="stringliteral">&quot;../manifest.json&quot;</span>);</div>
<div class="line"><span class="lineno">  386</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aeba1ab395b49119dcf56fcf2879310f7">_exp_delta</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;exp_delta&quot;</span>);</div>
<div class="line"><span class="lineno">  387</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf4964e5d228326b1caf8ccb20afd1fa">_bootstrap_server</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;bootstrap_server&quot;</span>);</div>
<div class="line"><span class="lineno">  388</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aad2215a642361fd7d2aea0e3deca6e9f">_spat_topic_name</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;spat_consumer_topic&quot;</span>);</div>
<div class="line"><span class="lineno">  389</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a255149a2d37457917f8caa8d3be9338f">_spat_group_id</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;spat_group_id&quot;</span>);</div>
<div class="line"><span class="lineno">  390</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#afffacb7300b6b824cb57e3909b507f44">_vsi_topic_name</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;vsi_consumer_topic&quot;</span>);</div>
<div class="line"><span class="lineno">  391</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a1bc6138e550e75240fc960b5bdc42167">_vsi_group_id</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;vsi_group_id&quot;</span>);</div>
<div class="line"><span class="lineno">  392</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#abbf0978d023f849f33d344ef9050e897">_tsc_config_topic_name</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;tsc_config_consumer_topic&quot;</span>);</div>
<div class="line"><span class="lineno">  393</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aae506646a13a0095f30b0c8d8bb83c8e">_tsc_config_group_id</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;tsc_config_group_id&quot;</span>);</div>
<div class="line"><span class="lineno">  394</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a153d48de8039e359b1cf54e792eacdba">_dpp_topic_name</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;dpp_producer_topic&quot;</span>);</div>
<div class="line"><span class="lineno">  395</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a63b3778014407f414ec2ef3feb1fe9eb">_so_log_path</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;so_log_path&quot;</span>);</div>
<div class="line"><span class="lineno">  396</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a4fa5e1c514052fe3a732e93c80271eab">_so_log_filename</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;so_log_filename&quot;</span>);</div>
<div class="line"><span class="lineno">  397</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ad4d8e71a33246db5a2b5f5554ae6ecfb">enable_so_logging</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a48f38b0b6ecb3043cc051b624f12824b">streets_service::streets_configuration::get_boolean_config</a>(<span class="stringliteral">&quot;enable_so_logging&quot;</span>);</div>
<div class="line"><span class="lineno">  398</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a5d81194188d0b87e37edf87d7ef5bc25">so_sleep_time</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;signal_optimization_frequency&quot;</span>);</div>
<div class="line"><span class="lineno">  399</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa34bd6ed0dd1ac44d8734ff64051b4cb">_time_to_yellow</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;time_before_yellow_change&quot;</span>);</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#aa9bb51b9b9206a5e7ec16a941f4bce5c">initial_green_buffer</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;initial_green_buffer&quot;</span>);</div>
<div class="line"><span class="lineno">  402</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a379a98a899ebbb6f41bfe60d1fc4623d">final_green_buffer</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;final_green_buffer&quot;</span>);</div>
<div class="line"><span class="lineno">  403</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#ad447f7868e4487368649402881e975af">et_inaccuracy_buffer</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;et_inaccuracy_buffer&quot;</span>);</div>
<div class="line"><span class="lineno">  404</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a7bcde6da2ae68b8144b52bd60ad0f040">queue_max_time_headway</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;queue_max_time_headway&quot;</span>);</div>
<div class="line"><span class="lineno">  405</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a12b15542431455c37b8cfa602963dc97">so_radius</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ae1ce5cdd4b4d28cc8e4034c429aabb66">streets_service::streets_configuration::get_double_config</a>(<span class="stringliteral">&quot;so_radius&quot;</span>);</div>
<div class="line"><span class="lineno">  406</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a5733e8220c86e6721fe3f7e2352b7719">min_green</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;min_green&quot;</span>);</div>
<div class="line"><span class="lineno">  407</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a18725f25372677dc176fa039a27cc351">max_green</a> = <a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;max_green&quot;</span>);</div>
<div class="line"><span class="lineno">  408</span>        <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>.<a class="code hl_variable" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#af1fe0710dcf4720b5edd7c3169cc7a81">desired_future_move_group_count</a> = <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(<a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b">streets_service::streets_configuration::get_int_config</a>(<span class="stringliteral">&quot;desired_future_move_group_count&quot;</span>));</div>
<div class="line"><span class="lineno">  409</span>        std::stringstream comma_separated_list (<a class="code hl_function" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a>(<span class="stringliteral">&quot;ignore_signal_groups&quot;</span>));</div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">while</span>( comma_separated_list.good() )</div>
<div class="line"><span class="lineno">  411</span>        {</div>
<div class="line"><span class="lineno">  412</span>            std::string signal_group;</div>
<div class="line"><span class="lineno">  413</span>            getline( comma_separated_list, signal_group, <span class="charliteral">&#39;,&#39;</span> );</div>
<div class="line"><span class="lineno">  414</span>            SPDLOG_WARN(<span class="stringliteral">&quot;Adding signal group {0} to the list of ignored signal groups&quot;</span>, std::stoi(signal_group));</div>
<div class="line"><span class="lineno">  415</span>            <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a99c0d2d31eebe66ad90c932fb79e7bdc">ignore_signal_groups</a>.push_back( std::stoi(signal_group) );</div>
<div class="line"><span class="lineno">  416</span>        }</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>    }</div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a5d81194188d0b87e37edf87d7ef5bc25"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a5d81194188d0b87e37edf87d7ef5bc25">signal_opt_service::signal_opt_service::so_sleep_time</a></div><div class="ttdeci">int so_sleep_time</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8h_source.html#l00031">signal_opt_service.h:31</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__configuration_html_a03603871626201e07690effb9f2440bf"><div class="ttname"><a href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf">streets_service::streets_configuration::get_string_config</a></div><div class="ttdeci">static std::string get_string_config(const std::string &amp;config_param_name)</div><div class="ttdoc">Retreive configuration parameter string value with provided name.</div><div class="ttdef"><b>Definition:</b> <a href="streets__configuration_8cpp_source.html#l00104">streets_configuration.cpp:104</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__configuration_html_a48f38b0b6ecb3043cc051b624f12824b"><div class="ttname"><a href="classstreets__service_1_1streets__configuration.html#a48f38b0b6ecb3043cc051b624f12824b">streets_service::streets_configuration::get_boolean_config</a></div><div class="ttdeci">static bool get_boolean_config(const std::string &amp;config_param_name)</div><div class="ttdoc">Retreive configuration parameter boolean value with provide name.</div><div class="ttdef"><b>Definition:</b> <a href="streets__configuration_8cpp_source.html#l00150">streets_configuration.cpp:150</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__configuration_html_ae1ce5cdd4b4d28cc8e4034c429aabb66"><div class="ttname"><a href="classstreets__service_1_1streets__configuration.html#ae1ce5cdd4b4d28cc8e4034c429aabb66">streets_service::streets_configuration::get_double_config</a></div><div class="ttdeci">static double get_double_config(const std::string &amp;config_param_name)</div><div class="ttdoc">Retreive configuration parameter double value with provide name.</div><div class="ttdef"><b>Definition:</b> <a href="streets__configuration_8cpp_source.html#l00135">streets_configuration.cpp:135</a></div></div>
<div class="ttc" id="aclassstreets__service_1_1streets__singleton_html_a2661e8317c90be8ba5d18b37b5bc3df8"><div class="ttname"><a href="classstreets__service_1_1streets__singleton.html#a2661e8317c90be8ba5d18b37b5bc3df8">streets_service::streets_singleton&lt; streets_configuration, std::string &gt;::create</a></div><div class="ttdeci">static streets_configuration &amp; create(Args...args)</div><div class="ttdoc">Method to intialize streets_singleton with constructor params ...Args of templated class.</div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration_html_a12b15542431455c37b8cfa602963dc97"><div class="ttname"><a href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a12b15542431455c37b8cfa602963dc97">streets_signal_optimization::streets_desired_phase_plan_generator_configuration::so_radius</a></div><div class="ttdeci">double so_radius</div><div class="ttdoc">The configurable distance in meters defined as the radius of the signal optimization (SO) area....</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan__generator__configuration_8h_source.html#l00042">streets_desired_phase_plan_generator_configuration.h:42</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration_html_a18725f25372677dc176fa039a27cc351"><div class="ttname"><a href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a18725f25372677dc176fa039a27cc351">streets_signal_optimization::streets_desired_phase_plan_generator_configuration::max_green</a></div><div class="ttdeci">uint64_t max_green</div><div class="ttdoc">The configurable maximum green duration in milliseconds. This maximum green duration is used for all ...</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan__generator__configuration_8h_source.html#l00054">streets_desired_phase_plan_generator_configuration.h:54</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration_html_a379a98a899ebbb6f41bfe60d1fc4623d"><div class="ttname"><a href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a379a98a899ebbb6f41bfe60d1fc4623d">streets_signal_optimization::streets_desired_phase_plan_generator_configuration::final_green_buffer</a></div><div class="ttdeci">uint64_t final_green_buffer</div><div class="ttdoc">The configurable time interval at the end of a green phase in milliseconds that is considered for est...</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan__generator__configuration_8h_source.html#l00022">streets_desired_phase_plan_generator_configuration.h:22</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration_html_a5733e8220c86e6721fe3f7e2352b7719"><div class="ttname"><a href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a5733e8220c86e6721fe3f7e2352b7719">streets_signal_optimization::streets_desired_phase_plan_generator_configuration::min_green</a></div><div class="ttdeci">uint64_t min_green</div><div class="ttdoc">The configurable minimum green duration in milliseconds. This minimum green duration is used for all ...</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan__generator__configuration_8h_source.html#l00048">streets_desired_phase_plan_generator_configuration.h:48</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration_html_a7bcde6da2ae68b8144b52bd60ad0f040"><div class="ttname"><a href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#a7bcde6da2ae68b8144b52bd60ad0f040">streets_signal_optimization::streets_desired_phase_plan_generator_configuration::queue_max_time_headway</a></div><div class="ttdeci">uint64_t queue_max_time_headway</div><div class="ttdoc">The configurable time headway in milliseconds that defines the maximum allowed time headway between t...</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan__generator__configuration_8h_source.html#l00036">streets_desired_phase_plan_generator_configuration.h:36</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration_html_aa9bb51b9b9206a5e7ec16a941f4bce5c"><div class="ttname"><a href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#aa9bb51b9b9206a5e7ec16a941f4bce5c">streets_signal_optimization::streets_desired_phase_plan_generator_configuration::initial_green_buffer</a></div><div class="ttdeci">uint64_t initial_green_buffer</div><div class="ttdoc">The configurable time interval at the beginning of a green phase in milliseconds that is considered f...</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan__generator__configuration_8h_source.html#l00016">streets_desired_phase_plan_generator_configuration.h:16</a></div></div>
<div class="ttc" id="astructstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration_html_ad447f7868e4487368649402881e975af"><div class="ttname"><a href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html#ad447f7868e4487368649402881e975af">streets_signal_optimization::streets_desired_phase_plan_generator_configuration::et_inaccuracy_buffer</a></div><div class="ttdeci">uint64_t et_inaccuracy_buffer</div><div class="ttdoc">The configurable time interval in milliseconds defined to account for entering time (ET) estimation i...</div><div class="ttdef"><b>Definition:</b> <a href="streets__desired__phase__plan__generator__configuration_8h_source.html#l00029">streets_desired_phase_plan_generator_configuration.h:29</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classstreets__service_1_1streets__singleton.html#a2661e8317c90be8ba5d18b37b5bc3df8">streets_service::streets_singleton&lt; streets_configuration, std::string &gt;::create()</a>, <a class="el" href="streets__configuration_8cpp_source.html#l00150">streets_service::streets_configuration::get_boolean_config()</a>, <a class="el" href="streets__configuration_8cpp_source.html#l00135">streets_service::streets_configuration::get_double_config()</a>, <a class="el" href="streets__configuration_8cpp_source.html#l00119">streets_service::streets_configuration::get_int_config()</a>, and <a class="el" href="streets__configuration_8cpp_source.html#l00104">streets_service::streets_configuration::get_string_config()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsignal__opt__service_1_1signal__opt__service_a87ed940771637f27c1a3e776e3a5f67c_cgraph.png" border="0" usemap="#aclasssignal__opt__service_1_1signal__opt__service_a87ed940771637f27c1a3e776e3a5f67c_cgraph" alt=""/></div>
<map name="aclasssignal__opt__service_1_1signal__opt__service_a87ed940771637f27c1a3e776e3a5f67c_cgraph" id="aclasssignal__opt__service_1_1signal__opt__service_a87ed940771637f27c1a3e776e3a5f67c_cgraph">
<area shape="rect" title="Method for reading the configuration parameters from manifest.json." alt="" coords="5,135,141,206"/>
<area shape="rect" href="classstreets__service_1_1streets__singleton.html#a2661e8317c90be8ba5d18b37b5bc3df8" title="Method to intialize streets_singleton with constructor params ...Args of templated class." alt="" coords="191,5,407,61"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#a48f38b0b6ecb3043cc051b624f12824b" title="Retreive configuration parameter boolean value with provide name." alt="" coords="189,85,408,126"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#ae1ce5cdd4b4d28cc8e4034c429aabb66" title="Retreive configuration parameter double value with provide name." alt="" coords="193,150,405,191"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#ab33a5d183c0ca2b2f0d757f5466f200b" title="Retreive configuration parameter integer value with provided name." alt="" coords="205,215,393,257"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#a03603871626201e07690effb9f2440bf" title="Retreive configuration parameter string value with provided name." alt="" coords="195,281,402,322"/>
<area shape="rect" href="classstreets__service_1_1streets__configuration.html#a9421907fc5114a7d1077cef450ca5c94" title=" " alt="" coords="456,183,641,225"/>
</map>
</div>

</div>
</div>
<a id="a102df0b797eafff0571d8864fdd897d9" name="a102df0b797eafff0571d8864fdd897d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a102df0b797eafff0571d8864fdd897d9">&#9670;&nbsp;</a></span>remove_signal_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::remove_signal_groups </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="structstreets__signal__optimization_1_1movement__groups.html">streets_signal_optimization::movement_groups</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>movement_groups</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint &gt; &amp;&#160;</td>
          <td class="paramname"><em>rm_signal_groups</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove list of provided signal groups from movement groups considered for signal optmization. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_movement_groups</td><td>collection of movement groups to remove signal groups from </td></tr>
    <tr><td class="paramname">rm_signal_groups</td><td>signal groups to remove from movement groups. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00420">420</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>                                                                                    {</div>
<div class="line"><span class="lineno">  422</span>        SPDLOG_WARN(<span class="stringliteral">&quot;Attempting to ignore {0} signal groups!&quot;</span>, rm_signal_groups.size());</div>
<div class="line"><span class="lineno">  423</span>        <span class="comment">// Remove configured signal groups to ignore them</span></div>
<div class="line"><span class="lineno">  424</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;ignore : rm_signal_groups) {</div>
<div class="line"><span class="lineno">  425</span>            SPDLOG_DEBUG(<span class="stringliteral">&quot;Removing {0} from size {1}!&quot;</span>, ignore, _movement_groups-&gt;groups.size());</div>
<div class="line"><span class="lineno">  426</span>            <span class="keyword">auto</span> mg_itr = _movement_groups-&gt;groups.begin();</div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">while</span> ( mg_itr != _movement_groups-&gt;groups.end() ) {</div>
<div class="line"><span class="lineno">  428</span>                <span class="keywordflow">if</span> ( mg_itr-&gt;signal_groups.first == ignore &amp;&amp; mg_itr-&gt;signal_groups.second == 0) {</div>
<div class="line"><span class="lineno">  429</span>                    SPDLOG_WARN(<span class="stringliteral">&quot;Removing movement group with signal groups {0} , {1}&quot;</span>, mg_itr-&gt;signal_groups.first, mg_itr-&gt;signal_groups.second);</div>
<div class="line"><span class="lineno">  430</span>                    mg_itr = _movement_groups-&gt;groups.erase(mg_itr);</div>
<div class="line"><span class="lineno">  431</span>                }</div>
<div class="line"><span class="lineno">  432</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (mg_itr-&gt;signal_groups.first != 0 &amp;&amp;  mg_itr-&gt;signal_groups.second == ignore) {</div>
<div class="line"><span class="lineno">  433</span>                    SPDLOG_WARN(<span class="stringliteral">&quot;Removing signal group from {0} signal groups {1} , {2}&quot;</span>,ignore, mg_itr-&gt;signal_groups.first, mg_itr-&gt;signal_groups.second);</div>
<div class="line"><span class="lineno">  434</span>                    mg_itr-&gt;signal_groups.second = 0;</div>
<div class="line"><span class="lineno">  435</span>                    SPDLOG_WARN(<span class="stringliteral">&quot;New movement group includes signal groups {0} , {1}&quot;</span>, mg_itr-&gt;signal_groups.first, mg_itr-&gt;signal_groups.second);</div>
<div class="line"><span class="lineno">  436</span>                    mg_itr++; </div>
<div class="line"><span class="lineno">  437</span>                }</div>
<div class="line"><span class="lineno">  438</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> ( mg_itr-&gt;signal_groups.first == ignore &amp;&amp; mg_itr-&gt;signal_groups.second != 0) {</div>
<div class="line"><span class="lineno">  439</span>                    SPDLOG_WARN(<span class="stringliteral">&quot;Removing signal group from {0} signal groups {1} , {2}&quot;</span>,ignore, mg_itr-&gt;signal_groups.first, mg_itr-&gt;signal_groups.second);</div>
<div class="line"><span class="lineno">  440</span>                    mg_itr-&gt;signal_groups.first = mg_itr-&gt;signal_groups.second;</div>
<div class="line"><span class="lineno">  441</span>                    mg_itr-&gt;signal_groups.second = 0;</div>
<div class="line"><span class="lineno">  442</span>                    SPDLOG_WARN(<span class="stringliteral">&quot;New movement group includes signal groups {0} , {1}&quot;</span>, mg_itr-&gt;signal_groups.first, mg_itr-&gt;signal_groups.second);</div>
<div class="line"><span class="lineno">  443</span>                    mg_itr++; </div>
<div class="line"><span class="lineno">  444</span>                }</div>
<div class="line"><span class="lineno">  445</span>                <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  446</span>                    SPDLOG_DEBUG(<span class="stringliteral">&quot;Ignored SG {0} is not present in MG ({1},{2})&quot;</span>, ignore,mg_itr-&gt;signal_groups.first, mg_itr-&gt;signal_groups.second );</div>
<div class="line"><span class="lineno">  447</span>                    mg_itr++; </div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>                }</div>
<div class="line"><span class="lineno">  450</span>            }</div>
<div class="line"><span class="lineno">  451</span>        }</div>
<div class="line"><span class="lineno">  452</span>        </div>
<div class="line"><span class="lineno">  453</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad12855361a0142c7a4e52439169ccc43" name="ad12855361a0142c7a4e52439169ccc43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad12855361a0142c7a4e52439169ccc43">&#9670;&nbsp;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void signal_opt_service::signal_opt_service::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create threads and consume messages. </p>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00083">83</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   84</span>    {</div>
<div class="line"><span class="lineno">   85</span>        std::thread tsc_config_t(&amp;signal_opt_service::consume_tsc_config, <span class="keyword">this</span>, this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aa2a43d8695ae32f24458b8a3bbb12245">_tsc_config_consumer</a>, this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aba2fd15130cf86f34fb3aca4724beac5">tsc_configuration_ptr</a>);</div>
<div class="line"><span class="lineno">   86</span>        <span class="comment">// Block until TSC configuration information is received </span></div>
<div class="line"><span class="lineno">   87</span>        tsc_config_t.join();</div>
<div class="line"><span class="lineno">   88</span>        <span class="comment">// After TSC configuration information is received, use it to determine movemement groups</span></div>
<div class="line"><span class="lineno">   89</span>        <a class="code hl_function" href="classsignal__opt__service_1_1signal__opt__service.html#a69da1a8f88693f184f76642c7674c151">populate_movement_groups</a>(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ae5cc78f85eb81194fa1ebf6fb0135642">movement_groups_ptr</a>, <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aba2fd15130cf86f34fb3aca4724beac5">tsc_configuration_ptr</a>);</div>
<div class="line"><span class="lineno">   90</span>        <span class="comment">// After movement groups are created, process vehicle status and intent and spat messages to</span></div>
<div class="line"><span class="lineno">   91</span>        <span class="comment">// maintain information about current vehicle states and TSC state</span></div>
<div class="line"><span class="lineno">   92</span>        std::thread vsi_t(&amp;signal_opt_service::consume_vsi,  <span class="keyword">this</span>, this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ac4f6b6db88a4db913601a305a358c94d">_vsi_consumer</a>, this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a29c999b9731ec51292e272a00c144105">vehicle_list_ptr</a>);</div>
<div class="line"><span class="lineno">   93</span>        std::thread spat_t(&amp;signal_opt_service::consume_spat,<span class="keyword">this</span>, this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#af822874b21cb36ebb69c7281e335b52e">_spat_consumer</a>, this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ad3bb85cdf8115d6d8a6d485dbc530f8d">spat_ptr</a>);</div>
<div class="line"><span class="lineno">   94</span>        std::thread dpp_t(&amp;signal_opt_service::produce_dpp, <span class="keyword">this</span>, this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a47f3ea9c8c0cd6fd7db03e9b88397e41">_dpp_producer</a>,</div>
<div class="line"><span class="lineno">   95</span>                                                            this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a06ee72d793771ab310db63848aa718a5">intersection_info_ptr</a>,</div>
<div class="line"><span class="lineno">   96</span>                                                            this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a29c999b9731ec51292e272a00c144105">vehicle_list_ptr</a>, </div>
<div class="line"><span class="lineno">   97</span>                                                            this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ad3bb85cdf8115d6d8a6d485dbc530f8d">spat_ptr</a>, </div>
<div class="line"><span class="lineno">   98</span>                                                            this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aba2fd15130cf86f34fb3aca4724beac5">tsc_configuration_ptr</a>,</div>
<div class="line"><span class="lineno">   99</span>                                                            this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#ae5cc78f85eb81194fa1ebf6fb0135642">movement_groups_ptr</a>,</div>
<div class="line"><span class="lineno">  100</span>                                                            this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#aaf9984393be96afc0835979fa2d1b086">dpp_config</a>,</div>
<div class="line"><span class="lineno">  101</span>                                                            this-&gt;<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a5d81194188d0b87e37edf87d7ef5bc25">so_sleep_time</a>);</div>
<div class="line"><span class="lineno">  102</span>        <span class="comment">// Running in parallel</span></div>
<div class="line"><span class="lineno">  103</span>        spat_t.join();</div>
<div class="line"><span class="lineno">  104</span>        vsi_t.join();</div>
<div class="line"><span class="lineno">  105</span>        dpp_t.join();</div>
<div class="line"><span class="lineno">  106</span>    }</div>
<div class="ttc" id="aclasssignal__opt__service_1_1signal__opt__service_html_a69da1a8f88693f184f76642c7674c151"><div class="ttname"><a href="classsignal__opt__service_1_1signal__opt__service.html#a69da1a8f88693f184f76642c7674c151">signal_opt_service::signal_opt_service::populate_movement_groups</a></div><div class="ttdeci">void populate_movement_groups(std::shared_ptr&lt; streets_signal_optimization::movement_groups &gt; _groups, const std::shared_ptr&lt; streets_tsc_configuration::tsc_configuration_state &gt; tsc_config) const</div><div class="ttdoc">Method to use the tsc_config_state pointer from the signal_opt_message_worker to populate movement_gr...</div><div class="ttdef"><b>Definition:</b> <a href="signal__opt__service_8cpp_source.html#l00296">signal_opt_service.cpp:296</a></div></div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="signal__opt__service_2src_2main_8cpp_source.html#l00004">main()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classsignal__opt__service_1_1signal__opt__service_ad12855361a0142c7a4e52439169ccc43_icgraph.png" border="0" usemap="#aclasssignal__opt__service_1_1signal__opt__service_ad12855361a0142c7a4e52439169ccc43_icgraph" alt=""/></div>
<map name="aclasssignal__opt__service_1_1signal__opt__service_ad12855361a0142c7a4e52439169ccc43_icgraph" id="aclasssignal__opt__service_1_1signal__opt__service_ad12855361a0142c7a4e52439169ccc43_icgraph">
<area shape="rect" title="Create threads and consume messages." alt="" coords="104,5,240,61"/>
<area shape="rect" href="signal__opt__service_2src_2main_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627" title=" " alt="" coords="5,20,56,47"/>
</map>
</div>

</div>
</div>
<a id="a605d6fc843afcaf4f667be4bd8db65c4" name="a605d6fc843afcaf4f667be4bd8db65c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a605d6fc843afcaf4f667be4bd8db65c4">&#9670;&nbsp;</a></span>update_intersection_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool signal_opt_service::signal_opt_service::update_intersection_info </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>sleep_millisecs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>int_client_request_attempts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updating the intersection info. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sleep_millisecs</td><td>The current thread sleep for milliseconds after each update attempt </td></tr>
    <tr><td class="paramname">int_client_request_attempts</td><td>The number of attempts for the loop </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>boolean. True if intersection information is updated, otherwise failed to update intersection information </dd></dl>

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8cpp_source.html#l00342">342</a> of file <a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  343</span>    {</div>
<div class="line"><span class="lineno">  344</span>        SPDLOG_INFO(<span class="stringliteral">&quot;Send client request to update intersection inforamtion every {0} ms for maximum {1} times.&quot;</span>, sleep_millisecs, int_client_request_attempts);</div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordtype">int</span> attempt_count = 0;</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">while</span> (attempt_count &lt; int_client_request_attempts)</div>
<div class="line"><span class="lineno">  347</span>        {</div>
<div class="line"><span class="lineno">  348</span>            <span class="comment">// Send HTTP request, and update intersection information. If updated successfully, it returns true and exit the while loop.</span></div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a40b90f97eca99e1c1c478bc1af8d8636">_so_msgs_worker_ptr</a> &amp;&amp; <a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a40b90f97eca99e1c1c478bc1af8d8636">_so_msgs_worker_ptr</a>-&gt;request_intersection_info(<a class="code hl_variable" href="classsignal__opt__service_1_1signal__opt__service.html#a06ee72d793771ab310db63848aa718a5">intersection_info_ptr</a>))</div>
<div class="line"><span class="lineno">  350</span>            {</div>
<div class="line"><span class="lineno">  351</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  352</span>            }</div>
<div class="line"><span class="lineno">  353</span>            std::this_thread::sleep_for(std::chrono::milliseconds(sleep_millisecs));</div>
<div class="line"><span class="lineno">  354</span>            attempt_count++;</div>
<div class="line"><span class="lineno">  355</span>        }</div>
<div class="line"><span class="lineno">  356</span>        <span class="comment">// If failed to update the intersection information after certain numbers of attempts</span></div>
<div class="line"><span class="lineno">  357</span>        SPDLOG_ERROR(<span class="stringliteral">&quot;Updating Intersection information failed. &quot;</span>);</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  359</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aaf4964e5d228326b1caf8ccb20afd1fa" name="aaf4964e5d228326b1caf8ccb20afd1fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf4964e5d228326b1caf8ccb20afd1fa">&#9670;&nbsp;</a></span>_bootstrap_server</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_bootstrap_server</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00019">19</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a47f3ea9c8c0cd6fd7db03e9b88397e41" name="a47f3ea9c8c0cd6fd7db03e9b88397e41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f3ea9c8c0cd6fd7db03e9b88397e41">&#9670;&nbsp;</a></span>_dpp_producer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classkafka__clients_1_1kafka__producer__worker.html">kafka_clients::kafka_producer_worker</a>&gt; signal_opt_service::signal_opt_service::_dpp_producer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00038">38</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a153d48de8039e359b1cf54e792eacdba" name="a153d48de8039e359b1cf54e792eacdba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a153d48de8039e359b1cf54e792eacdba">&#9670;&nbsp;</a></span>_dpp_topic_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_dpp_topic_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00026">26</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="aeba1ab395b49119dcf56fcf2879310f7" name="aeba1ab395b49119dcf56fcf2879310f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba1ab395b49119dcf56fcf2879310f7">&#9670;&nbsp;</a></span>_exp_delta</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int signal_opt_service::signal_opt_service::_exp_delta</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00029">29</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a4fa5e1c514052fe3a732e93c80271eab" name="a4fa5e1c514052fe3a732e93c80271eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fa5e1c514052fe3a732e93c80271eab">&#9670;&nbsp;</a></span>_so_log_filename</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_so_log_filename</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00028">28</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a63b3778014407f414ec2ef3feb1fe9eb" name="a63b3778014407f414ec2ef3feb1fe9eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63b3778014407f414ec2ef3feb1fe9eb">&#9670;&nbsp;</a></span>_so_log_path</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_so_log_path</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00027">27</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a40b90f97eca99e1c1c478bc1af8d8636" name="a40b90f97eca99e1c1c478bc1af8d8636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40b90f97eca99e1c1c478bc1af8d8636">&#9670;&nbsp;</a></span>_so_msgs_worker_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classsignal__opt__service_1_1signal__opt__messages__worker.html">signal_opt_messages_worker</a>&gt; signal_opt_service::signal_opt_service::_so_msgs_worker_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00016">16</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="af160db76eb5211684aa6af08ad4155ae" name="af160db76eb5211684aa6af08ad4155ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af160db76eb5211684aa6af08ad4155ae">&#9670;&nbsp;</a></span>_so_processing_worker_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classsignal__opt__service_1_1signal__opt__processing__worker.html">signal_opt_processing_worker</a>&gt; signal_opt_service::signal_opt_service::_so_processing_worker_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00017">17</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="af822874b21cb36ebb69c7281e335b52e" name="af822874b21cb36ebb69c7281e335b52e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af822874b21cb36ebb69c7281e335b52e">&#9670;&nbsp;</a></span>_spat_consumer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a>&gt; signal_opt_service::signal_opt_service::_spat_consumer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00036">36</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a255149a2d37457917f8caa8d3be9338f" name="a255149a2d37457917f8caa8d3be9338f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255149a2d37457917f8caa8d3be9338f">&#9670;&nbsp;</a></span>_spat_group_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_spat_group_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00020">20</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="aad2215a642361fd7d2aea0e3deca6e9f" name="aad2215a642361fd7d2aea0e3deca6e9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad2215a642361fd7d2aea0e3deca6e9f">&#9670;&nbsp;</a></span>_spat_topic_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_spat_topic_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00021">21</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="aa34bd6ed0dd1ac44d8734ff64051b4cb" name="aa34bd6ed0dd1ac44d8734ff64051b4cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa34bd6ed0dd1ac44d8734ff64051b4cb">&#9670;&nbsp;</a></span>_time_to_yellow</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t signal_opt_service::signal_opt_service::_time_to_yellow</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00032">32</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="aa2a43d8695ae32f24458b8a3bbb12245" name="aa2a43d8695ae32f24458b8a3bbb12245"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2a43d8695ae32f24458b8a3bbb12245">&#9670;&nbsp;</a></span>_tsc_config_consumer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a>&gt; signal_opt_service::signal_opt_service::_tsc_config_consumer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00037">37</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="aae506646a13a0095f30b0c8d8bb83c8e" name="aae506646a13a0095f30b0c8d8bb83c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae506646a13a0095f30b0c8d8bb83c8e">&#9670;&nbsp;</a></span>_tsc_config_group_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_tsc_config_group_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00024">24</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="abbf0978d023f849f33d344ef9050e897" name="abbf0978d023f849f33d344ef9050e897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbf0978d023f849f33d344ef9050e897">&#9670;&nbsp;</a></span>_tsc_config_topic_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_tsc_config_topic_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00025">25</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="ac4f6b6db88a4db913601a305a358c94d" name="ac4f6b6db88a4db913601a305a358c94d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4f6b6db88a4db913601a305a358c94d">&#9670;&nbsp;</a></span>_vsi_consumer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classkafka__clients_1_1kafka__consumer__worker.html">kafka_clients::kafka_consumer_worker</a>&gt; signal_opt_service::signal_opt_service::_vsi_consumer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00035">35</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a1bc6138e550e75240fc960b5bdc42167" name="a1bc6138e550e75240fc960b5bdc42167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1bc6138e550e75240fc960b5bdc42167">&#9670;&nbsp;</a></span>_vsi_group_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_vsi_group_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00022">22</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="afffacb7300b6b824cb57e3909b507f44" name="afffacb7300b6b824cb57e3909b507f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afffacb7300b6b824cb57e3909b507f44">&#9670;&nbsp;</a></span>_vsi_topic_name</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string signal_opt_service::signal_opt_service::_vsi_topic_name</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00023">23</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="aaf9984393be96afc0835979fa2d1b086" name="aaf9984393be96afc0835979fa2d1b086"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf9984393be96afc0835979fa2d1b086">&#9670;&nbsp;</a></span>dpp_config</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structstreets__signal__optimization_1_1streets__desired__phase__plan__generator__configuration.html">streets_signal_optimization::streets_desired_phase_plan_generator_configuration</a> signal_opt_service::signal_opt_service::dpp_config</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00040">40</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="ad4d8e71a33246db5a2b5f5554ae6ecfb" name="ad4d8e71a33246db5a2b5f5554ae6ecfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d8e71a33246db5a2b5f5554ae6ecfb">&#9670;&nbsp;</a></span>enable_so_logging</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool signal_opt_service::signal_opt_service::enable_so_logging = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00030">30</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a99c0d2d31eebe66ad90c932fb79e7bdc" name="a99c0d2d31eebe66ad90c932fb79e7bdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c0d2d31eebe66ad90c932fb79e7bdc">&#9670;&nbsp;</a></span>ignore_signal_groups</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;uint&gt; signal_opt_service::signal_opt_service::ignore_signal_groups</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00033">33</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a06ee72d793771ab310db63848aa718a5" name="a06ee72d793771ab310db63848aa718a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ee72d793771ab310db63848aa718a5">&#9670;&nbsp;</a></span>intersection_info_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classOpenAPI_1_1OAIIntersection__info.html">OpenAPI::OAIIntersection_info</a>&gt; signal_opt_service::signal_opt_service::intersection_info_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00042">42</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="ae5cc78f85eb81194fa1ebf6fb0135642" name="ae5cc78f85eb81194fa1ebf6fb0135642"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cc78f85eb81194fa1ebf6fb0135642">&#9670;&nbsp;</a></span>movement_groups_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="structstreets__signal__optimization_1_1movement__groups.html">streets_signal_optimization::movement_groups</a>&gt; signal_opt_service::signal_opt_service::movement_groups_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00041">41</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a5d81194188d0b87e37edf87d7ef5bc25" name="a5d81194188d0b87e37edf87d7ef5bc25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d81194188d0b87e37edf87d7ef5bc25">&#9670;&nbsp;</a></span>so_sleep_time</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int signal_opt_service::signal_opt_service::so_sleep_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00031">31</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="ad3bb85cdf8115d6d8a6d485dbc530f8d" name="ad3bb85cdf8115d6d8a6d485dbc530f8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3bb85cdf8115d6d8a6d485dbc530f8d">&#9670;&nbsp;</a></span>spat_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classsignal__phase__and__timing_1_1spat.html">signal_phase_and_timing::spat</a>&gt; signal_opt_service::signal_opt_service::spat_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00043">43</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="aba2fd15130cf86f34fb3aca4724beac5" name="aba2fd15130cf86f34fb3aca4724beac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba2fd15130cf86f34fb3aca4724beac5">&#9670;&nbsp;</a></span>tsc_configuration_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="structstreets__tsc__configuration_1_1tsc__configuration__state.html">streets_tsc_configuration::tsc_configuration_state</a>&gt; signal_opt_service::signal_opt_service::tsc_configuration_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00045">45</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<a id="a29c999b9731ec51292e272a00c144105" name="a29c999b9731ec51292e272a00c144105"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29c999b9731ec51292e272a00c144105">&#9670;&nbsp;</a></span>vehicle_list_ptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="classstreets__vehicles_1_1vehicle__list.html">streets_vehicles::vehicle_list</a>&gt; signal_opt_service::signal_opt_service::vehicle_list_ptr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="signal__opt__service_8h_source.html#l00044">44</a> of file <a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>signal_opt_service/include/<a class="el" href="signal__opt__service_8h_source.html">signal_opt_service.h</a></li>
<li>signal_opt_service/src/<a class="el" href="signal__opt__service_8cpp_source.html">signal_opt_service.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacesignal__opt__service.html">signal_opt_service</a></li><li class="navelem"><a class="el" href="classsignal__opt__service_1_1signal__opt__service.html">signal_opt_service</a></li>
    <li class="footer">Generated on Tue Dec 12 2023 20:39:32 for Carma-streets by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
