<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Carma-platform: traffic_incident_parser::TrafficIncidentParserWorker Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Carma-platform<span id="projectnumber">&#160;v4.2.0</span>
   </div>
   <div id="projectbrief">CARMA Platform is built on robot operating system (ROS) and utilizes open source software (OSS) that enables Cooperative Driving Automation (CDA) features to allow Automated Driving Systems to interact and cooperate with infrastructure and other vehicles through communication.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">traffic_incident_parser::TrafficIncidentParserWorker Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for traffic_incident_parser::TrafficIncidentParserWorker:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker__coll__graph.png" border="0" usemap="#atraffic__incident__parser_1_1TrafficIncidentParserWorker_coll__map" alt="Collaboration graph"/></div>
<map name="atraffic__incident__parser_1_1TrafficIncidentParserWorker_coll__map" id="atraffic__incident__parser_1_1TrafficIncidentParserWorker_coll__map">
<area shape="rect" title=" " alt="" coords="311,248,549,457"/>
<area shape="rect" title=" " alt="" coords="5,20,65,97"/>
<area shape="rect" title=" " alt="" coords="137,20,192,97"/>
<area shape="rect" title=" " alt="" coords="217,20,315,97"/>
<area shape="rect" title=" " alt="" coords="339,5,521,112"/>
<area shape="rect" title=" " alt="" coords="545,20,753,97"/>
<area shape="rect" title=" " alt="" coords="777,20,857,97"/>
<area shape="rect" title=" " alt="" coords="881,20,961,97"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a0dc52dc2423f3d6e74d1c2310a72125a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a0dc52dc2423f3d6e74d1c2310a72125a">PublishTrafficControlCallback</a> = std::function&lt; void(const carma_v2x_msgs::msg::TrafficControlMessage &amp;)&gt;</td></tr>
<tr class="separator:a0dc52dc2423f3d6e74d1c2310a72125a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a641e2ac827b5f7c8f5b3960870d988de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a641e2ac827b5f7c8f5b3960870d988de">TrafficIncidentParserWorker</a> (<a class="el" href="namespacecarma__wm.html#a3ac653959e0b6198cae274d68b343228">carma_wm::WorldModelConstPtr</a> wm, const <a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a0dc52dc2423f3d6e74d1c2310a72125a">PublishTrafficControlCallback</a> &amp;traffic_control_pub, rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr logger, rclcpp::Clock::SharedPtr clock)</td></tr>
<tr class="memdesc:a641e2ac827b5f7c8f5b3960870d988de"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html">TrafficIncidentParserWorker</a> constructor.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a641e2ac827b5f7c8f5b3960870d988de">More...</a><br /></td></tr>
<tr class="separator:a641e2ac827b5f7c8f5b3960870d988de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3cb4cae409a92fb172cf20ec06130bb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ab3cb4cae409a92fb172cf20ec06130bb">georeferenceCallback</a> (std_msgs::msg::String::UniquePtr projection_msg)</td></tr>
<tr class="memdesc:ab3cb4cae409a92fb172cf20ec06130bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for the georeference subscriber used to set the map projection.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ab3cb4cae409a92fb172cf20ec06130bb">More...</a><br /></td></tr>
<tr class="separator:ab3cb4cae409a92fb172cf20ec06130bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae3128613fa2e18eba5a34d0c29d5b2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abae3128613fa2e18eba5a34d0c29d5b2">mobilityOperationCallback</a> (carma_v2x_msgs::msg::MobilityOperation::UniquePtr mobility_msg)</td></tr>
<tr class="memdesc:abae3128613fa2e18eba5a34d0c29d5b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to receive the incoming mobility operation message from the message node and publish the geofence message upon processing the mobility msg. Only incoming mobility operation messages with strategy "carma3/Incident_Use_Case" are processed.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abae3128613fa2e18eba5a34d0c29d5b2">More...</a><br /></td></tr>
<tr class="separator:abae3128613fa2e18eba5a34d0c29d5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0cb5c819eedf2e499e8919ced877c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aae0cb5c819eedf2e499e8919ced877c7">mobilityMessageParser</a> (std::string mobility_strategy_params)</td></tr>
<tr class="memdesc:aae0cb5c819eedf2e499e8919ced877c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to help parse incoming mobility operation messages to required format.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aae0cb5c819eedf2e499e8919ced877c7">More...</a><br /></td></tr>
<tr class="separator:aae0cb5c819eedf2e499e8919ced877c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f206b63c99119b16a1b29e49dc06b4c"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a> (std::string str, unsigned long str_index) const</td></tr>
<tr class="memdesc:a2f206b63c99119b16a1b29e49dc06b4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to help convert string to double data type.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">More...</a><br /></td></tr>
<tr class="separator:a2f206b63c99119b16a1b29e49dc06b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac2ea250b0e7172e734b527d751ea6ff"><td class="memItemLeft" align="right" valign="top">std::vector&lt; carma_v2x_msgs::msg::TrafficControlMessageV01 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aac2ea250b0e7172e734b527d751ea6ff">composeTrafficControlMesssages</a> ()</td></tr>
<tr class="memdesc:aac2ea250b0e7172e734b527d751ea6ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) params and assigning it to a traffic contol message. Closed lanelets are represent by vector of points, where each point represents the geometric middle point of a closed lanelet.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aac2ea250b0e7172e734b527d751ea6ff">More...</a><br /></td></tr>
<tr class="separator:aac2ea250b0e7172e734b527d751ea6ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6779717b5f7aaa1d9d13aa70a6149cff"><td class="memItemLeft" align="right" valign="top">lanelet::BasicPoint2d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a6779717b5f7aaa1d9d13aa70a6149cff">getIncidentOriginPoint</a> () const</td></tr>
<tr class="memdesc:a6779717b5f7aaa1d9d13aa70a6149cff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to convert internally saved incident origin point from lat/lon to local map frame.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a6779717b5f7aaa1d9d13aa70a6149cff">More...</a><br /></td></tr>
<tr class="separator:a6779717b5f7aaa1d9d13aa70a6149cff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2f98d6ac758bcc50849b3fdc69c59a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aba2f98d6ac758bcc50849b3fdc69c59a">getAdjacentForwardCenterlines</a> (const lanelet::ConstLanelets &amp;adjacentSet, const lanelet::BasicPoint2d &amp;start_point, double downtrack, std::vector&lt; std::vector&lt; lanelet::BasicPoint2d &gt; &gt; *forward_lanes) const</td></tr>
<tr class="memdesc:aba2f98d6ac758bcc50849b3fdc69c59a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method to compute the concatenated centerlines of the lanes in front of the emergency vehicle point.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aba2f98d6ac758bcc50849b3fdc69c59a">More...</a><br /></td></tr>
<tr class="separator:aba2f98d6ac758bcc50849b3fdc69c59a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af388115db2c4fe3042ab7de1c691024e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af388115db2c4fe3042ab7de1c691024e">getAdjacentReverseCenterlines</a> (const lanelet::ConstLanelets &amp;adjacentSet, const lanelet::BasicPoint2d &amp;start_point, double uptrack, std::vector&lt; std::vector&lt; lanelet::BasicPoint2d &gt; &gt; *reverse_lanes) const</td></tr>
<tr class="memdesc:af388115db2c4fe3042ab7de1c691024e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper method that is identical to getAdjacentForwardCenterlines except it works in reverse using uptrack distance.  <a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af388115db2c4fe3042ab7de1c691024e">More...</a><br /></td></tr>
<tr class="separator:af388115db2c4fe3042ab7de1c691024e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:abf746067081fe0907d80d944861f29ca"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abf746067081fe0907d80d944861f29ca">latitude</a> = 0.0</td></tr>
<tr class="separator:abf746067081fe0907d80d944861f29ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ec69fd385c717dbbd41e75880ed343"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a34ec69fd385c717dbbd41e75880ed343">longitude</a> = 0.0</td></tr>
<tr class="separator:a34ec69fd385c717dbbd41e75880ed343"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89f9898b06530266f4ec4882cf15520"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae89f9898b06530266f4ec4882cf15520">down_track</a> = 0.0</td></tr>
<tr class="separator:ae89f9898b06530266f4ec4882cf15520"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f5219c78f1ba509127cd20e0e6557b7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3f5219c78f1ba509127cd20e0e6557b7">up_track</a> = 0.0</td></tr>
<tr class="separator:a3f5219c78f1ba509127cd20e0e6557b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23c6f6c7fef87fabcef79f2a528ce323"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a23c6f6c7fef87fabcef79f2a528ce323">min_gap</a> = 0.0</td></tr>
<tr class="separator:a23c6f6c7fef87fabcef79f2a528ce323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ea454faf91823d1c30716caa912493d"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a4ea454faf91823d1c30716caa912493d">speed_advisory</a> = 0.0</td></tr>
<tr class="separator:a4ea454faf91823d1c30716caa912493d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae60a062e4ac06651cd15729d04fe536a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae60a062e4ac06651cd15729d04fe536a">event_reason</a></td></tr>
<tr class="separator:ae60a062e4ac06651cd15729d04fe536a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaff310304aa130f4cb2f3b36796a90a"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aeaff310304aa130f4cb2f3b36796a90a">event_type</a></td></tr>
<tr class="separator:aeaff310304aa130f4cb2f3b36796a90a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5b41836c8170161c0bec5b2dc9b854"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3b5b41836c8170161c0bec5b2dc9b854">previous_strategy_params</a> =&quot;&quot;</td></tr>
<tr class="separator:a3b5b41836c8170161c0bec5b2dc9b854"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:af540270be3476e901b6dedac20154fd5"><td class="memItemLeft" align="right" valign="top">lanelet::BasicPoint2d&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a></td></tr>
<tr class="separator:af540270be3476e901b6dedac20154fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92b3b6946020bbb4b76ef41fab62e43"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b3b6946020bbb4b76ef41fab62e43">projection_msg_</a></td></tr>
<tr class="separator:aa92b3b6946020bbb4b76ef41fab62e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5714d5ad9a4afd6a160e96f01d09138"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a0dc52dc2423f3d6e74d1c2310a72125a">PublishTrafficControlCallback</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa5714d5ad9a4afd6a160e96f01d09138">traffic_control_pub_</a></td></tr>
<tr class="separator:aa5714d5ad9a4afd6a160e96f01d09138"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11b7e8f048e836c585b4d5dea78d804d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacecarma__wm.html#a3ac653959e0b6198cae274d68b343228">carma_wm::WorldModelConstPtr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">wm_</a></td></tr>
<tr class="separator:a11b7e8f048e836c585b4d5dea78d804d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92b4f1c261feed9f9d35bd89cb6b244"><td class="memItemLeft" align="right" valign="top">rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a></td></tr>
<tr class="separator:aa92b4f1c261feed9f9d35bd89cb6b244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addf08d22ed1dec377942023b5ce985c0"><td class="memItemLeft" align="right" valign="top">rclcpp::Clock::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#addf08d22ed1dec377942023b5ce985c0">clock_</a></td></tr>
<tr class="separator:addf08d22ed1dec377942023b5ce985c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00043">43</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a0dc52dc2423f3d6e74d1c2310a72125a" name="a0dc52dc2423f3d6e74d1c2310a72125a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dc52dc2423f3d6e74d1c2310a72125a">&#9670;&nbsp;</a></span>PublishTrafficControlCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a0dc52dc2423f3d6e74d1c2310a72125a">traffic_incident_parser::TrafficIncidentParserWorker::PublishTrafficControlCallback</a> =  std::function&lt;void(const carma_v2x_msgs::msg::TrafficControlMessage&amp;)&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00048">48</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a641e2ac827b5f7c8f5b3960870d988de" name="a641e2ac827b5f7c8f5b3960870d988de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a641e2ac827b5f7c8f5b3960870d988de">&#9670;&nbsp;</a></span>TrafficIncidentParserWorker()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">traffic_incident_parser::TrafficIncidentParserWorker::TrafficIncidentParserWorker </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacecarma__wm.html#a3ac653959e0b6198cae274d68b343228">carma_wm::WorldModelConstPtr</a>&#160;</td>
          <td class="paramname"><em>wm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a0dc52dc2423f3d6e74d1c2310a72125a">PublishTrafficControlCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>traffic_control_pub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr&#160;</td>
          <td class="paramname"><em>logger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">rclcpp::Clock::SharedPtr&#160;</td>
          <td class="paramname"><em>clock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html">TrafficIncidentParserWorker</a> constructor. </p>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00028">28</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   30</span>        : <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa5714d5ad9a4afd6a160e96f01d09138">traffic_control_pub_</a>(traffic_control_pub), <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">wm_</a>(wm), <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>(logger), <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#addf08d22ed1dec377942023b5ce985c0">clock_</a>(clock) {}</div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_a11b7e8f048e836c585b4d5dea78d804d"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">traffic_incident_parser::TrafficIncidentParserWorker::wm_</a></div><div class="ttdeci">carma_wm::WorldModelConstPtr wm_</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00134">traffic_incident_parser_worker.hpp:134</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_aa5714d5ad9a4afd6a160e96f01d09138"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa5714d5ad9a4afd6a160e96f01d09138">traffic_incident_parser::TrafficIncidentParserWorker::traffic_control_pub_</a></div><div class="ttdeci">PublishTrafficControlCallback traffic_control_pub_</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00133">traffic_incident_parser_worker.hpp:133</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_aa92b4f1c261feed9f9d35bd89cb6b244"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">traffic_incident_parser::TrafficIncidentParserWorker::logger_</a></div><div class="ttdeci">rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr logger_</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00137">traffic_incident_parser_worker.hpp:137</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_addf08d22ed1dec377942023b5ce985c0"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#addf08d22ed1dec377942023b5ce985c0">traffic_incident_parser::TrafficIncidentParserWorker::clock_</a></div><div class="ttdeci">rclcpp::Clock::SharedPtr clock_</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00139">traffic_incident_parser_worker.hpp:139</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aac2ea250b0e7172e734b527d751ea6ff" name="aac2ea250b0e7172e734b527d751ea6ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac2ea250b0e7172e734b527d751ea6ff">&#9670;&nbsp;</a></span>composeTrafficControlMesssages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; carma_v2x_msgs::msg::TrafficControlMessageV01 &gt; traffic_incident_parser::TrafficIncidentParserWorker::composeTrafficControlMesssages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) params and assigning it to a traffic contol message. Closed lanelets are represent by vector of points, where each point represents the geometric middle point of a closed lanelet. </p>
<dl class="section return"><dt>Returns</dt><dd>A vector of traffic control messages; one for each closed lane. </dd></dl>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">277</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  278</span>    {</div>
<div class="line"><span class="lineno">  279</span>        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;In composeTrafficControlMesssages&quot;</span>);</div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">wm_</a>-&gt;getMap())</div>
<div class="line"><span class="lineno">  281</span>        {</div>
<div class="line"><span class="lineno">  282</span>            RCLCPP_WARN_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Traffic Incident Parser received traffic control message, but it has not loaded the map yet. Returning empty list&quot;</span>);</div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  284</span>        }</div>
<div class="line"><span class="lineno">  285</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>=<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a6779717b5f7aaa1d9d13aa70a6149cff">getIncidentOriginPoint</a>();</div>
<div class="line"><span class="lineno">  286</span>        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Responder point in map frame: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>.x() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>.y());</div>
<div class="line"><span class="lineno">  287</span>        <span class="keyword">auto</span> current_lanelets = lanelet::geometry::findNearest(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">wm_</a>-&gt;getMap()-&gt;laneletLayer, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>, 1); </div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">if</span> (current_lanelets.empty()) {</div>
<div class="line"><span class="lineno">  289</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;No nearest lanelet to responder vehicle in map point: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>.x() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>.y());</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  291</span>        }</div>
<div class="line"><span class="lineno">  292</span>        </div>
<div class="line"><span class="lineno">  293</span>        lanelet::ConstLanelet current_lanelet = current_lanelets[0].second;</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Nearest Lanelet: &quot;</span> &lt;&lt; current_lanelet.id());</div>
<div class="line"><span class="lineno">  296</span> </div>
<div class="line"><span class="lineno">  297</span>        lanelet::ConstLanelets lefts = { current_lanelet };</div>
<div class="line"><span class="lineno">  298</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; l : <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">wm_</a>-&gt;getMapRoutingGraph()-&gt;lefts(current_lanelet)) {</div>
<div class="line"><span class="lineno">  299</span>            lefts.emplace_back(l);</div>
<div class="line"><span class="lineno">  300</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Left lanelet: &quot;</span> &lt;&lt; l.id());</div>
<div class="line"><span class="lineno">  301</span>        }</div>
<div class="line"><span class="lineno">  302</span>        </div>
<div class="line"><span class="lineno">  303</span>        lanelet::ConstLanelets rights = <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">wm_</a>-&gt;getMapRoutingGraph()-&gt;rights(current_lanelet);</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; l : rights) {</div>
<div class="line"><span class="lineno">  305</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Right lanelet: &quot;</span> &lt;&lt; l.id());</div>
<div class="line"><span class="lineno">  306</span>        }</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>        <span class="comment">// Assume that if there are more lanelets to the left than the right then the tahoe is on the left</span></div>
<div class="line"><span class="lineno">  309</span>        std::vector&lt;std::vector&lt;lanelet::BasicPoint2d&gt;&gt; forward_lanes;</div>
<div class="line"><span class="lineno">  310</span>        std::vector&lt;std::vector&lt;lanelet::BasicPoint2d&gt;&gt; reverse_lanes;</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>        <span class="keywordflow">if</span> (lefts.size() &gt;=  rights.size()) {</div>
<div class="line"><span class="lineno">  313</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Emergency vehicle on the right &quot;</span>);</div>
<div class="line"><span class="lineno">  314</span>            <a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aba2f98d6ac758bcc50849b3fdc69c59a">getAdjacentForwardCenterlines</a>(lefts, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae89f9898b06530266f4ec4882cf15520">down_track</a>, &amp;forward_lanes);</div>
<div class="line"><span class="lineno">  315</span>            <a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af388115db2c4fe3042ab7de1c691024e">getAdjacentReverseCenterlines</a>(lefts, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3f5219c78f1ba509127cd20e0e6557b7">up_track</a>, &amp;reverse_lanes);     </div>
<div class="line"><span class="lineno">  316</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  317</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Emergency vehicle on the left &quot;</span>);</div>
<div class="line"><span class="lineno">  318</span>            <a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aba2f98d6ac758bcc50849b3fdc69c59a">getAdjacentForwardCenterlines</a>(rights, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae89f9898b06530266f4ec4882cf15520">down_track</a>, &amp;forward_lanes);</div>
<div class="line"><span class="lineno">  319</span>            <a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af388115db2c4fe3042ab7de1c691024e">getAdjacentReverseCenterlines</a>(rights, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">local_point_</a>, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3f5219c78f1ba509127cd20e0e6557b7">up_track</a>, &amp;reverse_lanes);   </div>
<div class="line"><span class="lineno">  320</span>        }</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span>&amp; lane : reverse_lanes) {</div>
<div class="line"><span class="lineno">  323</span>            std::reverse(lane.begin(), lane.end()); <span class="comment">// Reverse the backward points</span></div>
<div class="line"><span class="lineno">  324</span>        }</div>
<div class="line"><span class="lineno">  325</span>    </div>
<div class="line"><span class="lineno">  326</span>        <span class="comment">// Compine results</span></div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt; reverse_lanes.size(); <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++) {</div>
<div class="line"><span class="lineno">  328</span>            <span class="keywordflow">if</span> (forward_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].size() &gt; 1) {</div>
<div class="line"><span class="lineno">  329</span>                reverse_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].insert(reverse_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].end(), forward_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].begin() + 1, forward_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].end()); <span class="comment">// Concat linestirngs but drop the shared point</span></div>
<div class="line"><span class="lineno">  330</span>            }</div>
<div class="line"><span class="lineno">  331</span>        }</div>
<div class="line"><span class="lineno">  332</span>    </div>
<div class="line"><span class="lineno">  333</span>        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Constructing message for lanes: &quot;</span> &lt;&lt; reverse_lanes.size());</div>
<div class="line"><span class="lineno">  334</span>        std::vector&lt;carma_v2x_msgs::msg::TrafficControlMessageV01&gt; output_msg;</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>        carma_v2x_msgs::msg::TrafficControlMessageV01 traffic_mobility_msg;</div>
<div class="line"><span class="lineno">  337</span>    </div>
<div class="line"><span class="lineno">  338</span>        traffic_mobility_msg.geometry_exists=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  339</span>        traffic_mobility_msg.params_exists=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  340</span>        traffic_mobility_msg.package_exists=<span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  341</span>        j2735_v2x_msgs::msg::TrafficControlVehClass veh_type;</div>
<div class="line"><span class="lineno">  342</span>        veh_type.vehicle_class = j2735_v2x_msgs::msg::TrafficControlVehClass::ANY; <span class="comment">// TODO decide what vehicle is affected</span></div>
<div class="line"><span class="lineno">  343</span>        traffic_mobility_msg.params.vclasses.push_back(veh_type);</div>
<div class="line"><span class="lineno">  344</span>        traffic_mobility_msg.params.schedule.start=<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#addf08d22ed1dec377942023b5ce985c0">clock_</a>-&gt;now();</div>
<div class="line"><span class="lineno">  345</span>        traffic_mobility_msg.params.schedule.end_exists=<span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  346</span>        traffic_mobility_msg.params.schedule.dow_exists=<span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  347</span>        traffic_mobility_msg.params.schedule.between_exists=<span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  348</span>        traffic_mobility_msg.params.schedule.repeat_exists = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  349</span>        </div>
<div class="line"><span class="lineno">  351</span>        <span class="comment">// Begin handling of projection definition</span></div>
<div class="line"><span class="lineno">  352</span>        <span class="comment">// This logic works by enforcing the ROS2 message specifications for TrafficControlMessage on the output data</span></div>
<div class="line"><span class="lineno">  353</span>        <span class="comment">// First the latlon point in the provided data is identified, then a projection with a north east oriented tmerc frame is created to compute node locations</span></div>
<div class="line"><span class="lineno">  355</span><span class="comment"></span>        std::string common_frame = <span class="stringliteral">&quot;WGS84&quot;</span>; <span class="comment">// Common frame to use for lat/lon definition. This will populate the datum field of the message. A more complex CRS should not be used here</span></div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>        PJ* common_to_map_proj = proj_create_crs_to_crs(PJ_DEFAULT_CTX, common_frame.c_str(), <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b3b6946020bbb4b76ef41fab62e43">projection_msg_</a>.c_str() , <span class="keyword">nullptr</span>); <span class="comment">// Create transformation between map frame and common frame. Reverse here takes map-&gt;latlon. Froward is latlon-&gt;map</span></div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">if</span> (common_to_map_proj == <span class="keyword">nullptr</span>) { <span class="comment">// proj_create_crs_to_crs returns 0 when there is an error in the projection</span></div>
<div class="line"><span class="lineno">  360</span>        </div>
<div class="line"><span class="lineno">  361</span>            RCLCPP_ERROR_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Failed to generate projection between map  georeference and common frame with error number: &quot;</span> &lt;&lt;  proj_context_errno(PJ_DEFAULT_CTX) </div>
<div class="line"><span class="lineno">  362</span>                &lt;&lt; <span class="stringliteral">&quot; projection_msg_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b3b6946020bbb4b76ef41fab62e43">projection_msg_</a> &lt;&lt; <span class="stringliteral">&quot; common_frame: &quot;</span> &lt;&lt; common_frame);</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>            <span class="keywordflow">return</span> {}; <span class="comment">// Ignore geofence if it could not be projected into the map frame</span></div>
<div class="line"><span class="lineno">  365</span>        }</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>        PJ_COORD map_origin_map_frame{{0.0, 0.0, 0.0, 0.0}}; <span class="comment">// Map origin to use as ref lat/lon</span></div>
<div class="line"><span class="lineno">  368</span>        PJ_COORD map_origin_in_common_frame;</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>        map_origin_in_common_frame = proj_trans(common_to_map_proj, PJ_INV, map_origin_map_frame);</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>        traffic_mobility_msg.geometry.datum = <span class="stringliteral">&quot;WGS84&quot;</span>;</div>
<div class="line"><span class="lineno">  373</span>        traffic_mobility_msg.geometry.reflat = map_origin_in_common_frame.lpz.lam;</div>
<div class="line"><span class="lineno">  374</span>        traffic_mobility_msg.geometry.reflon = map_origin_in_common_frame.lpz.phi;</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>        std::ostringstream lat_string;</div>
<div class="line"><span class="lineno">  377</span>        std::ostringstream lon_string;</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>        lat_string.precision(14);</div>
<div class="line"><span class="lineno">  380</span>        lat_string &lt;&lt; std::fixed &lt;&lt; traffic_mobility_msg.geometry.reflat;</div>
<div class="line"><span class="lineno">  381</span>        </div>
<div class="line"><span class="lineno">  382</span>        lon_string.precision(14);</div>
<div class="line"><span class="lineno">  383</span>        lon_string &lt;&lt; std::fixed &lt;&lt; traffic_mobility_msg.geometry.reflon;</div>
<div class="line"><span class="lineno">  384</span>    </div>
<div class="line"><span class="lineno">  385</span>        <span class="comment">// Create a local transverse mercator frame at the reference point to allow us to get east,north oriented data reguardless of map projection orientation </span></div>
<div class="line"><span class="lineno">  386</span>        <span class="comment">// This is needed to match the TrafficControlMessage specification</span></div>
<div class="line"><span class="lineno">  387</span>        std::string local_tmerc_enu_proj = <span class="stringliteral">&quot;+proj=tmerc +datum=WGS84 +h_0=0 +lat_0=&quot;</span> + lat_string.str() + <span class="stringliteral">&quot; +lon_0=&quot;</span> + lon_string.str() + <span class="stringliteral">&quot; +k=1 +x_0=0 +y_0=0 +units=m +vunits=m +no_defs&quot;</span>;</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>        PJ* map_to_tmerc_proj = proj_create_crs_to_crs(PJ_DEFAULT_CTX, <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b3b6946020bbb4b76ef41fab62e43">projection_msg_</a>.c_str(), local_tmerc_enu_proj.c_str() , <span class="keyword">nullptr</span>); <span class="comment">// Create transformation between the common frame and the local ENU oriented frame</span></div>
<div class="line"><span class="lineno">  390</span>        </div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">if</span> (map_to_tmerc_proj == <span class="keyword">nullptr</span>) { <span class="comment">// proj_create_crs_to_crs returns 0 when there is an error in the projection</span></div>
<div class="line"><span class="lineno">  392</span>        </div>
<div class="line"><span class="lineno">  393</span>            RCLCPP_ERROR_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Failed to generate projection between map  georeference and tmerc frame with error number: &quot;</span> &lt;&lt;  proj_context_errno(PJ_DEFAULT_CTX) </div>
<div class="line"><span class="lineno">  394</span>                &lt;&lt; <span class="stringliteral">&quot; projection_msg_: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b3b6946020bbb4b76ef41fab62e43">projection_msg_</a> &lt;&lt; <span class="stringliteral">&quot; local_tmerc_enu_proj: &quot;</span> &lt;&lt; local_tmerc_enu_proj);</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">return</span> {}; <span class="comment">// Ignore geofence if it could not be projected into the map frame</span></div>
<div class="line"><span class="lineno">  397</span>        }</div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>        traffic_mobility_msg.geometry.proj = local_tmerc_enu_proj;</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Projection in message: &quot;</span> &lt;&lt; traffic_mobility_msg.geometry.proj);</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  404</span>        <span class="comment">// Projections setup. Next projections will be used for node computation</span></div>
<div class="line"><span class="lineno">  406</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">  407</span>        <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> = 0; <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> &lt; reverse_lanes.size(); <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++) {</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>            traffic_mobility_msg.geometry.nodes.clear();</div>
<div class="line"><span class="lineno">  410</span>            <span class="keywordflow">if</span> (reverse_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].size() == 0) {</div>
<div class="line"><span class="lineno">  411</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Skipping empty lane&quot;</span>);</div>
<div class="line"><span class="lineno">  412</span>                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  413</span>            }</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>            PJ_COORD map_pt{{reverse_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].front().x(), reverse_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>].front().y(), 0.0, 0.0}}; <span class="comment">// Map point to convert to tmerc frame</span></div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>            PJ_COORD tmerc_pt = proj_trans(map_to_tmerc_proj, PJ_FWD, map_pt);</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>            carma_v2x_msgs::msg::PathNode prev_point;</div>
<div class="line"><span class="lineno">  421</span>            prev_point.x = tmerc_pt.xyz.x;</div>
<div class="line"><span class="lineno">  422</span>            prev_point.y = tmerc_pt.xyz.y;</div>
<div class="line"><span class="lineno">  423</span>            <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span>&amp; p : carma_ros2_utils::containers::downsample_vector(reverse_lanes[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>], 8))</div>
<div class="line"><span class="lineno">  425</span>            {</div>
<div class="line"><span class="lineno">  426</span>                carma_v2x_msgs::msg::PathNode delta;</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>                map_pt = PJ_COORD({p.x(), p.y(), 0.0, 0.0}); <span class="comment">// Map point to convert to tmerc frame</span></div>
<div class="line"><span class="lineno">  429</span>                tmerc_pt = proj_trans(map_to_tmerc_proj, PJ_FWD, map_pt); <span class="comment">// Convert point to tmerc frame</span></div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>                delta.x=tmerc_pt.xyz.x - prev_point.x;</div>
<div class="line"><span class="lineno">  432</span>                delta.y=tmerc_pt.xyz.y - prev_point.y;</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;prev_point x&quot;</span> &lt;&lt; prev_point.x &lt;&lt; <span class="stringliteral">&quot;, prev_point y &quot;</span> &lt;&lt; prev_point.y);</div>
<div class="line"><span class="lineno">  435</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;tmerc_pt.xyz.x&quot;</span> &lt;&lt; tmerc_pt.xyz.x &lt;&lt; <span class="stringliteral">&quot;, tmerc_pt.xyz.y &quot;</span> &lt;&lt; tmerc_pt.xyz.y);</div>
<div class="line"><span class="lineno">  436</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;map_pt x&quot;</span> &lt;&lt; p.x() &lt;&lt; <span class="stringliteral">&quot;, map_pt y &quot;</span> &lt;&lt; p.y());</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;calculated diff x&quot;</span> &lt;&lt; delta.x &lt;&lt; <span class="stringliteral">&quot;, diff y&quot;</span> &lt;&lt; delta.y);</div>
<div class="line"><span class="lineno">  439</span>                <span class="keywordflow">if</span> (first)</div>
<div class="line"><span class="lineno">  440</span>                {</div>
<div class="line"><span class="lineno">  441</span>                    traffic_mobility_msg.geometry.nodes.push_back(prev_point); </div>
<div class="line"><span class="lineno">  442</span>                    first = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  443</span>                }</div>
<div class="line"><span class="lineno">  444</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  445</span>                {</div>
<div class="line"><span class="lineno">  446</span>                    traffic_mobility_msg.geometry.nodes.push_back(delta);</div>
<div class="line"><span class="lineno">  447</span>                }</div>
<div class="line"><span class="lineno">  448</span>                </div>
<div class="line"><span class="lineno">  449</span>                prev_point.x = p.x();</div>
<div class="line"><span class="lineno">  450</span>                prev_point.y = p.y();</div>
<div class="line"><span class="lineno">  451</span>            }</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>            <span class="keywordflow">if</span> (<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a> == 0) {</div>
<div class="line"><span class="lineno">  454</span>                boost::uuids::uuid closure_id = boost::uuids::random_generator()();</div>
<div class="line"><span class="lineno">  455</span>                std::copy(closure_id.begin(), closure_id.end(), traffic_mobility_msg.id.id.begin());</div>
<div class="line"><span class="lineno">  456</span>                traffic_mobility_msg.params.detail.choice=carma_v2x_msgs::msg::TrafficControlDetail::CLOSED_CHOICE;</div>
<div class="line"><span class="lineno">  457</span>                traffic_mobility_msg.params.detail.closed=carma_v2x_msgs::msg::TrafficControlDetail::CLOSED;</div>
<div class="line"><span class="lineno">  458</span>                traffic_mobility_msg.package.label=<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae60a062e4ac06651cd15729d04fe536a">event_reason</a>;</div>
<div class="line"><span class="lineno">  459</span>                output_msg.push_back(traffic_mobility_msg);</div>
<div class="line"><span class="lineno">  460</span>            }</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>            boost::uuids::uuid headway_id = boost::uuids::random_generator()();</div>
<div class="line"><span class="lineno">  463</span>            std::copy(headway_id.begin(), headway_id.end(), traffic_mobility_msg.id.id.begin());</div>
<div class="line"><span class="lineno">  464</span>            traffic_mobility_msg.params.detail.choice=carma_v2x_msgs::msg::TrafficControlDetail::MINHDWY_CHOICE;</div>
<div class="line"><span class="lineno">  465</span>            traffic_mobility_msg.params.detail.minhdwy=<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a23c6f6c7fef87fabcef79f2a528ce323">min_gap</a>;</div>
<div class="line"><span class="lineno">  466</span>            output_msg.push_back(traffic_mobility_msg);</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>            boost::uuids::uuid speed_id = boost::uuids::random_generator()();</div>
<div class="line"><span class="lineno">  469</span>            std::copy(speed_id.begin(), speed_id.end(), traffic_mobility_msg.id.id.begin());</div>
<div class="line"><span class="lineno">  470</span>            traffic_mobility_msg.params.detail.choice=carma_v2x_msgs::msg::TrafficControlDetail::MAXSPEED_CHOICE;</div>
<div class="line"><span class="lineno">  471</span>            traffic_mobility_msg.params.detail.maxspeed=<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a4ea454faf91823d1c30716caa912493d">speed_advisory</a>;</div>
<div class="line"><span class="lineno">  472</span>            output_msg.push_back(traffic_mobility_msg);</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span>        }</div>
<div class="line"><span class="lineno">  475</span>        </div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>        <span class="keywordflow">return</span> output_msg;</div>
<div class="line"><span class="lineno">  478</span>    </div>
<div class="line"><span class="lineno">  479</span>    }</div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_a23c6f6c7fef87fabcef79f2a528ce323"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a23c6f6c7fef87fabcef79f2a528ce323">traffic_incident_parser::TrafficIncidentParserWorker::min_gap</a></div><div class="ttdeci">double min_gap</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00122">traffic_incident_parser_worker.hpp:122</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_a3f5219c78f1ba509127cd20e0e6557b7"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3f5219c78f1ba509127cd20e0e6557b7">traffic_incident_parser::TrafficIncidentParserWorker::up_track</a></div><div class="ttdeci">double up_track</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00121">traffic_incident_parser_worker.hpp:121</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_a4ea454faf91823d1c30716caa912493d"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a4ea454faf91823d1c30716caa912493d">traffic_incident_parser::TrafficIncidentParserWorker::speed_advisory</a></div><div class="ttdeci">double speed_advisory</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00123">traffic_incident_parser_worker.hpp:123</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_a6779717b5f7aaa1d9d13aa70a6149cff"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a6779717b5f7aaa1d9d13aa70a6149cff">traffic_incident_parser::TrafficIncidentParserWorker::getIncidentOriginPoint</a></div><div class="ttdeci">lanelet::BasicPoint2d getIncidentOriginPoint() const</div><div class="ttdoc">Function to convert internally saved incident origin point from lat/lon to local map frame.</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8cpp_source.html#l00149">traffic_incident_parser_worker.cpp:149</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_aa92b3b6946020bbb4b76ef41fab62e43"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b3b6946020bbb4b76ef41fab62e43">traffic_incident_parser::TrafficIncidentParserWorker::projection_msg_</a></div><div class="ttdeci">std::string projection_msg_</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00132">traffic_incident_parser_worker.hpp:132</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_aba2f98d6ac758bcc50849b3fdc69c59a"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aba2f98d6ac758bcc50849b3fdc69c59a">traffic_incident_parser::TrafficIncidentParserWorker::getAdjacentForwardCenterlines</a></div><div class="ttdeci">void getAdjacentForwardCenterlines(const lanelet::ConstLanelets &amp;adjacentSet, const lanelet::BasicPoint2d &amp;start_point, double downtrack, std::vector&lt; std::vector&lt; lanelet::BasicPoint2d &gt; &gt; *forward_lanes) const</div><div class="ttdoc">Helper method to compute the concatenated centerlines of the lanes in front of the emergency vehicle ...</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8cpp_source.html#l00183">traffic_incident_parser_worker.cpp:183</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_ae60a062e4ac06651cd15729d04fe536a"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae60a062e4ac06651cd15729d04fe536a">traffic_incident_parser::TrafficIncidentParserWorker::event_reason</a></div><div class="ttdeci">std::string event_reason</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00124">traffic_incident_parser_worker.hpp:124</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_ae89f9898b06530266f4ec4882cf15520"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae89f9898b06530266f4ec4882cf15520">traffic_incident_parser::TrafficIncidentParserWorker::down_track</a></div><div class="ttdeci">double down_track</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00120">traffic_incident_parser_worker.hpp:120</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_af388115db2c4fe3042ab7de1c691024e"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af388115db2c4fe3042ab7de1c691024e">traffic_incident_parser::TrafficIncidentParserWorker::getAdjacentReverseCenterlines</a></div><div class="ttdeci">void getAdjacentReverseCenterlines(const lanelet::ConstLanelets &amp;adjacentSet, const lanelet::BasicPoint2d &amp;start_point, double uptrack, std::vector&lt; std::vector&lt; lanelet::BasicPoint2d &gt; &gt; *reverse_lanes) const</div><div class="ttdoc">Helper method that is identical to getAdjacentForwardCenterlines except it works in reverse using upt...</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8cpp_source.html#l00230">traffic_incident_parser_worker.cpp:230</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_af540270be3476e901b6dedac20154fd5"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af540270be3476e901b6dedac20154fd5">traffic_incident_parser::TrafficIncidentParserWorker::local_point_</a></div><div class="ttdeci">lanelet::BasicPoint2d local_point_</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00131">traffic_incident_parser_worker.hpp:131</a></div></div>
<div class="ttc" id="anamespaceprocess__bag_html_af102a02c97622dd30b0dbf7bafb0d199"><div class="ttname"><a href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">process_bag.i</a></div><div class="ttdeci">int i</div><div class="ttdef"><b>Definition:</b> <a href="process__bag_8py_source.html#l00059">process_bag.py:59</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00139">clock_</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00120">down_track</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00124">event_reason</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00183">getAdjacentForwardCenterlines()</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00230">getAdjacentReverseCenterlines()</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00149">getIncidentOriginPoint()</a>, <a class="el" href="process__bag_8py_source.html#l00059">process_bag::i</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00131">local_point_</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00137">logger_</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00122">min_gap</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00132">projection_msg_</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00123">speed_advisory</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00121">up_track</a>, and <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00134">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00032">mobilityOperationCallback()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_aac2ea250b0e7172e734b527d751ea6ff_cgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aac2ea250b0e7172e734b527d751ea6ff_cgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aac2ea250b0e7172e734b527d751ea6ff_cgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aac2ea250b0e7172e734b527d751ea6ff_cgraph">
<area shape="rect" title="Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) para..." alt="" coords="5,85,229,141"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aba2f98d6ac758bcc50849b3fdc69c59a" title="Helper method to compute the concatenated centerlines of the lanes in front of the emergency vehicle ..." alt="" coords="278,5,487,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af388115db2c4fe3042ab7de1c691024e" title="Helper method that is identical to getAdjacentForwardCenterlines except it works in reverse using upt..." alt="" coords="277,85,488,141"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a6779717b5f7aaa1d9d13aa70a6149cff" title="Function to convert internally saved incident origin point from lat/lon to local map frame." alt="" coords="289,165,477,221"/>
<area shape="rect" href="namespacetraffic__incident__parser.html#a97e7194817b789964ce7d56b96e19cb3" title="Helper method to get the nearest point index of a point and a linestring." alt="" coords="536,53,689,94"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_aac2ea250b0e7172e734b527d751ea6ff_icgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aac2ea250b0e7172e734b527d751ea6ff_icgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aac2ea250b0e7172e734b527d751ea6ff_icgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aac2ea250b0e7172e734b527d751ea6ff_icgraph">
<area shape="rect" title="Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) para..." alt="" coords="468,5,692,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abae3128613fa2e18eba5a34d0c29d5b2" title="Function to receive the incoming mobility operation message from the message node and publish the geo..." alt="" coords="232,5,420,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserNode.html#af98037edfee9234b8a89c513dee9183f" title=" " alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="ab3cb4cae409a92fb172cf20ec06130bb" name="ab3cb4cae409a92fb172cf20ec06130bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3cb4cae409a92fb172cf20ec06130bb">&#9670;&nbsp;</a></span>georeferenceCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void traffic_incident_parser::TrafficIncidentParserWorker::georeferenceCallback </td>
          <td>(</td>
          <td class="paramtype">std_msgs::msg::String::UniquePtr&#160;</td>
          <td class="paramname"><em>projection_msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback for the georeference subscriber used to set the map projection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>The latest georeference. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00058">58</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   59</span>    {</div>
<div class="line"><span class="lineno">   60</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b3b6946020bbb4b76ef41fab62e43">projection_msg_</a>=projection_msg-&gt;data;</div>
<div class="line"><span class="lineno">   61</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00132">projection_msg_</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__node_8cpp_source.html#l00027">traffic_incident_parser::TrafficIncidentParserNode::handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_ab3cb4cae409a92fb172cf20ec06130bb_icgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_ab3cb4cae409a92fb172cf20ec06130bb_icgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_ab3cb4cae409a92fb172cf20ec06130bb_icgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_ab3cb4cae409a92fb172cf20ec06130bb_icgraph">
<area shape="rect" title="Callback for the georeference subscriber used to set the map projection." alt="" coords="232,5,420,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserNode.html#af98037edfee9234b8a89c513dee9183f" title=" " alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="aba2f98d6ac758bcc50849b3fdc69c59a" name="aba2f98d6ac758bcc50849b3fdc69c59a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba2f98d6ac758bcc50849b3fdc69c59a">&#9670;&nbsp;</a></span>getAdjacentForwardCenterlines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void traffic_incident_parser::TrafficIncidentParserWorker::getAdjacentForwardCenterlines </td>
          <td>(</td>
          <td class="paramtype">const lanelet::ConstLanelets &amp;&#160;</td>
          <td class="paramname"><em>adjacentSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::BasicPoint2d &amp;&#160;</td>
          <td class="paramname"><em>start_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>downtrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; lanelet::BasicPoint2d &gt; &gt; *&#160;</td>
          <td class="paramname"><em>forward_lanes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method to compute the concatenated centerlines of the lanes in front of the emergency vehicle point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adjacentSet</td><td>The set of adjacent lanes to start from </td></tr>
    <tr><td class="paramname">start_point</td><td>Point to start the downtrack calculation from. Should be the emergency vehicle points </td></tr>
    <tr><td class="paramname">downtrack</td><td>downtrack distance to grab centerline points from <br  />
 </td></tr>
    <tr><td class="paramname">forward_lanes</td><td>Ouput parameter which will be populated with the centerlines for each lane up to the downtrack distance </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00183">183</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span>    {</div>
<div class="line"><span class="lineno">  186</span>        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;getAdjacentForwardCenterlines&quot;</span>);</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ll : adjacentSet) {</div>
<div class="line"><span class="lineno">  188</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Processing adjacent lanelet: &quot;</span> &lt;&lt; ll.id());</div>
<div class="line"><span class="lineno">  189</span>            std::vector&lt;lanelet::BasicPoint2d&gt; following_lane;</div>
<div class="line"><span class="lineno">  190</span>            <span class="keyword">auto</span> cur_ll = ll;</div>
<div class="line"><span class="lineno">  191</span>            <span class="keywordtype">double</span> dist = 0;</div>
<div class="line"><span class="lineno">  192</span>            </div>
<div class="line"><span class="lineno">  193</span>            </div>
<div class="line"><span class="lineno">  194</span>            <span class="comment">// Identify the point to start the accumulation from</span></div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordtype">size_t</span> p_idx = <a class="code hl_function" href="namespacetraffic__incident__parser.html#a97e7194817b789964ce7d56b96e19cb3">getNearestPointIndex</a>(cur_ll.centerline(), start_point); <span class="comment">// Get the index of the nearest point</span></div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>            lanelet::BasicPoint2d prev_point = cur_ll.centerline()[p_idx].basicPoint2d();</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;nearest point&quot;</span> &lt;&lt; cur_ll.centerline()[p_idx].id() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; prev_point.x() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; prev_point.y());</div>
<div class="line"><span class="lineno">  200</span>            </div>
<div class="line"><span class="lineno">  201</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;p_idx: &quot;</span> &lt;&lt; p_idx);</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>            <span class="comment">// Accumulate distance</span></div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">while</span> (dist &lt; downtrack) {</div>
<div class="line"><span class="lineno">  205</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Accumulating lanelet: &quot;</span> &lt;&lt; cur_ll.id());</div>
<div class="line"><span class="lineno">  206</span>                <span class="keywordflow">if</span> (p_idx == cur_ll.centerline().size()) {</div>
<div class="line"><span class="lineno">  207</span>                    <span class="keyword">auto</span> next_lls = <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">wm_</a>-&gt;getMapRoutingGraph()-&gt;following(cur_ll, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  208</span>                    <span class="keywordflow">if</span> (next_lls.empty()) {</div>
<div class="line"><span class="lineno">  209</span>                        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;No followers&quot;</span>);</div>
<div class="line"><span class="lineno">  210</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  211</span>                    }</div>
<div class="line"><span class="lineno">  212</span>                    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; next = next_lls[0];</div>
<div class="line"><span class="lineno">  213</span>                    RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Getting next lanelet: &quot;</span> &lt;&lt; next.id());</div>
<div class="line"><span class="lineno">  214</span>                    cur_ll = next;</div>
<div class="line"><span class="lineno">  215</span>                    p_idx = 0;</div>
<div class="line"><span class="lineno">  216</span>                }</div>
<div class="line"><span class="lineno">  217</span>                <span class="keywordflow">if</span> (p_idx != 0 || dist == 0) {</div>
<div class="line"><span class="lineno">  218</span>                    following_lane.push_back(lanelet::traits::to2D(cur_ll.centerline()[p_idx]));</div>
<div class="line"><span class="lineno">  219</span>                    dist += lanelet::geometry::distance2d(prev_point, following_lane.back());</div>
<div class="line"><span class="lineno">  220</span>                }</div>
<div class="line"><span class="lineno">  221</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;distance &quot;</span> &lt;&lt; dist);</div>
<div class="line"><span class="lineno">  222</span>                prev_point = lanelet::traits::to2D(cur_ll.centerline()[p_idx]);</div>
<div class="line"><span class="lineno">  223</span>                p_idx++;</div>
<div class="line"><span class="lineno">  224</span>            }</div>
<div class="line"><span class="lineno">  225</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Adding lane with size: &quot;</span> &lt;&lt; following_lane.size());</div>
<div class="line"><span class="lineno">  226</span>            forward_lanes-&gt;emplace_back(following_lane);</div>
<div class="line"><span class="lineno">  227</span>        }</div>
<div class="line"><span class="lineno">  228</span>    }</div>
<div class="ttc" id="anamespacetraffic__incident__parser_html_a97e7194817b789964ce7d56b96e19cb3"><div class="ttname"><a href="namespacetraffic__incident__parser.html#a97e7194817b789964ce7d56b96e19cb3">traffic_incident_parser::getNearestPointIndex</a></div><div class="ttdeci">size_t getNearestPointIndex(const lanelet::ConstLineString3d &amp;points, const lanelet::BasicPoint2d &amp;point)</div><div class="ttdoc">Helper method to get the nearest point index of a point and a linestring.</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8cpp_source.html#l00163">traffic_incident_parser_worker.cpp:163</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00163">traffic_incident_parser::getNearestPointIndex()</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00137">logger_</a>, and <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00134">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_aba2f98d6ac758bcc50849b3fdc69c59a_cgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aba2f98d6ac758bcc50849b3fdc69c59a_cgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aba2f98d6ac758bcc50849b3fdc69c59a_cgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aba2f98d6ac758bcc50849b3fdc69c59a_cgraph">
<area shape="rect" title="Helper method to compute the concatenated centerlines of the lanes in front of the emergency vehicle ..." alt="" coords="5,5,215,61"/>
<area shape="rect" href="namespacetraffic__incident__parser.html#a97e7194817b789964ce7d56b96e19cb3" title="Helper method to get the nearest point index of a point and a linestring." alt="" coords="263,13,416,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_aba2f98d6ac758bcc50849b3fdc69c59a_icgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aba2f98d6ac758bcc50849b3fdc69c59a_icgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aba2f98d6ac758bcc50849b3fdc69c59a_icgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aba2f98d6ac758bcc50849b3fdc69c59a_icgraph">
<area shape="rect" title="Helper method to compute the concatenated centerlines of the lanes in front of the emergency vehicle ..." alt="" coords="740,5,949,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aac2ea250b0e7172e734b527d751ea6ff" title="Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) para..." alt="" coords="468,5,692,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abae3128613fa2e18eba5a34d0c29d5b2" title="Function to receive the incoming mobility operation message from the message node and publish the geo..." alt="" coords="232,5,420,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserNode.html#af98037edfee9234b8a89c513dee9183f" title=" " alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="af388115db2c4fe3042ab7de1c691024e" name="af388115db2c4fe3042ab7de1c691024e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af388115db2c4fe3042ab7de1c691024e">&#9670;&nbsp;</a></span>getAdjacentReverseCenterlines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void traffic_incident_parser::TrafficIncidentParserWorker::getAdjacentReverseCenterlines </td>
          <td>(</td>
          <td class="paramtype">const lanelet::ConstLanelets &amp;&#160;</td>
          <td class="paramname"><em>adjacentSet</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const lanelet::BasicPoint2d &amp;&#160;</td>
          <td class="paramname"><em>start_point</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>uptrack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; lanelet::BasicPoint2d &gt; &gt; *&#160;</td>
          <td class="paramname"><em>reverse_lanes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper method that is identical to getAdjacentForwardCenterlines except it works in reverse using uptrack distance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">adjacentSet</td><td>The set of adjacent lanes to start from </td></tr>
    <tr><td class="paramname">start_point</td><td>Point to start the downtrack calculation from. Should be the emergency vehicle points </td></tr>
    <tr><td class="paramname">downtrack</td><td>downtrack distance to grab centerline points from <br  />
 </td></tr>
    <tr><td class="paramname">forward_lanes</td><td>Ouput parameter which will be populated with the centerlines for each lane up to the downtrack distance </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00230">230</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  232</span>    {</div>
<div class="line"><span class="lineno">  233</span>        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;getAdjacentReverseCenterlines&quot;</span>);</div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; ll : adjacentSet) {</div>
<div class="line"><span class="lineno">  235</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Processing adjacent lanelet: &quot;</span> &lt;&lt; ll.id());</div>
<div class="line"><span class="lineno">  236</span>            std::vector&lt;lanelet::BasicPoint2d&gt; previous_lane;</div>
<div class="line"><span class="lineno">  237</span>            <span class="keyword">auto</span> cur_ll = ll;</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordtype">double</span> dist = 0;</div>
<div class="line"><span class="lineno">  239</span>            </div>
<div class="line"><span class="lineno">  240</span>            <span class="comment">// Identify the point to start the accumulation from</span></div>
<div class="line"><span class="lineno">  241</span>            <span class="keywordtype">size_t</span> p_idx = <a class="code hl_function" href="namespacetraffic__incident__parser.html#a97e7194817b789964ce7d56b96e19cb3">getNearestPointIndex</a>(cur_ll.centerline(), start_point); <span class="comment">// Get the index of the nearest point</span></div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>            lanelet::BasicPoint2d prev_point = cur_ll.centerline()[p_idx].basicPoint2d();</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;nearest point&quot;</span> &lt;&lt; cur_ll.centerline()[p_idx].id() &lt;&lt; <span class="stringliteral">&quot; : &quot;</span> &lt;&lt; prev_point.x() &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; prev_point.y());</div>
<div class="line"><span class="lineno">  246</span>            </div>
<div class="line"><span class="lineno">  247</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;p_idx: &quot;</span> &lt;&lt; p_idx);</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>            <span class="comment">// Accumulate distance</span></div>
<div class="line"><span class="lineno">  250</span>            <span class="keywordflow">while</span> (dist &lt; uptrack) {</div>
<div class="line"><span class="lineno">  251</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Accumulating lanelet: &quot;</span> &lt;&lt; cur_ll.id());</div>
<div class="line"><span class="lineno">  252</span>                <span class="keywordflow">if</span> (p_idx == 0) {</div>
<div class="line"><span class="lineno">  253</span>                    <span class="keyword">auto</span> next_lls = <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a11b7e8f048e836c585b4d5dea78d804d">wm_</a>-&gt;getMapRoutingGraph()-&gt;previous(cur_ll, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  254</span>                    <span class="keywordflow">if</span> (next_lls.empty()) {</div>
<div class="line"><span class="lineno">  255</span>                        RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;No previous lanelets&quot;</span>);</div>
<div class="line"><span class="lineno">  256</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  257</span>                    }</div>
<div class="line"><span class="lineno">  258</span>                    <span class="keyword">const</span> <span class="keyword">auto</span>&amp; next = next_lls[0];</div>
<div class="line"><span class="lineno">  259</span>                    RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Getting next lanelet: &quot;</span> &lt;&lt; next.id());</div>
<div class="line"><span class="lineno">  260</span>                    cur_ll = next;</div>
<div class="line"><span class="lineno">  261</span>                    p_idx = cur_ll.centerline().size() - 1;</div>
<div class="line"><span class="lineno">  262</span>                }</div>
<div class="line"><span class="lineno">  263</span>                <span class="keywordflow">if</span> (p_idx != cur_ll.centerline().size() - 1 || dist == 0) {</div>
<div class="line"><span class="lineno">  264</span>                </div>
<div class="line"><span class="lineno">  265</span>                    previous_lane.push_back(lanelet::traits::to2D(cur_ll.centerline()[p_idx]));</div>
<div class="line"><span class="lineno">  266</span>                    dist += lanelet::geometry::distance2d(prev_point, previous_lane.back());</div>
<div class="line"><span class="lineno">  267</span>                }</div>
<div class="line"><span class="lineno">  268</span>                RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;distance &quot;</span> &lt;&lt; dist);</div>
<div class="line"><span class="lineno">  269</span>                prev_point = lanelet::traits::to2D(cur_ll.centerline()[p_idx]);</div>
<div class="line"><span class="lineno">  270</span>                p_idx--;</div>
<div class="line"><span class="lineno">  271</span>            }</div>
<div class="line"><span class="lineno">  272</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Adding lane with size: &quot;</span> &lt;&lt; previous_lane.size());</div>
<div class="line"><span class="lineno">  273</span>            reverse_lanes-&gt;emplace_back(previous_lane);</div>
<div class="line"><span class="lineno">  274</span>        }</div>
<div class="line"><span class="lineno">  275</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00163">traffic_incident_parser::getNearestPointIndex()</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00137">logger_</a>, and <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00134">wm_</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_af388115db2c4fe3042ab7de1c691024e_cgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_af388115db2c4fe3042ab7de1c691024e_cgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_af388115db2c4fe3042ab7de1c691024e_cgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_af388115db2c4fe3042ab7de1c691024e_cgraph">
<area shape="rect" title="Helper method that is identical to getAdjacentForwardCenterlines except it works in reverse using upt..." alt="" coords="5,5,216,61"/>
<area shape="rect" href="namespacetraffic__incident__parser.html#a97e7194817b789964ce7d56b96e19cb3" title="Helper method to get the nearest point index of a point and a linestring." alt="" coords="264,13,417,54"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_af388115db2c4fe3042ab7de1c691024e_icgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_af388115db2c4fe3042ab7de1c691024e_icgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_af388115db2c4fe3042ab7de1c691024e_icgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_af388115db2c4fe3042ab7de1c691024e_icgraph">
<area shape="rect" title="Helper method that is identical to getAdjacentForwardCenterlines except it works in reverse using upt..." alt="" coords="740,5,951,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aac2ea250b0e7172e734b527d751ea6ff" title="Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) para..." alt="" coords="468,5,692,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abae3128613fa2e18eba5a34d0c29d5b2" title="Function to receive the incoming mobility operation message from the message node and publish the geo..." alt="" coords="232,5,420,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserNode.html#af98037edfee9234b8a89c513dee9183f" title=" " alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a6779717b5f7aaa1d9d13aa70a6149cff" name="a6779717b5f7aaa1d9d13aa70a6149cff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6779717b5f7aaa1d9d13aa70a6149cff">&#9670;&nbsp;</a></span>getIncidentOriginPoint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">lanelet::BasicPoint2d traffic_incident_parser::TrafficIncidentParserWorker::getIncidentOriginPoint </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to convert internally saved incident origin point from lat/lon to local map frame. </p>
<dl class="section return"><dt>Returns</dt><dd>The internally saved incident origin point within the local map frame. </dd></dl>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00149">149</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  150</span>    {</div>
<div class="line"><span class="lineno">  151</span>        lanelet::projection::LocalFrameProjector projector(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b3b6946020bbb4b76ef41fab62e43">projection_msg_</a>.c_str());</div>
<div class="line"><span class="lineno">  152</span>        lanelet::GPSPoint gps_point;</div>
<div class="line"><span class="lineno">  153</span>        gps_point.lat = <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abf746067081fe0907d80d944861f29ca">latitude</a>;</div>
<div class="line"><span class="lineno">  154</span>        gps_point.lon = <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a34ec69fd385c717dbbd41e75880ed343">longitude</a>;</div>
<div class="line"><span class="lineno">  155</span>        gps_point.ele = 0;</div>
<div class="line"><span class="lineno">  156</span>        <span class="keyword">auto</span> local_point3d = projector.forward(gps_point);</div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">return</span> {local_point3d.x(), local_point3d.y()};</div>
<div class="line"><span class="lineno">  158</span>    }</div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_a34ec69fd385c717dbbd41e75880ed343"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a34ec69fd385c717dbbd41e75880ed343">traffic_incident_parser::TrafficIncidentParserWorker::longitude</a></div><div class="ttdeci">double longitude</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00119">traffic_incident_parser_worker.hpp:119</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_abf746067081fe0907d80d944861f29ca"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abf746067081fe0907d80d944861f29ca">traffic_incident_parser::TrafficIncidentParserWorker::latitude</a></div><div class="ttdeci">double latitude</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00118">traffic_incident_parser_worker.hpp:118</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00118">latitude</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00119">longitude</a>, and <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00132">projection_msg_</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_a6779717b5f7aaa1d9d13aa70a6149cff_icgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_a6779717b5f7aaa1d9d13aa70a6149cff_icgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_a6779717b5f7aaa1d9d13aa70a6149cff_icgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_a6779717b5f7aaa1d9d13aa70a6149cff_icgraph">
<area shape="rect" title="Function to convert internally saved incident origin point from lat/lon to local map frame." alt="" coords="740,5,928,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aac2ea250b0e7172e734b527d751ea6ff" title="Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) para..." alt="" coords="468,5,692,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abae3128613fa2e18eba5a34d0c29d5b2" title="Function to receive the incoming mobility operation message from the message node and publish the geo..." alt="" coords="232,5,420,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserNode.html#af98037edfee9234b8a89c513dee9183f" title=" " alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="aae0cb5c819eedf2e499e8919ced877c7" name="aae0cb5c819eedf2e499e8919ced877c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae0cb5c819eedf2e499e8919ced877c7">&#9670;&nbsp;</a></span>mobilityMessageParser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> traffic_incident_parser::TrafficIncidentParserWorker::mobilityMessageParser </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>mobility_strategy_params</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to help parse incoming mobility operation messages to required format. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mobility_strategy_params</td><td>The strategy params associated with an incoming mobility operation message. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the new message is valid and can be used. False if not new or not valid. </dd></dl>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">64</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span>    {</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        std::vector&lt;std::string&gt; vec={};</div>
<div class="line"><span class="lineno">   68</span>        std::string delimiter = <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><span class="lineno">   69</span>        <span class="keywordtype">size_t</span> pos = 0;</div>
<div class="line"><span class="lineno">   70</span>        std::string token;</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">while</span> ((pos = mobility_strategy_params.find(delimiter)) != std::string::npos) </div>
<div class="line"><span class="lineno">   72</span>        {</div>
<div class="line"><span class="lineno">   73</span>            token = mobility_strategy_params.substr(0, pos);</div>
<div class="line"><span class="lineno">   74</span>            vec.push_back(token);</div>
<div class="line"><span class="lineno">   75</span>            mobility_strategy_params.erase(0, pos + delimiter.length());</div>
<div class="line"><span class="lineno">   76</span>        }</div>
<div class="line"><span class="lineno">   77</span>        vec.push_back(mobility_strategy_params);</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">if</span> (vec.size() != 8) </div>
<div class="line"><span class="lineno">   80</span>        {</div>
<div class="line"><span class="lineno">   81</span>            RCLCPP_ERROR_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(),<span class="stringliteral">&quot;Given mobility strategy params are not correctly formatted.&quot;</span>);</div>
<div class="line"><span class="lineno">   82</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   83</span>        }  </div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>        std::string lat_str=vec[0];</div>
<div class="line"><span class="lineno">   86</span>        std::string lon_str=vec[1];</div>
<div class="line"><span class="lineno">   87</span>        std::string downtrack_str=vec[2];</div>
<div class="line"><span class="lineno">   88</span>        std::string uptrack_str=vec[3];</div>
<div class="line"><span class="lineno">   89</span>        std::string min_gap_str=vec[4];</div>
<div class="line"><span class="lineno">   90</span>        std::string speed_advisory_str=vec[5];</div>
<div class="line"><span class="lineno">   91</span>        std::string event_reason_str=vec[6];</div>
<div class="line"><span class="lineno">   92</span>        std::string event_type_str=vec[7];</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <span class="comment">// Evaluate if this message should be forwarded based on the gps point</span></div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordtype">double</span> temp_lat = stod(<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a>(lat_str,lat_str.find_last_of(<span class="stringliteral">&quot;lat:&quot;</span>)));</div>
<div class="line"><span class="lineno">   96</span>        <span class="keywordtype">double</span> temp_lon = stod(<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a>(lon_str,lon_str.find_last_of(<span class="stringliteral">&quot;lon:&quot;</span>)));</div>
<div class="line"><span class="lineno">   97</span>        </div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordtype">double</span> <span class="keyword">constexpr</span> APPROXIMATE_DEG_PER_5M = 0.00005;</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordtype">double</span> delta_lat = temp_lat - <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abf746067081fe0907d80d944861f29ca">latitude</a>;</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordtype">double</span> delta_lon = temp_lon - <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a34ec69fd385c717dbbd41e75880ed343">longitude</a>;</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordtype">double</span> approximate_degree_delta = sqrt(delta_lat*delta_lat + delta_lon*delta_lon);</div>
<div class="line"><span class="lineno">  102</span>        </div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordtype">double</span> temp_down_track=stod(<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a>(downtrack_str,downtrack_str.find_last_of(<span class="stringliteral">&quot;down_track:&quot;</span>)));</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordtype">double</span> temp_up_track=stod(<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a>(uptrack_str,uptrack_str.find_last_of(<span class="stringliteral">&quot;up_track:&quot;</span>)));</div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordtype">double</span> temp_min_gap=stod(<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a>(min_gap_str,min_gap_str.find_last_of(<span class="stringliteral">&quot;min_gap:&quot;</span>)));</div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordtype">double</span> temp_speed_advisory=stod(<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a>(speed_advisory_str,speed_advisory_str.find_last_of(<span class="stringliteral">&quot;advisory_speed:&quot;</span>)));</div>
<div class="line"><span class="lineno">  107</span>        std::string temp_event_reason=<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a>(event_reason_str,event_reason_str.find_last_of(<span class="stringliteral">&quot;event_reason:&quot;</span>));</div>
<div class="line"><span class="lineno">  108</span>        std::string temp_event_type=<a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">stringParserHelper</a>(event_type_str,event_type_str.find_last_of(<span class="stringliteral">&quot;event_type:&quot;</span>));</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">if</span> ( approximate_degree_delta &lt; APPROXIMATE_DEG_PER_5M <span class="comment">// If the vehicle has not moved more than 5m and the parameters remain unchanged</span></div>
<div class="line"><span class="lineno">  111</span>          &amp;&amp; temp_down_track == <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae89f9898b06530266f4ec4882cf15520">down_track</a> </div>
<div class="line"><span class="lineno">  112</span>          &amp;&amp; temp_up_track == <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3f5219c78f1ba509127cd20e0e6557b7">up_track</a> </div>
<div class="line"><span class="lineno">  113</span>          &amp;&amp; temp_min_gap == <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a23c6f6c7fef87fabcef79f2a528ce323">min_gap</a> </div>
<div class="line"><span class="lineno">  114</span>          &amp;&amp; temp_speed_advisory == <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a4ea454faf91823d1c30716caa912493d">speed_advisory</a> </div>
<div class="line"><span class="lineno">  115</span>          &amp;&amp; temp_event_reason == <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae60a062e4ac06651cd15729d04fe536a">event_reason</a> </div>
<div class="line"><span class="lineno">  116</span>          &amp;&amp; temp_event_type == <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aeaff310304aa130f4cb2f3b36796a90a">event_type</a>) {</div>
<div class="line"><span class="lineno">  117</span>      </div>
<div class="line"><span class="lineno">  118</span>            RCLCPP_DEBUG_STREAM(<a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa92b4f1c261feed9f9d35bd89cb6b244">logger_</a>-&gt;get_logger(), <span class="stringliteral">&quot;Strategy params are unchanged so ignoring new message: &quot;</span> &lt;&lt; mobility_strategy_params</div>
<div class="line"><span class="lineno">  119</span>                &lt;&lt; <span class="stringliteral">&quot; degree_delta: &quot;</span> &lt;&lt; approximate_degree_delta </div>
<div class="line"><span class="lineno">  120</span>                &lt;&lt; <span class="stringliteral">&quot; prev_lat: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abf746067081fe0907d80d944861f29ca">latitude</a> &lt;&lt; <span class="stringliteral">&quot; prev_lon: &quot;</span> &lt;&lt; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a34ec69fd385c717dbbd41e75880ed343">longitude</a>);</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        }</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        <span class="comment">// Valid message contents so populate member variables</span></div>
<div class="line"><span class="lineno">  127</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abf746067081fe0907d80d944861f29ca">latitude</a> = temp_lat;</div>
<div class="line"><span class="lineno">  128</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a34ec69fd385c717dbbd41e75880ed343">longitude</a> = temp_lon;</div>
<div class="line"><span class="lineno">  129</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae89f9898b06530266f4ec4882cf15520">down_track</a> = temp_down_track;</div>
<div class="line"><span class="lineno">  130</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3f5219c78f1ba509127cd20e0e6557b7">up_track</a> = temp_up_track;</div>
<div class="line"><span class="lineno">  131</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a23c6f6c7fef87fabcef79f2a528ce323">min_gap</a> = temp_min_gap;</div>
<div class="line"><span class="lineno">  132</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a4ea454faf91823d1c30716caa912493d">speed_advisory</a> = temp_speed_advisory;</div>
<div class="line"><span class="lineno">  133</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#ae60a062e4ac06651cd15729d04fe536a">event_reason</a> = temp_event_reason;</div>
<div class="line"><span class="lineno">  134</span>        <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aeaff310304aa130f4cb2f3b36796a90a">event_type</a> = temp_event_type;</div>
<div class="line"><span class="lineno">  135</span>        </div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  137</span>    }</div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_a2f206b63c99119b16a1b29e49dc06b4c"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c">traffic_incident_parser::TrafficIncidentParserWorker::stringParserHelper</a></div><div class="ttdeci">std::string stringParserHelper(std::string str, unsigned long str_index) const</div><div class="ttdoc">Function to help convert string to double data type.</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8cpp_source.html#l00139">traffic_incident_parser_worker.cpp:139</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_aeaff310304aa130f4cb2f3b36796a90a"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aeaff310304aa130f4cb2f3b36796a90a">traffic_incident_parser::TrafficIncidentParserWorker::event_type</a></div><div class="ttdeci">std::string event_type</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00125">traffic_incident_parser_worker.hpp:125</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00120">down_track</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00124">event_reason</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00125">event_type</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00118">latitude</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00137">logger_</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00119">longitude</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00122">min_gap</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00123">speed_advisory</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00139">stringParserHelper()</a>, and <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00121">up_track</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00032">mobilityOperationCallback()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_aae0cb5c819eedf2e499e8919ced877c7_cgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aae0cb5c819eedf2e499e8919ced877c7_cgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aae0cb5c819eedf2e499e8919ced877c7_cgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aae0cb5c819eedf2e499e8919ced877c7_cgraph">
<area shape="rect" title="Function to help parse incoming mobility operation messages to required format." alt="" coords="5,5,193,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c" title="Function to help convert string to double data type." alt="" coords="241,5,429,61"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_aae0cb5c819eedf2e499e8919ced877c7_icgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aae0cb5c819eedf2e499e8919ced877c7_icgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aae0cb5c819eedf2e499e8919ced877c7_icgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_aae0cb5c819eedf2e499e8919ced877c7_icgraph">
<area shape="rect" title="Function to help parse incoming mobility operation messages to required format." alt="" coords="468,5,656,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abae3128613fa2e18eba5a34d0c29d5b2" title="Function to receive the incoming mobility operation message from the message node and publish the geo..." alt="" coords="232,5,420,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserNode.html#af98037edfee9234b8a89c513dee9183f" title=" " alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="abae3128613fa2e18eba5a34d0c29d5b2" name="abae3128613fa2e18eba5a34d0c29d5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abae3128613fa2e18eba5a34d0c29d5b2">&#9670;&nbsp;</a></span>mobilityOperationCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void traffic_incident_parser::TrafficIncidentParserWorker::mobilityOperationCallback </td>
          <td>(</td>
          <td class="paramtype">carma_v2x_msgs::msg::MobilityOperation::UniquePtr&#160;</td>
          <td class="paramname"><em>mobility_msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to receive the incoming mobility operation message from the message node and publish the geofence message upon processing the mobility msg. Only incoming mobility operation messages with strategy "carma3/Incident_Use_Case" are processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mobility_msg</td><td>Incoming mobility operation message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00032">32</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   33</span>    {</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>        <span class="keywordflow">if</span>(mobility_msg-&gt;strategy==<span class="stringliteral">&quot;carma3/Incident_Use_Case&quot;</span>)</div>
<div class="line"><span class="lineno">   36</span>        { </div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span>            <span class="keywordtype">bool</span> valid_msg = <a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aae0cb5c819eedf2e499e8919ced877c7">mobilityMessageParser</a>(mobility_msg-&gt;strategy_params);</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>            <span class="keywordflow">if</span>(valid_msg &amp;&amp; <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aeaff310304aa130f4cb2f3b36796a90a">event_type</a>==<span class="stringliteral">&quot;CLOSED&quot;</span>)</div>
<div class="line"><span class="lineno">   41</span>            {</div>
<div class="line"><span class="lineno">   42</span>                <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3b5b41836c8170161c0bec5b2dc9b854">previous_strategy_params</a>=mobility_msg-&gt;strategy_params;</div>
<div class="line"><span class="lineno">   43</span>                carma_v2x_msgs::msg::TrafficControlMessage traffic_control_msg;</div>
<div class="line"><span class="lineno">   44</span>                traffic_control_msg.choice = carma_v2x_msgs::msg::TrafficControlMessage::TCMV01;</div>
<div class="line"><span class="lineno">   45</span>                <span class="keywordflow">for</span>(<span class="keyword">const</span> <span class="keyword">auto</span> &amp;traffic_msg : <a class="code hl_function" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aac2ea250b0e7172e734b527d751ea6ff">composeTrafficControlMesssages</a>())</div>
<div class="line"><span class="lineno">   46</span>                {</div>
<div class="line"><span class="lineno">   47</span>                    traffic_control_msg.tcm_v01=traffic_msg;</div>
<div class="line"><span class="lineno">   48</span>                    <a class="code hl_variable" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aa5714d5ad9a4afd6a160e96f01d09138">traffic_control_pub_</a>(traffic_control_msg); <span class="comment">// Publish the message to existing subscribers</span></div>
<div class="line"><span class="lineno">   49</span>                }</div>
<div class="line"><span class="lineno">   50</span>            }</div>
<div class="line"><span class="lineno">   51</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   52</span>            {</div>
<div class="line"><span class="lineno">   53</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   54</span>            }</div>
<div class="line"><span class="lineno">   55</span>        }</div>
<div class="line"><span class="lineno">   56</span>    }</div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_a3b5b41836c8170161c0bec5b2dc9b854"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a3b5b41836c8170161c0bec5b2dc9b854">traffic_incident_parser::TrafficIncidentParserWorker::previous_strategy_params</a></div><div class="ttdeci">std::string previous_strategy_params</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8hpp_source.html#l00127">traffic_incident_parser_worker.hpp:127</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_aac2ea250b0e7172e734b527d751ea6ff"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aac2ea250b0e7172e734b527d751ea6ff">traffic_incident_parser::TrafficIncidentParserWorker::composeTrafficControlMesssages</a></div><div class="ttdeci">std::vector&lt; carma_v2x_msgs::msg::TrafficControlMessageV01 &gt; composeTrafficControlMesssages()</div><div class="ttdoc">Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) para...</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8cpp_source.html#l00277">traffic_incident_parser_worker.cpp:277</a></div></div>
<div class="ttc" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_html_aae0cb5c819eedf2e499e8919ced877c7"><div class="ttname"><a href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aae0cb5c819eedf2e499e8919ced877c7">traffic_incident_parser::TrafficIncidentParserWorker::mobilityMessageParser</a></div><div class="ttdeci">bool mobilityMessageParser(std::string mobility_strategy_params)</div><div class="ttdoc">Function to help parse incoming mobility operation messages to required format.</div><div class="ttdef"><b>Definition:</b> <a href="traffic__incident__parser__worker_8cpp_source.html#l00064">traffic_incident_parser_worker.cpp:64</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00125">event_type</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>, <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00127">previous_strategy_params</a>, and <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00133">traffic_control_pub_</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__node_8cpp_source.html#l00027">traffic_incident_parser::TrafficIncidentParserNode::handle_on_configure()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_abae3128613fa2e18eba5a34d0c29d5b2_cgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_abae3128613fa2e18eba5a34d0c29d5b2_cgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_abae3128613fa2e18eba5a34d0c29d5b2_cgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_abae3128613fa2e18eba5a34d0c29d5b2_cgraph">
<area shape="rect" title="Function to receive the incoming mobility operation message from the message node and publish the geo..." alt="" coords="5,165,193,221"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aac2ea250b0e7172e734b527d751ea6ff" title="Algorithm for extracting the closed lanelet from internally saved mobility message (or geofence) para..." alt="" coords="241,125,465,181"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aae0cb5c819eedf2e499e8919ced877c7" title="Function to help parse incoming mobility operation messages to required format." alt="" coords="259,205,447,261"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aba2f98d6ac758bcc50849b3fdc69c59a" title="Helper method to compute the concatenated centerlines of the lanes in front of the emergency vehicle ..." alt="" coords="514,5,723,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#af388115db2c4fe3042ab7de1c691024e" title="Helper method that is identical to getAdjacentForwardCenterlines except it works in reverse using upt..." alt="" coords="513,85,724,141"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a6779717b5f7aaa1d9d13aa70a6149cff" title="Function to convert internally saved incident origin point from lat/lon to local map frame." alt="" coords="525,165,713,221"/>
<area shape="rect" href="namespacetraffic__incident__parser.html#a97e7194817b789964ce7d56b96e19cb3" title="Helper method to get the nearest point index of a point and a linestring." alt="" coords="772,53,925,94"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a2f206b63c99119b16a1b29e49dc06b4c" title="Function to help convert string to double data type." alt="" coords="525,245,713,301"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_abae3128613fa2e18eba5a34d0c29d5b2_icgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_abae3128613fa2e18eba5a34d0c29d5b2_icgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_abae3128613fa2e18eba5a34d0c29d5b2_icgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_abae3128613fa2e18eba5a34d0c29d5b2_icgraph">
<area shape="rect" title="Function to receive the incoming mobility operation message from the message node and publish the geo..." alt="" coords="232,5,420,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserNode.html#af98037edfee9234b8a89c513dee9183f" title=" " alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<a id="a2f206b63c99119b16a1b29e49dc06b4c" name="a2f206b63c99119b16a1b29e49dc06b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f206b63c99119b16a1b29e49dc06b4c">&#9670;&nbsp;</a></span>stringParserHelper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string traffic_incident_parser::TrafficIncidentParserWorker::stringParserHelper </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>str_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to help convert string to double data type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">str</td><td>String object from which to extract the numeric value (a double). </td></tr>
    <tr><td class="paramname">str_idx</td><td>The String object's index to start looking at. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A string object containing only the numeric value included in the str object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00139">139</a> of file <a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>    {</div>
<div class="line"><span class="lineno">  141</span>        std::string str_temp=<span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  142</span>        <span class="keywordflow">for</span>(<span class="keywordtype">size_t</span> <a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>=str_index+1;<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>&lt;str.length();<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>++)</div>
<div class="line"><span class="lineno">  143</span>        {</div>
<div class="line"><span class="lineno">  144</span>            str_temp+=str[<a class="code hl_variable" href="namespaceprocess__bag.html#af102a02c97622dd30b0dbf7bafb0d199">i</a>];</div>
<div class="line"><span class="lineno">  145</span>        }</div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">return</span> str_temp;</div>
<div class="line"><span class="lineno">  147</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="process__bag_8py_source.html#l00059">process_bag::i</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classtraffic__incident__parser_1_1TrafficIncidentParserWorker_a2f206b63c99119b16a1b29e49dc06b4c_icgraph.png" border="0" usemap="#aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_a2f206b63c99119b16a1b29e49dc06b4c_icgraph" alt=""/></div>
<map name="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_a2f206b63c99119b16a1b29e49dc06b4c_icgraph" id="aclasstraffic__incident__parser_1_1TrafficIncidentParserWorker_a2f206b63c99119b16a1b29e49dc06b4c_icgraph">
<area shape="rect" title="Function to help convert string to double data type." alt="" coords="704,5,892,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#aae0cb5c819eedf2e499e8919ced877c7" title="Function to help parse incoming mobility operation messages to required format." alt="" coords="468,5,656,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#abae3128613fa2e18eba5a34d0c29d5b2" title="Function to receive the incoming mobility operation message from the message node and publish the geo..." alt="" coords="232,5,420,61"/>
<area shape="rect" href="classtraffic__incident__parser_1_1TrafficIncidentParserNode.html#af98037edfee9234b8a89c513dee9183f" title=" " alt="" coords="5,5,184,61"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="addf08d22ed1dec377942023b5ce985c0" name="addf08d22ed1dec377942023b5ce985c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addf08d22ed1dec377942023b5ce985c0">&#9670;&nbsp;</a></span>clock_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Clock::SharedPtr traffic_incident_parser::TrafficIncidentParserWorker::clock_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00139">139</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>.</p>

</div>
</div>
<a id="ae89f9898b06530266f4ec4882cf15520" name="ae89f9898b06530266f4ec4882cf15520"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae89f9898b06530266f4ec4882cf15520">&#9670;&nbsp;</a></span>down_track</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double traffic_incident_parser::TrafficIncidentParserWorker::down_track = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00120">120</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>

</div>
</div>
<a id="ae60a062e4ac06651cd15729d04fe536a" name="ae60a062e4ac06651cd15729d04fe536a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae60a062e4ac06651cd15729d04fe536a">&#9670;&nbsp;</a></span>event_reason</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string traffic_incident_parser::TrafficIncidentParserWorker::event_reason</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00124">124</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>

</div>
</div>
<a id="aeaff310304aa130f4cb2f3b36796a90a" name="aeaff310304aa130f4cb2f3b36796a90a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaff310304aa130f4cb2f3b36796a90a">&#9670;&nbsp;</a></span>event_type</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string traffic_incident_parser::TrafficIncidentParserWorker::event_type</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00125">125</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00032">mobilityOperationCallback()</a>.</p>

</div>
</div>
<a id="abf746067081fe0907d80d944861f29ca" name="abf746067081fe0907d80d944861f29ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf746067081fe0907d80d944861f29ca">&#9670;&nbsp;</a></span>latitude</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double traffic_incident_parser::TrafficIncidentParserWorker::latitude = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00118">118</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00149">getIncidentOriginPoint()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>

</div>
</div>
<a id="af540270be3476e901b6dedac20154fd5" name="af540270be3476e901b6dedac20154fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af540270be3476e901b6dedac20154fd5">&#9670;&nbsp;</a></span>local_point_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">lanelet::BasicPoint2d traffic_incident_parser::TrafficIncidentParserWorker::local_point_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00131">131</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>.</p>

</div>
</div>
<a id="aa92b4f1c261feed9f9d35bd89cb6b244" name="aa92b4f1c261feed9f9d35bd89cb6b244"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa92b4f1c261feed9f9d35bd89cb6b244">&#9670;&nbsp;</a></span>logger_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::node_interfaces::NodeLoggingInterface::SharedPtr traffic_incident_parser::TrafficIncidentParserWorker::logger_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00137">137</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00183">getAdjacentForwardCenterlines()</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00230">getAdjacentReverseCenterlines()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>

</div>
</div>
<a id="a34ec69fd385c717dbbd41e75880ed343" name="a34ec69fd385c717dbbd41e75880ed343"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34ec69fd385c717dbbd41e75880ed343">&#9670;&nbsp;</a></span>longitude</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double traffic_incident_parser::TrafficIncidentParserWorker::longitude = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00119">119</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00149">getIncidentOriginPoint()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>

</div>
</div>
<a id="a23c6f6c7fef87fabcef79f2a528ce323" name="a23c6f6c7fef87fabcef79f2a528ce323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23c6f6c7fef87fabcef79f2a528ce323">&#9670;&nbsp;</a></span>min_gap</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double traffic_incident_parser::TrafficIncidentParserWorker::min_gap = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00122">122</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>

</div>
</div>
<a id="a3b5b41836c8170161c0bec5b2dc9b854" name="a3b5b41836c8170161c0bec5b2dc9b854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b5b41836c8170161c0bec5b2dc9b854">&#9670;&nbsp;</a></span>previous_strategy_params</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string traffic_incident_parser::TrafficIncidentParserWorker::previous_strategy_params =&quot;&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00127">127</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00032">mobilityOperationCallback()</a>.</p>

</div>
</div>
<a id="aa92b3b6946020bbb4b76ef41fab62e43" name="aa92b3b6946020bbb4b76ef41fab62e43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa92b3b6946020bbb4b76ef41fab62e43">&#9670;&nbsp;</a></span>projection_msg_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string traffic_incident_parser::TrafficIncidentParserWorker::projection_msg_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00132">132</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00058">georeferenceCallback()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00149">getIncidentOriginPoint()</a>.</p>

</div>
</div>
<a id="a4ea454faf91823d1c30716caa912493d" name="a4ea454faf91823d1c30716caa912493d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ea454faf91823d1c30716caa912493d">&#9670;&nbsp;</a></span>speed_advisory</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double traffic_incident_parser::TrafficIncidentParserWorker::speed_advisory = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00123">123</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>

</div>
</div>
<a id="aa5714d5ad9a4afd6a160e96f01d09138" name="aa5714d5ad9a4afd6a160e96f01d09138"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5714d5ad9a4afd6a160e96f01d09138">&#9670;&nbsp;</a></span>traffic_control_pub_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html#a0dc52dc2423f3d6e74d1c2310a72125a">PublishTrafficControlCallback</a> traffic_incident_parser::TrafficIncidentParserWorker::traffic_control_pub_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00133">133</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00032">mobilityOperationCallback()</a>.</p>

</div>
</div>
<a id="a3f5219c78f1ba509127cd20e0e6557b7" name="a3f5219c78f1ba509127cd20e0e6557b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f5219c78f1ba509127cd20e0e6557b7">&#9670;&nbsp;</a></span>up_track</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double traffic_incident_parser::TrafficIncidentParserWorker::up_track = 0.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00121">121</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00064">mobilityMessageParser()</a>.</p>

</div>
</div>
<a id="a11b7e8f048e836c585b4d5dea78d804d" name="a11b7e8f048e836c585b4d5dea78d804d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11b7e8f048e836c585b4d5dea78d804d">&#9670;&nbsp;</a></span>wm_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacecarma__wm.html#a3ac653959e0b6198cae274d68b343228">carma_wm::WorldModelConstPtr</a> traffic_incident_parser::TrafficIncidentParserWorker::wm_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="traffic__incident__parser__worker_8hpp_source.html#l00134">134</a> of file <a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00277">composeTrafficControlMesssages()</a>, <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00183">getAdjacentForwardCenterlines()</a>, and <a class="el" href="traffic__incident__parser__worker_8cpp_source.html#l00230">getAdjacentReverseCenterlines()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>traffic_incident_parser/include/traffic_incident_parser/<a class="el" href="traffic__incident__parser__worker_8hpp_source.html">traffic_incident_parser_worker.hpp</a></li>
<li>traffic_incident_parser/src/<a class="el" href="traffic__incident__parser__worker_8cpp_source.html">traffic_incident_parser_worker.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespacetraffic__incident__parser.html">traffic_incident_parser</a></li><li class="navelem"><a class="el" href="classtraffic__incident__parser_1_1TrafficIncidentParserWorker.html">TrafficIncidentParserWorker</a></li>
    <li class="footer">Generated on Fri Jul 14 2023 18:01:29 for Carma-platform by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
